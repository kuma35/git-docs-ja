<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 9.1.1" />
<title>git-format-patch(1)</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overridden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="manpage">
<div id="header">
<h1>
git-format-patch(1) Manual Page
</h1>
<h2>NAME</h2>
<div class="sectionbody">
<p>git-format-patch -
   Prepare patches for e-mail submission
</p>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git format-patch</em> [-k] [(-o|--output-directory) &lt;dir&gt; | --stdout]
                   [--no-thread | --thread[=&lt;style&gt;]]
                   [(--attach|--inline)[=&lt;boundary&gt;] | --no-attach]
                   [-s | --signoff]
                   [--signature=&lt;signature&gt; | --no-signature]
                   [--signature-file=&lt;file&gt;]
                   [-n | --numbered | -N | --no-numbered]
                   [--start-number &lt;n&gt;] [--numbered-files]
                   [--in-reply-to=&lt;message id&gt;] [--suffix=.&lt;sfx&gt;]
                   [--ignore-if-in-upstream]
                   [--cover-from-description=&lt;mode&gt;]
                   [--rfc] [--subject-prefix=&lt;subject prefix&gt;]
                   [(--reroll-count|-v) &lt;n&gt;]
                   [--to=&lt;email&gt;] [--cc=&lt;email&gt;]
                   [--[no-]cover-letter] [--quiet]
                   [--[no-]encode-email-headers]
                   [--no-notes | --notes[=&lt;ref&gt;]]
                   [--interdiff=&lt;previous&gt;]
                   [--range-diff=&lt;previous&gt; [--creation-factor=&lt;percent&gt;]]
                   [--filename-max-length=&lt;n&gt;]
                   [--progress]
                   [&lt;common diff options&gt;]
                   [ &lt;since&gt; | &lt;revision range&gt; ]</pre>
<div class="attribution">
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph"><p>Prepare each non-merge commit with its "patch" in one "message" per commit,
formatted to resemble a UNIX mailbox.  The output of this command is
convenient for e-mail submission or for use with <em>git am</em>.</p></div>
<div class="paragraph"><p>A "message" generated by the command consists of three parts:</p></div>
<div class="ulist"><ul>
<li>
<p>
A brief metadata header that begins with <code>From &lt;commit&gt;</code> with a fixed <code>Mon
  Sep 17 00:00:00 2001</code> datestamp to help programs like "file(1)" to recognize
  that the file is an output from this command, fields that record the author
  identity, the author date, and the title of the change (taken from the first
  paragraph of the commit log message).
</p>
</li>
<li>
<p>
The second and subsequent paragraphs of the commit log message.
</p>
</li>
<li>
<p>
The "patch", which is the "diff -p --stat" output (see <a href="git-diff.html">git-diff(1)</a>)
  between the commit and its parent.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The log message and the patch is separated by a line with a three-dash line.</p></div>
<div class="paragraph"><p>There are two ways to specify which commits to operate on.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
A single commit, &lt;since&gt;, specifies that the commits leading to the tip of
   the current branch that are not in the history that leads to the &lt;since&gt; to
   be output.
</p>
</li>
<li>
<p>
Generic &lt;revision range&gt; expression (see "SPECIFYING REVISIONS" section in
   <a href="gitrevisions.html">gitrevisions(7)</a>) means the commits in the specified range.
</p>
</li>
</ol></div>
<div class="paragraph"><p>The first rule takes precedence in the case of a single &lt;commit&gt;.  To apply
the second rule, i.e., format everything since the beginning of history up
until &lt;commit&gt;, use the <code>--root</code> option: <code>git format-patch --root
&lt;commit&gt;</code>.  If you want to format only &lt;commit&gt; itself, you can do this with
<code>git format-patch -1 &lt;commit&gt;</code>.</p></div>
<div class="paragraph"><p>By default, each output file is numbered sequentially from 1, and uses the
first line of the commit message (massaged for pathname safety) as the
filename. With the <code>--numbered-files</code> option, the output file names will
only be numbers, without the first line of the commit appended.  The names
of the output files are printed to standard output, unless the <code>--stdout</code>
option is specified.</p></div>
<div class="paragraph"><p>If <code>-o</code> is specified, output files are created in &lt;dir&gt;.  Otherwise they are
created in the current working directory. The default path can be set with
the <code>format.outputDirectory</code> configuration option.  The <code>-o</code> option takes
precedence over <code>format.outputDirectory</code>.  To store patches in the current
working directory even when <code>format.outputDirectory</code> points elsewhere, use
<code>-o .</code>. All directory components will be created.</p></div>
<div class="paragraph"><p>By default, the subject of a single patch is "[PATCH] " followed by the
concatenation of lines from the commit message up to the first blank line
(see the DISCUSSION section of <a href="git-commit.html">git-commit(1)</a>).</p></div>
<div class="paragraph"><p>When multiple patches are output, the subject prefix will instead be "[PATCH
n/m] ".  To force 1/1 to be added for a single patch, use <code>-n</code>.  To omit
patch numbers from the subject, use <code>-N</code>.</p></div>
<div class="paragraph"><p>If given <code>--thread</code>, <code>git-format-patch</code> will generate <code>In-Reply-To</code> and
<code>References</code> headers to make the second and subsequent patch mails appear as
replies to the first mail; this also generates a <code>Message-Id</code> header to
reference.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_options">OPTIONS</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<code>-p</code>
</dt>
<dt class="hdlist1">
<code>--no-stat</code>
</dt>
<dd>
<p>
        diffstatsなしでプレーンパッチを生成します。
</p>
</dd>
<dt class="hdlist1">
<code>-U&lt;n&gt;</code>
</dt>
<dt class="hdlist1">
<code>--unified=&lt;n&gt;</code>
</dt>
<dd>
<p>
        通常の3行ではなく、&lt;n&gt; 行の内容でdiffを生成します。
</p>
</dd>
<dt class="hdlist1">
<code>--output=&lt;file&gt;</code>
</dt>
<dd>
<p>
        stdout ではなく指定のファイルに出力します。
</p>
</dd>
<dt class="hdlist1">
<code>--output-indicator-new=&lt;char&gt;</code>
</dt>
<dt class="hdlist1">
<code>--output-indicator-old=&lt;char&gt;</code>
</dt>
<dt class="hdlist1">
<code>--output-indicator-context=&lt;char&gt;</code>
</dt>
<dd>
<p>
        生成されたパッチの新しい行、古い行、またはコンテキスト行を示すために使用される文字を指定します。 通常、それらはそれぞれ <em>+</em> 、 <em>-</em> 、 ' '
        です。
</p>
</dd>
<dt class="hdlist1">
<code>--indent-heuristic</code>
</dt>
<dd>
<p>
        diffハンクの境界をずらす(shift)ヒューリスティックを有効にして、パッチを読みやすくします。 これがデフォルトです。
</p>
</dd>
<dt class="hdlist1">
<code>--no-indent-heuristic</code>
</dt>
<dd>
<p>
        インデントヒューリスティック(indent heuristic)を無効にします。
</p>
</dd>
<dt class="hdlist1">
<code>--minimal</code>
</dt>
<dd>
<p>
        より多くの時間を費やして、可能な限り最小のdiffが生成されるようにします。
</p>
</dd>
<dt class="hdlist1">
<code>--patience</code>
</dt>
<dd>
<p>
        "patience diff" アルゴリズムを使用してdiffを生成します。
</p>
</dd>
<dt class="hdlist1">
<code>--histogram</code>
</dt>
<dd>
<p>
        "histogram diff" アルゴリズムを使用してdiffを生成します。
</p>
</dd>
<dt class="hdlist1">
<code>--anchored=&lt;text&gt;</code>
</dt>
<dd>
<p>
        "anchored diff" アルゴリズムを使用してdiffを生成します。
</p>
<div class="paragraph"><p>このオプションは複数回指定できます。</p></div>
<div class="paragraph"><p>行がソースと宛先の両方に存在し、1回だけ存在し、このテキストで始まる場合、このアルゴリズムは、その行が出力に削除または追加として表示されないようにします。内部で
"patience diff" アルゴリズムを使用します。</p></div>
</dd>
<dt class="hdlist1">
<code>--diff-algorithm={patience|minimal|histogram|myers}</code>
</dt>
<dd>
<p>
        diffアルゴリズムを選択します。その派生(variants)は以下のとおりです:
</p>
<div class="openblock">
<div class="content">
<div class="dlist"><dl>
<dt class="hdlist1">
<code>default</code>, <code>myers</code>
</dt>
<dd>
<p>
        基本的な貪欲な差分アルゴリズム(greedy diff algorithm)。現在、これがデフォルトです。
</p>
</dd>
<dt class="hdlist1">
<code>minimal</code>
</dt>
<dd>
<p>
        より多くの時間を費やして、可能な限り最小のdiffが生成されるようにします。
</p>
</dd>
<dt class="hdlist1">
<code>patience</code>
</dt>
<dd>
<p>
        パッチを生成する時に "patience diff" アルゴリズムを使います。
</p>
</dd>
<dt class="hdlist1">
<code>histogram</code>
</dt>
<dd>
<p>
        このアルゴリズムは、忍耐アルゴリズム(patience algorithm)を拡張して、「発生率の低い共通要素をサポート」(support
        low-occurrence common elements)します。
</p>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>たとえば、 あなたが <code>diff.algorithm</code>
変数をデフォルト以外の値に設定した上で、それでもデフォルト値を使用する場合は、<code>--diff-algorithm=default</code>
オプションを使用する必要があります。</p></div>
</dd>
<dt class="hdlist1">
<code>--stat[=&lt;width&gt;[,&lt;name-width&gt;[,&lt;count&gt;]]]</code>
</dt>
<dd>
<p>
        diffstatを生成します。
        デフォルトでは、必要なだけのスペースがファイル名部分に使用され、残りはグラフ部分に使用されます。最大幅はデフォルトで端末幅、または端末に接続されていない場合は80桁であり、
        <code>&lt;width&gt;</code> で上書きできます。ファイル名部分の幅は、コンマの後に別の幅 <code>&lt;name-width&gt;</code>
        を指定することで制限できます。グラフ部分の幅は、 <code>--stat-graph-width=&lt;width&gt;</code>
        (統計グラフを生成するすべてのコマンドに影響します)を使用するか、 <code>diff.statGraphWidth=&lt;width&gt;</code> ( <code>git
        format-patch</code> に影響しません)を設定することによって制限できます。3番目のパラメータ <code>&lt;count&gt;</code>
        を指定することにより、出力を最初の <code>&lt;count&gt;</code> 行に制限し、それに <code>...</code> が続く形にできます。
</p>
<div class="paragraph"><p>これらのパラメータは、 <code>--stat-width=&lt;width&gt;</code> と <code>--stat-name-width=&lt;name-width&gt;</code> と
<code>--stat-count=&lt;count&gt;</code> を使用して個別に設定することもできます。</p></div>
</dd>
<dt class="hdlist1">
<code>--compact-summary</code>
</dt>
<dd>
<p>
        ファイルの作成や削除( "new" または "gone" 。オプションでシンボリックリンクの場合は "+l"
        )、diffstatのモード変更(実行可能ビットを追加または削除する場合は、それぞれ "+x" または "-x"
        )など、拡張ヘッダー情報の要約を出力します。情報はファイル名部分とグラフ部分の間に置かれます。本機能は <code>--stat</code> の機能を含んでいます。
</p>
</dd>
<dt class="hdlist1">
<code>--numstat</code>
</dt>
<dd>
<p>
        <code>--stat`に似ていますが、プログラムで処理しやすい(machine
        friendly)ように、追加および削除された行数を10進表記とパス名で省略形なしで表示します。バイナリファイルの場合、 `0 0</code> の代わりに2つの
        <code>-</code> を出力します。
</p>
</dd>
<dt class="hdlist1">
<code>--shortstat</code>
</dt>
<dd>
<p>
        変更されたファイルの総数と、追加および削除された行の数を含む <code>--stat</code> 形式の最後の行のみを出力します。
</p>
</dd>
<dt class="hdlist1">
<code>-X[&lt;param1,param2,...&gt;]</code>
</dt>
<dt class="hdlist1">
<code>--dirstat[=&lt;param1,param2,...&gt;]</code>
</dt>
<dd>
<p>
        各サブディレクトリの相対的な変更量の分布を出力します。 <code>--dirstat</code>
        の動作は、パラメータのコンマ区切りリストを渡すことでカスタマイズできます。デフォルトは、 <code>diff.dirstat</code>
        構成変数によって制御されます(<a href="git-config.html">git-config(1)</a> 参照)。以下のパラメータを使用できます:
</p>
<div class="openblock">
<div class="content">
<div class="dlist"><dl>
<dt class="hdlist1">
<code>changes</code>
</dt>
<dd>
<p>
        ソースから削除された、または宛先に追加された行をカウントして、dirstat数を計算します。これは、ファイル内の純粋なコード移動の量を無視します。つまり、ファイル内の行の再配置は、他の変更ほどカウントされません。これは、パラメーターが指定されていない場合のデフォルトの動作です。
</p>
</dd>
<dt class="hdlist1">
<code>lines</code>
</dt>
<dd>
<p>
        通常の行ベースのdiff分析を実行し、削除/追加された行数を合計して、dirstat数を計算します。
        (バイナリファイルの場合、バイナリファイルには行の概念がないため、代わりに64バイトのチャンクをカウントします)。 これは <code>changes</code>
        動作よりも高価な <code>--dirstat</code> 動作ですが、他の変更と同じようにファイル内の再配置された行をカウントします。結果の出力は、他の
        <code>--*stat</code> オプションから得られるものと一致しています。
</p>
</dd>
<dt class="hdlist1">
<code>files</code>
</dt>
<dd>
<p>
        変更されたファイルの数を数えて、dirstat数を計算します。変更された各ファイルは、dirstat分析で等しくカウントされます。これは、ファイルの内容をまったく調べる必要がないため、計算コストが最もかからない
        <code>--dirstat</code> の動作です。
</p>
</dd>
<dt class="hdlist1">
<code>cumulative</code>
</dt>
<dd>
<p>
        親ディレクトリの子ディレクトリの変更も同様にカウントします。 <code>cumulative</code>(累積的)
        を使用する場合、報告されるパーセンテージの合計が100%を超える場合があることに注意してください。デフォルトの(非累積的な)動作は、<code>noncumulative</code>
        パラメーターで指定できます。
</p>
</dd>
<dt class="hdlist1">
&lt;limit&gt;
</dt>
<dd>
<p>
        整数パラメーターは、カットオフパーセント(デフォルトでは3%)を指定します。指定の割合より少ないディレクトリは、出力に表示されません。
</p>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>例: 変更されたファイルの総数の10%未満のディレクトリを無視し、親ディレクトリに子ディレクトリの数を累積しながら、変更されたファイルをカウント:
<code>--dirstat=files,10,cumulative</code></p></div>
</dd>
<dt class="hdlist1">
<code>--cumulative</code>
</dt>
<dd>
<p>
        --dirstat=cumulative と同義語
</p>
</dd>
<dt class="hdlist1">
<code>--dirstat-by-file[=&lt;param1,param2&gt;...]</code>
</dt>
<dd>
<p>
        --dirstat=files,param1,param2&#8230; と同義語
</p>
</dd>
<dt class="hdlist1">
<code>--summary</code>
</dt>
<dd>
<p>
        作成、名前変更、モード変更などの拡張ヘッダー情報の短い要約(condensed summary)を出力します。
</p>
</dd>
<dt class="hdlist1">
<code>--no-renames</code>
</dt>
<dd>
<p>
        構成ファイルにデフォルトで指定されている場合でも、名前変更の検出をオフにします。
</p>
</dd>
<dt class="hdlist1">
<code>--[no-]rename-empty</code>
</dt>
<dd>
<p>
        名前変更ソースとして空のブロブを使用するかどうか。
</p>
</dd>
<dt class="hdlist1">
<code>--full-index</code>
</dt>
<dd>
<p>
        パッチ形式の出力を生成するときは、最初の一握りの文字(first handful of
        characters)の代わりに、「インデックス」行にイメージ前およびイメージ後の完全ブロブオブジェクト名を表示します。
</p>
</dd>
<dt class="hdlist1">
<code>--binary</code>
</dt>
<dd>
<p>
        <code>--full-index</code> に加えて、 <code>git-apply</code> で適用できるバイナリ差分を出力します。
</p>
</dd>
<dt class="hdlist1">
<code>--abbrev[=&lt;n&gt;]</code>
</dt>
<dd>
<p>
        完全な40バイトの16進オブジェクト名をdiff-raw形式の出力とdiff-treeヘッダー行に表示する代わりに、オブジェクトを一意に参照する、少なくとも
        <em>&lt;n&gt;</em> 桁の16進数の長さの最短のプレフィックスを表示します。diffパッチ出力形式では、 <code>--full-index</code> が優先されます。つまり、
        <code>--full-index</code> が指定されている場合、 <code>--abbrev</code> に関係なく、完全なブロブ名が表示されます。デフォルト以外の桁数は、
        <code>--abbrev=&lt;n&gt;</code> で指定できます。
</p>
</dd>
<dt class="hdlist1">
<code>-B[&lt;n&gt;][/&lt;m&gt;]</code>
</dt>
<dt class="hdlist1">
<code>--break-rewrites[=[&lt;n&gt;][/&lt;m&gt;]]</code>
</dt>
<dd>
<p>
        完全な書き換えの変更を削除と作成のペアに分割します。これには以下の2つの目的があります:
</p>
<div class="paragraph"><p>これは、ファイルの完全な書き換えに相当する変更が、コンテキストとしてテキストで一致する非常に少数の行と混合された一連の削除と挿入としてではなく、古いものすべての単一の削除とそれに続く
すべての新しいものを1回挿入し、数値 <code>m</code> が -B オプションのこの側面を制御します(デフォルトは60%)。 <code>-B/70%</code>
は、Gitがそれを完全な書き換えと見なすために、元の30%未満が結果に残る必要があることを指定します(つまり、結果のパッチは、コンテキスト行と混合された一連の削除と挿入になります)。</p></div>
<div class="paragraph"><p>-M と一緒に使用すると、完全に書き換えられたファイルも名前変更のソースと見なされ(通常、 -M
は、消えたファイルのみを名前変更のソースと見なします)、数 <code>n</code> が -Bオプションのこの側面を制御します(デフォルトは50%)。 <code>-B20%</code>
は、ファイルのサイズの20%以上と比較して、追加および削除を伴う変更が、別のファイルへの名前変更の可能なソースとして取得される資格があることを指定します。</p></div>
</dd>
<dt class="hdlist1">
<code>-M[&lt;n&gt;]</code>
</dt>
<dt class="hdlist1">
<code>--find-renames[=&lt;n&gt;]</code>
</dt>
<dd>
<p>
        名前の変更(renames)を検知する。
        <code>n</code> が指定されている場合、それは類似性インデックスのしきい値です
        (つまり、ファイルのサイズと比較した追加/削除の量)。
        たとえば、 <code>-M90%</code> は、ファイルの90%以上が変更されていない場合、
        Gitが削除/追加のペアを名前変更と見なす必要があることを意味します。
        <code>%</code> 記号がない場合、数値は小数として読み取られ、その前に小数点が付きます。
        つまり、 <code>-M5</code> は0.5になるため、<code>-M50%</code> と同じになります。
        同様に、 <code>-M05</code> は <code>-M5%</code> と同じです。
        検出を正確な名前変更に制限するには、 <code>-M100%</code> を使用します。
        デフォルトの類似性インデックスは50%です。
</p>
</dd>
<dt class="hdlist1">
<code>-C[&lt;n&gt;]</code>
</dt>
<dt class="hdlist1">
<code>--find-copies[=&lt;n&gt;]</code>
</dt>
<dd>
<p>
        名前と同様コピーを検出します。 <code>--find-copies-harder</code> <code>も参照してください。 `n</code> を指定すると、 <code>-M&lt;n&gt;</code>
        と同じ意味になります。
</p>
</dd>
<dt class="hdlist1">
<code>--find-copies-harder</code>
</dt>
<dd>
<p>
        パフォーマンス上の理由から、デフォルトでは、 <code>-C</code>
        オプションは、コピーの元のファイルが同じ変更組(changeset)で変更された場合にのみコピーを検索します。このフラグにより、コマンドは変更されていないファイルをコピー元の候補として検査します。これは大規模なプロジェクトでは非常にコストのかかる操作であるため、注意して使用してください。
        複数の <code>-C</code> オプションを指定しても同じ効果があります。
</p>
</dd>
<dt class="hdlist1">
<code>-D</code>
</dt>
<dt class="hdlist1">
<code>--irreversible-delete</code>
</dt>
<dd>
<p>
        削除するプレイメージ(preimage)を省略します。つまり、ヘッダーのみを出力し、プレイメージと <code>/dev/null</code>
        の差分は出力しません。結果のパッチは、 <code>patch</code> または <code>git apply</code>
        で適用されることを意図していません。これは、変更後にテキストを確認することに集中したい人のためだけのものです。さらに、出力には明らかに、そのようなパッチを手動でも逆に適用するのに十分な情報が不足しているため、オプションの名前が付けられています。
</p>
<div class="paragraph"><p><code>-B</code> と併用する場合は、削除/作成ペアの削除部分のプリイメージ(preimage)も省略してください。</p></div>
</dd>
<dt class="hdlist1">
<code>-l&lt;num&gt;</code>
</dt>
<dd>
<p>
        <code>-M</code> および <code>-C</code>
        オプションには、名前変更/コピーのサブセットを安価に検出できるいくつかの準備手順が含まれ、その後に、残りのすべてのペアになっていない宛先をすべての関連ソースと比較する徹底的なフォールバック部分が続きます。(名前の変更の場合、残りのペアになっていないソースのみが関係します。コピーの場合、すべての元のソースが関係します)。Nのソースと宛先の場合、この徹底的なチェックのコストは
        O(N^2)
        です。このオプションは、関係するソース/宛先ファイルの数が指定された数を超えた場合に、名前変更/コピー検出の完全な部分が実行されないようにします。デフォルトは
        diff.renameLimit です。 値0は無制限として扱われることに注意してください。
</p>
</dd>
<dt class="hdlist1">
<code>-O&lt;orderfile&gt;</code>
</dt>
<dd>
<p>
        ファイルが出力に表示される順序を制御します。これは <code>diff.orderFile</code>
        構成変数をオーバーライドします(<a href="git-config.html">git-config(1)</a> 参照)。 <code>diff.orderFile</code> をキャンセルするには、
        <code>-O/dev/null</code> を使用します。
</p>
<div class="paragraph"><p>出力順序は、 &lt;orderfile&gt;
内のglobパターンの順序によって決定されます。最初のパターンに一致するパス名を持つすべてのファイルが最初に出力され、2番目のパターンに一致する(ただし最初のパターンには一致しない)パス名を持つすべてのファイルが次に出力されます。パス名がどのパターンとも一致しないすべてのファイルは、ファイルの最後に暗黙のすべて一致パターンがあるかのように、最後に出力されます。複数のパス名のランクが同じである場合(同じパターンに一致するが、以前のパターンには一致しない)、相互の出力順序は通常の順序です。</p></div>
<div class="paragraph"><p>&lt;orderfile&gt; は以下のとおりパースされます:</p></div>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
空白行は無視されるため、読みやすくするための区切りとして使用できます。
</p>
</li>
<li>
<p>
ハッシュ ("<code>#</code>") で始まる行は無視されるため、コメントに使用できます。
   パターンがハッシュで始まる場合は、パターンの先頭にバックスラッシュ(訳注:日本では環境により円記号)("<code>\</code>") を追加します。
</p>
</li>
<li>
<p>
他の各行には、単一のパターンが含まれています。
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>パターンは、 FNM_PATHNAME フラグなしで fnmatch(3)
に使用されるパターンと同じ構文とセマンティクスを持ちますが、最終的なパス名コンポーネントをいくつも削除するとパターンと一致する場合、パス名もパターンと一致する点が異なります。
たとえば、パターン "<code>foo*bar</code>" は、 "<code>fooasdfbar</code>" および "<code>foo/bar/baz/asdf</code>" と一致しますが、
"<code>foobarx</code>" とは一致しません。</p></div>
</dd>
<dt class="hdlist1">
<code>--skip-to=&lt;file&gt;</code>
</dt>
<dt class="hdlist1">
<code>--rotate-to=&lt;file&gt;</code>
</dt>
<dd>
<p>
        名前付き &lt;file&gt; の前のファイルを出力から破棄するか(スキップして)、出力の最後に移動させます(ローテーションさせます)。 これらは主に <code>git
        difftool</code> コマンドを使用するために考案されたものであり、それ以外の場合はあまり役に立たない可能性があります。
</p>
</dd>
<dt class="hdlist1">
<code>--relative[=&lt;path&gt;]</code>
</dt>
<dt class="hdlist1">
<code>--no-relative</code>
</dt>
<dd>
<p>
        プロジェクトのサブディレクトリから実行する場合、このオプションを使用して、ディレクトリ外の変更を除外し、それに関連するパス名を表示するように指示できます。サブディレクトリ(ベアリポジトリなど)にいない場合は、引数として
        &lt;path&gt; を指定することで、出力を作成するサブディレクトリに名前を付けることができます。 <code>--no-relative`は、
        `diff.relative</code> 設定オプションと以前の <code>--relative</code> の両方を打ち消すために使用できます。
</p>
</dd>
<dt class="hdlist1">
<code>-a</code>
</dt>
<dt class="hdlist1">
<code>--text</code>
</dt>
<dd>
<p>
        すべてのファイルをテキストとして扱います。
</p>
</dd>
<dt class="hdlist1">
<code>--ignore-cr-at-eol</code>
</dt>
<dd>
<p>
        比較を行うときは、行末のキャリッジリターン(carriage-return)を無視します。
</p>
</dd>
<dt class="hdlist1">
<code>--ignore-space-at-eol</code>
</dt>
<dd>
<p>
        行末(EOL)での空白(whitespace)の変更を無視します。
</p>
</dd>
<dt class="hdlist1">
<code>-b</code>
</dt>
<dt class="hdlist1">
<code>--ignore-space-change</code>
</dt>
<dd>
<p>
        空白(whitespace)の数の変更は無視してください。これは、行末の空白(whitespace)を無視し、1つ以上の空白文字(whitespace
        characters)の他のすべてのシーケンスを同等と見なします。
</p>
</dd>
<dt class="hdlist1">
<code>-w</code>
</dt>
<dt class="hdlist1">
<code>--ignore-all-space</code>
</dt>
<dd>
<p>
        行を比較するときは空白を無視します。 これにより、一方の行に空白があり、もう一方の行に空白がない場合でも、違いは無視されます。
</p>
</dd>
<dt class="hdlist1">
<code>--ignore-blank-lines</code>
</dt>
<dd>
<p>
        全て空白の行の変更は無視します。
</p>
</dd>
<dt class="hdlist1">
<code>-I&lt;regex&gt;</code>
</dt>
<dt class="hdlist1">
<code>--ignore-matching-lines=&lt;regex&gt;</code>
</dt>
<dd>
<p>
        すべての行が &lt;regex&gt; にマッチする変更を無視します。このオプションは複数回指定できます。
</p>
</dd>
<dt class="hdlist1">
<code>--inter-hunk-context=&lt;lines&gt;</code>
</dt>
<dd>
<p>
        指定された行数までの差分ハンク間のコンテキストを表示し、それによって互いに近いハンクを融合します。デフォルトは
        <code>diff.interHunkContext</code> で、設定オプションが設定されていない場合は0です。
</p>
</dd>
<dt class="hdlist1">
<code>-W</code>
</dt>
<dt class="hdlist1">
<code>--function-context</code>
</dt>
<dd>
<p>
        関数全体を各変更のコンテキスト行として表示します。関数名は、 <code>git diff</code>
        がパッチハンクヘッダーを処理するのと同じ方法で決定されます(<a href="gitattributes.html">gitattributes(5)</a> の <em>Defining a custom
        hunk-header</em> を参照)。
</p>
</dd>
<dt class="hdlist1">
<code>--ext-diff</code>
</dt>
<dd>
<p>
        外部diffヘルパーの実行を許可します。 <a href="gitattributes.html">gitattributes(5)</a> を使用して外部diffドライバーを設定する場合は、
        <a href="git-log.html">git-log(1)</a> およびその仲間と一緒にこのオプションを使用する必要があります。
</p>
</dd>
<dt class="hdlist1">
<code>--no-ext-diff</code>
</dt>
<dd>
<p>
        外部diffドライバーを禁止します。
</p>
</dd>
<dt class="hdlist1">
<code>--textconv</code>
</dt>
<dt class="hdlist1">
<code>--no-textconv</code>
</dt>
<dd>
<p>
        バイナリファイルを比較するときに、外部テキスト変換フィルターの実行を許可(または禁止)します。 詳細については、
        <a href="gitattributes.html">gitattributes(5)</a>
        を参照してください。textconvフィルターは通常、一方向の変換であるため、結果のdiffは人間の消費に適していますが、適用(apply)することはできません。このため、textconvフィルターは、
        <a href="git-diff.html">git-diff(1)</a> および <a href="git-log.html">git-log(1)</a> に対してのみデフォルトで有効になりますが、
        <a href="git-format-patch.html">git-format-patch(1)</a> またはdiff配管コマンドに対しては有効になりません。
</p>
</dd>
<dt class="hdlist1">
<code>--ignore-submodules[=&lt;when&gt;]</code>
</dt>
<dd>
<p>
        diff生成のサブモジュールへの変更を無視します。 &lt;when&gt; は、
        none・untracked・dirty・allのいずれかになります。これがデフォルトです。noneを使用すると、追跡されていないファイルまたは変更されたファイルが含まれている場合、またはそのHEADがスーパープロジェクトに記録されているコミットと異なる場合にサブモジュールが変更されたと見なされ、
        <a href="git-config.html">git-config(1)</a> または <a href="gitmodules.html">gitmodules(5)</a> の
        ignoreオプションの設定をオーバーライドするために使用できます。untrackedが使用されている場合、サブモジュールには追跡されていないコンテンツのみが含まれている場合、サブモジュールはダーティとは見なされません(ただし、変更されたコンテンツはスキャンされます)。「dirty」を使用すると、サブモジュールの作業ツリーへのすべての変更が無視され、スーパープロジェクトに格納されているコミットへの変更のみが表示されます(これは1.7.0までの動作でした)。「all」を使用すると、サブモジュールへのすべての変更が非表示になります。
</p>
</dd>
<dt class="hdlist1">
<code>--src-prefix=&lt;prefix&gt;</code>
</dt>
<dd>
<p>
        "a/" の代わりに、与えられたソースプレフィックス(source prefix)を表示します。
</p>
</dd>
<dt class="hdlist1">
<code>--dst-prefix=&lt;prefix&gt;</code>
</dt>
<dd>
<p>
        "b/" の代わりに、指定された宛先プレフィックス(destination prefix)を表示します。
</p>
</dd>
<dt class="hdlist1">
<code>--no-prefix</code>
</dt>
<dd>
<p>
        送信元(source)または宛先(destination)のプレフィックスを表示しません。
</p>
</dd>
<dt class="hdlist1">
<code>--line-prefix=&lt;prefix&gt;</code>
</dt>
<dd>
<p>
        出力のすべての行に追加のプレフィックスを付加します。
</p>
</dd>
<dt class="hdlist1">
<code>--ita-invisible-in-index</code>
</dt>
<dd>
<p>
        デフォルトでは、 "git add -N" によって追加されたエントリは、 "git diff" に既存の空のファイルとして表示され、 "git
        diff --cached" に新しいファイルとして表示されます。このオプションを使用すると、エントリは "git diff"
        では新しいファイルとして表示され、 "git diff --cached" では存在しません。このオプションは、
        <code>--ita-visible-in-index</code> で元に戻すことができます。どちらのオプションも実験的なものであり、将来削除される可能性があります。
</p>
</dd>
</dl></div>
<div class="paragraph"><p>これらの一般的なオプションの詳細については、 <a href="gitdiffcore.html">gitdiffcore(7)</a> も参照してください。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>-&lt;n&gt;</code>
</dt>
<dd>
<p>
        Prepare patches from the topmost &lt;n&gt; commits.
</p>
</dd>
<dt class="hdlist1">
<code>-o &lt;dir&gt;</code>
</dt>
<dt class="hdlist1">
<code>--output-directory &lt;dir&gt;</code>
</dt>
<dd>
<p>
        Use &lt;dir&gt; to store the resulting files, instead of the current working
        directory.
</p>
</dd>
<dt class="hdlist1">
<code>-n</code>
</dt>
<dt class="hdlist1">
<code>--numbered</code>
</dt>
<dd>
<p>
        Name output in <em>[PATCH n/m]</em> format, even with a single patch.
</p>
</dd>
<dt class="hdlist1">
<code>-N</code>
</dt>
<dt class="hdlist1">
<code>--no-numbered</code>
</dt>
<dd>
<p>
        Name output in <em>[PATCH]</em> format.
</p>
</dd>
<dt class="hdlist1">
<code>--start-number &lt;n&gt;</code>
</dt>
<dd>
<p>
        Start numbering the patches at &lt;n&gt; instead of 1.
</p>
</dd>
<dt class="hdlist1">
<code>--numbered-files</code>
</dt>
<dd>
<p>
        Output file names will be a simple number sequence without the default first
        line of the commit appended.
</p>
</dd>
<dt class="hdlist1">
<code>-k</code>
</dt>
<dt class="hdlist1">
<code>--keep-subject</code>
</dt>
<dd>
<p>
        Do not strip/add <em>[PATCH]</em> from the first line of the commit log message.
</p>
</dd>
<dt class="hdlist1">
<code>-s</code>
</dt>
<dt class="hdlist1">
<code>--signoff</code>
</dt>
<dd>
<p>
        Add a <code>Signed-off-by</code> trailer to the commit message, using the committer
        identity of yourself.  See the signoff option in <a href="git-commit.html">git-commit(1)</a> for
        more information.
</p>
</dd>
<dt class="hdlist1">
<code>--stdout</code>
</dt>
<dd>
<p>
        Print all commits to the standard output in mbox format, instead of creating
        a file for each one.
</p>
</dd>
<dt class="hdlist1">
<code>--attach[=&lt;boundary&gt;]</code>
</dt>
<dd>
<p>
        Create multipart/mixed attachment, the first part of which is the commit
        message and the patch itself in the second part, with <code>Content-Disposition:
        attachment</code>.
</p>
</dd>
<dt class="hdlist1">
<code>--no-attach</code>
</dt>
<dd>
<p>
        Disable the creation of an attachment, overriding the configuration setting.
</p>
</dd>
<dt class="hdlist1">
<code>--inline[=&lt;boundary&gt;]</code>
</dt>
<dd>
<p>
        Create multipart/mixed attachment, the first part of which is the commit
        message and the patch itself in the second part, with <code>Content-Disposition:
        inline</code>.
</p>
</dd>
<dt class="hdlist1">
<code>--thread[=&lt;style&gt;]</code>
</dt>
<dt class="hdlist1">
<code>--no-thread</code>
</dt>
<dd>
<p>
        Controls addition of <code>In-Reply-To</code> and <code>References</code> headers to make the
        second and subsequent mails appear as replies to the first.  Also controls
        generation of the <code>Message-Id</code> header to reference.
</p>
<div class="paragraph"><p>The optional &lt;style&gt; argument can be either <code>shallow</code> or <code>deep</code>.  <em>shallow</em>
threading makes every mail a reply to the head of the series, where the head
is chosen from the cover letter, the <code>--in-reply-to</code>, and the first patch
mail, in this order.  <em>deep</em> threading makes every mail a reply to the
previous one.</p></div>
<div class="paragraph"><p>The default is <code>--no-thread</code>, unless the <code>format.thread</code> configuration is
set.  If <code>--thread</code> is specified without a style, it defaults to the style
specified by <code>format.thread</code> if any, or else <code>shallow</code>.</p></div>
<div class="paragraph"><p>Beware that the default for <em>git send-email</em> is to thread emails itself.  If
you want <code>git format-patch</code> to take care of threading, you will want to
ensure that threading is disabled for <code>git send-email</code>.</p></div>
</dd>
<dt class="hdlist1">
<code>--in-reply-to=&lt;message id&gt;</code>
</dt>
<dd>
<p>
        Make the first mail (or all the mails with <code>--no-thread</code>) appear as a reply
        to the given &lt;message id&gt;, which avoids breaking threads to provide a new
        patch series.
</p>
</dd>
<dt class="hdlist1">
<code>--ignore-if-in-upstream</code>
</dt>
<dd>
<p>
        Do not include a patch that matches a commit in &lt;until&gt;..&lt;since&gt;.  This will
        examine all patches reachable from &lt;since&gt; but not from &lt;until&gt; and compare
        them with the patches being generated, and any patch that matches is
        ignored.
</p>
</dd>
<dt class="hdlist1">
<code>--cover-from-description=&lt;mode&gt;</code>
</dt>
<dd>
<p>
        Controls which parts of the cover letter will be automatically populated
        using the branch&#8217;s description.
</p>
<div class="paragraph"><p>If <code>&lt;mode&gt;</code> is <code>message</code> or <code>default</code>, the cover letter subject will be
populated with placeholder text. The body of the cover letter will be
populated with the branch&#8217;s description. This is the default mode when no
configuration nor command line option is specified.</p></div>
<div class="paragraph"><p>If <code>&lt;mode&gt;</code> is <code>subject</code>, the first paragraph of the branch description will
populate the cover letter subject. The remainder of the description will
populate the body of the cover letter.</p></div>
<div class="paragraph"><p>If <code>&lt;mode&gt;</code> is <code>auto</code>, if the first paragraph of the branch description is
greater than 100 bytes, then the mode will be <code>message</code>, otherwise <code>subject</code>
will be used.</p></div>
<div class="paragraph"><p>If <code>&lt;mode&gt;</code> is <code>none</code>, both the cover letter subject and body will be
populated with placeholder text.</p></div>
</dd>
<dt class="hdlist1">
<code>--subject-prefix=&lt;subject prefix&gt;</code>
</dt>
<dd>
<p>
        Instead of the standard <em>[PATCH]</em> prefix in the subject line, instead use
        <em>[&lt;subject prefix&gt;]</em>. This allows for useful naming of a patch series, and
        can be combined with the <code>--numbered</code> option.
</p>
</dd>
<dt class="hdlist1">
<code>--filename-max-length=&lt;n&gt;</code>
</dt>
<dd>
<p>
        Instead of the standard 64 bytes, chomp the generated output filenames at
        around <em>&lt;n&gt;</em> bytes (too short a value will be silently raised to a
        reasonable length).  Defaults to the value of the <code>format.filenameMaxLength</code>
        configuration variable, or 64 if unconfigured.
</p>
</dd>
<dt class="hdlist1">
<code>--rfc</code>
</dt>
<dd>
<p>
        Alias for <code>--subject-prefix="RFC PATCH"</code>. RFC means "Request For Comments";
        use this when sending an experimental patch for discussion rather than
        application.
</p>
</dd>
<dt class="hdlist1">
<code>-v &lt;n&gt;</code>
</dt>
<dt class="hdlist1">
<code>--reroll-count=&lt;n&gt;</code>
</dt>
<dd>
<p>
        Mark the series as the &lt;n&gt;-th iteration of the topic. The output filenames
        have <code>v&lt;n&gt;</code> prepended to them, and the subject prefix ("PATCH" by default,
        but configurable via the <code>--subject-prefix</code> option) has ` v&lt;n&gt;` appended to
        it.  E.g.  <code>--reroll-count=4</code> may produce <code>v4-0001-add-makefile.patch</code> file
        that has "Subject: [PATCH v4 1/20] Add makefile" in it.  <code>&lt;n&gt;</code> does not have
        to be an integer (e.g. "--reroll-count=4.4", or "--reroll-count=4rev2" are
        allowed), but the downside of using such a reroll-count is that the
        range-diff/interdiff with the previous version does not state exactly which
        version the new interation is compared against.
</p>
</dd>
<dt class="hdlist1">
<code>--to=&lt;email&gt;</code>
</dt>
<dd>
<p>
        Add a <code>To:</code> header to the email headers. This is in addition to any
        configured headers, and may be used multiple times.  The negated form
        <code>--no-to</code> discards all <code>To:</code> headers added so far (from config or command
        line).
</p>
</dd>
<dt class="hdlist1">
<code>--cc=&lt;email&gt;</code>
</dt>
<dd>
<p>
        Add a <code>Cc:</code> header to the email headers. This is in addition to any
        configured headers, and may be used multiple times.  The negated form
        <code>--no-cc</code> discards all <code>Cc:</code> headers added so far (from config or command
        line).
</p>
</dd>
<dt class="hdlist1">
<code>--from</code>
</dt>
<dt class="hdlist1">
<code>--from=&lt;ident&gt;</code>
</dt>
<dd>
<p>
        Use <code>ident</code> in the <code>From:</code> header of each commit email. If the author ident
        of the commit is not textually identical to the provided <code>ident</code>, place a
        <code>From:</code> header in the body of the message with the original author. If no
        <code>ident</code> is given, use the committer ident.
</p>
<div class="paragraph"><p>Note that this option is only useful if you are actually sending the emails
and want to identify yourself as the sender, but retain the original author
(and <code>git am</code> will correctly pick up the in-body header). Note also that
<code>git send-email</code> already handles this transformation for you, and this
option should not be used if you are feeding the result to <code>git send-email</code>.</p></div>
</dd>
<dt class="hdlist1">
<code>--add-header=&lt;header&gt;</code>
</dt>
<dd>
<p>
        Add an arbitrary header to the email headers.  This is in addition to any
        configured headers, and may be used multiple times.  For example,
        <code>--add-header="Organization: git-foo"</code>.  The negated form <code>--no-add-header</code>
        discards <strong>all</strong> (<code>To:</code>, <code>Cc:</code>, and custom) headers added so far from config
        or command line.
</p>
</dd>
<dt class="hdlist1">
<code>--[no-]cover-letter</code>
</dt>
<dd>
<p>
        In addition to the patches, generate a cover letter file containing the
        branch description, shortlog and the overall diffstat.  You can fill in a
        description in the file before sending it out.
</p>
</dd>
<dt class="hdlist1">
<code>--encode-email-headers</code>
</dt>
<dt class="hdlist1">
<code>--no-encode-email-headers</code>
</dt>
<dd>
<p>
        Encode email headers that have non-ASCII characters with "Q-encoding"
        (described in RFC 2047), instead of outputting the headers
        verbatim. Defaults to the value of the <code>format.encodeEmailHeaders</code>
        configuration variable.
</p>
</dd>
<dt class="hdlist1">
<code>--interdiff=&lt;previous&gt;</code>
</dt>
<dd>
<p>
        As a reviewer aid, insert an interdiff into the cover letter, or as
        commentary of the lone patch of a 1-patch series, showing the differences
        between the previous version of the patch series and the series currently
        being formatted. <code>previous</code> is a single revision naming the tip of the
        previous series which shares a common base with the series being formatted
        (for example <code>git format-patch --cover-letter --interdiff=feature/v1 -3
        feature/v2</code>).
</p>
</dd>
<dt class="hdlist1">
<code>--range-diff=&lt;previous&gt;</code>
</dt>
<dd>
<p>
        As a reviewer aid, insert a range-diff (see <a href="git-range-diff.html">git-range-diff(1)</a>)  into
        the cover letter, or as commentary of the lone patch of a 1-patch series,
        showing the differences between the previous version of the patch series and
        the series currently being formatted.  <code>previous</code> can be a single revision
        naming the tip of the previous series if it shares a common base with the
        series being formatted (for example <code>git format-patch --cover-letter
        --range-diff=feature/v1 -3 feature/v2</code>), or a revision range if the two
        versions of the series are disjoint (for example <code>git format-patch
        --cover-letter --range-diff=feature/v1~3..feature/v1 -3 feature/v2</code>).
</p>
<div class="paragraph"><p>Note that diff options passed to the command affect how the primary product
of <code>format-patch</code> is generated, and they are not passed to the underlying
<code>range-diff</code> machinery used to generate the cover-letter material (this may
change in the future).</p></div>
</dd>
<dt class="hdlist1">
<code>--creation-factor=&lt;percent&gt;</code>
</dt>
<dd>
<p>
        Used with <code>--range-diff</code>, tweak the heuristic which matches up commits
        between the previous and current series of patches by adjusting the
        creation/deletion cost fudge factor. See <a href="git-range-diff.html">git-range-diff(1)</a>)  for
        details.
</p>
</dd>
<dt class="hdlist1">
<code>--notes[=&lt;ref&gt;]</code>
</dt>
<dt class="hdlist1">
<code>--no-notes</code>
</dt>
<dd>
<p>
        Append the notes (see <a href="git-notes.html">git-notes(1)</a>) for the commit after the
        three-dash line.
</p>
<div class="paragraph"><p>The expected use case of this is to write supporting explanation for the
commit that does not belong to the commit log message proper, and include it
with the patch submission. While one can simply write these explanations
after <code>format-patch</code> has run but before sending, keeping them as Git notes
allows them to be maintained between versions of the patch series (but see
the discussion of the <code>notes.rewrite</code> configuration options in
<a href="git-notes.html">git-notes(1)</a> to use this workflow).</p></div>
<div class="paragraph"><p>The default is <code>--no-notes</code>, unless the <code>format.notes</code> configuration is set.</p></div>
</dd>
<dt class="hdlist1">
<code>--[no-]signature=&lt;signature&gt;</code>
</dt>
<dd>
<p>
        Add a signature to each message produced. Per RFC 3676 the signature is
        separated from the body by a line with '-- ' on it. If the signature option
        is omitted the signature defaults to the Git version number.
</p>
</dd>
<dt class="hdlist1">
<code>--signature-file=&lt;file&gt;</code>
</dt>
<dd>
<p>
        Works just like --signature except the signature is read from a file.
</p>
</dd>
<dt class="hdlist1">
<code>--suffix=.&lt;sfx&gt;</code>
</dt>
<dd>
<p>
        Instead of using <code>.patch</code> as the suffix for generated filenames, use
        specified suffix.  A common alternative is <code>--suffix=.txt</code>.  Leaving this
        empty will remove the <code>.patch</code> suffix.
</p>
<div class="paragraph"><p>Note that the leading character does not have to be a dot; for example, you
can use <code>--suffix=-patch</code> to get <code>0001-description-of-my-change-patch</code>.</p></div>
</dd>
<dt class="hdlist1">
<code>-q</code>
</dt>
<dt class="hdlist1">
<code>--quiet</code>
</dt>
<dd>
<p>
        Do not print the names of the generated files to standard output.
</p>
</dd>
<dt class="hdlist1">
<code>--no-binary</code>
</dt>
<dd>
<p>
        Do not output contents of changes in binary files, instead display a notice
        that those files changed.  Patches generated using this option cannot be
        applied properly, but they are still useful for code review.
</p>
</dd>
<dt class="hdlist1">
<code>--zero-commit</code>
</dt>
<dd>
<p>
  Output an all-zero hash in each patch&#8217;s From header instead of the hash of
  the commit.
</p>
</dd>
<dt class="hdlist1">
<code>--[no-]base[=&lt;commit&gt;]</code>
</dt>
<dd>
<p>
        Record the base tree information to identify the state the patch series
        applies to.  See the BASE TREE INFORMATION section below for details. If
        &lt;commit&gt; is "auto", a base commit is automatically chosen. The <code>--no-base</code>
        option overrides a <code>format.useAutoBase</code> configuration.
</p>
</dd>
<dt class="hdlist1">
<code>--root</code>
</dt>
<dd>
<p>
        Treat the revision argument as a &lt;revision range&gt;, even if it is just a
        single commit (that would normally be treated as a &lt;since&gt;).  Note that root
        commits included in the specified range are always formatted as creation
        patches, independently of this flag.
</p>
</dd>
<dt class="hdlist1">
<code>--progress</code>
</dt>
<dd>
<p>
        Show progress reports on stderr as patches are generated.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">CONFIGURATION</h2>
<div class="sectionbody">
<div class="paragraph"><p>You can specify extra mail header lines to be added to each message,
defaults for the subject prefix and file suffix, number patches when
outputting more than one patch, add "To:" or "Cc:" headers, configure
attachments, change the patch output directory, and sign off patches with
configuration variables.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>[format]
        headers = "Organization: git-foo\n"
        subjectPrefix = CHANGE
        suffix = .txt
        numbered = auto
        to = &lt;email&gt;
        cc = &lt;email&gt;
        attach [ = mime-boundary-string ]
        signOff = true
        outputDirectory = &lt;directory&gt;
        coverLetter = auto
        coverFromDescription = auto</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_discussion">DISCUSSION</h2>
<div class="sectionbody">
<div class="paragraph"><p>The patch produced by <em>git format-patch</em> is in UNIX mailbox format, with a
fixed "magic" time stamp to indicate that the file is output from
format-patch rather than a real mailbox, like so:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>From 8f72bad1baf19a53459661343e21d6491c3908d3 Mon Sep 17 00:00:00 2001
From: Tony Luck &lt;tony.luck@intel.com&gt;
Date: Tue, 13 Jul 2010 11:42:54 -0700
Subject: [PATCH] =?UTF-8?q?[IA64]=20Put=20ia64=20config=20files=20on=20the=20?=
 =?UTF-8?q?Uwe=20Kleine-K=C3=B6nig=20diet?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

arch/arm config files were slimmed down using a python script
(See commit c2330e286f68f1c408b4aa6515ba49d57f05beae comment)

Do the same for ia64 so we can have sleek &amp; trim looking
...</code></pre>
</div></div>
<div class="paragraph"><p>Typically it will be placed in a MUA&#8217;s drafts folder, edited to add timely
commentary that should not go in the changelog after the three dashes, and
then sent as a message whose body, in our example, starts with "arch/arm
config files were&#8230;".  On the receiving end, readers can save interesting
patches in a UNIX mailbox and apply them with <a href="git-am.html">git-am(1)</a>.</p></div>
<div class="paragraph"><p>When a patch is part of an ongoing discussion, the patch generated by <em>git
format-patch</em> can be tweaked to take advantage of the <em>git am --scissors</em>
feature.  After your response to the discussion comes a line that consists
solely of "<code>-- &gt;8 --</code>" (scissors and perforation), followed by the patch
with unnecessary header fields removed:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>...
&gt; So we should do such-and-such.

Makes sense to me.  How about this patch?

-- &gt;8 --
Subject: [IA64] Put ia64 config files on the Uwe Kleine-König diet

arch/arm config files were slimmed down using a python script
...</code></pre>
</div></div>
<div class="paragraph"><p>When sending a patch this way, most often you are sending your own patch, so
in addition to the "<code>From $SHA1 $magic_timestamp</code>" marker you should omit
<code>From:</code> and <code>Date:</code> lines from the patch file.  The patch title is likely to
be different from the subject of the discussion the patch is in response to,
so it is likely that you would want to keep the Subject: line, like the
example above.</p></div>
<div class="sect2">
<h3 id="_checking_for_patch_corruption">Checking for patch corruption</h3>
<div class="paragraph"><p>Many mailers if not set up properly will corrupt whitespace.  Here are two
common types of corruption:</p></div>
<div class="ulist"><ul>
<li>
<p>
Empty context lines that do not have <em>any</em> whitespace.
</p>
</li>
<li>
<p>
Non-empty context lines that have one extra whitespace at the beginning.
</p>
</li>
</ul></div>
<div class="paragraph"><p>One way to test if your MUA is set up correctly is:</p></div>
<div class="ulist"><ul>
<li>
<p>
Send the patch to yourself, exactly the way you would, except with To: and
  Cc: lines that do not contain the list and maintainer address.
</p>
</li>
<li>
<p>
Save that patch to a file in UNIX mailbox format.  Call it a.patch, say.
</p>
</li>
<li>
<p>
Apply it:
</p>
<div class="literalblock">
<div class="content">
<pre><code>$ git fetch &lt;project&gt; master:test-apply
$ git switch test-apply
$ git restore --source=HEAD --staged --worktree :/
$ git am a.patch</code></pre>
</div></div>
</li>
</ul></div>
<div class="paragraph"><p>If it does not apply correctly, there can be various reasons.</p></div>
<div class="ulist"><ul>
<li>
<p>
The patch itself does not apply cleanly.  That is <em>bad</em> but does not have
  much to do with your MUA.  You might want to rebase the patch with
  <a href="git-rebase.html">git-rebase(1)</a> before regenerating it in this case.
</p>
</li>
<li>
<p>
The MUA corrupted your patch; "am" would complain that the patch does not
  apply.  Look in the .git/rebase-apply/ subdirectory and see what <em>patch</em>
  file contains and check for the common corruption patterns mentioned above.
</p>
</li>
<li>
<p>
While at it, check the <em>info</em> and <em>final-commit</em> files as well.  If what is
  in <em>final-commit</em> is not exactly what you would want to see in the commit
  log message, it is very likely that the receiver would end up hand editing
  the log message when applying your patch.  Things like "Hi, this is my first
  patch.\n" in the patch e-mail should come after the three-dash line that
  signals the end of the commit message.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mua_specific_hints">MUA-SPECIFIC HINTS</h2>
<div class="sectionbody">
<div class="paragraph"><p>Here are some hints on how to successfully submit patches inline using
various mailers.</p></div>
<div class="sect2">
<h3 id="_gmail">GMail</h3>
<div class="paragraph"><p>GMail does not have any way to turn off line wrapping in the web interface,
so it will mangle any emails that you send.  You can however use "git
send-email" and send your patches through the GMail SMTP server, or use any
IMAP email client to connect to the google IMAP server and forward the
emails through that.</p></div>
<div class="paragraph"><p>For hints on using <em>git send-email</em> to send your patches through the GMail
SMTP server, see the EXAMPLE section of <a href="git-send-email.html">git-send-email(1)</a>.</p></div>
<div class="paragraph"><p>For hints on submission using the IMAP interface, see the EXAMPLE section of
<a href="git-imap-send.html">git-imap-send(1)</a>.</p></div>
</div>
<div class="sect2">
<h3 id="_thunderbird">Thunderbird</h3>
<div class="paragraph"><p>By default, Thunderbird will both wrap emails as well as flag them as being
<em>format=flowed</em>, both of which will make the resulting email unusable by
Git.</p></div>
<div class="paragraph"><p>There are three different approaches: use an add-on to turn off line wraps,
configure Thunderbird to not mangle patches, or use an external editor to
keep Thunderbird from mangling the patches.</p></div>
<div class="sect3">
<h4 id="_approach_1_add_on">Approach #1 (add-on)</h4>
<div class="paragraph"><p>Install the Toggle Word Wrap add-on that is available from
<a href="https://addons.mozilla.org/thunderbird/addon/toggle-word-wrap/">https://addons.mozilla.org/thunderbird/addon/toggle-word-wrap/</a> It adds a
menu entry "Enable Word Wrap" in the composer&#8217;s "Options" menu that you can
tick off. Now you can compose the message as you otherwise do (cut + paste,
<em>git format-patch</em> | <em>git imap-send</em>, etc), but you have to insert line
breaks manually in any text that you type.</p></div>
</div>
<div class="sect3">
<h4 id="_approach_2_configuration">Approach #2 (configuration)</h4>
<div class="paragraph"><p>Three steps:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Configure your mail server composition as plain text: Edit&#8230;Account
   Settings&#8230;Composition &amp; Addressing, uncheck "Compose Messages in HTML".
</p>
</li>
<li>
<p>
Configure your general composition window to not wrap.
</p>
<div class="paragraph"><p>In Thunderbird 2: Edit..Preferences..Composition, wrap plain text messages
at 0</p></div>
<div class="paragraph"><p>In Thunderbird 3: Edit..Preferences..Advanced..Config Editor.  Search for
"mail.wrap_long_lines".  Toggle it to make sure it is set to <code>false</code>. Also,
search for "mailnews.wraplength" and set the value to 0.</p></div>
</li>
<li>
<p>
Disable the use of format=flowed: Edit..Preferences..Advanced..Config
   Editor.  Search for "mailnews.send_plaintext_flowed".  Toggle it to make
   sure it is set to <code>false</code>.
</p>
</li>
</ol></div>
<div class="paragraph"><p>After that is done, you should be able to compose email as you otherwise
would (cut + paste, <em>git format-patch</em> | <em>git imap-send</em>, etc), and the
patches will not be mangled.</p></div>
</div>
<div class="sect3">
<h4 id="_approach_3_external_editor">Approach #3 (external editor)</h4>
<div class="paragraph"><p>The following Thunderbird extensions are needed: AboutConfig from
<a href="http://aboutconfig.mozdev.org/">http://aboutconfig.mozdev.org/</a> and External Editor from
<a href="http://globs.org/articles.php?lng=en&amp;pg=8">http://globs.org/articles.php?lng=en&amp;pg=8</a></p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Prepare the patch as a text file using your method of choice.
</p>
</li>
<li>
<p>
Before opening a compose window, use Edit&#8594;Account Settings to uncheck the
   "Compose messages in HTML format" setting in the "Composition &amp; Addressing"
   panel of the account to be used to send the patch.
</p>
</li>
<li>
<p>
In the main Thunderbird window, <em>before</em> you open the compose window for the
   patch, use Tools&#8594;about:config to set the following to the indicated values:
</p>
<div class="listingblock">
<div class="content">
<pre><code>        mailnews.send_plaintext_flowed  =&gt; false
        mailnews.wraplength             =&gt; 0</code></pre>
</div></div>
</li>
<li>
<p>
Open a compose window and click the external editor icon.
</p>
</li>
<li>
<p>
In the external editor window, read in the patch file and exit the editor
   normally.
</p>
</li>
</ol></div>
<div class="paragraph"><p>Side note: it may be possible to do step 2 with about:config and the
following settings but no one&#8217;s tried yet.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>        mail.html_compose                       =&gt; false
        mail.identity.default.compose_html      =&gt; false
        mail.identity.id?.compose_html          =&gt; false</code></pre>
</div></div>
<div class="paragraph"><p>There is a script in contrib/thunderbird-patch-inline which can help you
include patches with Thunderbird in an easy way. To use it, do the steps
above and then use the script as the external editor.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_kmail">KMail</h3>
<div class="paragraph"><p>This should help you to submit patches inline using KMail.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Prepare the patch as a text file.
</p>
</li>
<li>
<p>
Click on New Mail.
</p>
</li>
<li>
<p>
Go under "Options" in the Composer window and be sure that "Word wrap" is
   not set.
</p>
</li>
<li>
<p>
Use Message &#8594; Insert file&#8230; and insert the patch.
</p>
</li>
<li>
<p>
Back in the compose window: add whatever other text you wish to the message,
   complete the addressing and subject fields, and press send.
</p>
</li>
</ol></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_base_tree_information">BASE TREE INFORMATION</h2>
<div class="sectionbody">
<div class="paragraph"><p>The base tree information block is used for maintainers or third party
testers to know the exact state the patch series applies to. It consists of
the <em>base commit</em>, which is a well-known commit that is part of the stable
part of the project history everybody else works off of, and zero or more
<em>prerequisite patches</em>, which are well-known patches in flight that is not
yet part of the <em>base commit</em> that need to be applied on top of <em>base
commit</em> in topological order before the patches can be applied.</p></div>
<div class="paragraph"><p>The <em>base commit</em> is shown as "base-commit: " followed by the 40-hex of the
commit object name.  A <em>prerequisite patch</em> is shown as
"prerequisite-patch-id: " followed by the 40-hex <em>patch id</em>, which can be
obtained by passing the patch through the <code>git patch-id --stable</code> command.</p></div>
<div class="paragraph"><p>Imagine that on top of the public commit P, you applied well-known patches
X, Y and Z from somebody else, and then built your three-patch series A, B,
C, the history would be like:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>---P---X---Y---Z---A---B---C</code></pre>
</div></div>
<div class="paragraph"><p>With <code>git format-patch --base=P -3 C</code> (or variants thereof, e.g. with
<code>--cover-letter</code> or using <code>Z..C</code> instead of <code>-3 C</code> to specify the range),
the base tree information block is shown at the end of the first message the
command outputs (either the first patch, or the cover letter), like this:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>base-commit: P
prerequisite-patch-id: X
prerequisite-patch-id: Y
prerequisite-patch-id: Z</code></pre>
</div></div>
<div class="paragraph"><p>For non-linear topology, such as</p></div>
<div class="literalblock">
<div class="content">
<pre><code>---P---X---A---M---C
    \         /
     Y---Z---B</code></pre>
</div></div>
<div class="paragraph"><p>You can also use <code>git format-patch --base=P -3 C</code> to generate patches for A,
B and C, and the identifiers for P, X, Y, Z are appended at the end of the
first message.</p></div>
<div class="paragraph"><p>If set <code>--base=auto</code> in cmdline, it will track base commit automatically,
the base commit will be the merge base of tip commit of the remote-tracking
branch and revision-range specified in cmdline.  For a local branch, you
need to track a remote branch by <code>git branch --set-upstream-to</code> before using
this option.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_examples">EXAMPLES</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
Extract commits between revisions R1 and R2, and apply them on top of the
  current branch using <em>git am</em> to cherry-pick them:
</p>
<div class="listingblock">
<div class="content">
<pre><code>$ git format-patch -k --stdout R1..R2 | git am -3 -k</code></pre>
</div></div>
</li>
<li>
<p>
Extract all commits which are in the current branch but not in the origin
  branch:
</p>
<div class="listingblock">
<div class="content">
<pre><code>$ git format-patch origin</code></pre>
</div></div>
<div class="paragraph"><p>For each commit a separate file is created in the current directory.</p></div>
</li>
<li>
<p>
Extract all commits that lead to <em>origin</em> since the inception of the
  project:
</p>
<div class="listingblock">
<div class="content">
<pre><code>$ git format-patch --root origin</code></pre>
</div></div>
</li>
<li>
<p>
The same as the previous one:
</p>
<div class="listingblock">
<div class="content">
<pre><code>$ git format-patch -M -B origin</code></pre>
</div></div>
<div class="paragraph"><p>Additionally, it detects and handles renames and complete rewrites
intelligently to produce a renaming patch.  A renaming patch reduces the
amount of text output, and generally makes it easier to review.  Note that
non-Git "patch" programs won&#8217;t understand renaming patches, so use it only
when you know the recipient uses Git to apply your patch.</p></div>
</li>
<li>
<p>
Extract three topmost commits from the current branch and format them as
  e-mailable patches:
</p>
<div class="listingblock">
<div class="content">
<pre><code>$ git format-patch -3</code></pre>
</div></div>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_caveats">CAVEATS</h2>
<div class="sectionbody">
<div class="paragraph"><p>Note that <code>format-patch</code> will omit merge commits from the output, even if
they are part of the requested range. A simple "patch" does not include
enough information for the receiving end to reproduce the same merge commit.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph"><p><a href="git-am.html">git-am(1)</a>, <a href="git-send-email.html">git-send-email(1)</a></p></div>
</div>
</div>
<div class="sect1">
<h2 id="_git">GIT</h2>
<div class="sectionbody">
<div class="paragraph"><p>Part of the <a href="git.html">git(1)</a> suite</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2021-11-04 05:34:57 JST
</div>
</div>
</body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 9.1.1" />
<title>git-diff-index(1)</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overridden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="manpage">
<div id="header">
<h1>
git-diff-index(1) Manual Page
</h1>
<h2>NAME</h2>
<div class="sectionbody">
<p>git-diff-index -
   ツリーを作業ツリーまたはインデックスと比較します
</p>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git diff-index</em> [-m] [--cached] [--merge-base] [&lt;common-diff-options&gt;] &lt;tree-ish&gt; [&lt;path&gt;&#8230;]</pre>
<div class="attribution">
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph"><p>ツリーオブジェクトで見つかったブロブの内容とモードを、作業ツリー内の対応する追跡中のファイルまたはインデックス内の対応するパスと比較します。&lt;path&gt;引数が存在する場合、それらのパターンに一致するパスのみを比較します。それ以外の場合は、追跡中のすべてのファイルが比較されます。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_options">OPTIONS</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<code>-p</code>
</dt>
<dt class="hdlist1">
<code>-u</code>
</dt>
<dt class="hdlist1">
<code>--patch</code>
</dt>
<dd>
<p>
パッチを生成します(セクション・タイトル "Generating patch text with -p" 参照)。
</p>
</dd>
<dt class="hdlist1">
<code>-s</code>
</dt>
<dt class="hdlist1">
<code>--no-patch</code>
</dt>
<dd>
<p>
        diff 機構からの出力をすべて抑制します。 デフォルトでパッチを表示する <code>git show</code> のようなコマンドで出力を抑制したり、 コマンドラインのエイリアスで <code>--patch</code> や <code>--stat</code> などのオプションの効果をキャンセルしたりする場合に便利です。
</p>
</dd>
<dt class="hdlist1">
<code>-U&lt;n&gt;</code>
</dt>
<dt class="hdlist1">
<code>--unified=&lt;n&gt;</code>
</dt>
<dd>
<p>
        通常の3行ではなく、&lt;n&gt; 行の内容でdiffを生成します。
        <code>--patch</code> の機能を含んでいます。
</p>
</dd>
<dt class="hdlist1">
<code>--output=&lt;file&gt;</code>
</dt>
<dd>
<p>
        stdout ではなく指定のファイルに出力します。
</p>
</dd>
<dt class="hdlist1">
<code>--output-indicator-new=&lt;char&gt;</code>
</dt>
<dt class="hdlist1">
<code>--output-indicator-old=&lt;char&gt;</code>
</dt>
<dt class="hdlist1">
<code>--output-indicator-context=&lt;char&gt;</code>
</dt>
<dd>
<p>
        生成されたパッチの新しい行、古い行、またはコンテキスト行を示すために使用される文字を指定します。 通常、それらはそれぞれ "+"、 "-"、 " " です。
</p>
</dd>
<dt class="hdlist1">
<code>--raw</code>
</dt>
<dd>
<p>
        生形式(raw format)でdiffを生成します。
        これがデフォルトです。
</p>
</dd>
<dt class="hdlist1">
<code>--patch-with-raw</code>
</dt>
<dd>
<p>
        <code>-p --raw</code> の同義語。
</p>
</dd>
<dt class="hdlist1">
<code>--indent-heuristic</code>
</dt>
<dd>
<p>
        diffハンクの境界をずらす(shift)ヒューリスティックを有効にして、パッチを読みやすくします。 これがデフォルトです。
</p>
</dd>
<dt class="hdlist1">
<code>--no-indent-heuristic</code>
</dt>
<dd>
<p>
        インデントヒューリスティック(indent heuristic)を無効にします。
</p>
</dd>
<dt class="hdlist1">
<code>--minimal</code>
</dt>
<dd>
<p>
        より多くの時間を費やして、可能な限り最小のdiffが生成されるようにします。
</p>
</dd>
<dt class="hdlist1">
<code>--patience</code>
</dt>
<dd>
<p>
        "patience diff" アルゴリズムを使用してdiffを生成します。
</p>
</dd>
<dt class="hdlist1">
<code>--histogram</code>
</dt>
<dd>
<p>
        "histogram diff" アルゴリズムを使用してdiffを生成します。
</p>
</dd>
<dt class="hdlist1">
<code>--anchored=&lt;text&gt;</code>
</dt>
<dd>
<p>
        "anchored diff" アルゴリズムを使用してdiffを生成します。
</p>
<div class="paragraph"><p>このオプションは複数回指定できます。</p></div>
<div class="paragraph"><p>行が比較元(source)と比較先(destination)の両方に存在し、かつ、1回だけ存在し、かつ、このテキストで始まる場合、このアルゴリズムは、その行が出力に削除または追加として表示されないようにします。内部で "patience diff" アルゴリズムを使用します。</p></div>
</dd>
<dt class="hdlist1">
<code>--diff-algorithm={patience|minimal|histogram|myers}</code>
</dt>
<dd>
<p>
        diffアルゴリズムを選択します。その派生(variants)は以下のとおりです:
</p>
<div class="openblock">
<div class="content">
<div class="dlist"><dl>
<dt class="hdlist1">
<code>default</code>, <code>myers</code>
</dt>
<dd>
<p>
        基本的な貪欲な差分アルゴリズム(greedy diff algorithm)。現在、これがデフォルトです。
</p>
</dd>
<dt class="hdlist1">
<code>minimal</code>
</dt>
<dd>
<p>
        より多くの時間を費やして、可能な限り最小のdiffが生成されるようにします。
</p>
</dd>
<dt class="hdlist1">
<code>patience</code>
</dt>
<dd>
<p>
        パッチを生成する時に "patience diff" アルゴリズムを使います。
</p>
</dd>
<dt class="hdlist1">
<code>histogram</code>
</dt>
<dd>
<p>
        このアルゴリズムは、忍耐アルゴリズム(patience algorithm)を拡張して、「発生率の低い共通要素をサポート」(support low-occurrence common elements)します。
</p>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>たとえば、 あなたが <code>diff.algorithm</code> 変数をデフォルト以外の値に設定した上で、それでもデフォルト値を使用する場合は、<code>--diff-algorithm=default</code> オプションを使用する必要があります。</p></div>
</dd>
<dt class="hdlist1">
<code>--stat[=&lt;width&gt;[,&lt;name-width&gt;[,&lt;count&gt;]]]</code>
</dt>
<dd>
<p>
        diffstatを生成します。 デフォルトでは、必要なだけのスペースがファイル名部分に使用され、残りはグラフ部分に使用されます。最大幅はデフォルトで端末幅、または端末に接続されていない場合は80桁であり、 <code>&lt;width&gt;</code> で上書きできます。ファイル名部分の幅は、コンマの後に別の幅 <code>&lt;name-width&gt;</code> を指定することで制限できます。グラフ部分の幅は、 <code>--stat-graph-width=&lt;width&gt;</code> (統計グラフを生成するすべてのコマンドに影響します)を使用するか、 <code>diff.statGraphWidth=&lt;width&gt;</code> ( <code>git format-patch</code> に影響しません)を設定することによって制限できます。3番目のパラメータ <code>&lt;count&gt;</code> を指定することにより、出力を最初の <code>&lt;count&gt;</code> 行に制限し、それに <code>...</code> が続く形にできます。
</p>
<div class="paragraph"><p>これらのパラメータは、 <code>--stat-width=&lt;width&gt;</code> と <code>--stat-name-width=&lt;name-width&gt;</code> と <code>--stat-count=&lt;count&gt;</code> を使用して個別に設定することもできます。</p></div>
</dd>
<dt class="hdlist1">
<code>--compact-summary</code>
</dt>
<dd>
<p>
        ファイルの作成や削除( "new" または "gone" 。オプションでシンボリックリンクの場合は "+l" )、diffstatのモード変更(実行可能ビットを追加または削除する場合は、それぞれ "+x" または "-x" )など、拡張ヘッダー情報の要約を出力します。情報はファイル名部分とグラフ部分の間に置かれます。本機能は <code>--stat</code> の機能を含んでいます。
</p>
</dd>
<dt class="hdlist1">
<code>--numstat</code>
</dt>
<dd>
<p>
        <code>--stat</code> に似ていますが、プログラムで処理しやすい(machine friendly)ように、追加および削除された行数を10進表記とパス名で省略形なしで表示します。バイナリファイルの場合、 <code>0 0</code> の代わりに2つの <code>-</code> を出力します。
</p>
</dd>
<dt class="hdlist1">
<code>--shortstat</code>
</dt>
<dd>
<p>
        変更されたファイルの総数と、追加および削除された行の数を含む <code>--stat</code> 形式の最後の行のみを出力します。
</p>
</dd>
<dt class="hdlist1">
<code>-X[&lt;param1,param2,...&gt;]</code>
</dt>
<dt class="hdlist1">
<code>--dirstat[=&lt;param1,param2,...&gt;]</code>
</dt>
<dd>
<p>
        各サブディレクトリの相対的な変更量の分布を出力します。 <code>--dirstat</code> の動作は、パラメータのコンマ区切りリストを渡すことでカスタマイズできます。デフォルトは、 <code>diff.dirstat</code> 構成変数によって制御されます(<a href="git-config.html">git-config(1)</a> 参照)。以下のパラメータを使用できます:
</p>
<div class="openblock">
<div class="content">
<div class="dlist"><dl>
<dt class="hdlist1">
<code>changes</code>
</dt>
<dd>
<p>
        比較元(source)から削除された、または比較先(destination)に追加された行をカウントして、dirstat数を計算します。これは、ファイル内の純粋なコード移動の量を無視します。つまり、ファイル内の行の再配置は、他の変更ほどカウントされません。これは、パラメーターが指定されていない場合のデフォルトの動作です。
</p>
</dd>
<dt class="hdlist1">
<code>lines</code>
</dt>
<dd>
<p>
        通常の行ベースのdiff分析を実行し、削除/追加された行数を合計して、dirstat数を計算します。 (バイナリファイルの場合、バイナリファイルには行の概念がないため、代わりに64バイトのチャンクをカウントします)。 これは <code>changes</code> 動作よりも高価な <code>--dirstat</code> 動作ですが、他の変更と同じようにファイル内の再配置された行をカウントします。結果の出力は、他の <code>--*stat</code> オプションから得られるものと一致しています。
</p>
</dd>
<dt class="hdlist1">
<code>files</code>
</dt>
<dd>
<p>
        変更されたファイルの数を数えて、dirstat数を計算します。変更された各ファイルは、dirstat分析で等しくカウントされます。これは、ファイルの内容をまったく調べる必要がないため、計算コストが最もかからない <code>--dirstat</code> の動作です。
</p>
</dd>
<dt class="hdlist1">
<code>cumulative</code>
</dt>
<dd>
<p>
        親ディレクトリの子ディレクトリの変更も同様にカウントします。 <code>cumulative</code>(累積的) を使用する場合、報告されるパーセンテージの合計が100%を超える場合があることに注意してください。デフォルトの(非累積的な)動作は、<code>noncumulative</code> パラメーターで指定できます。
</p>
</dd>
<dt class="hdlist1">
&lt;limit&gt;
</dt>
<dd>
<p>
        整数パラメーターは、カットオフパーセント(デフォルトでは3%)を指定します。指定の割合より少ないディレクトリは、出力に表示されません。
</p>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>例: 変更されたファイルの総数の10%未満のディレクトリを無視し、親ディレクトリに子ディレクトリの数を累積しながら、変更されたファイルをカウント: <code>--dirstat=files,10,cumulative</code></p></div>
</dd>
<dt class="hdlist1">
<code>--cumulative</code>
</dt>
<dd>
<p>
        <code>--dirstat=cumulative</code> と同義語
</p>
</dd>
<dt class="hdlist1">
<code>--dirstat-by-file[=&lt;param1,param2&gt;...]</code>
</dt>
<dd>
<p>
        <code>--dirstat=files,param1,param2...</code> と同義語
</p>
</dd>
<dt class="hdlist1">
<code>--summary</code>
</dt>
<dd>
<p>
        作成、名前変更、モード変更などの拡張ヘッダー情報の短い要約(condensed summary)を出力します。
</p>
</dd>
<dt class="hdlist1">
<code>--patch-with-stat</code>
</dt>
<dd>
<p>
        <code>-p --stat</code> と同義語。
</p>
</dd>
<dt class="hdlist1">
<code>-z</code>
</dt>
<dd>
<p>
        <code>--raw</code> または <code>--numstat</code> または <code>--name-only</code> または <code>--name-status</code> が指定されている場合は
        パス名を変更せず、出力フィールドターミネータとしてNULLを使用してください。
</p>
<div class="paragraph"><p>このオプションがないと、構成変数 <code>core.quotePath</code> で説明されているように、 通常の文字以外(unusual characters)を含むパス名が引用符で囲まれます(<a href="git-config.html">git-config(1)</a> 参照)。</p></div>
</dd>
<dt class="hdlist1">
<code>--name-only</code>
</dt>
<dd>
<p>
        変更されたファイルの名前のみを表示します。 多くの場合、ファイル名はUTF-8でエンコードされます。 詳細については、 <a href="git-log.html">git-log(1)</a> のマニュアルページにあるエンコーディングに関する議論(the discussion about encoding)を参照してください。
</p>
</dd>
<dt class="hdlist1">
<code>--name-status</code>
</dt>
<dd>
<p>
        変更されたファイルの名前とステータスのみを表示します。ステータス文字の意味については、 <code>--diff-filter</code> オプションの説明を参照してください。 <code>--name-only</code> と同じように、ファイル名はしばしばUTF-8でエンコードされます。
</p>
</dd>
<dt class="hdlist1">
<code>--submodule[=&lt;format&gt;]</code>
</dt>
<dd>
<p>
        サブモジュールの違いをどのように表示するかを指定します。 <code>--submodule=short</code> を指定する場合、 short形式が使用されます。この形式は、範囲の最初と最後にコミットの名前を表示するだけです。 <code>--submodule</code> または <code>--submodule=log</code> が指定されている場合、 log形式が使用されます。この形式では、 <a href="git-submodule.html">git-submodule(1)</a> <code>summary</code> のように範囲内のコミットが一覧表示されます。 <code>--submodule=diff</code> が指定されている場合、 diff形式が使用されます。この形式は、コミット範囲間のサブモジュールの内容の変更のインラインdiffを示します。configオプションが設定されていない場合、デフォルトは <code>diff.submodule</code> または <code>short</code> 形式です。
</p>
</dd>
<dt class="hdlist1">
<code>--color[=&lt;when&gt;]</code>
</dt>
<dd>
<p>
        色付きのdiffを表示します。 <code>--color</code> (つまり、 <code>=&lt;when&gt;</code> 無し) は <code>--color=always</code> と同じです。 &lt;when&gt; は、 always または never または auto のいずれかになります。
</p>
</dd>
<dt class="hdlist1">
<code>--no-color</code>
</dt>
<dd>
<p>
        カラーdiffをオフにします。
        <code>--color=never</code> と同じです。
</p>
</dd>
<dt class="hdlist1">
<code>--color-moved[=&lt;mode&gt;]</code>
</dt>
<dd>
<p>
        ソースコードの移動した行を別の色にします。
        &lt;mode&gt;は、オプションが指定されていない場合はデフォルトで no になり、
        モードが指定されていないオプションが指定されている場合は zebra になります。
        モードは以下のいずれかでなければなりません:
</p>
<div class="openblock">
<div class="content">
<div class="dlist"><dl>
<dt class="hdlist1">
no
</dt>
<dd>
<p>
        移動行をハイライトしません。
</p>
</dd>
<dt class="hdlist1">
default
</dt>
<dd>
<p>
        zebra の同義語です。これは、将来、より賢明なモードに変更される可能性があります。
</p>
</dd>
<dt class="hdlist1">
plain
</dt>
<dd>
<p>
        ある場所で追加され、別の場所で削除された行は、 <code>color.diff.newMoved</code> で色付けされます。 同様に、 <code>color.diff.oldMoved</code> は、差分の別の場所に追加された削除された行に使用されます。このモードは移動された行をピックアップしますが、コードのブロックが順列なしで移動されたかどうかを判断することはレビューではあまり役に立ちません。
</p>
</dd>
<dt class="hdlist1">
blocks
</dt>
<dd>
<p>
        少なくとも20文字の英数字の移動テキストのブロックが貪欲に検出されます。検出されたブロックは、 <code>color.diff.{old,new}Moved</code> 色のいずれかを使用して色付けされます。隣接するブロックを区別することはできません。
</p>
</dd>
<dt class="hdlist1">
zebra
</dt>
<dd>
<p>
        移動されたテキストのブロックは、 <code>blocks</code> モードの場合と同様に検出されます。 ブロックは、 <code>color.diff.{old,new}Moved</code> 色または <code>color.diff.{old,new}MovedAlternative</code> 色のいずれかを使用して色付けされます。2つの色の間の変化は、新しいブロックが検出されたことを示します。
</p>
</dd>
<dt class="hdlist1">
dimmed-zebra
</dt>
<dd>
<p>
        <code>zebra</code> に似ていますが、移動されたコードの重要でない部分の追加の調光(dimmed)が実行されます。隣接する2つのブロックの境界線は興味深いと見なされ、残りは興味深いものではありません。 <code>dimmed_zebra</code> は非推奨の同義語です。
</p>
</dd>
</dl></div>
</div></div>
</dd>
<dt class="hdlist1">
<code>--no-color-moved</code>
</dt>
<dd>
<p>
        移動検出をオフにします。 これは、構成設定を上書きするために使用できます。 <code>--color-moved=no</code> と同じです。
</p>
</dd>
<dt class="hdlist1">
<code>--color-moved-ws=&lt;modes&gt;</code>
</dt>
<dd>
<p>
        これは、 <code>--color-moved</code> の移動検出を実行するときに空白を無視する方法を設定します。
        これらのモードは、コンマ区切りのリストとして指定できます:
</p>
<div class="openblock">
<div class="content">
<div class="dlist"><dl>
<dt class="hdlist1">
no
</dt>
<dd>
<p>
        移動行検出を実行するときに、空白(whitespace)を無視しない。
</p>
</dd>
<dt class="hdlist1">
ignore-space-at-eol
</dt>
<dd>
<p>
        行末(EOL)での空白(whitespace)の変更を無視します。
</p>
</dd>
<dt class="hdlist1">
ignore-space-change
</dt>
<dd>
<p>
        空白(whitespace)の数の変更は無視してください。これは、行末の空白(whitespace)を無視し、1つ以上の空白文字(whitespace characters)の他のすべてのシーケンスを同等と見なします。
</p>
</dd>
<dt class="hdlist1">
ignore-all-space
</dt>
<dd>
<p>
        行を比較するときは空白(whitespace)を無視します。これにより、一方の行に空白があり、もう一方の行に空白がない場合でも、違いは無視されます。
</p>
</dd>
<dt class="hdlist1">
allow-indentation-change
</dt>
<dd>
<p>
        最初に移動検出で空白(whitespace)を無視し、空白(whitespace)の変更が行ごとに同じである場合にのみ、移動されたコードブロックをブロックにグループ化します。 これは他のモードと互換性がありません。
</p>
</dd>
</dl></div>
</div></div>
</dd>
<dt class="hdlist1">
<code>--no-color-moved-ws</code>
</dt>
<dd>
<p>
        移動検出を実行するときは、空白(whitespace)を無視しないでください。これは、構成設定を上書きするために使用できます。 <code>--color-moved-ws=no</code> と同じです。
</p>
</dd>
<dt class="hdlist1">
<code>--word-diff[=&lt;mode&gt;]</code>
</dt>
<dd>
<p>
        &lt;mode&gt; を使用して変更された単語を区切ることにより、単語のdiffを表示します。デフォルトでは、単語は空白で区切られます。 以下の <code>--word-diff-regex</code> を参照してください。 &lt;mode&gt; のデフォルトは <code>plain</code> です。 &lt;mode&gt; は以下のいずれかである必要があります:
</p>
<div class="openblock">
<div class="content">
<div class="dlist"><dl>
<dt class="hdlist1">
color
</dt>
<dd>
<p>
        変更された単語(word)を色のみを使用して強調表示します。 <code>--color</code> を意味します。
</p>
</dd>
<dt class="hdlist1">
plain
</dt>
<dd>
<p>
        単語を <code>[-removed-]</code> および <code>{+added+}</code> として表示します。 区切り文字が入力に表示されている場合、区切り文字をエスケープしようとしないため、出力があいまいになる可能性があります。
</p>
</dd>
<dt class="hdlist1">
porcelain
</dt>
<dd>
<p>
        スクリプトの使用を目的とした特別な行ベースの形式を使用します。追加/削除/無変更については、通常の統一されたdiff形式で印刷され、行の先頭の <code>+</code>/<code>-</code>/` ` 文字で始まり、行の終わりまで続きます。入力の改行は、それ自体の行のチルダ <code>~</code> で表されます。
</p>
</dd>
<dt class="hdlist1">
none
</dt>
<dd>
<p>
        単語(word)のdiffを再度無効にします。
</p>
</dd>
</dl></div>
</div></div>
<div class="paragraph"><p>注意: 最初のモードの名前にもかかわらず、有効になっている場合、すべてのモードで変更された部分を強調するために色が使用されることに注意してください。</p></div>
</dd>
<dt class="hdlist1">
<code>--word-diff-regex=&lt;regex&gt;</code>
</dt>
<dd>
<p>
        空白以外を単語と見なす代わりに、 &lt;regex&gt; を使用して単語が何であるかを決定します。また、すでに有効になっていない限り、この機能は <code>--word-diff</code> の機能を含んでいます。
</p>
<div class="paragraph"><p>&lt;regex&gt; の重複しないマッチはすべて、単語と見なされます。これらのマッチの間のすべては空白と見なされ、違いを見つけるためとしては無視されます！ 正規表現に <code>|[^[:space:]]</code> を追加して、空白以外のすべての文字とマッチすることを確認することをお勧めします。改行を含むマッチは、改行で黙って切り捨てられます！</p></div>
<div class="paragraph"><p>たとえば、 <code>--word-diff-regex=.</code> は各文字を単語として扱い、それに応じて文字ごとの違いを表示します。</p></div>
<div class="paragraph"><p>正規表現は、diffドライバーまたは構成オプション(configuration option)を介して設定することもできます。 <a href="gitattributes.html">gitattributes(5)</a> または <a href="git-config.html">git-config(1)</a> を参照してください。これを指定すると、diffドライバーまたは構成設定(configuration settings)が明示的にオーバーライドされます。diffドライバーは構成設定を上書きします。</p></div>
</dd>
<dt class="hdlist1">
<code>--color-words[=&lt;regex&gt;]</code>
</dt>
<dd>
<p>
        <code>--word-diff=color</code> に <code>--word-diff-regex=&lt;regex&gt;</code> を加えたものに相当します(正規表現が指定されている場合)。
</p>
</dd>
<dt class="hdlist1">
<code>--no-renames</code>
</dt>
<dd>
<p>
        構成ファイルにデフォルトで指定されている場合でも、名前変更の検出をオフにします。
</p>
</dd>
<dt class="hdlist1">
<code>--[no-]rename-empty</code>
</dt>
<dd>
<p>
        名前変更ソースとして空のブロブを使用するかどうか。
</p>
</dd>
<dt class="hdlist1">
<code>--check</code>
</dt>
<dd>
<p>
        変更によって競合マーカーまたは空白エラーが発生した場合に警告します。空白エラーと見なされるものは、 <code>core.whitespace</code> 構成によって制御されます。 デフォルトでは、末尾の空白(空白のみで構成される行を含む)と、行の最初のインデント内で直後にタブ文字が続くスペース文字は、空白エラーと見なされます。問題が見つかった場合は、ゼロ以外のステータスで終了します。なお、 --exit-code とは互換性がありません。
</p>
</dd>
<dt class="hdlist1">
<code>--ws-error-highlight=&lt;kind&gt;</code>
</dt>
<dd>
<p>
        diffの <code>context</code> または <code>old</code> または <code>new</code> 行の空白エラーを強調表示します。複数の値はコンマで区切られ、 <code>none</code> は前の値をリセットし、 <code>default</code> はリストを <code>new</code> にリセットし、 <code>all</code> は old、new、context の省略形です。このオプションが指定されておらず、構成変数 <code>diff.wsErrorHighlight</code> が設定されていない場合、 <code>new</code> 行の空白エラーのみが強調表示されます。空白エラーは <code>color.diff.whitespace</code> で色分けされています。
</p>
</dd>
<dt class="hdlist1">
<code>--full-index</code>
</dt>
<dd>
<p>
        パッチ形式の出力を生成するときは、最初の一握りの文字(first handful of characters)の代わりに、「インデックス」行にイメージ前およびイメージ後の完全ブロブオブジェクト名を表示します。
</p>
</dd>
<dt class="hdlist1">
<code>--binary</code>
</dt>
<dd>
<p>
        <code>--full-index</code> に加えて、 <code>git-apply</code> で適用できるバイナリ差分を出力します。
        <code>--patch</code> の機能を含んでいます。
</p>
</dd>
<dt class="hdlist1">
<code>--abbrev[=&lt;n&gt;]</code>
</dt>
<dd>
<p>
        完全な40バイトの16進オブジェクト名をdiff-raw形式の出力とdiff-treeヘッダー行に表示する代わりに、オブジェクトを一意に参照する、少なくとも &lt;n&gt; 桁の16進数の長さの最短のプレフィックスを表示します。diffパッチ出力形式では、 <code>--full-index</code> が優先されます。つまり、 <code>--full-index</code> が指定されている場合、 <code>--abbrev</code> に関係なく、完全なブロブ名が表示されます。デフォルト以外の桁数は、 <code>--abbrev=&lt;n&gt;</code> で指定できます。
</p>
</dd>
<dt class="hdlist1">
<code>-B[&lt;n&gt;][/&lt;m&gt;]</code>
</dt>
<dt class="hdlist1">
<code>--break-rewrites[=[&lt;n&gt;][/&lt;m&gt;]]</code>
</dt>
<dd>
<p>
        完全な書き換えの変更を削除と作成のペアに分割します。これには以下の2つの目的があります:
</p>
<div class="paragraph"><p>これは、ファイルの完全な書き換えに相当する変更が、コンテキストとしてテキストで一致する非常に少数の行と混合された一連の削除と挿入としてではなく、古いものすべての単一の削除とそれに続く すべての新しいものを1回挿入し、数値 <code>m</code> が -B オプションのこの側面を制御します(デフォルトは60%)。 <code>-B/70%</code> は、Gitがそれを完全な書き換えと見なすために、元の30%未満が結果に残る必要があることを指定します(つまり、結果のパッチは、コンテキスト行と混合された一連の削除と挿入になります)。</p></div>
<div class="paragraph"><p>-M と一緒に使用すると、完全に書き換えられたファイルも名前変更のソースと見なされ(通常、 -M は、消えたファイルのみを名前変更のソースと見なします)、数 <code>n</code> が -Bオプションのこの側面を制御します(デフォルトは50%)。 <code>-B20%</code> は、ファイルのサイズの20%以上と比較して、追加および削除を伴う変更が、別のファイルへの名前変更の可能なソースとして取得される資格があることを指定します。</p></div>
</dd>
<dt class="hdlist1">
<code>-M[&lt;n&gt;]</code>
</dt>
<dt class="hdlist1">
<code>--find-renames[=&lt;n&gt;]</code>
</dt>
<dd>
<p>
        名前の変更(renames)を検知する。
        <code>n</code> が指定されている場合、それは類似性インデックスのしきい値です
        (つまり、ファイルのサイズと比較した追加/削除の量)。
        たとえば、 <code>-M90%</code> は、ファイルの90%以上が変更されていない場合、
        Gitが削除/追加のペアを名前変更と見なす必要があることを意味します。
        <code>%</code> 記号がない場合、数値は小数として読み取られ、その前に小数点が付きます。
        つまり、 <code>-M5</code> は0.5になるため、<code>-M50%</code> と同じになります。
        同様に、 <code>-M05</code> は <code>-M5%</code> と同じです。
        検出を正確な名前変更に制限するには、 <code>-M100%</code> を使用します。
        デフォルトの類似性インデックスは50%です。
</p>
</dd>
<dt class="hdlist1">
<code>-C[&lt;n&gt;]</code>
</dt>
<dt class="hdlist1">
<code>--find-copies[=&lt;n&gt;]</code>
</dt>
<dd>
<p>
        名前と同様コピーを検出します。 <code>--find-copies-harder</code> <code>も参照してください。 `n</code> を指定すると、 <code>-M&lt;n&gt;</code> と同じ意味になります。
</p>
</dd>
<dt class="hdlist1">
<code>--find-copies-harder</code>
</dt>
<dd>
<p>
        パフォーマンス上の理由から、デフォルトでは、 <code>-C</code> オプションは、コピーの元のファイルが同じ変更組(changeset)で変更された場合にのみコピーを検索します。このフラグにより、コマンドは変更されていないファイルをコピー元の候補として検査します。これは大規模なプロジェクトでは非常にコストのかかる操作であるため、注意して使用してください。 複数の <code>-C</code> オプションを指定しても同じ効果があります。
</p>
</dd>
<dt class="hdlist1">
<code>-D</code>
</dt>
<dt class="hdlist1">
<code>--irreversible-delete</code>
</dt>
<dd>
<p>
        削除するプレイメージ(preimage)を省略します。つまり、ヘッダーのみを出力し、プレイメージと <code>/dev/null</code> の差分は出力しません。結果のパッチは、 <code>patch</code> または <code>git apply</code> で適用されることを意図していません。これは、変更後にテキストを確認することに集中したい人のためだけのものです。さらに、出力には明らかに、そのようなパッチを手動でも逆に適用するのに十分な情報が不足しているため、オプションの名前が付けられています。
</p>
<div class="paragraph"><p><code>-B</code> と併用する場合は、削除/作成ペアの削除部分のプリイメージ(preimage)も省略してください。</p></div>
</dd>
<dt class="hdlist1">
<code>-l&lt;num&gt;</code>
</dt>
<dd>
<p>
        <code>-M</code> および <code>-C</code> オプションには、名前変更/コピーのサブセットを安価に検出できるいくつかの準備手順が含まれ、その後に、残りのすべてのペアになっていない比較先(destinations)をすべての関連ソースと比較する徹底的なフォールバック部分が続きます。(名前の変更の場合、残りのペアになっていないソースのみが関係します。コピーの場合、すべての元のソースが関係します)。N個の、ソースと比較先の場合、この徹底的なチェックのコストは O(N^2) です。このオプションは、関係するソース/比較先ファイルの数が指定された数を超えた場合に、名前変更/コピー検出の完全な部分が実行されないようにします。デフォルトは diff.renameLimit です。 値0は無制限として扱われることに注意してください。
</p>
</dd>
<dt class="hdlist1">
<code>--diff-filter=[(A|C|D|M|R|T|U|X|B)...[*]]</code>
</dt>
<dd>
<p>
        追加(Add)・コピー(Copy)・削除(Delete)・変更(Modify)・名前変更(Rename)されたファイル、タイプが変更されたファイル(T)、マージされていないファイル(U)、不明なファイル(X)、またはペアリングが壊れているファイル(B)のみを選択します。フィルタ文字(無しも含む)の任意の組み合わせを使用できます。 組み合わせに <code>*</code> (全てまたは無し)が追加されると、比較で他の基準に一致するファイルがある場合、すべてのパスが選択されます。 他の基準に一致するファイルがない場合、何も選択されません。
</p>
<div class="paragraph"><p>また、逆に、除外したい時はこれらの各大文字指定を小文字にして指定します。例えば <code>--diff-filter=ad</code> は、追加および削除されたパスを除外します。</p></div>
<div class="paragraph"><p>注意:すべてのdiffがすべてのタイプを特徴とするわけではないことに注意してください。 たとえば、これらのタイプの検出(detection)が無効になっている場合、コピーされたエントリと名前変更されたエントリは表示されません。</p></div>
</dd>
<dt class="hdlist1">
<code>-S&lt;string&gt;</code>
</dt>
<dd>
<p>
        ファイル内の指定の文字列(つまり、 addition 、deletion)の出現回数の差分を調べます。スクリプターが使用することを目的としています。
</p>
<div class="paragraph"><p>(構造体など)コードの正確なブロックを探していて、そのブロックが最初に作成されてからの履歴を知りたい場合に便利です。この機能を繰り返し使用して、プリイメージ(preimage)内の興味深いブロックを <code>-S</code> にフィードバックし、そしてあなたはそれをブロックの最初のバージョンを取得するまで続けます。</p></div>
<div class="paragraph"><p>バイナリファイルも検索されます。</p></div>
</dd>
<dt class="hdlist1">
<code>-G&lt;regex&gt;</code>
</dt>
<dd>
<p>
        パッチテキストに &lt;regex&gt; にマッチする 追加/削除 された行が含まれている差分を探します。
</p>
<div class="paragraph"><p><code>-S&lt;regex&gt; --pickaxe-regex</code> と <code>-G&lt;regex&gt;</code> の違いを説明するために、同じファイル内で以下のdiffを使用してコミットすることを検討してください:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>+    return frotz(nitfol, two-&gt;ptr, 1, 0);
...
-    hit = frotz(nitfol, mf2.ptr, 1, 0);</code></pre>
</div></div>
<div class="paragraph"><p><code>git log -G"frotz\(nitfol"</code> はこのコミットを表示しますが、 <code>git log -S"frotz\(nitfol" --pickaxe-regex</code> は表示しません(その文字列の出現回数が変更されなかったため)。</p></div>
<div class="paragraph"><p><code>--text</code> が提供されていない限り、 textconv フィルターのないバイナリファイルのパッチは無視されます。</p></div>
<div class="paragraph"><p>詳細については <a href="gitdiffcore.html">gitdiffcore(7)</a> の「pickaxe」エントリを参照してください。</p></div>
</dd>
<dt class="hdlist1">
<code>--find-object=&lt;object-id&gt;</code>
</dt>
<dd>
<p>
        指定されたオブジェクトの出現回数を変更する違いを探します。 <code>-S</code> と同様に、引数だけが異なり、特定の文字列ではなく特定のオブジェクトIDを検索します。
</p>
<div class="paragraph"><p>オブジェクトは、ブロブまたはサブモジュールのコミットにすることができます。 これは、 <code>git-log</code> の <code>-t</code> オプションがツリーも探すことを意味します。</p></div>
</dd>
<dt class="hdlist1">
<code>--pickaxe-all</code>
</dt>
<dd>
<p>
        <code>-S</code> または <code>-G</code> が変更を見つけたら、 &lt;string&gt; の変更を含むファイルだけでなく、その変更セット(changeset)のすべての変更を表示します。
</p>
</dd>
<dt class="hdlist1">
<code>--pickaxe-regex</code>
</dt>
<dd>
<p>
        <code>-S</code> に指定した &lt;string&gt; を拡張POSIX正規表現として扱います。
</p>
</dd>
<dt class="hdlist1">
<code>-O&lt;orderfile&gt;</code>
</dt>
<dd>
<p>
        ファイルが出力に表示される順序を制御します。これは <code>diff.orderFile</code> 構成変数をオーバーライドします(<a href="git-config.html">git-config(1)</a> 参照)。 <code>diff.orderFile</code> をキャンセルするには、 <code>-O/dev/null</code> を使用します。
</p>
<div class="paragraph"><p>出力順序は、 &lt;orderfile&gt; 内のglobパターンの順序によって決定されます。最初のパターンに一致するパス名を持つすべてのファイルが最初に出力され、2番目のパターンに一致する(ただし最初のパターンには一致しない)パス名を持つすべてのファイルが次に出力されます。パス名がどのパターンとも一致しないすべてのファイルは、ファイルの最後に暗黙のすべて一致パターンがあるかのように、最後に出力されます。複数のパス名のランクが同じである場合(同じパターンに一致するが、以前のパターンには一致しない)、相互の出力順序は通常の順序です。</p></div>
<div class="paragraph"><p>&lt;orderfile&gt; は以下のとおりパースされます:</p></div>
<div class="openblock">
<div class="content">
<div class="ulist"><ul>
<li>
<p>
空白行は無視されるため、読みやすくするための区切りとして使用できます。
</p>
</li>
<li>
<p>
ハッシュ ("<code>#</code>") で始まる行は無視されるため、コメントに使用できます。 パターンがハッシュで始まる場合は、パターンの先頭にバックスラッシュ(訳注:日本では環境により円記号)("<code>\</code>") を追加します。
</p>
</li>
<li>
<p>
他の各行には、単一のパターンが含まれています。
</p>
</li>
</ul></div>
</div></div>
<div class="paragraph"><p>パターンは、 FNM_PATHNAME フラグなしで fnmatch(3) に使用されるパターンと同じ構文とセマンティクスを持ちますが、最終的なパス名コンポーネントをいくつも削除するとパターンと一致する場合、パス名もパターンと一致する点が異なります。 たとえば、パターン "<code>foo*bar</code>" は、 "<code>fooasdfbar</code>" および "<code>foo/bar/baz/asdf</code>" と一致しますが、 "<code>foobarx</code>" とは一致しません。</p></div>
</dd>
<dt class="hdlist1">
<code>--skip-to=&lt;file&gt;</code>
</dt>
<dt class="hdlist1">
<code>--rotate-to=&lt;file&gt;</code>
</dt>
<dd>
<p>
        名前付き &lt;file&gt; の前のファイルを出力から破棄するか(スキップして)、出力の最後に移動させます(ローテーションさせます)。 これらは主に <code>git difftool</code> コマンドを使用するために考案されたものであり、それ以外の場合はあまり役に立たない可能性があります。
</p>
</dd>
<dt class="hdlist1">
<code>-R</code>
</dt>
<dd>
<p>
        2つの入力を交換します。 つまり、インデックスまたはディスク上のファイルとツリーの内容の違いを表示します。
</p>
</dd>
<dt class="hdlist1">
<code>--relative[=&lt;path&gt;]</code>
</dt>
<dt class="hdlist1">
<code>--no-relative</code>
</dt>
<dd>
<p>
        プロジェクトのサブディレクトリから実行する場合、このオプションを使用して、ディレクトリ外の変更を除外し、それに関連するパス名を表示するように指示できます。サブディレクトリ(ベアリポジトリなど)にいない場合は、引数として &lt;path&gt; を指定することで、出力を作成するサブディレクトリに名前を付けることができます。 <code>--no-relative`は、 `diff.relative</code> 設定オプションと以前の <code>--relative</code> の両方を打ち消すために使用できます。
</p>
</dd>
<dt class="hdlist1">
<code>-a</code>
</dt>
<dt class="hdlist1">
<code>--text</code>
</dt>
<dd>
<p>
        すべてのファイルをテキストとして扱います。
</p>
</dd>
<dt class="hdlist1">
<code>--ignore-cr-at-eol</code>
</dt>
<dd>
<p>
        比較を行うときは、行末のキャリッジリターン(carriage-return)を無視します。
</p>
</dd>
<dt class="hdlist1">
<code>--ignore-space-at-eol</code>
</dt>
<dd>
<p>
        行末(EOL)での空白(whitespace)の変更を無視します。
</p>
</dd>
<dt class="hdlist1">
<code>-b</code>
</dt>
<dt class="hdlist1">
<code>--ignore-space-change</code>
</dt>
<dd>
<p>
        空白(whitespace)の数の変更は無視してください。これは、行末の空白(whitespace)を無視し、1つ以上の空白文字(whitespace characters)の他のすべてのシーケンスを同等と見なします。
</p>
</dd>
<dt class="hdlist1">
<code>-w</code>
</dt>
<dt class="hdlist1">
<code>--ignore-all-space</code>
</dt>
<dd>
<p>
        行を比較するときは空白を無視します。 これにより、一方の行に空白があり、もう一方の行に空白がない場合でも、違いは無視されます。
</p>
</dd>
<dt class="hdlist1">
<code>--ignore-blank-lines</code>
</dt>
<dd>
<p>
        全て空白の行の変更は無視します。
</p>
</dd>
<dt class="hdlist1">
<code>-I&lt;regex&gt;</code>
</dt>
<dt class="hdlist1">
<code>--ignore-matching-lines=&lt;regex&gt;</code>
</dt>
<dd>
<p>
        すべての行が &lt;regex&gt; にマッチする変更を無視します。このオプションは複数回指定できます。
</p>
</dd>
<dt class="hdlist1">
<code>--inter-hunk-context=&lt;lines&gt;</code>
</dt>
<dd>
<p>
        指定された行数までの差分ハンク間のコンテキストを表示し、それによって互いに近いハンクを融合します。デフォルトは <code>diff.interHunkContext</code> で、設定オプションが設定されていない場合は0です。
</p>
</dd>
<dt class="hdlist1">
<code>-W</code>
</dt>
<dt class="hdlist1">
<code>--function-context</code>
</dt>
<dd>
<p>
        関数全体を各変更のコンテキスト行として表示します。関数名は、 <code>git diff</code> がパッチハンクヘッダーを処理するのと同じ方法で決定されます(<a href="gitattributes.html">gitattributes(5)</a> の「Defining a custom hunk-header」参照)。
</p>
</dd>
<dt class="hdlist1">
<code>--exit-code</code>
</dt>
<dd>
<p>
        diff(1）と同様のコードでプログラムを終了させます。つまり、違いがあった場合は 1 で終了し、 0 は違いがないことを意味します。
</p>
</dd>
<dt class="hdlist1">
<code>--quiet</code>
</dt>
<dd>
<p>
        プログラムのすべての出力を無効にします。 <code>--exit-code</code> を意味します。
</p>
</dd>
<dt class="hdlist1">
<code>--ext-diff</code>
</dt>
<dd>
<p>
        外部diffヘルパーの実行を許可します。 <a href="gitattributes.html">gitattributes(5)</a> を使用して外部diffドライバーを設定する場合は、 <a href="git-log.html">git-log(1)</a> およびその仲間と一緒にこのオプションを使用する必要があります。
</p>
</dd>
<dt class="hdlist1">
<code>--no-ext-diff</code>
</dt>
<dd>
<p>
        外部diffドライバーを禁止します。
</p>
</dd>
<dt class="hdlist1">
<code>--textconv</code>
</dt>
<dt class="hdlist1">
<code>--no-textconv</code>
</dt>
<dd>
<p>
        バイナリファイルを比較するときに、外部テキスト変換フィルターの実行を許可(または禁止)します。 詳細については、 <a href="gitattributes.html">gitattributes(5)</a> を参照してください。textconvフィルターは通常、一方向の変換であるため、結果のdiffは人間の消費に適していますが、適用(apply)することはできません。このため、textconvフィルターは、 <a href="git-diff.html">git-diff(1)</a> および <a href="git-log.html">git-log(1)</a> に対してのみデフォルトで有効になりますが、 <a href="git-format-patch.html">git-format-patch(1)</a> またはdiff配管コマンドに対しては有効になりません。
</p>
</dd>
<dt class="hdlist1">
<code>--ignore-submodules[=&lt;when&gt;]</code>
</dt>
<dd>
<p>
        diff生成のサブモジュールへの変更を無視します。 &lt;when&gt; は、 none・untracked・dirty・allのいずれかになります。これがデフォルトです。noneを使用すると、追跡されていないファイルまたは変更されたファイルが含まれている場合、またはそのHEADがスーパープロジェクトに記録されているコミットと異なる場合にサブモジュールが変更されたと見なされ、 <a href="git-config.html">git-config(1)</a> または <a href="gitmodules.html">gitmodules(5)</a> の ignoreオプションの設定をオーバーライドするために使用できます。untrackedが使用されている場合、サブモジュールには追跡されていないコンテンツのみが含まれている場合、サブモジュールはダーティとは見なされません(ただし、変更されたコンテンツはスキャンされます)。「dirty」を使用すると、サブモジュールの作業ツリーへのすべての変更が無視され、スーパープロジェクトに格納されているコミットへの変更のみが表示されます(これは1.7.0までの動作でした)。「all」を使用すると、サブモジュールへのすべての変更が非表示になります。
</p>
</dd>
<dt class="hdlist1">
<code>--src-prefix=&lt;prefix&gt;</code>
</dt>
<dd>
<p>
        "a/" の代わりに、指定した比較元プレフィックス(source prefix)を表示します。
</p>
</dd>
<dt class="hdlist1">
<code>--dst-prefix=&lt;prefix&gt;</code>
</dt>
<dd>
<p>
        "b/" の代わりに、指定した比較先プレフィックス(destination prefix)を表示します。
</p>
</dd>
<dt class="hdlist1">
<code>--no-prefix</code>
</dt>
<dd>
<p>
        比較元(source)または比較先(destination)のプレフィックスを表示しません。
</p>
</dd>
<dt class="hdlist1">
<code>--default-prefix</code>
</dt>
<dd>
<p>
        デフォルトの比較元(source)および比較先(destination)のプレフィックスを使用します("a/" と "b/")。通常、これは既にデフォルトではありますが、 <code>diff.noprefix</code> などの設定をオーバーライドするために使用されることがあります。
</p>
</dd>
<dt class="hdlist1">
<code>--line-prefix=&lt;prefix&gt;</code>
</dt>
<dd>
<p>
        出力のすべての行に追加のプレフィックスを付加します。
</p>
</dd>
<dt class="hdlist1">
<code>--ita-invisible-in-index</code>
</dt>
<dd>
<p>
        デフォルトでは、 "git add -N" によって追加されたエントリは、 "git diff" に既存の空のファイルとして表示され、 "git diff --cached" に新しいファイルとして表示されます。このオプションを使用すると、エントリは "git diff" では新しいファイルとして表示され、 "git diff --cached" では存在しません。このオプションは、 <code>--ita-visible-in-index</code> で元に戻すことができます。どちらのオプションも実験的なものであり、将来削除される可能性があります。
</p>
</dd>
</dl></div>
<div class="paragraph"><p>これらの一般的なオプションの詳細については、 <a href="gitdiffcore.html">gitdiffcore(7)</a> も参照してください。</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
&lt;tree-ish&gt;
</dt>
<dd>
<p>
        diffするツリーオブジェクトのID。
</p>
</dd>
<dt class="hdlist1">
<code>--cached</code>
</dt>
<dd>
<p>
        ディスク上のファイルはまったく考慮しないでください。
</p>
</dd>
<dt class="hdlist1">
<code>--merge-base</code>
</dt>
<dd>
<p>
        &lt;tree-ish&gt;を直接比較する代わりに、&lt;tree-ish&gt;とHEADの間のマージベースを使用してください。 &lt;tree-ish&gt;はコミットでなければなりません。
</p>
</dd>
<dt class="hdlist1">
<code>-m</code>
</dt>
<dd>
<p>
        デフォルトでは、インデックスに記録されているがチェックアウトされていないファイルは削除済みとして報告されます。このフラグにより、 <code>git diff-index</code> はチェックアウトされていないファイルは全て最新とします。
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_raw_output_format">Raw output format</h2>
<div class="sectionbody">
<div class="paragraph"><p><code>git-diff-index</code> と <code>git-diff-tree</code> と <code>git-diff-files</code> と <code>git diff --raw</code> からの生の出力形式は非常に似ています。</p></div>
<div class="paragraph"><p>これらのコマンドはすべて、2つのセットを比較します。なお、比較されるものは異なります:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
git-diff-index &lt;tree-ish&gt;
</dt>
<dd>
<p>
        &lt;tree-ish&gt; とファイルシステム上のファイルを比較します。
</p>
</dd>
<dt class="hdlist1">
git-diff-index --cached &lt;tree-ish&gt;
</dt>
<dd>
<p>
        &lt;tree-ish&gt; とインデックスを比較します。
</p>
</dd>
<dt class="hdlist1">
git-diff-tree [-r] &lt;tree-ish-1&gt; &lt;tree-ish-2&gt; [&lt;pattern&gt;&#8230;]
</dt>
<dd>
<p>
        2つの引数で指定されたツリーを比較します。
</p>
</dd>
<dt class="hdlist1">
git-diff-files [&lt;pattern&gt;&#8230;]
</dt>
<dd>
<p>
        インデックスとファイルシステム上のファイルを比較します。
</p>
</dd>
</dl></div>
<div class="paragraph"><p>"git-diff-tree" コマンドは、比較対象のハッシュ値を出力することで出力を開始します。その後、すべてのコマンドは、変更されたファイルごとに1つの出力行を出力します。</p></div>
<div class="paragraph"><p>出力行は以下のようにフォーマットされます:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>in-place edit  :100644 100644 bcd1234 0123456 M file0
copy-edit      :100644 100644 abcd123 1234567 C68 file1 file2
rename-edit    :100644 100644 abcd123 1234567 R86 file1 file3
create         :000000 100644 0000000 1234567 A file4
delete         :100644 000000 1234567 0000000 D file5
unmerged       :000000 000000 0000000 0000000 U file6</code></pre>
</div></div>
<div class="paragraph"><p>つまり、左から右へ:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
コロン(:)
</p>
</li>
<li>
<p>
"src" のモード。作成(creation)またはマージされていない(unmerged)場合は 000000
</p>
</li>
<li>
<p>
空白
</p>
</li>
<li>
<p>
"dst" のモード。作成(creation)またはマージされていない(unmerged)場合は 000000
</p>
</li>
<li>
<p>
空白
</p>
</li>
<li>
<p>
"src" のsha1。作成(creation)またはマージされていない(unmerged)場合は 0{40}
</p>
</li>
<li>
<p>
空白
</p>
</li>
<li>
<p>
"dst" のsha1; 削除、またはマージされていない(unmerged)、または「ワーク・ツリーがインデックスと同期していない」場合は 0{40}
</p>
</li>
<li>
<p>
空白
</p>
</li>
<li>
<p>
ステータスの後に、オプションの「スコア数」("score" number)が続きます
</p>
</li>
<li>
<p>
<code>-z</code> オプションが使用されている場合はタブまたはNUL
</p>
</li>
<li>
<p>
"src" のパス
</p>
</li>
<li>
<p>
<code>-z</code> オプションが使用されている場合タブまたはNUL。ステータスCまたはRにのみ存在します
</p>
</li>
<li>
<p>
"dst" のパス。ステータスCまたはRにのみ存在します
</p>
</li>
<li>
<p>
LFでレコードを終了します。 <code>-z</code> オプションが使用されている場合はNULでレコードを終了します。
</p>
</li>
</ol></div>
<div class="paragraph"><p>ステータス文字の種類は以下のとおり:</p></div>
<div class="ulist"><ul>
<li>
<p>
A: ファイルの追加
</p>
</li>
<li>
<p>
C: ファイルを新しいファイルにコピー
</p>
</li>
<li>
<p>
D: ファイルの削除
</p>
</li>
<li>
<p>
M: ファイルの内容やモードの変更
</p>
</li>
<li>
<p>
R: ファイル名の名前変更
</p>
</li>
<li>
<p>
T: ファイルのタイプを変更(通常ファイル または シンボリックリンク または サブモジュール)
</p>
</li>
<li>
<p>
U: ファイルはマージされていません(コミットする前にマージを完了する必要があります)
</p>
</li>
<li>
<p>
X: 「不明な」変更タイプ(おそらくバグです。報告してください)
</p>
</li>
</ul></div>
<div class="paragraph"><p>ステータス文字CとRの後には常にスコアが続きます(移動またはコピーのソースとターゲットの間の類似性のパーセンテージを示します)。ステータス文字Mの後には、ファイルの書き換えのスコア(非類似度のパーセンテージを示す)が続く場合があります。</p></div>
<div class="paragraph"><p>ファイルシステム上のファイルがインデックスと同期していない場合、 ”dst” の sha1 はすべて 0 として表示されます。</p></div>
<div class="paragraph"><p>例:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>:100644 100644 5be4a4a 0000000 M file.c</code></pre>
</div></div>
<div class="paragraph"><p><code>-z</code> オプションを指定しない場合、構成変数 <code>core.quotePath</code> で説明されているように、通常の文字以外(unusual characters)を含むパス名が引用符で囲まれます(<a href="git-config.html">git-config(1)</a> 参照)。 <code>-z</code> を使用すると、ファイル名がそのまま出力され、行はNULバイトで終了します。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_diff_format_for_merges">diff format for merges</h2>
<div class="sectionbody">
<div class="paragraph"><p>"git-diff-tree" と "git-diff-files" と "git-diff --raw" は、 <code>-c</code> または <code>--cc</code> オプションを使用して、マージコミットに対してもdiff出力を生成できます。出力は、以下の点で上記の形式とは異なります:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
親ごとにコロン(:)があります
</p>
</li>
<li>
<p>
より多くの "src" モードと "src" sha1があります
</p>
</li>
<li>
<p>
statusは、各親のステータス文字を連結したものです
</p>
</li>
<li>
<p>
オプションの「スコア数」はありません
</p>
</li>
<li>
<p>
ファイルのタブ区切りのパス名
</p>
</li>
</ol></div>
<div class="paragraph"><p><code>-c</code> および ` -cc` の場合、履歴のいずれかの側でファイルの名前が変更された場合でも、宛先(dst)または最終パスのみが表示されます。 <code>--combined-all-paths</code> を使用すると、各親のパスの名前が表示され、それに続いてマージコミットのパスの名前が表示されます。</p></div>
<div class="paragraph"><p>例: <code>--combined-all-paths</code> を使用しない <code>-c</code> および <code>--cc</code> の場合:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       phooey.c</code></pre>
</div></div>
<div class="paragraph"><p>例: <code>-c</code> または <code>--cc</code> のいずれかに <code>--combined-all-paths</code> が追加された場合:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c  desc.c  desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       foo.sh  bar.sh  bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       fooey.c fuey.c  phooey.c</code></pre>
</div></div>
<div class="paragraph"><p>注意: <code>combined diff</code> は、すべての親から変更されたファイルのみをリストすることに注意してください。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="generate_patch_text_with_p">Generating patch text with -p</h2>
<div class="sectionbody">
<div class="paragraph"><p><a href="git-diff.html">git-diff(1)</a> 、 <a href="git-log.html">git-log(1)</a> 、 <a href="git-show.html">git-show(1)</a> 、 <a href="git-diff-index.html">git-diff-index(1)</a> 、 <a href="git-diff-tree.html">git-diff-tree(1)</a> 、 <a href="git-diff-files.html">git-diff-files(1)</a> に <code>-p</code> オプションを付けて実行するとパッチテキストを生成します。パッチテキストの作成は、 <code>GIT_EXTERNAL_DIFF</code> と <code>GIT_DIFF_OPTS</code> 環境変数( <a href="git.html">git(1)</a> 参照)、および <code>diff</code> 属性( <a href="gitattributes.html">gitattributes(5)</a> 参照)を介してカスタマイズできます。</p></div>
<div class="paragraph"><p>-pオプションが生成するものは、従来のdiff形式とは少々異なります:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
先行して、以下のような "git diff" ヘッダーがあります:
</p>
<div class="literalblock">
<div class="content">
<pre><code>diff --git a/file1 b/file2</code></pre>
</div></div>
<div class="paragraph"><p>名前の変更/コピーが含まれない限り、 <code>a/</code> と <code>b/</code> のファイル名は同じです。 特に、作成または削除の場合でも、 <code>a/</code> または <code>b/</code> ファイル名の代わりに <code>/dev/ null</code> が使用されることはありません。</p></div>
<div class="paragraph"><p>名前変更/コピーが含まれる場合、 <code>file1</code> と`file2` は、それぞれ名前変更/コピーのソースファイルの名前と、名前変更/コピーが生成するファイルの名前を示します。</p></div>
</li>
<li>
<p>
その後に、1つ以上の拡張ヘッダー行達が続きます:
</p>
<div class="literalblock">
<div class="content">
<pre><code>old mode &lt;mode&gt;
new mode &lt;mode&gt;
deleted file mode &lt;mode&gt;
new file mode &lt;mode&gt;
copy from &lt;path&gt;
copy to &lt;path&gt;
rename from &lt;path&gt;
rename to &lt;path&gt;
similarity index &lt;number&gt;
dissimilarity index &lt;number&gt;
index &lt;hash&gt;..&lt;hash&gt; &lt;mode&gt;</code></pre>
</div></div>
<div class="paragraph"><p>ファイルモードは、ファイルタイプとファイル許可ビットを含む6桁の8進数として出力されます。</p></div>
<div class="paragraph"><p>拡張ヘッダーのパス名には、 <code>a/</code> および <code>b/</code> プレフィックスは含まれません。</p></div>
<div class="paragraph"><p>類似インデックス(similarity index)は変更されていない行のパーセンテージであり、非類似インデックス(dissimilarity index)は変更された行のパーセンテージです。これは切り捨てられた整数であり、その後にパーセント記号が続きます。したがって、100％の類似インデックス値は2つの等しいファイルを表し、100％の非類似性は古いファイルから新しいファイルに移行された行がないことを意味します。</p></div>
<div class="paragraph"><p>インデックス行には、変更前後のブロブオブジェクト名が含まれます。 &lt;mode&gt; は、ファイルモードが変更されない場合に含まれます。それ以外の場合、別々の行は古いモードと新しいモードを示します。</p></div>
</li>
<li>
<p>
通常の文字でないキャラクタ(\"unusual\" characters)を含むパス名は、構成変数 <code>core.quotePath</code> で説明されているように引用符で囲まれています( <a href="git-config.html">git-config(1)</a>参照)。
</p>
</li>
<li>
<p>
出力内のすべての <code>file1</code> ファイルはコミット前のファイルを参照し、すべての <code>file2</code> ファイルはコミット後のファイルを参照します。各変更を各ファイルに順番に適用するのは誤りです。たとえば、以下のパッチはaとbを交換します:
</p>
<div class="literalblock">
<div class="content">
<pre><code>diff --git a/a b/b
rename from a
rename to b
diff --git a/b b/a
rename from b
rename to a</code></pre>
</div></div>
</li>
<li>
<p>
ハンクのヘッダーには、ハンクが適用される関数の名前が記載されています。特定の言語に合わせてこれを調整する方法の詳細については、 <a href="gitattributes.html">gitattributes(5)</a> の "Defining a custom hunk-header" を参照してください。
</p>
</li>
</ol></div>
</div>
</div>
<div class="sect1">
<h2 id="_combined_diff_format">Combined diff format</h2>
<div class="sectionbody">
<div class="paragraph"><p>diffを生成するコマンドは、マージを表示するときに <code>-c</code> または <code>--cc</code> オプションを使用して「合成diff」(combined diff)を生成できます。これは <a href="git-diff.html">git-diff(1)</a> または <a href="git-show.html">git-show(1)</a> でのマージを表示するときのデフォルトの形式です。 注意: これらのコマンドのいずれかに適切な <code>--diff-merges</code> オプションを指定して、特定の形式で差分を強制的に生成できることにも注意してください。</p></div>
<div class="paragraph"><p>合成diff形式は以下のようになります:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>diff --combined describe.c
index fabadb8,cc95eb0..4866510
--- a/describe.c
+++ b/describe.c
@@@ -98,20 -98,12 +98,20 @@@
        return (a_date &gt; b_date) ? -1 : (a_date == b_date) ? 0 : 1;
  }

- static void describe(char *arg)
 -static void describe(struct commit *cmit, int last_one)
++static void describe(char *arg, int last_one)
  {
 +      unsigned char sha1[20];
 +      struct commit *cmit;
        struct commit_list *list;
        static int initialized = 0;
        struct commit_name *n;

 +      if (get_sha1(arg, sha1) &lt; 0)
 +              usage(describe_usage);
 +      cmit = lookup_commit_reference(sha1);
 +      if (!cmit)
 +              usage(describe_usage);
 +
        if (!initialized) {
                initialized = 1;
                for_each_ref(get_name);</code></pre>
</div></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
まず "git diff" ヘッダーがあり、以下のようになります( <code>-c</code> オプションが使用されている場合):
</p>
<div class="literalblock">
<div class="content">
<pre><code>diff --combined file</code></pre>
</div></div>
<div class="paragraph"><p>または、以下のようになります( <code>--cc</code> オプションが使用されている場合):</p></div>
<div class="literalblock">
<div class="content">
<pre><code>diff --cc file</code></pre>
</div></div>
</li>
<li>
<p>
その後に1つ以上の拡張ヘッダー行が続きます(以下の例は、2つの親とのマージを示しています):
</p>
<div class="literalblock">
<div class="content">
<pre><code>index &lt;hash&gt;,&lt;hash&gt;..&lt;hash&gt;
mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;
new file mode &lt;mode&gt;
deleted file mode &lt;mode&gt;,&lt;mode&gt;</code></pre>
</div></div>
<div class="paragraph"><p><code>mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;</code> 行は、&lt;mode&gt; の少なくとも1つが他の &lt;mode&gt; と異なる場合にのみ表示されます。検出されたコンテンツの移動(名前の変更とコピーの検出)に関する情報を含む拡張ヘッダーは、2つの &lt;tree-ish&gt; のdiffで機能するように設計されており、合成diff形式では使用されません。</p></div>
</li>
<li>
<p>
その後に2行の from-file/to-file ヘッダーが続きます
</p>
<div class="literalblock">
<div class="content">
<pre><code>--- a/file
+++ b/file</code></pre>
</div></div>
<div class="paragraph"><p>従来の統一diff形式の2行ヘッダーと同様に、 <code>/dev/null</code> は、作成または削除されたファイルを通知するために使用されます。</p></div>
<div class="paragraph"><p>ただし、 --combined-all-paths オプションが指定されている場合、2行の from-file/to-file の代わりに、 N+1 行の from-file/to-file ヘッダーが取得されます。ここで、 N はマージコミットの親の数です。</p></div>
<div class="literalblock">
<div class="content">
<pre><code>--- a/file
--- a/file
--- a/file
+++ b/file</code></pre>
</div></div>
<div class="paragraph"><p>この拡張形式は、名前変更またはコピー検出がアクティブな場合に役立ち、別の親のファイルの元の名前を確認できます。</p></div>
</li>
<li>
<p>
チャンクヘッダーの形式が変更され、誤って <code>patch-p1</code> にフィードされるのを防ぎます。合成差分形式は、マージコミットの変更を確認するために作成されたものであり、適用されることを意図したものではありません。この変更は、拡張された「インデックス」ヘッダーの変更に似ています:
</p>
<div class="literalblock">
<div class="content">
<pre><code>@@@ &lt;from-file-range&gt; &lt;from-file-range&gt; &lt;to-file-range&gt; @@@</code></pre>
</div></div>
<div class="paragraph"><p>合成diff形式のチャンクヘッダーには親の数+1の <code>@</code> 文字があります。</p></div>
</li>
</ol></div>
<div class="paragraph"><p>従来の統一diff形式とは異なり、2つのファイルAとBが、 <code>-</code> (マイナスはAに表示されますが、Bでは削除されます) または <code>+</code> (プラスはAにはありませんが、Bには追加されます)、または <code>" "</code>（スペースは変更なし) プレフィックスを持つ単一の列で表示される場合、この形式は2つ以上のファイル file1, file2,&#8230; を1つのファイルXと比較し、Xが各 fileN とどのように異なるかを示します。ファイルNごとに1つの列が出力行の前に追加され、Xの行が出力行とどのように異なるかを示します。</p></div>
<div class="paragraph"><p>列Nの <code>-</code> 文字は、その行が fileN に表示されているが、結果には表示されていないことを意味します。 列Nの <code>+</code> 文字は、結果に行が表示され、 fileN にその行がないことを意味します(つまり、その親の観点から見て行が追加されたことを示す)。</p></div>
<div class="paragraph"><p>上記の出力例では、関数のシグネチャが両方のファイルから見て変更されています(したがって、 file1 と file2 の両方から2つの <code>-</code> が削除され、さらに <code>++</code> が追加されたため、 file1 と file2 のどちらにも表示されません)。また、他の8行は file1 と同じですが、 file2 には表示されません(したがって、接頭辞として <code>+</code> が付けられます)。</p></div>
<div class="paragraph"><p><code>git diff-tree -c</code> で表示される場合、マージコミットの親をマージ結果と比較します(つまり、 file1..fileN が親です)。 <code>git diff-files -c</code> で表示される場合、2つの未解決のマージ親を作業ツリーファイルと比較します(つまり、 file1 はステージ2、別名「私たちのバージョン」、 file2 はステージ3、別名「彼らのバージョン」です)。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_other_diff_formats">other diff formats</h2>
<div class="sectionbody">
<div class="paragraph"><p><code>--summary</code> オプションは、新しく追加、削除、名前変更、およびコピーされたファイルを説明します。<code>--stat</code> オプションは、 diffstat(1) グラフ を出力に追加します。これらのオプションは、 <code>-p</code> などの他のオプションと組み合わせることができ、人間が読むことを目的としています。</p></div>
<div class="paragraph"><p>名前の変更またはコピーを伴う変更を表示する場合、 <code>--stat</code> 出力は、パス名の共通のプレフィックスとサフィックスを組み合わせることにより、パス名をコンパクトにフォーマットします。 たとえば、4行を変更(modify)しながら <code>arch/i386/Makefile</code> を <code>arch/x86/Makefile</code> に移動(move)する変更(change)は、次のように表示されます:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>arch/{i386 =&gt; x86}/Makefile    |   4 +--</code></pre>
</div></div>
<div class="paragraph"><p><code>--numstat</code> オプションは diffstat(1) 情報を提供しますが、人間ではなくソフトウェアで読むのを容易にするように設計されています。 <code>--numstat</code> 出力のエントリは以下のようになります:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>1       2       README
3       1       arch/{i386 =&gt; x86}/Makefile</code></pre>
</div></div>
<div class="paragraph"><p>この形式は、左から右へ:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
追加行数
</p>
</li>
<li>
<p>
タブ
</p>
</li>
<li>
<p>
削除行数
</p>
</li>
<li>
<p>
タブ
</p>
</li>
<li>
<p>
パス名(おそらく rename/copy 情報を含む)
</p>
</li>
<li>
<p>
改行
</p>
</li>
</ol></div>
<div class="paragraph"><p><code>-z</code> 出力オプションが有効な場合、出力は以下のようにフォーマットされます:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>1       2       README NUL
3       1       NUL arch/i386/Makefile NUL arch/x86/Makefile NUL</code></pre>
</div></div>
<div class="paragraph"><p>これは:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
追加行数
</p>
</li>
<li>
<p>
タブ
</p>
</li>
<li>
<p>
削除行数
</p>
</li>
<li>
<p>
タブ
</p>
</li>
<li>
<p>
NUL(rename/copy された場合のみ存在します)
</p>
</li>
<li>
<p>
プリイメージのパス名
</p>
</li>
<li>
<p>
NUL(rename/copy された場合のみ存在します)
</p>
</li>
<li>
<p>
ポストイメージのパス名(rename/copy された場合のみ存在します)
</p>
</li>
<li>
<p>
NUL
</p>
</li>
</ol></div>
<div class="paragraph"><p>名前が変更された場合のプリイメージパスの前の追加の <code>NUL</code> は、出力を読み取るスクリプトが、先読みせずに、読み取られている現在のレコードがシングルパスレコードであるか、名前変更/コピーレコードであるか、を判断できるようにするためです。追加および削除された行を読み取った後、 <code>NUL</code> まで読み取るとパス名が生成されますが、それが <code>NUL</code> の場合、レコードには2つのパスが表示されます。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_operating_modes">OPERATING MODES</h2>
<div class="sectionbody">
<div class="paragraph"><p>あなたはインデックスファイルを完全に信頼するか(<code>--cached</code> フラグを使用)、diffロジックにてstat状態と一致しないファイルを「仮変更」(tentatively changed)として表示するようにするかを選択できます。これらの操作はどちらも非常に便利です。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_cached_mode">CACHED MODE</h2>
<div class="sectionbody">
<div class="paragraph"><p><code>--cached</code> が指定されている場合、あなたは以下のように問うことができます:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>HEADと、現在のインデックスの内容(`git write-tree` を
使用して書き込むもの)との違いを見せてください</code></pre>
</div></div>
<div class="paragraph"><p>たとえば、あなたがあなたの作業ディレクトリで作業して、インデックス内のいくつかのファイルを更新し、コミットする準備ができました。あなたは何をコミットしようとしているかを正確に確認したいのですが、比較のために新しいツリーオブジェクトを作成する必要はありません。そのためには、あなたは以下のようにします。</p></div>
<div class="literalblock">
<div class="content">
<pre><code>git diff-index --cached HEAD</code></pre>
</div></div>
<div class="paragraph"><p>例: <code>commit.c</code> の名前を <code>git-commit.c</code> に変更し、それをインデックスファイルで有効にするために <code>update-index</code> を実行したとします。 インデックスファイルが私の作業ディレクトリと一致するため、 <code>git diff-files</code> は何も表示しません。 しかし、 <code>git diff-index</code> を実行すると以下のようになります:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>torvalds@ppc970:~/git&gt; git diff-index --cached HEAD
:100644 000000 4161aecc6700a2eb579e842af0b7f22b98443f74 0000000000000000000000000000000000000000 D    commit.c
:000000 100644 0000000000000000000000000000000000000000 4161aecc6700a2eb579e842af0b7f22b98443f74 A    git-commit.c</code></pre>
</div></div>
<div class="paragraph"><p>あなたは上記が名前変更(rename)であることが簡単にわかります。</p></div>
<div class="paragraph"><p>実際、 <code>git diff-index --cached</code> は、実際に <code>git write-tree</code> を実行して比較することと常に完全に同等です。実際に実行するのではなくて、自分がどういう状態にあるかを確認したいだけの場合には、こちらの方がはるかに優れています。</p></div>
<div class="paragraph"><p>したがって、 <code>git diff-index --cached</code> を実行することは、「コミット済みとしてすでにマークしたものと、前のツリーとの違い」を自問するときに実に役に立つのです。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_non_cached_mode">NON-CACHED MODE</h2>
<div class="sectionbody">
<div class="paragraph"><p>非キャッシュモードは別のアプローチを取り、 <code>git write-tree</code> + ` git diff-tree` でエミュレートできないという点で、2つのモードの中でより便利になる可能性があります。したがって、これがデフォルトのモードです。非キャッシュバージョンは以下のように問いかけます:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>HEADと現在チェックアウトされているツリーの違いを
表示 - インデックスの内容や最新でないファイル</code></pre>
</div></div>
<div class="paragraph"><p>これは明らかに非常に役立つ質問です。何をコミットできるかがわかるからです。 この場合も、出力は <em>git diff-tree -r</em> の出力と完全に一致しますが、更にひとひねりあります。</p></div>
<div class="paragraph"><p>そのひとひねりとは、一部のファイルがインデックスと一致しない場合、そのファイルには裏付けがないことです。これを示すために、魔法の「オールゼロ」sha1を使用します。 <code>kernel/sched.c</code> を編集したが、実際にはまだ <em>git update-index</em> を実行していないとしましょう。そうすると、新しい状態に関連付けられた「オブジェクト」はなく、以下のようになります:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>torvalds@ppc970:~/v2.6/linux&gt; git diff-index --abbrev HEAD
:100644 100644 7476bb5ba 000000000 M  kernel/sched.c</code></pre>
</div></div>
<div class="paragraph"><p>つまり、ツリーが変更され、 <code>kernel/sched.c</code> が最新ではなく、新しいものが含まれている可能性があることを示しています。オールゼロのsha1は、実際の差分を取得するには、オブジェクト間のdiffを行うのではなく、作業ディレクトリ内のオブジェクトを直接確認する必要があることを意味します。</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">このタイプの他のコマンドと同様に、 <code>git diff-index</code> は実際にはファイルの内容をまったく調べません。 つまり、 <code>kernel/sched.c</code> は実際には変更されておらず、触れた(touch)だけです。いずれの場合も、インデックスを同期させるには、 <code>gitu pdate-index</code> する必要があることに注意してください。</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">「has been updated」(更新されました)と「is still dirty in the working directory」(作業ディレクトリでまだダーティです)というファイルが混在している場合があります。「更新された」ファイルには有効なsha1が表示され、「インデックスと同期していない」ファイルには常に特別なすべてゼロのsha1が表示されるため、どのファイルがどの状態にあるかをいつでも確認できます。</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git">GIT</h2>
<div class="sectionbody">
<div class="paragraph"><p>Part of the <a href="git.html">git(1)</a> suite</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2023-07-18 11:05:28 JST
</div>
</div>
</body>
</html>

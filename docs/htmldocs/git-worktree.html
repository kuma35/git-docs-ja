<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 9.1.1" />
<title>git-worktree(1)</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overridden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="manpage">
<div id="header">
<h1>
git-worktree(1) Manual Page
</h1>
<h2>NAME</h2>
<div class="sectionbody">
<p>git-worktree -
   複数の作業ツリーを管理します
</p>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git worktree add</em> [-f] [--detach] [--checkout] [--lock [--reason &lt;string&gt;]] [-b &lt;new-branch&gt;] &lt;path&gt; [&lt;commit-ish&gt;]
<em>git worktree list</em> [-v | --porcelain [-z]]
<em>git worktree lock</em> [--reason &lt;string&gt;] &lt;worktree&gt;
<em>git worktree move</em> &lt;worktree&gt; &lt;new-path&gt;
<em>git worktree prune</em> [-n] [-v] [--expire &lt;expire&gt;]
<em>git worktree remove</em> [-f] &lt;worktree&gt;
<em>git worktree repair</em> [&lt;path&gt;&#8230;]
<em>git worktree unlock</em> &lt;worktree&gt;</pre>
<div class="attribution">
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph"><p>同一のリポジトリに接続されている複数の作業ツリーを管理します。</p></div>
<div class="paragraph"><p>A git repository can support multiple working trees, allowing you to check
out more than one branch at a time.  With <code>git worktree add</code> a new working
tree is associated with the repository, along with additional metadata that
differentiates that working tree from others in the same repository.  The
working tree, along with this metadata, is called a "worktree".</p></div>
<div class="paragraph"><p>This new worktree is called a "linked worktree" as opposed to the "main
worktree" prepared by <a href="git-init.html">git-init(1)</a> or <a href="git-clone.html">git-clone(1)</a>.  A
repository has one main worktree (if it&#8217;s not a bare repository) and zero or
more linked worktrees. When you are done with a linked worktree, remove it
with <code>git worktree remove</code>.</p></div>
<div class="paragraph"><p>In its simplest form, <code>git worktree add &lt;path&gt;</code> automatically creates a new
branch whose name is the final component of <code>&lt;path&gt;</code>, which is convenient if
you plan to work on a new topic. For instance, <code>git worktree add ../hotfix</code>
creates new branch <code>hotfix</code> and checks it out at path <code>../hotfix</code>. To
instead work on an existing branch in a new worktree, use <code>git worktree add
&lt;path&gt; &lt;branch&gt;</code>. On the other hand, if you just plan to make some
experimental changes or do testing without disturbing existing development,
it is often convenient to create a <em>throwaway</em> worktree not associated with
any branch. For instance, <code>git worktree add -d &lt;path&gt;</code> creates a new
worktree with a detached <code>HEAD</code> at the same commit as the current branch.</p></div>
<div class="paragraph"><p>If a working tree is deleted without using <code>git worktree remove</code>, then its
associated administrative files, which reside in the repository (see
"DETAILS" below), will eventually be removed automatically (see
<code>gc.worktreePruneExpire</code> in <a href="git-config.html">git-config(1)</a>), or you can run <code>git
worktree prune</code> in the main or any linked worktree to clean up any stale
administrative files.</p></div>
<div class="paragraph"><p>If the working tree for a linked worktree is stored on a portable device or
network share which is not always mounted, you can prevent its
administrative files from being pruned by issuing the <code>git worktree lock</code>
command, optionally specifying <code>--reason</code> to explain why the worktree is
locked.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_commands">COMMANDS</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
add &lt;path&gt; [&lt;commit-ish&gt;]
</dt>
<dd>
<p>
Create a worktree at <code>&lt;path&gt;</code> and checkout <code>&lt;commit-ish&gt;</code> into it. The new
worktree is linked to the current repository, sharing everything except
per-worktree files such as <code>HEAD</code>, <code>index</code>, etc. As a convenience,
<code>&lt;commit-ish&gt;</code> may be a bare "<code>-</code>", which is synonymous with <code>@{-1}</code>.
</p>
<div class="paragraph"><p>上記 <code>&lt;commit-ish&gt;</code> がブランチ名(以下 <code>&lt;branch&gt;</code> とします)で見つからず、 <code>-b</code> や <code>-B</code> や <code>--detach</code>
のいずれも使用されていないが、名前が一致する1つのリモート(以下 <code>&lt;remote&gt;</code> とします)には追跡ブランチが存在する場合、上記は以下と同等です:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ git worktree add --track -b &lt;branch&gt; &lt;path&gt; &lt;remote&gt;/&lt;branch&gt;</code></pre>
</div></div>
<div class="paragraph"><p>ブランチが複数のリモートに存在し、そのうちの1つが <code>checkout.defaultRemote</code> 設定変数によって名付けられた場合、
<code>&lt;branch&gt;</code> がすべてのリモートでユニークでなくても、曖昧さをなくすためにその1つを使用します。例えば、
<code>checkout.defaultRemote=origin</code> と設定すると、 <code>&lt;branch&gt;</code> があいまいで、かつ <code>origin</code>
リモートに存在する場合、常にそこからリモートブランチをチェックアウトすることができます。<a href="git-config.html">git-config(1)</a> にある
<code>checkout.defaultRemote</code> も参照してください。</p></div>
<div class="paragraph"><p>If <code>&lt;commit-ish&gt;</code> is omitted and neither <code>-b</code> nor <code>-B</code> nor <code>--detach</code> used,
then, as a convenience, the new worktree is associated with a branch (call
it <code>&lt;branch&gt;</code>) named after <code>$(basename &lt;path&gt;)</code>.  If <code>&lt;branch&gt;</code> doesn&#8217;t
exist, a new branch based on <code>HEAD</code> is automatically created as if <code>-b
&lt;branch&gt;</code> was given.  If <code>&lt;branch&gt;</code> does exist, it will be checked out in
the new worktree, if it&#8217;s not checked out anywhere else, otherwise the
command will refuse to create the worktree (unless <code>--force</code> is used).</p></div>
</dd>
<dt class="hdlist1">
list
</dt>
<dd>
<p>
List details of each worktree.  The main worktree is listed first, followed
by each of the linked worktrees.  The output details include whether the
worktree is bare, the revision currently checked out, the branch currently
checked out (or "detached HEAD" if none), "locked" if the worktree is
locked, "prunable" if the worktree can be pruned by the <code>prune</code> command.
</p>
</dd>
<dt class="hdlist1">
lock
</dt>
<dd>
<p>
If a worktree is on a portable device or network share which is not always
mounted, lock it to prevent its administrative files from being pruned
automatically. This also prevents it from being moved or deleted.
Optionally, specify a reason for the lock with <code>--reason</code>.
</p>
</dd>
<dt class="hdlist1">
move
</dt>
<dd>
<p>
Move a worktree to a new location. Note that the main worktree or linked
worktrees containing submodules cannot be moved with this command. (The <code>git
worktree repair</code> command, however, can reestablish the connection with
linked worktrees if you move the main worktree manually.)
</p>
</dd>
<dt class="hdlist1">
prune
</dt>
<dd>
<p>
Prune worktree information in <code>$GIT_DIR/worktrees</code>.
</p>
</dd>
<dt class="hdlist1">
remove
</dt>
<dd>
<p>
Remove a worktree. Only clean worktrees (no untracked files and no
modification in tracked files) can be removed. Unclean worktrees or ones
with submodules can be removed with <code>--force</code>. The main worktree cannot be
removed.
</p>
</dd>
<dt class="hdlist1">
repair [&lt;path&gt;&#8230;]
</dt>
<dd>
<p>
Repair worktree administrative files, if possible, if they have become
corrupted or outdated due to external factors.
</p>
<div class="paragraph"><p>For instance, if the main worktree (or bare repository) is moved, linked
worktrees will be unable to locate it. Running <code>repair</code> in the main worktree
will reestablish the connection from linked worktrees back to the main
worktree.</p></div>
<div class="paragraph"><p>Similarly, if the working tree for a linked worktree is moved without using
<code>git worktree move</code>, the main worktree (or bare repository) will be unable
to locate it. Running <code>repair</code> within the recently-moved worktree will
reestablish the connection. If multiple linked worktrees are moved, running
<code>repair</code> from any worktree with each tree&#8217;s new <code>&lt;path&gt;</code> as an argument,
will reestablish the connection to all the specified paths.</p></div>
<div class="paragraph"><p>If both the main worktree and linked worktrees have been moved manually,
then running <code>repair</code> in the main worktree and specifying the new <code>&lt;path&gt;</code>
of each linked worktree will reestablish all connections in both directions.</p></div>
</dd>
<dt class="hdlist1">
unlock
</dt>
<dd>
<p>
Unlock a worktree, allowing it to be pruned, moved or deleted.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_options">OPTIONS</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<code>-f</code>
</dt>
<dt class="hdlist1">
<code>--force</code>
</dt>
<dd>
<p>
        By default, <code>add</code> refuses to create a new worktree when <code>&lt;commit-ish&gt;</code> is a
        branch name and is already checked out by another worktree, or if <code>&lt;path&gt;</code>
        is already assigned to some worktree but is missing (for instance, if
        <code>&lt;path&gt;</code> was deleted manually). This option overrides these safeguards. To
        add a missing but locked worktree path, specify <code>--force</code> twice.
</p>
<div class="paragraph"><p><code>move</code> refuses to move a locked worktree unless <code>--force</code> is specified
twice. If the destination is already assigned to some other worktree but is
missing (for instance, if <code>&lt;new-path&gt;</code> was deleted manually), then <code>--force</code>
allows the move to proceed; use <code>--force</code> twice if the destination is
locked.</p></div>
<div class="paragraph"><p><code>remove</code> refuses to remove an unclean worktree unless <code>--force</code> is used.  To
remove a locked worktree, specify <code>--force</code> twice.</p></div>
</dd>
<dt class="hdlist1">
<code>-b &lt;new-branch&gt;</code>
</dt>
<dt class="hdlist1">
<code>-B &lt;new-branch&gt;</code>
</dt>
<dd>
<p>
        With <code>add</code>, create a new branch named <code>&lt;new-branch&gt;</code> starting at
        <code>&lt;commit-ish&gt;</code>, and check out <code>&lt;new-branch&gt;</code> into the new worktree.  If
        <code>&lt;commit-ish&gt;</code> is omitted, it defaults to <code>HEAD</code>.  By default, <code>-b</code> refuses
        to create a new branch if it already exists. <code>-B</code> overrides this safeguard,
        resetting <code>&lt;new-branch&gt;</code> to <code>&lt;commit-ish&gt;</code>.
</p>
</dd>
<dt class="hdlist1">
<code>-d</code>
</dt>
<dt class="hdlist1">
<code>--detach</code>
</dt>
<dd>
<p>
        With <code>add</code>, detach <code>HEAD</code> in the new worktree. See "DETACHED HEAD" in
        <a href="git-checkout.html">git-checkout(1)</a>.
</p>
</dd>
<dt class="hdlist1">
<code>--[no-]checkout</code>
</dt>
<dd>
<p>
        デフォルトでは、 <code>add</code> は <code>&lt;commit-ish&gt;</code> をチェックアウトしますが、 <code>--no-checkout</code>
        を使用して、スパースチェックアウト(suppress checkout)の構成などのカスタマイズを行うためにチェックアウトを抑制することができます。
        <a href="git-read-tree.html">git-read-tree(1)</a> の「Sparse checkout」を参照してください。
</p>
</dd>
<dt class="hdlist1">
<code>--[no-]guess-remote</code>
</dt>
<dd>
<p>
        <code>&lt;commit-ish&gt;</code> を伴わずに <code>worktree add &lt;path&gt;</code> を使用し、 <code>HEAD</code> から新しいブランチを作成する代わりに、
        <code>&lt;path&gt;</code>
        のベース名に一致する追跡ブランチが１つリモートにだけ存在する場合、新しいブランチをそのリモート追跡ブランチに基づいて作成し、そのリモート追跡ブランチを新しいブランチの「アップストリーム」としてマークします。
</p>
<div class="paragraph"><p>これは、 <code>worktree.guessRemote</code> 構成オプションを使用してデフォルトの動作として設定することもできます。</p></div>
</dd>
<dt class="hdlist1">
<code>--[no-]track</code>
</dt>
<dd>
<p>
        新しいブランチを作成するときに、 <code>&lt;commit-ish&gt;</code> がブランチである場合は、新しいブランチの「アップストリーム」としてマークします。
        <code>&lt;commit-ish&gt;</code> がリモート追跡ブランチの場合、これの振る舞いがデフォルトです。詳細については、
        <a href="git-branch.html">git-branch(1)</a>の <code>--track</code> を参照してください。
</p>
</dd>
<dt class="hdlist1">
<code>--lock</code>
</dt>
<dd>
<p>
        Keep the worktree locked after creation. This is the equivalent of <code>git
        worktree lock</code> after <code>git worktree add</code>, but without a race condition.
</p>
</dd>
<dt class="hdlist1">
<code>-n</code>
</dt>
<dt class="hdlist1">
<code>--dry-run</code>
</dt>
<dd>
<p>
        <code>prune</code> では、何も削除しないでください。何が削除されるかを報告するだけです。
</p>
</dd>
<dt class="hdlist1">
<code>--porcelain</code>
</dt>
<dd>
<p>
        With <code>list</code>, output in an easy-to-parse format for scripts.  This format
        will remain stable across Git versions and regardless of user
        configuration.  It is recommended to combine this with <code>-z</code>.  See below for
        details.
</p>
</dd>
<dt class="hdlist1">
<code>-z</code>
</dt>
<dd>
<p>
        Terminate each line with a NUL rather than a newline when <code>--porcelain</code> is
        specified with <code>list</code>. This makes it possible to parse the output when a
        worktree path contains a newline character.
</p>
</dd>
<dt class="hdlist1">
<code>-q</code>
</dt>
<dt class="hdlist1">
<code>--quiet</code>
</dt>
<dd>
<p>
        <code>add</code> を使用して、フィードバックメッセージを抑制します。
</p>
</dd>
<dt class="hdlist1">
<code>-v</code>
</dt>
<dt class="hdlist1">
<code>--verbose</code>
</dt>
<dd>
<p>
        <code>prune</code> を使用して、すべての削除を報告します。
</p>
<div class="paragraph"><p><code>list</code> を使用して、ワークツリーに関する追加情報を出力します(後述)。</p></div>
</dd>
<dt class="hdlist1">
<code>--expire &lt;time&gt;</code>
</dt>
<dd>
<p>
        With <code>prune</code>, only expire unused worktrees older than <code>&lt;time&gt;</code>.
</p>
<div class="paragraph"><p>With <code>list</code>, annotate missing worktrees as prunable if they are older than
<code>&lt;time&gt;</code>.</p></div>
</dd>
<dt class="hdlist1">
<code>--reason &lt;string&gt;</code>
</dt>
<dd>
<p>
        With <code>lock</code> or with <code>add --lock</code>, an explanation why the worktree is locked.
</p>
</dd>
<dt class="hdlist1">
&lt;worktree&gt;
</dt>
<dd>
<p>
        Worktrees can be identified by path, either relative or absolute.
</p>
<div class="paragraph"><p>If the last path components in the worktree&#8217;s path is unique among
worktrees, it can be used to identify a worktree. For example if you only
have two worktrees, at <code>/abc/def/ghi</code> and <code>/abc/def/ggg</code>, then <code>ghi</code> or
<code>def/ghi</code> is enough to point to the former worktree.</p></div>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_refs">REFS</h2>
<div class="sectionbody">
<div class="paragraph"><p>When using multiple worktrees, some refs are shared between all worktrees,
but others are specific to an individual worktree. One example is <code>HEAD</code>,
which is different for each worktree. This section is about the sharing
rules and how to access refs of one worktree from another.</p></div>
<div class="paragraph"><p>In general, all pseudo refs are per-worktree and all refs starting with
<code>refs/</code> are shared. Pseudo refs are ones like <code>HEAD</code> which are directly
under <code>$GIT_DIR</code> instead of inside <code>$GIT_DIR/refs</code>. There are exceptions,
however: refs inside <code>refs/bisect</code> and <code>refs/worktree</code> are not shared.</p></div>
<div class="paragraph"><p>Refs that are per-worktree can still be accessed from another worktree via
two special paths, <code>main-worktree</code> and <code>worktrees</code>. The former gives access
to per-worktree refs of the main worktree, while the latter to all linked
worktrees.</p></div>
<div class="paragraph"><p>For example, <code>main-worktree/HEAD</code> or <code>main-worktree/refs/bisect/good</code>
resolve to the same value as the main worktree&#8217;s <code>HEAD</code> and
<code>refs/bisect/good</code> respectively. Similarly, <code>worktrees/foo/HEAD</code> or
<code>worktrees/bar/refs/bisect/bad</code> are the same as
<code>$GIT_COMMON_DIR/worktrees/foo/HEAD</code> and
<code>$GIT_COMMON_DIR/worktrees/bar/refs/bisect/bad</code>.</p></div>
<div class="paragraph"><p>refにアクセスするのに <code>$GIT_DIR</code> の内部を直接調べないことをお勧めします。代わりに、refを正しく処理する
<a href="git-rev-parse.html">git-rev-parse(1)</a> や <a href="git-update-ref.html">git-update-ref(1)</a> などのコマンドを使用してください。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration_file">CONFIGURATION FILE</h2>
<div class="sectionbody">
<div class="paragraph"><p>By default, the repository <code>config</code> file is shared across all worktrees.  If
the config variables <code>core.bare</code> or <code>core.worktree</code> are present in the
common config file and <code>extensions.worktreeConfig</code> is disabled, then they
will be applied to the main worktree only.</p></div>
<div class="paragraph"><p>In order to have worktree-specific configuration, you can turn on the
<code>worktreeConfig</code> extension, e.g.:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ git config extensions.worktreeConfig true</code></pre>
</div></div>
<div class="paragraph"><p>このモードでは、指定の構成は <code>git rev-parse --git-path config.worktree</code> が指すパスに残ります。 <code>git
config --worktree</code>
を使用して、このファイルの構成を追加または更新できます。古いバージョンのGitは、この拡張機能を備えたリポジトリへのアクセスを拒否します。</p></div>
<div class="paragraph"><p>Note that in this file, the exception for <code>core.bare</code> and <code>core.worktree</code> is
gone. If they exist in <code>$GIT_DIR/config</code>, you must move them to the
<code>config.worktree</code> of the main worktree. You may also take this opportunity
to review and move other configuration that you do not want to share to all
worktrees:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>core.worktree</code> should never be shared.
</p>
</li>
<li>
<p>
<code>core.bare</code> should not be shared if the value is <code>core.bare=true</code>.
</p>
</li>
<li>
<p>
<code>core.sparseCheckout</code> should not be shared, unless you are sure you always
   use sparse checkout for all worktrees.
</p>
</li>
</ul></div>
<div class="paragraph"><p>See the documentation of <code>extensions.worktreeConfig</code> in
<a href="git-config.html">git-config(1)</a> for more details.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_details">DETAILS</h2>
<div class="sectionbody">
<div class="paragraph"><p>Each linked worktree has a private sub-directory in the repository&#8217;s
<code>$GIT_DIR/worktrees</code> directory.  The private sub-directory&#8217;s name is usually
the base name of the linked worktree&#8217;s path, possibly appended with a number
to make it unique.  For example, when <code>$GIT_DIR=/path/main/.git</code> the command
<code>git worktree add /path/other/test-next next</code> creates the linked worktree in
<code>/path/other/test-next</code> and also creates a <code>$GIT_DIR/worktrees/test-next</code>
directory (or <code>$GIT_DIR/worktrees/test-next1</code> if <code>test-next</code> is already
taken).</p></div>
<div class="paragraph"><p>Within a linked worktree, <code>$GIT_DIR</code> is set to point to this private
directory (e.g. <code>/path/main/.git/worktrees/test-next</code> in the example) and
<code>$GIT_COMMON_DIR</code> is set to point back to the main worktree&#8217;s <code>$GIT_DIR</code>
(e.g. <code>/path/main/.git</code>). These settings are made in a <code>.git</code> file located
at the top directory of the linked worktree.</p></div>
<div class="paragraph"><p>Path resolution via <code>git rev-parse --git-path</code> uses either <code>$GIT_DIR</code> or
<code>$GIT_COMMON_DIR</code> depending on the path. For example, in the linked worktree
<code>git rev-parse --git-path HEAD</code> returns
<code>/path/main/.git/worktrees/test-next/HEAD</code> (not
<code>/path/other/test-next/.git/HEAD</code> or <code>/path/main/.git/HEAD</code>) while <code>git
rev-parse --git-path refs/heads/master</code> uses <code>$GIT_COMMON_DIR</code> and returns
<code>/path/main/.git/refs/heads/master</code>, since refs are shared across all
worktrees, except <code>refs/bisect</code> and <code>refs/worktree</code>.</p></div>
<div class="paragraph"><p>詳細については、 <a href="gitrepository-layout.html">gitrepository-layout(5)</a> を参照してください。 経験則では、 <code>$GIT_DIR</code>
内の何かに直接アクセスする必要がある場合、パスが <code>$GIT_DIR</code> または <code>$GIT_COMMON_DIR</code>
のどちらに属するかについては何も想定していません。 <code>git rev-parse --git-path</code> を使用して、最終的なパスを取得してください。</p></div>
<div class="paragraph"><p>If you manually move a linked worktree, you need to update the <code>gitdir</code> file
in the entry&#8217;s directory. For example, if a linked worktree is moved to
<code>/newpath/test-next</code> and its <code>.git</code> file points to
<code>/path/main/.git/worktrees/test-next</code>, then update
<code>/path/main/.git/worktrees/test-next/gitdir</code> to reference
<code>/newpath/test-next</code> instead. Better yet, run <code>git worktree repair</code> to
reestablish the connection automatically.</p></div>
<div class="paragraph"><p>To prevent a <code>$GIT_DIR/worktrees</code> entry from being pruned (which can be
useful in some situations, such as when the entry&#8217;s worktree is stored on a
portable device), use the <code>git worktree lock</code> command, which adds a file
named <code>locked</code> to the entry&#8217;s directory. The file contains the reason in
plain text. For example, if a linked worktree&#8217;s <code>.git</code> file points to
<code>/path/main/.git/worktrees/test-next</code> then a file named
<code>/path/main/.git/worktrees/test-next/locked</code> will prevent the <code>test-next</code>
entry from being pruned.  See <a href="gitrepository-layout.html">gitrepository-layout(5)</a> for details.</p></div>
<div class="paragraph"><p><code>extensions.worktreeConfig</code> が有効になっている場合、設定ファイル
<code>.git/worktrees/&lt;id&gt;/config.worktree</code> は <code>.git/config</code> の後に読み込まれます。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_list_output_format">LIST OUTPUT FORMAT</h2>
<div class="sectionbody">
<div class="paragraph"><p><code>worktreelist</code> コマンドには2つの出力形式があります。デフォルトの形式では、詳細が1行に複数列で表示されます。例えば:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ git worktree list
/path/to/bare-source            (bare)
/path/to/linked-worktree        abcd1234 [master]
/path/to/other-linked-worktree  1234abc  (detached HEAD)</code></pre>
</div></div>
<div class="paragraph"><p>The command also shows annotations for each worktree, according to its
state.  These annotations are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>locked</code>, if the worktree is locked.
</p>
</li>
<li>
<p>
<code>prunable</code>, if the worktree can be pruned via <code>git worktree prune</code>.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>$ git worktree list
/path/to/linked-worktree    abcd1234 [master]
/path/to/locked-worktree    acbd5678 (brancha) locked
/path/to/prunable-worktree  5678abc  (detached HEAD) prunable</code></pre>
</div></div>
<div class="paragraph"><p>これらの注釈(annotations)については、理由(reason)も利用できる可能性があり、これは冗長モード(verbose
mode)を使用して確認できます。そして、注釈はインデントされた次の行に移動され、その後に追加情報が続きます。</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ git worktree list --verbose
/path/to/linked-worktree              abcd1234 [master]
/path/to/locked-worktree-no-reason    abcd5678 (detached HEAD) locked
/path/to/locked-worktree-with-reason  1234abcd (brancha)
        locked: worktree path is mounted on a portable device
/path/to/prunable-worktree            5678abc1 (detached HEAD)
        prunable: gitdir file points to non-existent location</code></pre>
</div></div>
<div class="paragraph"><p>Note that the annotation is moved to the next line if the additional
information is available, otherwise it stays on the same line as the
worktree itself.</p></div>
<div class="sect2">
<h3 id="_porcelain_format">Porcelain Format</h3>
<div class="paragraph"><p>The porcelain format has a line per attribute.  If <code>-z</code> is given then the
lines are terminated with NUL rather than a newline.  Attributes are listed
with a label and value separated by a single space.  Boolean attributes
(like <code>bare</code> and <code>detached</code>) are listed as a label only, and are present
only if the value is true.  Some attributes (like <code>locked</code>) can be listed as
a label only or with a value depending upon whether a reason is available.
The first attribute of a worktree is always <code>worktree</code>, an empty line
indicates the end of the record.  For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ git worktree list --porcelain
worktree /path/to/bare-source
bare

worktree /path/to/linked-worktree
HEAD abcd1234abcd1234abcd1234abcd1234abcd1234
branch refs/heads/master

worktree /path/to/other-linked-worktree
HEAD 1234abc1234abc1234abc1234abc1234abc1234a
detached

worktree /path/to/linked-worktree-locked-no-reason
HEAD 5678abc5678abc5678abc5678abc5678abc5678c
branch refs/heads/locked-no-reason
locked

worktree /path/to/linked-worktree-locked-with-reason
HEAD 3456def3456def3456def3456def3456def3456b
branch refs/heads/locked-with-reason
locked reason why is locked

worktree /path/to/linked-worktree-prunable
HEAD 1233def1234def1234def1234def1234def1234b
detached
prunable gitdir file points to non-existent location</code></pre>
</div></div>
<div class="paragraph"><p>Unless <code>-z</code> is used any "unusual" characters in the lock reason such as
newlines are escaped and the entire reason is quoted as explained for the
configuration variable <code>core.quotePath</code> (see <a href="git-config.html">git-config(1)</a>).  For
Example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ git worktree list --porcelain
...
locked "reason\nwhy is locked"
...</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples">EXAMPLES</h2>
<div class="sectionbody">
<div class="paragraph"><p>You are in the middle of a refactoring session and your boss comes in and
demands that you fix something immediately. You might typically use
<a href="git-stash.html">git-stash(1)</a> to store your changes away temporarily, however, your
working tree is in such a state of disarray (with new, moved, and removed
files, and other bits and pieces strewn around) that you don&#8217;t want to risk
disturbing any of it. Instead, you create a temporary linked worktree to
make the emergency fix, remove it when done, and then resume your earlier
refactoring session.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ git worktree add -b emergency-fix ../temp master
$ pushd ../temp
# ... hack hack hack ...
$ git commit -a -m 'emergency fix for boss'
$ popd
$ git worktree remove ../temp</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_bugs">BUGS</h2>
<div class="sectionbody">
<div class="paragraph"><p>一般的な複数チェックアウト(multiple
checkout)はまだ実験段階であり、サブモジュールのサポートは不完全です。スーパープロジェクトを複数チェックアウトすることはお勧めしません。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_git">GIT</h2>
<div class="sectionbody">
<div class="paragraph"><p>Part of the <a href="git.html">git(1)</a> suite</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2022-09-25 22:03:33 JST
</div>
</div>
</body>
</html>

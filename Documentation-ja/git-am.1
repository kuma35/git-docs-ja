'\" t
.\"     Title: git-am
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
.\"      Date: 12/10/2022
.\"    Manual: Git Manual
.\"    Source: Git 2.38.0.rc1.238.g4f4d434dc6.dirty
.\"  Language: English
.\"
.TH "GIT\-AM" "1" "12/10/2022" "Git 2\&.38\&.0\&.rc1\&.238\&.g" "Git Manual"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
git-am \- メールボックスから一連のパッチを適用します
.SH "SYNOPSIS"
.sp
.nf
\fIgit am\fR [\-\-signoff] [\-\-keep] [\-\-[no\-]keep\-cr] [\-\-[no\-]utf8]
         [\-\-[no\-]3way] [\-\-interactive] [\-\-committer\-date\-is\-author\-date]
         [\-\-ignore\-date] [\-\-ignore\-space\-change | \-\-ignore\-whitespace]
         [\-\-whitespace=<option>] [\-C<n>] [\-p<n>] [\-\-directory=<dir>]
         [\-\-exclude=<path>] [\-\-include=<path>] [\-\-reject] [\-q | \-\-quiet]
         [\-\-[no\-]scissors] [\-S[<keyid>]] [\-\-patch\-format=<format>]
         [\-\-quoted\-cr=<action>]
         [\-\-empty=(stop|drop|keep)]
         [(<mbox> | <Maildir>)\&...]
\fIgit am\fR (\-\-continue | \-\-skip | \-\-abort | \-\-quit | \-\-show\-current\-patch[=(diff|raw)] | \-\-allow\-empty)
.fi
.sp
.SH "DESCRIPTION"
.sp
メールボックス内のメールメッセージを、コミットログメッセージと作者情報とパッチに分割し、それらを現在のブランチに適用します。
.SH "OPTIONS"
.PP
(<mbox>|<Maildir>)\&...
.RS 4
パッチを読み取るメールボックスファイルのリスト。 この引数を指定しない場合、コマンドは標準入力から読み取ります。 ディレクトリを指定すると、それらはMaildirとして扱われます。
.RE
.PP
\fB\-s\fR, \fB\-\-signoff\fR
.RS 4
自分のコミッターIDを使用して、コミットメッセージに
\fBSigned\-off\-by\fR
トレーラーを追加します。 詳細については、
\fBgit-commit\fR(1)
のsignoffオプションを参照してください。
.RE
.PP
\fB\-k\fR, \fB\-\-keep\fR
.RS 4
\fB\-k\fR
フラグを
\fBgit mailinfo\fR
に渡します(\fBgit-mailinfo\fR(1)
参照)。
.RE
.PP
\fB\-\-keep\-non\-patch\fR
.RS 4
\fB\-b\fR
フラグを
\fBgit mailinfo\fR
に渡します(\fBgit-mailinfo\fR(1)
参照)。
.RE
.PP
\fB\-\-[no\-]keep\-cr\fR
.RS 4
\fB\-\-keep\-cr\fR
を使用して、同じオプションで
\fBgit mailsplit\fR
(\fBgit-mailsplit\fR(1)
参照)を呼び出し、行末のCRが削除されないようにします。
\fBam\&.keepcr\fR
構成変数を使用して、デフォルトの動作を指定できます。
\fB\-\-no\-keep\-cr\fR
は、
\fBam\&.keepcr\fR
をオーバーライドするのに役立ちます。
.RE
.PP
\fB\-c\fR, \fB\-\-scissors\fR
.RS 4
切り取り線行の前にある本体のすべてを削除します(\fBgit-mailinfo\fR(1)
参照)。
\fBmailinfo\&.scissors\fR
構成変数を使用してデフォルトでアクティブ化できます。
.RE
.PP
\fB\-\-no\-scissors\fR
.RS 4
切り取り線を無視します(\fBgit-mailinfo\fR(1)
参照)。
.RE
.PP
\fB\-\-quoted\-cr=<action>\fR
.RS 4
このフラグは
\fBgit mailinfo\fR
に渡されます(\fBgit-mailinfo\fR(1)
参照)。
.RE
.PP
\fB\-\-empty=(stop|drop|keep)\fR
.RS 4
デフォルト、またはオプションが
\fBstop\fR
に設定されている場合、パッチの欠落した入力の電子メール・メッセージでコマンドがエラーになり、現在の am セッションの途中で停止(stop)します。 このオプションが
\fBdrop\fR
に設定されている場合、代わりにそのような電子メール・メッセージをスキップします。 このオプションが
\fBkeep\fR
に設定されている場合、空のコミットを作成し、電子メール・メッセージの内容をログとして記録します。
.RE
.PP
\fB\-m\fR, \fB\-\-message\-id\fR
.RS 4
\fB\-m\fR
フラグを
\fBgit mailinfo\fR
(\fBgit-mailinfo\fR(1)
参照)に渡して、Message\-IDヘッダーがコミットメッセージに追加されるようにします。
\fBam\&.messageid\fR
構成変数を使用して、デフォルトの動作を指定できます。
.RE
.PP
\fB\-\-no\-message\-id\fR
.RS 4
コミットメッセージにMessage\-IDヘッダーを追加しないでください。
\fBno\-message\-id\fR
は、
\fBam\&.messageid\fR
を上書きするのに役立ちます。
.RE
.PP
\fB\-q\fR, \fB\-\-quiet\fR
.RS 4
静かにします。エラーメッセージのみ出力します。
.RE
.PP
\fB\-u\fR, \fB\-\-utf8\fR
.RS 4
\fB\-u\fR
フラグを
\fBgit mailinfo\fR
に渡します（linkgit：git\-mailinfo [1]を参照）。 電子メールから取得された、提案されたコミットログメッセージは、UTF\-8エンコーディングに再コーディングされます(UTF\-8でない場合は、構成変数
\fBi18n\&.commitEncoding\fR
を使用して、プロジェクトの優先エンコーディングを指定できます)。
.sp
これは以前のバージョンのgitではオプションでしたが、現在はデフォルトです。
\fB\-\-no\-utf8\fR
を使用してこれをオーバーライドできます。
.RE
.PP
\fB\-\-no\-utf8\fR
.RS 4
\fB\-n\fR
フラグを
\fBgit mailinfo\fR
に渡します(\fBgit-mailinfo\fR(1)
参照)。
.RE
.PP
\fB\-3\fR, \fB\-\-3way\fR, \fB\-\-no\-3way\fR
.RS 4
パッチが適切に適用されない場合、パッチが適用されるはずのブロブのIDを記録し、それらのブロブがローカルで使用できる場合は、3方向マージにフォールバックします。
\fB\-\-no\-3way\fR
を使用して、 am\&.threeWay構成変数をオーバーライドできます。 詳細については、
\fBgit-config\fR(1)
のam\&.threeWayを参照してください。
.RE
.PP
\fB\-\-rerere\-autoupdate\fR, \fB\-\-no\-rerere\-autoupdate\fR
.RS 4
rerere メカニズムが現在の競合で記録された解決を再利用して作業ツリー内のファイルを更新した後、解決の結果でインデックスも更新できるようにします。
\fB\-\-no\-rerere\-autoupdate\fR
は、別の
\fBgit add\fR
で結果をインデックスにコミットする前に、「rerere」が行ったことを再確認し、潜在的な間違いマージ(mismerges)を捉える良い方法です。
.RE
.PP
\fB\-\-ignore\-space\-change\fR, \fB\-\-ignore\-whitespace\fR, \fB\-\-whitespace=<option>\fR, \fB\-C<n>\fR, \fB\-p<n>\fR, \fB\-\-directory=<dir>\fR, \fB\-\-exclude=<path>\fR, \fB\-\-include=<path>\fR, \fB\-\-reject\fR
.RS 4
これらのフラグは、パッチを適用する
\fBgit apply\fR
(\fBgit-apply\fR(1)
参照)プログラムに渡されます。
.RE
.PP
\fB\-\-patch\-format\fR
.RS 4
デフォルトでは、コマンドはパッチ形式を自動的に検出しようとします。 このオプションを使用すると、ユーザーは自動検出をバイパスして、パッチを解釈するパッチ形式を指定できます。 有効な形式は、mbox、mboxrd、stgit、stgit\-series、hg です。
.RE
.PP
\fB\-i\fR, \fB\-\-interactive\fR
.RS 4
対話的に実行します。
.RE
.PP
\fB\-\-committer\-date\-is\-author\-date\fR
.RS 4
デフォルトでは、コマンドは電子メールメッセージの日付をコミット作者の日付として記録し、コミットの作成時刻をコミッターの日付として使用します。 これにより、ユーザーは作者の日付と同じ値を使用して、コミッターの日付について嘘をつくことができます。
.RE
.PP
\fB\-\-ignore\-date\fR
.RS 4
デフォルトでは、コマンドは電子メールメッセージの日付をコミット作者の日付として記録し、コミットの作成時刻をコミッターの日付として使用します。 これにより、ユーザーはコミッターの日付と同じ値を使用して、作者の日付について嘘をつくことができます。
.RE
.PP
\fB\-\-skip\fR
.RS 4
現在のパッチをスキップします。 これは、中止(abort)されたパッチを再スタートする場合にのみ意味があります。
.RE
.PP
\fB\-S[<keyid>]\fR, \fB\-\-gpg\-sign[=<keyid>]\fR, \fB\-\-no\-gpg\-sign\fR
.RS 4
GPG署名コミット。
\fBkeyid\fR
引数はオプションであり、デフォルトでコミッターIDになります。 指定する場合は、スペースなしでオプションに固定する必要があります。
\fB\-\-no\-gpg\-sign\fR
は、
\fBcommit\&.gpgSign\fR
構成変数と以前の
\fB\-\-gpg\-sign\fR
の両方を打ち消すのに役立ちます。
.RE
.PP
\fB\-\-continue\fR, \fB\-r\fR, \fB\-\-resolved\fR
.RS 4
パッチが失敗した後(たとえば、競合するパッチを適用しようとした場合)、ユーザーはそれを手動で適用し、インデックスファイルに適用の結果が保存されます。 電子メールメッセージと現在のインデックスファイルから抽出された作者とコミットログを使用してコミットし、続行します。
.RE
.PP
\fB\-\-resolvemsg=<msg>\fR
.RS 4
パッチ障害が発生すると、終了する前に<msg>が画面に出力されます。 これは、失敗を処理するために
\fB\-\-continue\fR
または
\fB\-\-skip\fR
を使用するように通知する標準メッセージをオーバーライドします。 これは、
\fBgit rebase\fR
と
\fBgit am\fR
の間の内部使用のみを目的としています。
.RE
.PP
\fB\-\-abort\fR
.RS 4
元のブランチを復元(restore)し、パッチ操作を中止(abort)します。 am操作に関係するファイルの内容をam前の状態(pre\-am state)に戻します(revert)。
.RE
.PP
\fB\-\-quit\fR
.RS 4
パッチ適用操作を中止しますが、HEADとインデックスはそのままにしておきます。
.RE
.PP
\fB\-\-show\-current\-patch[=(diff|raw)]\fR
.RS 4
競合が原因で
\fBgit am\fR
が停止(stop)したメッセージを表示します。
\fBraw\fR
が指定されている場合、電子メールメッセージの生の内容を表示します。
\fBdiff\fR
の場合、diff部分のみを表示します。 デフォルトは
\fBraw\fR
です。
.RE
.PP
\fB\-\-allow\-empty\fR
.RS 4
パッチが欠落している入力の電子メール・メッセージでパッチが失敗した後、ログ・メッセージとして電子メール・メッセージの内容を含む空のコミットを作成します。
.RE
.SH "DISCUSSION"
.sp
コミット作者名はメッセージの "From: " から取得され、コミット作者日付はメッセージの "Date: " 行から取得されます。 "Subject: " 行は、共通のプレフィックス \fB[PATCH <anything>]\fR を削除した後、コミットのタイトルとして使用されます。 "Subject: " 行は、コミットが何であるかを1行のテキストで簡潔に説明することになっています。
.sp
"From: " や "Date: " や "Subject: " の行で始まる本文は、ヘッダーから取得されたそれぞれのコミット作者名とタイトルの値をオーバーライドします。
.sp
コミットメッセージは、 "Subject: " から取得したタイトルと空行とパッチが開始されるところまでのメッセージの本文によって形成されます。 各行の終わりにある余分な空白(whitespace)は自動的に削除されます。
.sp
パッチは、メッセージの直後にインラインであることが期待されます。 以下の形式の行:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
3つのダッシュ(\fB\-\-\-\fR)と行終端(end\-of\-line)、または
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
"diff \-" で始まる行、または
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
"Index: " で始まる行
.RE
.sp
これらはパッチの開始と見なされ、そのような行が最初に出現する前でコミットログメッセージが終了します。
.sp
最初に \fBgit am\fR を呼び出すときに、処理するメールボックスの名前を指定します。 適用されない最初のパッチを確認すると、途中で中止(abort)されます。 これからは、以下の2つの方法のいずれかで回復(recover)できます:
.sp
.RS 4
.ie n \{\
\h'-04' 1.\h'+01'\c
.\}
.el \{\
.sp -1
.IP "  1." 4.2
.\}
\fB\-\-skip\fR
オプションを指定してコマンドを再実行し、現在のパッチをスキップします。
.RE
.sp
.RS 4
.ie n \{\
\h'-04' 2.\h'+01'\c
.\}
.el \{\
.sp -1
.IP "  2." 4.2
.\}
作業ディレクトリの競合を手動で解決し、インデックスファイルを更新して、パッチが生成するはずの状態にします。その次に、
\fB\-\-continue\fR
オプションを指定してコマンドを実行します。
.RE
.sp
このコマンドは、現在の操作が終了するまで新しいメールボックスの処理を拒否するため、最初からやり直す場合は、メールボックス名を指定してコマンドを実行する前に、 \fBgit am \-\-abort\fR を実行してください。
.sp
パッチが適用される前に、ORIG_HEADは現在のブランチの先端に設定されます。 これは、間違ったブランチで \fBgit am\fR を実行したり、メールボックスを変更することでより簡単に修正できるコミットのエラー("From:" 行のエラーなど)など、複数のコミットに問題がある場合に役立ちます。
.SH "HOOKS"
.sp
このコマンドは、 applypatch\-msgフックとpre\-applypatchフックとpost\-applypatchフックを実行できます。 詳細については \fBgithooks\fR(5) を参照してください。
.SH "CONFIGURATION"
.sp
このセクションの以下のすべては、 \fBgit-config\fR(1) ドキュメントの抜粋です。 内容は \fBgit-config\fR(1) ドキュメント にあるものと同一です:
.PP
am\&.keepcr
.RS 4
trueの場合、
\fBgit\-am\fR
は、パラメーター
\fB\-\-keep\-cr\fR
を使用してmbox形式のパッチに対して` git\-mailsplit` を呼び出します。 この場合、
\fBgit\-mailsplit\fR
は
\fB\er\en\fR
で終わる行から
\fB\er\fR
を削除しません。 コマンドラインから
\fB\-\-no\-keep\-cr\fR
を指定することでオーバーライドできます。
\fBgit-am\fR(1)
と
\fBgit-mailsplit\fR(1)
を参照してください。
.RE
.PP
am\&.threeWay
.RS 4
デフォルトでは、パッチが正しく適用されない場合、
\fBgit am\fR
は失敗します。 trueに設定すると、この設定は、パッチが適用される予定のブロブのIDを記録し、それらのブロブをローカルで使用できる場合に、3方向マージにフォールバックするように
\fBgit am\fR
に指示します(コマンドラインから
\fB\-\-3way\fR
オプションを指定するのと同じです)。 デフォルトは
\fBfalse\fR
です。
\fBgit-am\fR(1)を参照してください。
.RE
.SH "SEE ALSO"
.sp
\fBgit-apply\fR(1)\&.
.SH "GIT"
.sp
Part of the \fBgit\fR(1) suite

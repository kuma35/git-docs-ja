This is gitman.info, produced by makeinfo version 6.7 from gitman.texi.

INFO-DIR-SECTION Development
START-INFO-DIR-ENTRY
* Git Man Pages: (gitman).  Manual pages for Git revision control system
END-INFO-DIR-ENTRY


File: gitman.info,  Node: Top,  Up: (dir)

Git Manual Pages
****************

* Menu:

* git-add::
* git-am::
* git-annotate::
* git-apply::
* git-archimport::
* git-archive::
* git-bisect::
* git-blame::
* git-branch::
* git-bugreport::
* git-bundle::
* git-cat-file::
* git-check-attr::
* git-check-ignore::
* git-check-mailmap::
* git-check-ref-format::
* git-checkout-index::
* git-checkout::
* git-cherry-pick::
* git-cherry::
* git-citool::
* git-clean::
* git-clone::
* git-column::
* git-commit-graph::
* git-commit-tree::
* git-commit::
* git-config::
* git-count-objects::
* git-credential-cache--daemon::
* git-credential-cache::
* git-credential-store::
* git-credential::
* git-cvsexportcommit::
* git-cvsimport::
* git-cvsserver::
* git-daemon::
* git-describe::
* git-diff-files::
* git-diff-index::
* git-diff-tree::
* git-diff::
* git-difftool::
* git-fast-export::
* git-fast-import::
* git-fetch-pack::
* git-fetch::
* git-filter-branch::
* git-fmt-merge-msg::
* git-for-each-ref::
* git-for-each-repo::
* git-format-patch::
* git-fsck-objects::
* git-fsck::
* git-gc::
* git-get-tar-commit-id::
* git-grep::
* git-gui::
* git-hash-object::
* git-help::
* git-http-backend::
* git-http-fetch::
* git-http-push::
* git-imap-send::
* git-index-pack::
* git-init-db::
* git-init::
* git-instaweb::
* git-interpret-trailers::
* git-log::
* git-ls-files::
* git-ls-remote::
* git-ls-tree::
* git-mailinfo::
* git-mailsplit::
* git-maintenance::
* git-merge-base::
* git-merge-file::
* git-merge-index::
* git-merge-one-file::
* git-merge-tree::
* git-merge::
* git-mergetool--lib::
* git-mergetool::
* git-mktag::
* git-mktree::
* git-multi-pack-index::
* git-mv::
* git-name-rev::
* git-notes::
* git-p4::
* git-pack-objects::
* git-pack-redundant::
* git-pack-refs::
* git-patch-id::
* git-prune-packed::
* git-prune::
* git-pull::
* git-push::
* git-quiltimport::
* git-range-diff::
* git-read-tree::
* git-rebase::
* git-receive-pack::
* git-reflog::
* git-remote-ext::
* git-remote-fd::
* git-remote::
* git-repack::
* git-replace::
* git-request-pull::
* git-rerere::
* git-reset::
* git-restore::
* git-rev-list::
* git-rev-parse::
* git-revert::
* git-rm::
* git-send-email::
* git-send-pack::
* git-sh-i18n--envsubst::
* git-sh-i18n::
* git-sh-setup::
* git-shell::
* git-shortlog::
* git-show-branch::
* git-show-index::
* git-show-ref::
* git-show::
* git-sparse-checkout::
* git-stage::
* git-stash::
* git-status::
* git-stripspace::
* git-submodule::
* git-svn::
* git-switch::
* git-symbolic-ref::
* git-tag::
* git-unpack-file::
* git-unpack-objects::
* git-update-index::
* git-update-ref::
* git-update-server-info::
* git-upload-archive::
* git-upload-pack::
* git-var::
* git-verify-commit::
* git-verify-pack::
* git-verify-tag::
* git-version::
* git-web--browse::
* git-whatchanged::
* git-worktree::
* git-write-tree::
* git::
* gitattributes::
* gitcli::
* gitcore-tutorial::
* gitcredentials::
* gitcvs-migration::
* gitdiffcore::
* giteveryday::
* gitfaq::
* gitglossary::
* githooks::
* gitignore::
* gitk::
* gitmailmap::
* gitmodules::
* gitnamespaces::
* gitremote-helpers::
* gitrepository-layout::
* gitrevisions::
* gitsubmodules::
* gittutorial-2::
* gittutorial::
* gitweb.conf::
* gitweb::
* gitworkflows::


File: gitman.info,  Node: git-add,  Up: Top

Name
****

git-add — Add file contents to the index


Synopsis
********

     git add [–verbose | -v] [–dry-run | -n] [–force | -f] [–interactive | -i] [–patch | -p]
               [–edit | -e] [–[no-]all | –[no-]ignore-removal | [–update | -u]]
               [–intent-to-add | -N] [–refresh] [–ignore-errors] [–ignore-missing] [–renormalize]
               [–chmod=(+|-)x] [–pathspec-from-file=<file> [–pathspec-file-nul]]
               [–] [<pathspec>…]


DESCRIPTION
***********

This command updates the index using the current content found in the
working tree, to prepare the content staged for the next commit.  It
typically adds the current content of existing paths as a whole, but
with some options it can also be used to add content with only part of
the changes made to the working tree files applied, or remove paths that
do not exist in the working tree anymore.

   The "index" holds a snapshot of the content of the working tree, and
it is this snapshot that is taken as the contents of the next commit.
Thus after making any changes to the working tree, and before running
the commit command, you must use the ‘add’ command to add any new or
modified files to the index.

   This command can be performed multiple times before a commit.  It
only adds the content of the specified file(s) at the time the add
command is run; if you want subsequent changes included in the next
commit, then you must run ‘git add’ again to add the new content to the
index.

   The ‘git status’ command can be used to obtain a summary of which
files have changes that are staged for the next commit.

   The ‘git add’ command will not add ignored files by default.  If any
ignored files were explicitly specified on the command line, ‘git add’
will fail with a list of ignored files.  Ignored files reached by
directory recursion or filename globbing performed by Git (quote your
globs before the shell) will be silently ignored.  The _git add_ command
can be used to add ignored files with the ‘-f’ (force) option.

   Please see git-commit(1) for alternative ways to add content to a
commit.


OPTIONS
*******

<pathspec>…
     Files to add content from.  Fileglobs (e.g.  ‘*.c’) can be given to
     add all matching files.  Also a leading directory name (e.g.  ‘dir’
     to add ‘dir/file1’ and ‘dir/file2’) can be given to update the
     index to match the current state of the directory as a whole (e.g.
     specifying ‘dir’ will record not just a file ‘dir/file1’ modified
     in the working tree, a file ‘dir/file2’ added to the working tree,
     but also a file ‘dir/file3’ removed from the working tree).  Note
     that older versions of Git used to ignore removed files; use
     ‘--no-all’ option if you want to add modified or new files but
     ignore removed ones.

     For more details about the <pathspec> syntax, see the _pathspec_
     entry in gitglossary(7).

‘-n’
‘--dry-run’
     Don’t actually add the file(s), just show if they exist and/or will
     be ignored.

‘-v’
‘--verbose’
     Be verbose.

‘-f’
‘--force’
     Allow adding otherwise ignored files.

‘-i’
‘--interactive’
     Add modified contents in the working tree interactively to the
     index.  Optional path arguments may be supplied to limit operation
     to a subset of the working tree.  See “Interactive mode” for
     details.

‘-p’
‘--patch’
     Interactively choose hunks of patch between the index and the work
     tree and add them to the index.  This gives the user a chance to
     review the difference before adding modified contents to the index.

     This effectively runs ‘add --interactive’, but bypasses the initial
     command menu and directly jumps to the ‘patch’ subcommand.  See
     “Interactive mode” for details.

‘-e’
‘--edit’
     Open the diff vs.  the index in an editor and let the user edit it.
     After the editor was closed, adjust the hunk headers and apply the
     patch to the index.

     The intent of this option is to pick and choose lines of the patch
     to apply, or even to modify the contents of lines to be staged.
     This can be quicker and more flexible than using the interactive
     hunk selector.  However, it is easy to confuse oneself and create a
     patch that does not apply to the index.  See EDITING PATCHES below.

‘-u’
‘--update’
     Update the index just where it already has an entry matching
     <pathspec>.  This removes as well as modifies index entries to
     match the working tree, but adds no new files.

     If no <pathspec> is given when ‘-u’ option is used, all tracked
     files in the entire working tree are updated (old versions of Git
     used to limit the update to the current directory and its
     subdirectories).

‘-A’
‘--all’
‘--no-ignore-removal’
     Update the index not only where the working tree has a file
     matching <pathspec> but also where the index already has an entry.
     This adds, modifies, and removes index entries to match the working
     tree.

     If no <pathspec> is given when ‘-A’ option is used, all files in
     the entire working tree are updated (old versions of Git used to
     limit the update to the current directory and its subdirectories).

‘--no-all’
‘--ignore-removal’
     Update the index by adding new files that are unknown to the index
     and files modified in the working tree, but ignore files that have
     been removed from the working tree.  This option is a no-op when no
     <pathspec> is used.

     This option is primarily to help users who are used to older
     versions of Git, whose "git add <pathspec>…" was a synonym for "git
     add –no-all <pathspec>…", i.e.  ignored removed files.

‘-N’
‘--intent-to-add’
     Record only the fact that the path will be added later.  An entry
     for the path is placed in the index with no content.  This is
     useful for, among other things, showing the unstaged content of
     such files with ‘git diff’ and committing them with ‘git commit
     -a’.

‘--refresh’
     Don’t add the file(s), but only refresh their stat() information in
     the index.

‘--ignore-errors’
     If some files could not be added because of errors indexing them,
     do not abort the operation, but continue adding the others.  The
     command shall still exit with non-zero status.  The configuration
     variable ‘add.ignoreErrors’ can be set to true to make this the
     default behaviour.

‘--ignore-missing’
     This option can only be used together with –dry-run.  By using this
     option the user can check if any of the given files would be
     ignored, no matter if they are already present in the work tree or
     not.

‘--no-warn-embedded-repo’
     By default, ‘git add’ will warn when adding an embedded repository
     to the index without using ‘git submodule add’ to create an entry
     in ‘.gitmodules’.  This option will suppress the warning (e.g., if
     you are manually performing operations on submodules).

‘--renormalize’
     Apply the "clean" process freshly to all tracked files to forcibly
     add them again to the index.  This is useful after changing
     ‘core.autocrlf’ configuration or the ‘text’ attribute in order to
     correct files added with wrong CRLF/LF line endings.  This option
     implies ‘-u’.

‘--chmod=(+|-)x’
     Override the executable bit of the added files.  The executable bit
     is only changed in the index, the files on disk are left unchanged.

‘--pathspec-from-file=<file>’
     Pathspec is passed in ‘<file>’ instead of commandline args.  If
     ‘<file>’ is exactly ‘-’ then standard input is used.  Pathspec
     elements are separated by LF or CR/LF. Pathspec elements can be
     quoted as explained for the configuration variable ‘core.quotePath’
     (see git-config(1)).  See also ‘--pathspec-file-nul’ and global
     ‘--literal-pathspecs’.

‘--pathspec-file-nul’
     Only meaningful with ‘--pathspec-from-file’.  Pathspec elements are
     separated with NUL character and all other characters are taken
     literally (including newlines and quotes).

–
     This option can be used to separate command-line options from the
     list of files, (useful when filenames might be mistaken for
     command-line options).


EXAMPLES
********

   • Adds content from all ‘*.txt’ files under ‘Documentation’ directory
     and its subdirectories:

          $ git add Documentation/\*.txt

     Note that the asterisk ‘*’ is quoted from the shell in this
     example; this lets the command include the files from
     subdirectories of ‘Documentation/’ directory.

   • Considers adding content from all git-*.sh scripts:

          $ git add git-*.sh

     Because this example lets the shell expand the asterisk (i.e.  you
     are listing the files explicitly), it does not consider
     ‘subdir/git-foo.sh’.


INTERACTIVE MODE
****************

When the command enters the interactive mode, it shows the output of the
_status_ subcommand, and then goes into its interactive command loop.

   The command loop shows the list of subcommands available, and gives a
prompt "What now> ".  In general, when the prompt ends with a single
_>_, you can pick only one of the choices given and type return, like
this:

         *** Commands ***
           1: status       2: update       3: revert       4: add untracked
           5: patch        6: diff         7: quit         8: help
         What now> 1

   You also could say ‘s’ or ‘sta’ or ‘status’ above as long as the
choice is unique.

   The main command loop has 6 subcommands (plus help and quit).

status
     This shows the change between HEAD and index (i.e.  what will be
     committed if you say ‘git commit’), and between index and working
     tree files (i.e.  what you could stage further before ‘git commit’
     using ‘git add’) for each path.  A sample output looks like this:

                        staged     unstaged path
               1:       binary      nothing foo.png
               2:     +403/-35        +1/-1 git-add--interactive.perl

     It shows that foo.png has differences from HEAD (but that is binary
     so line count cannot be shown) and there is no difference between
     indexed copy and the working tree version (if the working tree
     version were also different, _binary_ would have been shown in
     place of _nothing_).  The other file, git-add–interactive.perl, has
     403 lines added and 35 lines deleted if you commit what is in the
     index, but working tree file has further modifications (one
     addition and one deletion).

update
     This shows the status information and issues an "Update>>" prompt.
     When the prompt ends with double _>>_, you can make more than one
     selection, concatenated with whitespace or comma.  Also you can say
     ranges.  E.g.  "2-5 7,9" to choose 2,3,4,5,7,9 from the list.  If
     the second number in a range is omitted, all remaining patches are
     taken.  E.g.  "7-" to choose 7,8,9 from the list.  You can say _*_
     to choose everything.

     What you chose are then highlighted with _*_, like this:

                     staged     unstaged path
            1:       binary      nothing foo.png
          * 2:     +403/-35        +1/-1 git-add--interactive.perl

     To remove selection, prefix the input with ‘-’ like this:

          Update>> -2

     After making the selection, answer with an empty line to stage the
     contents of working tree files for selected paths in the index.

revert
     This has a very similar UI to _update_, and the staged information
     for selected paths are reverted to that of the HEAD version.
     Reverting new paths makes them untracked.

add untracked
     This has a very similar UI to _update_ and _revert_, and lets you
     add untracked paths to the index.

patch
     This lets you choose one path out of a _status_ like selection.
     After choosing the path, it presents the diff between the index and
     the working tree file and asks you if you want to stage the change
     of each hunk.  You can select one of the following options and type
     return:

          y - stage this hunk
          n - do not stage this hunk
          q - quit; do not stage this hunk or any of the remaining ones
          a - stage this hunk and all later hunks in the file
          d - do not stage this hunk or any of the later hunks in the file
          g - select a hunk to go to
          / - search for a hunk matching the given regex
          j - leave this hunk undecided, see next undecided hunk
          J - leave this hunk undecided, see next hunk
          k - leave this hunk undecided, see previous undecided hunk
          K - leave this hunk undecided, see previous hunk
          s - split the current hunk into smaller hunks
          e - manually edit the current hunk
          ? - print help

     After deciding the fate for all hunks, if there is any hunk that
     was chosen, the index is updated with the selected hunks.

     You can omit having to type return here, by setting the
     configuration variable ‘interactive.singleKey’ to ‘true’.

diff
     This lets you review what will be committed (i.e.  between HEAD and
     index).


EDITING PATCHES
***************

Invoking ‘git add -e’ or selecting ‘e’ from the interactive hunk
selector will open a patch in your editor; after the editor exits, the
result is applied to the index.  You are free to make arbitrary changes
to the patch, but note that some changes may have confusing results, or
even result in a patch that cannot be applied.  If you want to abort the
operation entirely (i.e., stage nothing new in the index), simply delete
all lines of the patch.  The list below describes some common things you
may see in a patch, and which editing operations make sense on them.

added content
     Added content is represented by lines beginning with "+".  You can
     prevent staging any addition lines by deleting them.

removed content
     Removed content is represented by lines beginning with "-".  You
     can prevent staging their removal by converting the "-" to a " "
     (space).

modified content
     Modified content is represented by "-" lines (removing the old
     content) followed by "+" lines (adding the replacement content).
     You can prevent staging the modification by converting "-" lines to
     " ", and removing "+" lines.  Beware that modifying only half of
     the pair is likely to introduce confusing changes to the index.

   There are also more complex operations that can be performed.  But
beware that because the patch is applied only to the index and not the
working tree, the working tree will appear to "undo" the change in the
index.  For example, introducing a new line into the index that is in
neither the HEAD nor the working tree will stage the new line for
commit, but the line will appear to be reverted in the working tree.

   Avoid using these constructs, or do so with extreme caution.

removing untouched content
     Content which does not differ between the index and working tree
     may be shown on context lines, beginning with a " " (space).  You
     can stage context lines for removal by converting the space to a
     "-".  The resulting working tree file will appear to re-add the
     content.

modifying existing content
     One can also modify context lines by staging them for removal (by
     converting " " to "-") and adding a "+" line with the new content.
     Similarly, one can modify "+" lines for existing additions or
     modifications.  In all cases, the new modification will appear
     reverted in the working tree.

new content
     You may also add new content that does not exist in the patch;
     simply add new lines, each starting with "+".  The addition will
     appear reverted in the working tree.

   There are also several operations which should be avoided entirely,
as they will make the patch impossible to apply:

   • adding context (" ") or removal ("-") lines

   • deleting context or removal lines

   • modifying the contents of context or removal lines


SEE ALSO
********

git-status(1) git-rm(1) git-reset(1) git-mv(1) git-commit(1)
git-update-index(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-am,  Up: Top

Name
****

git-am — Apply a series of patches from a mailbox


Synopsis
********

     git am [–signoff] [–keep] [–[no-]keep-cr] [–[no-]utf8]
              [–[no-]3way] [–interactive] [–committer-date-is-author-date]
              [–ignore-date] [–ignore-space-change | –ignore-whitespace]
              [–whitespace=<option>] [-C<n>] [-p<n>] [–directory=<dir>]
              [–exclude=<path>] [–include=<path>] [–reject] [-q | –quiet]
              [–[no-]scissors] [-S[<keyid>]] [–patch-format=<format>]
              [–quoted-cr=<action>]
              [(<mbox> | <Maildir>)…]
     git am (–continue | –skip | –abort | –quit | –show-current-patch[=(diff|raw)])


DESCRIPTION
***********

Splits mail messages in a mailbox into commit log message, authorship
information and patches, and applies them to the current branch.


OPTIONS
*******

(<mbox>|<Maildir>)…
     The list of mailbox files to read patches from.  If you do not
     supply this argument, the command reads from the standard input.
     If you supply directories, they will be treated as Maildirs.

‘-s’
‘--signoff’
     Add a ‘Signed-off-by’ trailer to the commit message, using the
     committer identity of yourself.  See the signoff option in
     git-commit(1) for more information.

‘-k’
‘--keep’
     Pass ‘-k’ flag to _git mailinfo_ (see git-mailinfo(1)).

‘--keep-non-patch’
     Pass ‘-b’ flag to _git mailinfo_ (see git-mailinfo(1)).

‘--[no-]keep-cr’
     With ‘--keep-cr’, call _git mailsplit_ (see git-mailsplit(1)) with
     the same option, to prevent it from stripping CR at the end of
     lines.  ‘am.keepcr’ configuration variable can be used to specify
     the default behaviour.  ‘--no-keep-cr’ is useful to override
     ‘am.keepcr’.

‘-c’
‘--scissors’
     Remove everything in body before a scissors line (see
     git-mailinfo(1)).  Can be activated by default using the
     ‘mailinfo.scissors’ configuration variable.

‘--no-scissors’
     Ignore scissors lines (see git-mailinfo(1)).

‘--quoted-cr=<action>’
     This flag will be passed down to _git mailinfo_ (see
     git-mailinfo(1)).

‘-m’
‘--message-id’
     Pass the ‘-m’ flag to _git mailinfo_ (see git-mailinfo(1)), so that
     the Message-ID header is added to the commit message.  The
     ‘am.messageid’ configuration variable can be used to specify the
     default behaviour.

‘--no-message-id’
     Do not add the Message-ID header to the commit message.
     ‘no-message-id’ is useful to override ‘am.messageid’.

‘-q’
‘--quiet’
     Be quiet.  Only print error messages.

‘-u’
‘--utf8’
     Pass ‘-u’ flag to _git mailinfo_ (see git-mailinfo(1)).  The
     proposed commit log message taken from the e-mail is re-coded into
     UTF-8 encoding (configuration variable ‘i18n.commitEncoding’ can be
     used to specify project’s preferred encoding if it is not UTF-8).

     This was optional in prior versions of git, but now it is the
     default.  You can use ‘--no-utf8’ to override this.

‘--no-utf8’
     Pass ‘-n’ flag to _git mailinfo_ (see git-mailinfo(1)).

‘-3’
‘--3way’
‘--no-3way’
     When the patch does not apply cleanly, fall back on 3-way merge if
     the patch records the identity of blobs it is supposed to apply to
     and we have those blobs available locally.  ‘--no-3way’ can be used
     to override am.threeWay configuration variable.  For more
     information, see am.threeWay in git-config(1).

‘--rerere-autoupdate’
‘--no-rerere-autoupdate’
     Allow the rerere mechanism to update the index with the result of
     auto-conflict resolution if possible.

‘--ignore-space-change’
‘--ignore-whitespace’
‘--whitespace=<option>’
‘-C<n>’
‘-p<n>’
‘--directory=<dir>’
‘--exclude=<path>’
‘--include=<path>’
‘--reject’
     These flags are passed to the _git apply_ (see git-apply(1))
     program that applies the patch.

‘--patch-format’
     By default the command will try to detect the patch format
     automatically.  This option allows the user to bypass the automatic
     detection and specify the patch format that the patch(es) should be
     interpreted as.  Valid formats are mbox, mboxrd, stgit,
     stgit-series and hg.

‘-i’
‘--interactive’
     Run interactively.

‘--committer-date-is-author-date’
     By default the command records the date from the e-mail message as
     the commit author date, and uses the time of commit creation as the
     committer date.  This allows the user to lie about the committer
     date by using the same value as the author date.

‘--ignore-date’
     By default the command records the date from the e-mail message as
     the commit author date, and uses the time of commit creation as the
     committer date.  This allows the user to lie about the author date
     by using the same value as the committer date.

‘--skip’
     Skip the current patch.  This is only meaningful when restarting an
     aborted patch.

‘-S[<keyid>]’
‘--gpg-sign[=<keyid>]’
‘--no-gpg-sign’
     GPG-sign commits.  The ‘keyid’ argument is optional and defaults to
     the committer identity; if specified, it must be stuck to the
     option without a space.  ‘--no-gpg-sign’ is useful to countermand
     both ‘commit.gpgSign’ configuration variable, and earlier
     ‘--gpg-sign’.

‘--continue’
‘-r’
‘--resolved’
     After a patch failure (e.g.  attempting to apply conflicting
     patch), the user has applied it by hand and the index file stores
     the result of the application.  Make a commit using the authorship
     and commit log extracted from the e-mail message and the current
     index file, and continue.

‘--resolvemsg=<msg>’
     When a patch failure occurs, <msg> will be printed to the screen
     before exiting.  This overrides the standard message informing you
     to use ‘--continue’ or ‘--skip’ to handle the failure.  This is
     solely for internal use between _git rebase_ and _git am_.

‘--abort’
     Restore the original branch and abort the patching operation.
     Revert contents of files involved in the am operation to their
     pre-am state.

‘--quit’
     Abort the patching operation but keep HEAD and the index untouched.

‘--show-current-patch[=(diff|raw)]’
     Show the message at which ‘git am’ has stopped due to conflicts.
     If ‘raw’ is specified, show the raw contents of the e-mail message;
     if ‘diff’, show the diff portion only.  Defaults to ‘raw’.


DISCUSSION
**********

The commit author name is taken from the "From: " line of the message,
and commit author date is taken from the "Date: " line of the message.
The "Subject: " line is used as the title of the commit, after stripping
common prefix "[PATCH <anything>]".  The "Subject: " line is supposed to
concisely describe what the commit is about in one line of text.

   "From: ", "Date: ", and "Subject: " lines starting the body override
the respective commit author name and title values taken from the
headers.

   The commit message is formed by the title taken from the "Subject: ",
a blank line and the body of the message up to where the patch begins.
Excess whitespace at the end of each line is automatically stripped.

   The patch is expected to be inline, directly following the message.
Any line that is of the form:

   • three-dashes and end-of-line, or

   • a line that begins with "diff -", or

   • a line that begins with "Index: "

   is taken as the beginning of a patch, and the commit log message is
terminated before the first occurrence of such a line.

   When initially invoking ‘git am’, you give it the names of the
mailboxes to process.  Upon seeing the first patch that does not apply,
it aborts in the middle.  You can recover from this in one of two ways:

  1. skip the current patch by re-running the command with the ‘--skip’
     option.

  2. hand resolve the conflict in the working directory, and update the
     index file to bring it into a state that the patch should have
     produced.  Then run the command with the ‘--continue’ option.

   The command refuses to process new mailboxes until the current
operation is finished, so if you decide to start over from scratch, run
‘git am --abort’ before running the command with mailbox names.

   Before any patches are applied, ORIG_HEAD is set to the tip of the
current branch.  This is useful if you have problems with multiple
commits, like running _git am_ on the wrong branch or an error in the
commits that is more easily fixed by changing the mailbox (e.g.  errors
in the "From:" lines).


HOOKS
*****

This command can run ‘applypatch-msg’, ‘pre-applypatch’, and
‘post-applypatch’ hooks.  See githooks(5) for more information.


SEE ALSO
********

git-apply(1).


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-annotate,  Up: Top

Name
****

git-annotate — 指定ファイルの各行のコミット情報を表示


Synopsis
********

     git annotate [<options>] <file> [<revision>]


DESCRIPTION
***********

指定されたファイルの各行に、その行を導入したコミットからの情報で注釈を付
けます。オプションで、特定のリビジョンから注釈を付けます。

   このコマンドと git-blame(1) の唯一の違いは、わずかに異なる出力形式を
使用することです。このコマンドは、既存のスクリプトをサポートするための下
位互換性のためにのみ存在し、他のSCMシステムから来た人々により馴染みのあ
るコマンド名を提供します。


OPTIONS
*******

‘-b’
     境界コミットでは空白のSHA-1を表示します。これは、
     ‘blame.blankBoundary’ 構成オプションを介して制御することもできます
     。

‘--root’
     ルートコミットを境界として扱わないでください。 これは、
     ‘blame.showRoot’ 構成オプションを介して制御することもできます。

‘--show-stats’
     blameの出力の最後に追加の統計を含めます。

‘-L <start>,<end>’
‘-L :<funcname>’
     _<start>,<end>_ で指定の行範囲のみ、または正規表現関数名
     _<funcname>_ で指定の行範囲のみに注釈を付けます。複数回指定できます
     。範囲が重複するのは許されます。

     _<start>_ と _<end>_ はオプションです。 ‘-L <start>’ または ‘-L
     <start>,’ は _<start>_ からファイルの終わりまでの範囲です。 ‘-L
     ,<end>’ は、ファイルの先頭から _<end>_ までの範囲です。

     _<start>_ と _<end>_ は、以下のいずれかの形式です:

        • number

          _<start>_ または _<end>_ が数値の場合、絶対行番号を指定します
          (行は1から数えます)。

        • ‘/regex/’

          この形式は、指定されたPOSIX正規表現に一致する最初の行を使用し
          ます。 _<start>_ が正規表現の場合、前の ‘-L’ 範囲の末尾から検
          索します。それ以外の場合は、ファイルの先頭から検索します。
          _<start>_ が ‘^/regex/’ の場合、ファイルの先頭から検索します。
          _<end>_ が正規表現の場合、 _<start>_ で指定された行から検索開
          始します。

        • +offset or -offset

          これは <end> に対してのみ有効であり、 <start> で指定された行の
          前後の行数を指定します。

     _<start>_ および _<end>_ の代わりに ‘:<funcname>’ が指定されている
     場合、これは _<funcname>_ に一致する最初の関数名行から次の関数名行
     までの範囲を示す正規表現です。 ‘:<funcname>’ は、前の ‘-L’ 範囲の末
     尾から検索します。それ以外の場合は、ファイルの先頭から検索します。
     ‘^:<funcname>’ はファイルの先頭から検索します。関数名は、 ‘git
     diff’ がパッチハンクヘッダーを処理するのと同じ方法で決定されます
     (gitattributes(5) の _Defining a custom hunk-header_ 参照)。

‘-l’
     長いレビジョンを表示します(デフォルト: off)。

‘-t’
     生のタイムスタンプを表示します(デフフォルト: off)。

‘-S <revs-file>’
     git-rev-list(1) を呼び出す代わりに、revs-fileのリビジョンを使用しま
     す。

‘--reverse <rev>..<rev>’
     履歴を後方へではなく前方へウォークします。行があらわれたされたリビ
     ジョンを表示する代わりに、行が存在した最後のリビジョンを表示します
     。これには、START..END のように、STARTにblameのパスが存在するレビジ
     ョン範囲が必要です。 便宜上、 ‘git blame --reverse START’ は ‘git
     blame --reverse START..HEAD’ と見なされます。

‘--first-parent’
     マージコミットを確認したら、最初の親コミットのみを追跡します。 この
     オプションは、履歴全体にいつ導入されたかではなく、特定の統合ブラン
     チにいつ導入されたかを判別するために使用できます。

‘-p’
‘--porcelain’
     ソフトウェア等で使用するのに適した形式で表示します。

‘--line-porcelain’
     磁器形式で表示しますが、コミットが最初に参照されたときだけでなく、
     各行のコミット情報を出力します。 –porcelain の機能を含んでいます。

‘--incremental’
     ソフトウェア等で使用するのに適した形式で結果を段階的
     (incrementally)に表示します。

‘--encoding=<encoding>’
     作者名(author names)の出力と要約のコミットに使用されるエンコーディ
     ングを指定します。 これを ‘none’ に設定すると、blame出力は変換され
     ていないデータになります。詳細については、 git-log(1) のマニュアル
     ページにある discussion の encoding に関する説明を参照してください
     。

‘--contents <file>’
     <rev> が指定されていない場合、コマンドは作業ツリーのコピーから逆方
     向に開始して変更に注釈を付けます。このフラグにより、コマンドは、作
     業ツリーのコピーに、指定されたファイルの内容が含まれているように見
     せかけます(コマンドを標準入力から読み取るには、 ‘-’ を指定します)。

‘--date <format>’
     日付の出力に使用される形式を指定します。 –date が指定されていない場
     合、blame.date 構成変数の値が使用されます。 blame.date 構成変数も設
     定されていない場合は、 iso形式が使用されます。サポートされている値
     については、 git-log(1) の –date オプションの説明を参照してください
     。

‘--[no-]progress’
     進行状況は、端末に接続されている場合、デフォルトで標準エラーストリ
     ームに報告されます。このフラグは、端末に接続されていない場合でも進
     行状況のレポートを有効にします。 ‘--progress’ を ‘--porcelain’ また
     は ‘--incremental’ と一緒に使用することはできません。

‘-M[<num>]’
     ファイル内の移動またはコピーされた行を検出します。コミットが行のブ
     ロックを移動またはコピーすると(たとえば、元のファイルにA、次にBがあ
     り、コミットによってB、次にAに変更される)、従来の「blame」アルゴリ
     ズムは移動の半分だけに気づき、通常は行をblameします それは親に上に
     移動され(つまりB)、子のコミットに下に移動された(つまりA)行にblameを
     割り当てます。このオプションを使用すると、追加の検査パスを実行する
     ことにより、両方のグループの行が親のせいになります。

     <num> はオプションですが、Gitがそれらの行を親コミットに関連付けるた
     めにファイル内で移動/コピーとして検出する必要がある英数字の数
     (number of alphanumeric characters)の下限です。デフォルト値は20です
     。

‘-C[<num>]’
     ‘-M’ に加えて、同じコミットで変更された他のファイルから移動またはコ
     ピーされた行を検出します。これは、プログラムを再編成し、ファイル間
     でコードを移動するときに役立ちます。このオプションを2回指定すると、
     コマンドは、ファイルを作成するコミットで他のファイルからのコピーを
     追加で検索します。このオプションを3回指定すると、コマンドはコミット
     で他のファイルからのコピーを追加で検索します。

     <num> はオプションですが、Gitがそれらの行を親コミットに関連付けるた
     めにファイル間の移動/コピーとして検出する必要がある英数字の数
     (number of alphanumeric characters)の下限です。また、デフォルト値は
     40です。複数の ‘-C’ オプションが指定されている場合、最後の ‘-C’ の
     <num> 引数が有効になります。

‘--ignore-rev <rev>’
     変更が発生しなかったかのように、blameを割り当てるときにリビジョンに
     よって行われた変更を無視します。無視されたコミットによって変更また
     は追加された行は、その行または近くの行を変更した前のコミットのせい
     になります。このオプションは、複数のリビジョンを無視するために複数
     回指定できます。 ‘blame.markIgnoredLines’ 構成オプションが設定され
     ている場合、無視されたコミットによって変更され、別のコミットに起因
     する行は、blame出力で ‘?’ でマークされます。
     ‘blame.markUnblamableLines’ 構成オプションが設定されている場合、別
     のリビジョンに帰することができなかった無視されたコミットによって触
     れられた行は、 _*_ でマークされます。

‘--ignore-revs-file <file>’
     ‘file’ にリストされているリビジョンを無視します。これは
     ‘fsck.skipList’ と同じ形式である必要があります。このオプションは繰
     り返すことができ、これらのファイルは、 ‘blame.ignoreRevsFile’ 構成
     オプションで指定されたファイルの後に処理されます。空のファイル名
     ‘""’ は、以前に処理されたファイルからrevsのリストをクリアします。

‘-h’
     ヘルプメッセージを表示する。


SEE ALSO
********

git-blame(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-apply,  Up: Top

Name
****

git-apply — Apply a patch to files and/or to the index


Synopsis
********

     git apply [–stat] [–numstat] [–summary] [–check] [–index | –intent-to-add] [–3way]
               [–apply] [–no-add] [–build-fake-ancestor=<file>] [-R | –reverse]
               [–allow-binary-replacement | –binary] [–reject] [-z]
               [-p<n>] [-C<n>] [–inaccurate-eof] [–recount] [–cached]
               [–ignore-space-change | –ignore-whitespace]
               [–whitespace=(nowarn|warn|fix|error|error-all)]
               [–exclude=<path>] [–include=<path>] [–directory=<root>]
               [–verbose] [–unsafe-paths] [<patch>…]


DESCRIPTION
***********

Reads the supplied diff output (i.e.  "a patch") and applies it to
files.  When running from a subdirectory in a repository, patched paths
outside the directory are ignored.  With the ‘--index’ option the patch
is also applied to the index, and with the ‘--cached’ option the patch
is only applied to the index.  Without these options, the command
applies the patch only to files, and does not require them to be in a
Git repository.

   This command applies the patch but does not create a commit.  Use
git-am(1) to create commits from patches generated by
git-format-patch(1) and/or received by email.


OPTIONS
*******

<patch>…
     The files to read the patch from.  _-_ can be used to read from the
     standard input.

‘--stat’
     Instead of applying the patch, output diffstat for the input.
     Turns off "apply".

‘--numstat’
     Similar to ‘--stat’, but shows the number of added and deleted
     lines in decimal notation and the pathname without abbreviation, to
     make it more machine friendly.  For binary files, outputs two ‘-’
     instead of saying ‘0 0’.  Turns off "apply".

‘--summary’
     Instead of applying the patch, output a condensed summary of
     information obtained from git diff extended headers, such as
     creations, renames and mode changes.  Turns off "apply".

‘--check’
     Instead of applying the patch, see if the patch is applicable to
     the current working tree and/or the index file and detects errors.
     Turns off "apply".

‘--index’
     Apply the patch to both the index and the working tree (or merely
     check that it would apply cleanly to both if ‘--check’ is in
     effect).  Note that ‘--index’ expects index entries and working
     tree copies for relevant paths to be identical (their contents and
     metadata such as file mode must match), and will raise an error if
     they are not, even if the patch would apply cleanly to both the
     index and the working tree in isolation.

‘--cached’
     Apply the patch to just the index, without touching the working
     tree.  If ‘--check’ is in effect, merely check that it would apply
     cleanly to the index entry.

‘--intent-to-add’
     When applying the patch only to the working tree, mark new files to
     be added to the index later (see ‘--intent-to-add’ option in
     git-add(1)).  This option is ignored unless running in a Git
     repository and ‘--index’ is not specified.  Note that ‘--index’
     could be implied by other options such as ‘--cached’ or ‘--3way’.

‘-3’
‘--3way’
     Attempt 3-way merge if the patch records the identity of blobs it
     is supposed to apply to and we have those blobs available locally,
     possibly leaving the conflict markers in the files in the working
     tree for the user to resolve.  This option implies the ‘--index’
     option unless the ‘--cached’ option is used, and is incompatible
     with the ‘--reject’ option.  When used with the ‘--cached’ option,
     any conflicts are left at higher stages in the cache.

‘--build-fake-ancestor=<file>’
     Newer _git diff_ output has embedded _index information_ for each
     blob to help identify the original version that the patch applies
     to.  When this flag is given, and if the original versions of the
     blobs are available locally, builds a temporary index containing
     those blobs.

     When a pure mode change is encountered (which has no index
     information), the information is read from the current index
     instead.

‘-R’
‘--reverse’
     Apply the patch in reverse.

‘--reject’
     For atomicity, _git apply_ by default fails the whole patch and
     does not touch the working tree when some of the hunks do not
     apply.  This option makes it apply the parts of the patch that are
     applicable, and leave the rejected hunks in corresponding *.rej
     files.

‘-z’
     When ‘--numstat’ has been given, do not munge pathnames, but use a
     NUL-terminated machine-readable format.

     Without this option, pathnames with "unusual" characters are quoted
     as explained for the configuration variable ‘core.quotePath’ (see
     git-config(1)).

‘-p<n>’
     Remove <n> leading path components (separated by slashes) from
     traditional diff paths.  E.g., with ‘-p2’, a patch against
     ‘a/dir/file’ will be applied directly to ‘file’.  The default is 1.

‘-C<n>’
     Ensure at least <n> lines of surrounding context match before and
     after each change.  When fewer lines of surrounding context exist
     they all must match.  By default no context is ever ignored.

‘--unidiff-zero’
     By default, _git apply_ expects that the patch being applied is a
     unified diff with at least one line of context.  This provides good
     safety measures, but breaks down when applying a diff generated
     with ‘--unified=0’.  To bypass these checks use ‘--unidiff-zero’.

     Note, for the reasons stated above usage of context-free patches is
     discouraged.

‘--apply’
     If you use any of the options marked "Turns off _apply_" above,
     _git apply_ reads and outputs the requested information without
     actually applying the patch.  Give this flag after those flags to
     also apply the patch.

‘--no-add’
     When applying a patch, ignore additions made by the patch.  This
     can be used to extract the common part between two files by first
     running _diff_ on them and applying the result with this option,
     which would apply the deletion part but not the addition part.

‘--allow-binary-replacement’
‘--binary’
     Historically we did not allow binary patch applied without an
     explicit permission from the user, and this flag was the way to do
     so.  Currently we always allow binary patch application, so this is
     a no-op.

‘--exclude=<path-pattern>’
     Don’t apply changes to files matching the given path pattern.  This
     can be useful when importing patchsets, where you want to exclude
     certain files or directories.

‘--include=<path-pattern>’
     Apply changes to files matching the given path pattern.  This can
     be useful when importing patchsets, where you want to include
     certain files or directories.

     When ‘--exclude’ and ‘--include’ patterns are used, they are
     examined in the order they appear on the command line, and the
     first match determines if a patch to each path is used.  A patch to
     a path that does not match any include/exclude pattern is used by
     default if there is no include pattern on the command line, and
     ignored if there is any include pattern.

‘--ignore-space-change’
‘--ignore-whitespace’
     When applying a patch, ignore changes in whitespace in context
     lines if necessary.  Context lines will preserve their whitespace,
     and they will not undergo whitespace fixing regardless of the value
     of the ‘--whitespace’ option.  New lines will still be fixed,
     though.

‘--whitespace=<action>’
     When applying a patch, detect a new or modified line that has
     whitespace errors.  What are considered whitespace errors is
     controlled by ‘core.whitespace’ configuration.  By default,
     trailing whitespaces (including lines that solely consist of
     whitespaces) and a space character that is immediately followed by
     a tab character inside the initial indent of the line are
     considered whitespace errors.

     By default, the command outputs warning messages but applies the
     patch.  When ‘git-apply’ is used for statistics and not applying a
     patch, it defaults to ‘nowarn’.

     You can use different ‘<action>’ values to control this behavior:

        • ‘nowarn’ turns off the trailing whitespace warning.

        • ‘warn’ outputs warnings for a few such errors, but applies the
          patch as-is (default).

        • ‘fix’ outputs warnings for a few such errors, and applies the
          patch after fixing them (‘strip’ is a synonym — the tool used
          to consider only trailing whitespace characters as errors, and
          the fix involved _stripping_ them, but modern Gits do more).

        • ‘error’ outputs warnings for a few such errors, and refuses to
          apply the patch.

        • ‘error-all’ is similar to ‘error’ but shows all errors.

‘--inaccurate-eof’
     Under certain circumstances, some versions of _diff_ do not
     correctly detect a missing new-line at the end of the file.  As a
     result, patches created by such _diff_ programs do not record
     incomplete lines correctly.  This option adds support for applying
     such patches by working around this bug.

‘-v’
‘--verbose’
     Report progress to stderr.  By default, only a message about the
     current patch being applied will be printed.  This option will
     cause additional information to be reported.

‘--recount’
     Do not trust the line counts in the hunk headers, but infer them by
     inspecting the patch (e.g.  after editing the patch without
     adjusting the hunk headers appropriately).

‘--directory=<root>’
     Prepend <root> to all filenames.  If a "-p" argument was also
     passed, it is applied before prepending the new root.

     For example, a patch that talks about updating ‘a/git-gui.sh’ to
     ‘b/git-gui.sh’ can be applied to the file in the working tree
     ‘modules/git-gui/git-gui.sh’ by running ‘git apply
     --directory=modules/git-gui’.

‘--unsafe-paths’
     By default, a patch that affects outside the working area (either a
     Git controlled working tree, or the current working directory when
     "git apply" is used as a replacement of GNU patch) is rejected as a
     mistake (or a mischief).

     When ‘git apply’ is used as a "better GNU patch", the user can pass
     the ‘--unsafe-paths’ option to override this safety check.  This
     option has no effect when ‘--index’ or ‘--cached’ is in use.


CONFIGURATION
*************

apply.ignoreWhitespace
     Set to _change_ if you want changes in whitespace to be ignored by
     default.  Set to one of: no, none, never, false if you want changes
     in whitespace to be significant.

apply.whitespace
     When no ‘--whitespace’ flag is given from the command line, this
     configuration item is used as the default.


SUBMODULES
**********

If the patch contains any changes to submodules then _git apply_ treats
these changes as follows.

   If ‘--index’ is specified (explicitly or implicitly), then the
submodule commits must match the index exactly for the patch to apply.
If any of the submodules are checked-out, then these check-outs are
completely ignored, i.e., they are not required to be up to date or
clean and they are not updated.

   If ‘--index’ is not specified, then the submodule commits in the
patch are ignored and only the absence or presence of the corresponding
subdirectory is checked and (if possible) updated.


SEE ALSO
********

git-am(1).


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-archimport,  Up: Top

Name
****

git-archimport — GNU Arch リポジトリをGitにインポートします


Synopsis
********

     git archimport [-h] [-v] [-o] [-a] [-f] [-T] [-D depth] [-t tempdir]
                    <archive/branch>[:<git-branch>] …


DESCRIPTION
***********

1つ以上の GNU Arch リポジトリからプロジェクトをインポートします。これは
、提供された <archive/branch> パラメーターによって定義された名前空間内の
ブランチとリポジトリに従います。リモートブランチが見つからない場合は、マ
ージ元から通常のコミットとしてインポートされます。見つかった場合は、可能
な限りマージとしてマークします(以下の説明を参照)。

   スクリプトは、 _initial import_ または _tag_ 型のArchコミットからイン
ポートを開始できるキールート(key root)を提供することを想定しています。提
供されたルート(root)内の新しいブランチを追跡してインポートします。

   1つのプロジェクトのみを扱うことを想定しています。ルート(root)が異なる
ブランチを検出した場合、実行を拒否します。その場合は、 <archive/branch>
パラメータを編集して、インポートの範囲を明確に定義します。

   _git archimport_ は、バックグラウンドで ‘tla’ を広範囲に使用して、
Archリポジトリにアクセスします。パス上に利用可能な ‘tla’ の最新バージョ
ンがあることを確認してください。 ‘tla’ は、 _git archimport_ に渡すリポ
ジトリについて知っている必要があります。

   最初のインポートでは、 _git archimport_ は空のディレクトリに自分自身
を見つけることをf期待しています。 Archを使用するプロジェクトの開発を追跡
するには、最初のインポートと同じパラメーターを使用して「git archimport」
を再実行し、増分インポートを実行します。

   _git archimport_ は、インポートするアーカイブに適切なブランチ名を作成
しようとしますが、Gitブランチ名を手動で指定することもできます。これを行
うには、各 <archive/branch> パラメーターの後にコロン(‘:’)で区切ってGitブ
ランチ名を記述します。このようにして、Archブランチ名を短縮し、Arch専門用
語をGit専門用語に変換できます。たとえば、「PROJECT–devo–VERSION」ブラン
チを「master」にマッピングします。

   複数のArchブランチを1つのGitブランチに関連付けることができます。 結果
は、2番目のブランチが作成された後、最初のブランチに対してコミットが行わ
れない場合にのみ最も意味があります。それでも、これは定期的にローテーショ
ンされたArchリポジトリを変換するのに役立ちます。


MERGES
******

Archからのパッチマージデータは、Gitでのマージをマークするためにも使用さ
れます。 Gitはパッチの追跡についてはあまり気にせず、分岐した時点以降、ブ
ランチにすべてのコミットが組み込まれている場合にのみマージを考慮します。
最終的な結果として、Gitはブランチがどこまで分岐したかを把握できます。し
たがって、インポートプロセスでは、パッチ取引のメタデータが失われます。

   幸い、Archからインポートされたブランチをマージしようとすると、Gitは適
切なマージベースを見つけ、ブランチ間で順番どおりにトレードされていないパ
ッチを特定できる可能性が高くなります。


OPTIONS
*******

‘-h’
     使い方表示。

‘-v’
     詳細な出力。

‘-T’
     多くのタグ。Archリポジトリのコミット名を反映して、すべてのコミット
     にタグを作成します。

‘-f’
     高速パッチセットインポート戦略(fast patchset import strategy)を使用
     します。これは、大きなツリーでは大幅に高速化できますが、ディレクト
     リの名前変更やアクセス許可の変更を処理できません。デフォルトの戦略
     は遅いけど安全(slow and safe)です。

‘-o’
     これは、以前のバージョンの「git archimport」で使用されていた古いス
     タイルのブランチ名との互換性のために使用します。古いスタイルのブラ
     ンチ名は category–branch でしたが、新しいスタイルのブランチ名は
     category–branch–version です。 どちらの場合も、コマンドラインで指定
     された名前が自動生成された名前を上書きします。

‘-D <depth>’
     マージの祖先に従い、マージされたツリーのインポートを試みます。パッ
     チログが剪定されている場合は、1より大きい深さを指定します。

‘-a’
     ‘http://mirrors.sourcecontrol.net’ でアーカイブを自動登録してみてく
     ださい。これは、 ‘-D’ オプションを使用すると特に便利です。

‘-t <tmpdir>’
     デフォルトのtempdirをオーバーライドします。

<archive/branch>
     ‘tla log’ が理解できる形式の archive/branch ID。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-archive,  Up: Top

Name
****

git-archive — Create an archive of files from a named tree


Synopsis
********

     git archive [–format=<fmt>] [–list] [–prefix=<prefix>/] [<extra>]
                   [-o <file> | –output=<file>] [–worktree-attributes]
                   [–remote=<repo> [–exec=<git-upload-archive>]] <tree-ish>
                   [<path>…]


DESCRIPTION
***********

Creates an archive of the specified format containing the tree structure
for the named tree, and writes it out to the standard output.  If
<prefix> is specified it is prepended to the filenames in the archive.

   _git archive_ behaves differently when given a tree ID versus when
given a commit ID or tag ID. In the first case the current time is used
as the modification time of each file in the archive.  In the latter
case the commit time as recorded in the referenced commit object is used
instead.  Additionally the commit ID is stored in a global extended pax
header if the tar format is used; it can be extracted using _git
get-tar-commit-id_.  In ZIP files it is stored as a file comment.


OPTIONS
*******

‘--format=<fmt>’
     Format of the resulting archive: _tar_ or _zip_.  If this option is
     not given, and the output file is specified, the format is inferred
     from the filename if possible (e.g.  writing to "foo.zip" makes the
     output to be in the zip format).  Otherwise the output format is
     ‘tar’.

‘-l’
‘--list’
     Show all available formats.

‘-v’
‘--verbose’
     Report progress to stderr.

‘--prefix=<prefix>/’
     Prepend <prefix>/ to each filename in the archive.

‘-o <file>’
‘--output=<file>’
     Write the archive to <file> instead of stdout.

‘--add-file=<file>’
     Add a non-tracked file to the archive.  Can be repeated to add
     multiple files.  The path of the file in the archive is built by
     concatenating the value for ‘--prefix’ (if any) and the basename of
     <file>.

‘--worktree-attributes’
     Look for attributes in .gitattributes files in the working tree as
     well (see *note ATTRIBUTES::).

<extra>
     This can be any options that the archiver backend understands.  See
     next section.

‘--remote=<repo>’
     Instead of making a tar archive from the local repository, retrieve
     a tar archive from a remote repository.  Note that the remote
     repository may place restrictions on which sha1 expressions may be
     allowed in ‘<tree-ish>’.  See git-upload-archive(1) for details.

‘--exec=<git-upload-archive>’
     Used with –remote to specify the path to the _git-upload-archive_
     on the remote side.

<tree-ish>
     The tree or commit to produce an archive for.

<path>
     Without an optional path parameter, all files and subdirectories of
     the current working directory are included in the archive.  If one
     or more paths are specified, only these are included.


BACKEND EXTRA OPTIONS
*********************


zip
===

‘-0’
     Store the files instead of deflating them.

‘-9’
     Highest and slowest compression level.  You can specify any number
     from 1 to 9 to adjust compression speed and ratio.


CONFIGURATION
*************

tar.umask
     This variable can be used to restrict the permission bits of tar
     archive entries.  The default is 0002, which turns off the world
     write bit.  The special value "user" indicates that the archiving
     user’s umask will be used instead.  See umask(2) for details.  If
     ‘--remote’ is used then only the configuration of the remote
     repository takes effect.

tar.<format>.command
     This variable specifies a shell command through which the tar
     output generated by ‘git archive’ should be piped.  The command is
     executed using the shell with the generated tar file on its
     standard input, and should produce the final output on its standard
     output.  Any compression-level options will be passed to the
     command (e.g., "-9").  An output file with the same extension as
     ‘<format>’ will be use this format if no other format is given.

     The "tar.gz" and "tgz" formats are defined automatically and
     default to ‘gzip -cn’.  You may override them with custom commands.

tar.<format>.remote
     If true, enable ‘<format>’ for use by remote clients via
     git-upload-archive(1).  Defaults to false for user-defined formats,
     but true for the "tar.gz" and "tgz" formats.


ATTRIBUTES
**********

export-ignore
     Files and directories with the attribute export-ignore won’t be
     added to archive files.  See gitattributes(5) for details.

export-subst
     If the attribute export-subst is set for a file then Git will
     expand several placeholders when adding this file to an archive.
     See gitattributes(5) for details.

   Note that attributes are by default taken from the ‘.gitattributes’
files in the tree that is being archived.  If you want to tweak the way
the output is generated after the fact (e.g.  you committed without
adding an appropriate export-ignore in its ‘.gitattributes’), adjust the
checked out ‘.gitattributes’ file as necessary and use
‘--worktree-attributes’ option.  Alternatively you can keep necessary
attributes that should apply while archiving any tree in your
‘$GIT_DIR/info/attributes’ file.


EXAMPLES
********

‘git archive --format=tar --prefix=junk/ HEAD | (cd /var/tmp/ && tar xf -)’
     Create a tar archive that contains the contents of the latest
     commit on the current branch, and extract it in the ‘/var/tmp/junk’
     directory.

‘git archive --format=tar --prefix=git-1.4.0/ v1.4.0 | gzip >git-1.4.0.tar.gz’
     Create a compressed tarball for v1.4.0 release.

‘git archive --format=tar.gz --prefix=git-1.4.0/ v1.4.0 >git-1.4.0.tar.gz’
     Same as above, but using the builtin tar.gz handling.

‘git archive --prefix=git-1.4.0/ -o git-1.4.0.tar.gz v1.4.0’
     Same as above, but the format is inferred from the output file.

‘git archive --format=tar --prefix=git-1.4.0/ v1.4.0^{tree} | gzip >git-1.4.0.tar.gz’
     Create a compressed tarball for v1.4.0 release, but without a
     global extended pax header.

‘git archive --format=zip --prefix=git-docs/ HEAD:Documentation/ > git-1.4.0-docs.zip’
     Put everything in the current head’s Documentation/ directory into
     _git-1.4.0-docs.zip_, with the prefix _git-docs/_.

‘git archive -o latest.zip HEAD’
     Create a Zip archive that contains the contents of the latest
     commit on the current branch.  Note that the output format is
     inferred by the extension of the output file.

‘git config tar.tar.xz.command "xz -c"’
     Configure a "tar.xz" format for making LZMA-compressed tarfiles.
     You can use it specifying ‘--format=tar.xz’, or by creating an
     output file like ‘-o foo.tar.xz’.


SEE ALSO
********

gitattributes(5)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-bisect,  Up: Top

Name
****

git-bisect — Use binary search to find the commit that introduced a bug


Synopsis
********

     git bisect <subcommand> <options>


DESCRIPTION
***********

The command takes various subcommands, and different options depending
on the subcommand:

     git bisect start [--term-{new,bad}=<term> --term-{old,good}=<term>]
                      [--no-checkout] [--first-parent] [<bad> [<good>...]] [--] [<paths>...]
     git bisect (bad|new|<term-new>) [<rev>]
     git bisect (good|old|<term-old>) [<rev>...]
     git bisect terms [--term-good | --term-bad]
     git bisect skip [(<rev>|<range>)...]
     git bisect reset [<commit>]
     git bisect (visualize|view)
     git bisect replay <logfile>
     git bisect log
     git bisect run <cmd>...
     git bisect help

   This command uses a binary search algorithm to find which commit in
your project’s history introduced a bug.  You use it by first telling it
a "bad" commit that is known to contain the bug, and a "good" commit
that is known to be before the bug was introduced.  Then ‘git bisect’
picks a commit between those two endpoints and asks you whether the
selected commit is "good" or "bad".  It continues narrowing down the
range until it finds the exact commit that introduced the change.

   In fact, ‘git bisect’ can be used to find the commit that changed
*any* property of your project; e.g., the commit that fixed a bug, or
the commit that caused a benchmark’s performance to improve.  To support
this more general usage, the terms "old" and "new" can be used in place
of "good" and "bad", or you can choose your own terms.  See section
"Alternate terms" below for more information.


Basic bisect commands: start, bad, good
=======================================

As an example, suppose you are trying to find the commit that broke a
feature that was known to work in version ‘v2.6.13-rc2’ of your project.
You start a bisect session as follows:

     $ git bisect start
     $ git bisect bad                 # Current version is bad
     $ git bisect good v2.6.13-rc2    # v2.6.13-rc2 is known to be good

   Once you have specified at least one bad and one good commit, ‘git
bisect’ selects a commit in the middle of that range of history, checks
it out, and outputs something similar to the following:

     Bisecting: 675 revisions left to test after this (roughly 10 steps)

   You should now compile the checked-out version and test it.  If that
version works correctly, type

     $ git bisect good

   If that version is broken, type

     $ git bisect bad

   Then ‘git bisect’ will respond with something like

     Bisecting: 337 revisions left to test after this (roughly 9 steps)

   Keep repeating the process: compile the tree, test it, and depending
on whether it is good or bad run ‘git bisect good’ or ‘git bisect bad’
to ask for the next commit that needs testing.

   Eventually there will be no more revisions left to inspect, and the
command will print out a description of the first bad commit.  The
reference ‘refs/bisect/bad’ will be left pointing at that commit.


Bisect reset
============

After a bisect session, to clean up the bisection state and return to
the original HEAD, issue the following command:

     $ git bisect reset

   By default, this will return your tree to the commit that was checked
out before ‘git bisect start’.  (A new ‘git bisect start’ will also do
that, as it cleans up the old bisection state.)

   With an optional argument, you can return to a different commit
instead:

     $ git bisect reset <commit>

   For example, ‘git bisect reset bisect/bad’ will check out the first
bad revision, while ‘git bisect reset HEAD’ will leave you on the
current bisection commit and avoid switching commits at all.


Alternate terms
===============

Sometimes you are not looking for the commit that introduced a breakage,
but rather for a commit that caused a change between some other "old"
state and "new" state.  For example, you might be looking for the commit
that introduced a particular fix.  Or you might be looking for the first
commit in which the source-code filenames were finally all converted to
your company’s naming standard.  Or whatever.

   In such cases it can be very confusing to use the terms "good" and
"bad" to refer to "the state before the change" and "the state after the
change".  So instead, you can use the terms "old" and "new",
respectively, in place of "good" and "bad".  (But note that you cannot
mix "good" and "bad" with "old" and "new" in a single session.)

   In this more general usage, you provide ‘git bisect’ with a "new"
commit that has some property and an "old" commit that doesn’t have that
property.  Each time ‘git bisect’ checks out a commit, you test if that
commit has the property.  If it does, mark the commit as "new";
otherwise, mark it as "old".  When the bisection is done, ‘git bisect’
will report which commit introduced the property.

   To use "old" and "new" instead of "good" and bad, you must run ‘git
bisect start’ without commits as argument and then run the following
commands to add the commits:

     git bisect old [<rev>]

   to indicate that a commit was before the sought change, or

     git bisect new [<rev>...]

   to indicate that it was after.

   To get a reminder of the currently used terms, use

     git bisect terms

   You can get just the old (respectively new) term with ‘git bisect
terms --term-old’ or ‘git bisect terms --term-good’.

   If you would like to use your own terms instead of "bad"/"good" or
"new"/"old", you can choose any names you like (except existing bisect
subcommands like ‘reset’, ‘start’, …) by starting the bisection using

     git bisect start --term-old <term-old> --term-new <term-new>

   For example, if you are looking for a commit that introduced a
performance regression, you might use

     git bisect start --term-old fast --term-new slow

   Or if you are looking for the commit that fixed a bug, you might use

     git bisect start --term-new fixed --term-old broken

   Then, use ‘git bisect <term-old>’ and ‘git bisect <term-new>’ instead
of ‘git bisect good’ and ‘git bisect bad’ to mark commits.


Bisect visualize/view
=====================

To see the currently remaining suspects in _gitk_, issue the following
command during the bisection process (the subcommand ‘view’ can be used
as an alternative to ‘visualize’):

     $ git bisect visualize

   If the ‘DISPLAY’ environment variable is not set, _git log_ is used
instead.  You can also give command-line options such as ‘-p’ and
‘--stat’.

     $ git bisect visualize --stat


Bisect log and bisect replay
============================

After having marked revisions as good or bad, issue the following
command to show what has been done so far:

     $ git bisect log

   If you discover that you made a mistake in specifying the status of a
revision, you can save the output of this command to a file, edit it to
remove the incorrect entries, and then issue the following commands to
return to a corrected state:

     $ git bisect reset
     $ git bisect replay that-file


Avoiding testing a commit
=========================

If, in the middle of a bisect session, you know that the suggested
revision is not a good one to test (e.g.  it fails to build and you know
that the failure does not have anything to do with the bug you are
chasing), you can manually select a nearby commit and test that one
instead.

   For example:

     $ git bisect good/bad                   # previous round was good or bad.
     Bisecting: 337 revisions left to test after this (roughly 9 steps)
     $ git bisect visualize                  # oops, that is uninteresting.
     $ git reset --hard HEAD~3               # try 3 revisions before what
                                             # was suggested

   Then compile and test the chosen revision, and afterwards mark the
revision as good or bad in the usual manner.


Bisect skip
===========

Instead of choosing a nearby commit by yourself, you can ask Git to do
it for you by issuing the command:

     $ git bisect skip                 # Current version cannot be tested

   However, if you skip a commit adjacent to the one you are looking
for, Git will be unable to tell exactly which of those commits was the
first bad one.

   You can also skip a range of commits, instead of just one commit,
using range notation.  For example:

     $ git bisect skip v2.5..v2.6

   This tells the bisect process that no commit after ‘v2.5’, up to and
including ‘v2.6’, should be tested.

   Note that if you also want to skip the first commit of the range you
would issue the command:

     $ git bisect skip v2.5 v2.5..v2.6

   This tells the bisect process that the commits between ‘v2.5’ and
‘v2.6’ (inclusive) should be skipped.


Cutting down bisection by giving more parameters to bisect start
================================================================

You can further cut down the number of trials, if you know what part of
the tree is involved in the problem you are tracking down, by specifying
path parameters when issuing the ‘bisect start’ command:

     $ git bisect start -- arch/i386 include/asm-i386

   If you know beforehand more than one good commit, you can narrow the
bisect space down by specifying all of the good commits immediately
after the bad commit when issuing the ‘bisect start’ command:

     $ git bisect start v2.6.20-rc6 v2.6.20-rc4 v2.6.20-rc1 --
                        # v2.6.20-rc6 is bad
                        # v2.6.20-rc4 and v2.6.20-rc1 are good


Bisect run
==========

If you have a script that can tell if the current source code is good or
bad, you can bisect by issuing the command:

     $ git bisect run my_script arguments

   Note that the script (‘my_script’ in the above example) should exit
with code 0 if the current source code is good/old, and exit with a code
between 1 and 127 (inclusive), except 125, if the current source code is
bad/new.

   Any other exit code will abort the bisect process.  It should be
noted that a program that terminates via ‘exit(-1)’ leaves $?  = 255,
(see the exit(3) manual page), as the value is chopped with ‘& 0377’.

   The special exit code 125 should be used when the current source code
cannot be tested.  If the script exits with this code, the current
revision will be skipped (see ‘git bisect skip’ above).  125 was chosen
as the highest sensible value to use for this purpose, because 126 and
127 are used by POSIX shells to signal specific error status (127 is for
command not found, 126 is for command found but not executable—these
details do not matter, as they are normal errors in the script, as far
as ‘bisect run’ is concerned).

   You may often find that during a bisect session you want to have
temporary modifications (e.g.  s/#define DEBUG 0/#define DEBUG 1/ in a
header file, or "revision that does not have this commit needs this
patch applied to work around another problem this bisection is not
interested in") applied to the revision being tested.

   To cope with such a situation, after the inner _git bisect_ finds the
next revision to test, the script can apply the patch before compiling,
run the real test, and afterwards decide if the revision (possibly with
the needed patch) passed the test and then rewind the tree to the
pristine state.  Finally the script should exit with the status of the
real test to let the ‘git bisect run’ command loop determine the
eventual outcome of the bisect session.


OPTIONS
*******

‘--no-checkout’
     Do not checkout the new working tree at each iteration of the
     bisection process.  Instead just update a special reference named
     ‘BISECT_HEAD’ to make it point to the commit that should be tested.

     This option may be useful when the test you would perform in each
     step does not require a checked out tree.

     If the repository is bare, ‘--no-checkout’ is assumed.

‘--first-parent’
     Follow only the first parent commit upon seeing a merge commit.

     In detecting regressions introduced through the merging of a
     branch, the merge commit will be identified as introduction of the
     bug and its ancestors will be ignored.

     This option is particularly useful in avoiding false positives when
     a merged branch contained broken or non-buildable commits, but the
     merge itself was OK.


EXAMPLES
********

   • Automatically bisect a broken build between v1.2 and HEAD:

          $ git bisect start HEAD v1.2 --      # HEAD is bad, v1.2 is good
          $ git bisect run make                # "make" builds the app
          $ git bisect reset                   # quit the bisect session

   • Automatically bisect a test failure between origin and HEAD:

          $ git bisect start HEAD origin --    # HEAD is bad, origin is good
          $ git bisect run make test           # "make test" builds and tests
          $ git bisect reset                   # quit the bisect session

   • Automatically bisect a broken test case:

          $ cat ~/test.sh
          #!/bin/sh
          make || exit 125                     # this skips broken builds
          ~/check_test_case.sh                 # does the test case pass?
          $ git bisect start HEAD HEAD~10 --   # culprit is among the last 10
          $ git bisect run ~/test.sh
          $ git bisect reset                   # quit the bisect session

     Here we use a ‘test.sh’ custom script.  In this script, if ‘make’
     fails, we skip the current commit.  ‘check_test_case.sh’ should
     ‘exit 0’ if the test case passes, and ‘exit 1’ otherwise.

     It is safer if both ‘test.sh’ and ‘check_test_case.sh’ are outside
     the repository to prevent interactions between the bisect, make and
     test processes and the scripts.

   • Automatically bisect with temporary modifications (hot-fix):

          $ cat ~/test.sh
          #!/bin/sh

          # tweak the working tree by merging the hot-fix branch
          # and then attempt a build
          if      git merge --no-commit --no-ff hot-fix &&
                  make
          then
                  # run project specific test and report its status
                  ~/check_test_case.sh
                  status=$?
          else
                  # tell the caller this is untestable
                  status=125
          fi

          # undo the tweak to allow clean flipping to the next commit
          git reset --hard

          # return control
          exit $status

     This applies modifications from a hot-fix branch before each test
     run, e.g.  in case your build or test environment changed so that
     older revisions may need a fix which newer ones have already.
     (Make sure the hot-fix branch is based off a commit which is
     contained in all revisions which you are bisecting, so that the
     merge does not pull in too much, or use ‘git cherry-pick’ instead
     of ‘git merge’.)

   • Automatically bisect a broken test case:

          $ git bisect start HEAD HEAD~10 --   # culprit is among the last 10
          $ git bisect run sh -c "make || exit 125; ~/check_test_case.sh"
          $ git bisect reset                   # quit the bisect session

     This shows that you can do without a run script if you write the
     test on a single line.

   • Locate a good region of the object graph in a damaged repository

          $ git bisect start HEAD <known-good-commit> [ <boundary-commit> ... ] --no-checkout
          $ git bisect run sh -c '
                  GOOD=$(git for-each-ref "--format=%(objectname)" refs/bisect/good-*) &&
                  git rev-list --objects BISECT_HEAD --not $GOOD >tmp.$$ &&
                  git pack-objects --stdout >/dev/null <tmp.$$
                  rc=$?
                  rm -f tmp.$$
                  test $rc = 0'

          $ git bisect reset                   # quit the bisect session

     In this case, when _git bisect run_ finishes, bisect/bad will refer
     to a commit that has at least one parent whose reachable graph is
     fully traversable in the sense required by _git pack objects_.

   • Look for a fix instead of a regression in the code

          $ git bisect start
          $ git bisect new HEAD    # current commit is marked as new
          $ git bisect old HEAD~10 # the tenth commit from now is marked as old

     or:

     $ git bisect start --term-old broken --term-new fixed
     $ git bisect fixed
     $ git bisect broken HEAD~10


Getting help
============

Use ‘git bisect’ to get a short usage description, and ‘git bisect help’
or ‘git bisect -h’ to get a long usage description.


SEE ALSO
********

Fighting regressions with git bisect (git-bisect-lk2009.html),
git-blame(1).


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-blame,  Up: Top

Name
****

git-blame — Show what revision and author last modified each line of a
file


Synopsis
********

     git blame [-c] [-b] [-l] [–root] [-t] [-f] [-n] [-s] [-e] [-p] [-w] [–incremental]
                 [-L <range>] [-S <revs-file>] [-M] [-C] [-C] [-C] [–since=<date>]
                 [–ignore-rev <rev>] [–ignore-revs-file <file>]
                 [–progress] [–abbrev=<n>] [<rev> | –contents <file> | –reverse <rev>..<rev>]
                 [–] <file>


DESCRIPTION
***********

Annotates each line in the given file with information from the revision
which last modified the line.  Optionally, start annotating from the
given revision.

   When specified one or more times, ‘-L’ restricts annotation to the
requested lines.

   The origin of lines is automatically followed across whole-file
renames (currently there is no option to turn the rename-following off).
To follow lines moved from one file to another, or to follow lines that
were copied and pasted from another file, etc., see the ‘-C’ and ‘-M’
options.

   The report does not tell you anything about lines which have been
deleted or replaced; you need to use a tool such as _git diff_ or the
"pickaxe" interface briefly mentioned in the following paragraph.

   Apart from supporting file annotation, Git also supports searching
the development history for when a code snippet occurred in a change.
This makes it possible to track when a code snippet was added to a file,
moved or copied between files, and eventually deleted or replaced.  It
works by searching for a text string in the diff.  A small example of
the pickaxe interface that searches for ‘blame_usage’:

     $ git log --pretty=oneline -S'blame_usage'
     5040f17eba15504bad66b14a645bddd9b015ebb7 blame -S <ancestry-file>
     ea4c7f9bf69e781dd0cd88d2bccb2bf5cc15c9a7 git-blame: Make the output


OPTIONS
*******

‘-b’
     境界コミットでは空白のSHA-1を表示します。これは、
     ‘blame.blankBoundary’ 構成オプションを介して制御することもできます
     。

‘--root’
     ルートコミットを境界として扱わないでください。 これは、
     ‘blame.showRoot’ 構成オプションを介して制御することもできます。

‘--show-stats’
     blameの出力の最後に追加の統計を含めます。

‘-L <start>,<end>’
‘-L :<funcname>’
     _<start>,<end>_ で指定の行範囲のみ、または正規表現関数名
     _<funcname>_ で指定の行範囲のみに注釈を付けます。複数回指定できます
     。範囲が重複するのは許されます。

     _<start>_ と _<end>_ はオプションです。 ‘-L <start>’ または ‘-L
     <start>,’ は _<start>_ からファイルの終わりまでの範囲です。 ‘-L
     ,<end>’ は、ファイルの先頭から _<end>_ までの範囲です。

     _<start>_ と _<end>_ は、以下のいずれかの形式です:

        • number

          _<start>_ または _<end>_ が数値の場合、絶対行番号を指定します
          (行は1から数えます)。

        • ‘/regex/’

          この形式は、指定されたPOSIX正規表現に一致する最初の行を使用し
          ます。 _<start>_ が正規表現の場合、前の ‘-L’ 範囲の末尾から検
          索します。それ以外の場合は、ファイルの先頭から検索します。
          _<start>_ が ‘^/regex/’ の場合、ファイルの先頭から検索します。
          _<end>_ が正規表現の場合、 _<start>_ で指定された行から検索開
          始します。

        • +offset or -offset

          これは <end> に対してのみ有効であり、 <start> で指定された行の
          前後の行数を指定します。

     _<start>_ および _<end>_ の代わりに ‘:<funcname>’ が指定されている
     場合、これは _<funcname>_ に一致する最初の関数名行から次の関数名行
     までの範囲を示す正規表現です。 ‘:<funcname>’ は、前の ‘-L’ 範囲の末
     尾から検索します。それ以外の場合は、ファイルの先頭から検索します。
     ‘^:<funcname>’ はファイルの先頭から検索します。関数名は、 ‘git
     diff’ がパッチハンクヘッダーを処理するのと同じ方法で決定されます
     (gitattributes(5) の _Defining a custom hunk-header_ 参照)。

‘-l’
     長いレビジョンを表示します(デフォルト: off)。

‘-t’
     生のタイムスタンプを表示します(デフフォルト: off)。

‘-S <revs-file>’
     git-rev-list(1) を呼び出す代わりに、revs-fileのリビジョンを使用しま
     す。

‘--reverse <rev>..<rev>’
     履歴を後方へではなく前方へウォークします。行があらわれたされたリビ
     ジョンを表示する代わりに、行が存在した最後のリビジョンを表示します
     。これには、START..END のように、STARTにblameのパスが存在するレビジ
     ョン範囲が必要です。 便宜上、 ‘git blame --reverse START’ は ‘git
     blame --reverse START..HEAD’ と見なされます。

‘--first-parent’
     マージコミットを確認したら、最初の親コミットのみを追跡します。 この
     オプションは、履歴全体にいつ導入されたかではなく、特定の統合ブラン
     チにいつ導入されたかを判別するために使用できます。

‘-p’
‘--porcelain’
     ソフトウェア等で使用するのに適した形式で表示します。

‘--line-porcelain’
     磁器形式で表示しますが、コミットが最初に参照されたときだけでなく、
     各行のコミット情報を出力します。 –porcelain の機能を含んでいます。

‘--incremental’
     ソフトウェア等で使用するのに適した形式で結果を段階的
     (incrementally)に表示します。

‘--encoding=<encoding>’
     作者名(author names)の出力と要約のコミットに使用されるエンコーディ
     ングを指定します。 これを ‘none’ に設定すると、blame出力は変換され
     ていないデータになります。詳細については、 git-log(1) のマニュアル
     ページにある discussion の encoding に関する説明を参照してください
     。

‘--contents <file>’
     <rev> が指定されていない場合、コマンドは作業ツリーのコピーから逆方
     向に開始して変更に注釈を付けます。このフラグにより、コマンドは、作
     業ツリーのコピーに、指定されたファイルの内容が含まれているように見
     せかけます(コマンドを標準入力から読み取るには、 ‘-’ を指定します)。

‘--date <format>’
     日付の出力に使用される形式を指定します。 –date が指定されていない場
     合、blame.date 構成変数の値が使用されます。 blame.date 構成変数も設
     定されていない場合は、 iso形式が使用されます。サポートされている値
     については、 git-log(1) の –date オプションの説明を参照してください
     。

‘--[no-]progress’
     進行状況は、端末に接続されている場合、デフォルトで標準エラーストリ
     ームに報告されます。このフラグは、端末に接続されていない場合でも進
     行状況のレポートを有効にします。 ‘--progress’ を ‘--porcelain’ また
     は ‘--incremental’ と一緒に使用することはできません。

‘-M[<num>]’
     ファイル内の移動またはコピーされた行を検出します。コミットが行のブ
     ロックを移動またはコピーすると(たとえば、元のファイルにA、次にBがあ
     り、コミットによってB、次にAに変更される)、従来の「blame」アルゴリ
     ズムは移動の半分だけに気づき、通常は行をblameします それは親に上に
     移動され(つまりB)、子のコミットに下に移動された(つまりA)行にblameを
     割り当てます。このオプションを使用すると、追加の検査パスを実行する
     ことにより、両方のグループの行が親のせいになります。

     <num> はオプションですが、Gitがそれらの行を親コミットに関連付けるた
     めにファイル内で移動/コピーとして検出する必要がある英数字の数
     (number of alphanumeric characters)の下限です。デフォルト値は20です
     。

‘-C[<num>]’
     ‘-M’ に加えて、同じコミットで変更された他のファイルから移動またはコ
     ピーされた行を検出します。これは、プログラムを再編成し、ファイル間
     でコードを移動するときに役立ちます。このオプションを2回指定すると、
     コマンドは、ファイルを作成するコミットで他のファイルからのコピーを
     追加で検索します。このオプションを3回指定すると、コマンドはコミット
     で他のファイルからのコピーを追加で検索します。

     <num> はオプションですが、Gitがそれらの行を親コミットに関連付けるた
     めにファイル間の移動/コピーとして検出する必要がある英数字の数
     (number of alphanumeric characters)の下限です。また、デフォルト値は
     40です。複数の ‘-C’ オプションが指定されている場合、最後の ‘-C’ の
     <num> 引数が有効になります。

‘--ignore-rev <rev>’
     変更が発生しなかったかのように、blameを割り当てるときにリビジョンに
     よって行われた変更を無視します。無視されたコミットによって変更また
     は追加された行は、その行または近くの行を変更した前のコミットのせい
     になります。このオプションは、複数のリビジョンを無視するために複数
     回指定できます。 ‘blame.markIgnoredLines’ 構成オプションが設定され
     ている場合、無視されたコミットによって変更され、別のコミットに起因
     する行は、blame出力で ‘?’ でマークされます。
     ‘blame.markUnblamableLines’ 構成オプションが設定されている場合、別
     のリビジョンに帰することができなかった無視されたコミットによって触
     れられた行は、 _*_ でマークされます。

‘--ignore-revs-file <file>’
     ‘file’ にリストされているリビジョンを無視します。これは
     ‘fsck.skipList’ と同じ形式である必要があります。このオプションは繰
     り返すことができ、これらのファイルは、 ‘blame.ignoreRevsFile’ 構成
     オプションで指定されたファイルの後に処理されます。空のファイル名
     ‘""’ は、以前に処理されたファイルからrevsのリストをクリアします。

‘-h’
     ヘルプメッセージを表示する。

‘-c’
     Use the same output mode as git-annotate(1) (Default: off).

‘--score-debug’
     Include debugging information related to the movement of lines
     between files (see ‘-C’) and lines moved within a file (see ‘-M’).
     The first number listed is the score.  This is the number of
     alphanumeric characters detected as having been moved between or
     within files.  This must be above a certain threshold for _git
     blame_ to consider those lines of code to have been moved.

‘-f’
‘--show-name’
     Show the filename in the original commit.  By default the filename
     is shown if there is any line that came from a file with a
     different name, due to rename detection.

‘-n’
‘--show-number’
     Show the line number in the original commit (Default: off).

‘-s’
     Suppress the author name and timestamp from the output.

‘-e’
‘--show-email’
     Show the author email instead of author name (Default: off).  This
     can also be controlled via the ‘blame.showEmail’ config option.

‘-w’
     Ignore whitespace when comparing the parent’s version and the
     child’s to find where the lines came from.

‘--abbrev=<n>’
     Instead of using the default 7+1 hexadecimal digits as the
     abbreviated object name, use <m>+1 digits, where <m> is at least
     <n> but ensures the commit object names are unique.  Note that 1
     column is used for a caret to mark the boundary commit.


THE PORCELAIN FORMAT
********************

In this format, each line is output after a header; the header at the
minimum has the first line which has:

   • 40-byte SHA-1 of the commit the line is attributed to;

   • the line number of the line in the original file;

   • the line number of the line in the final file;

   • on a line that starts a group of lines from a different commit than
     the previous one, the number of lines in this group.  On subsequent
     lines this field is absent.

   This header line is followed by the following information at least
once for each commit:

   • the author name ("author"), email ("author-mail"), time
     ("author-time"), and time zone ("author-tz"); similarly for
     committer.

   • the filename in the commit that the line is attributed to.

   • the first line of the commit log message ("summary").

   The contents of the actual line is output after the above header,
prefixed by a TAB. This is to allow adding more header elements later.

   The porcelain format generally suppresses commit information that has
already been seen.  For example, two lines that are blamed to the same
commit will both be shown, but the details for that commit will be shown
only once.  This is more efficient, but may require more state be kept
by the reader.  The ‘--line-porcelain’ option can be used to output full
commit information for each line, allowing simpler (but less efficient)
usage like:

     # count the number of lines attributed to each author
     git blame --line-porcelain file |
     sed -n 's/^author //p' |
     sort | uniq -c | sort -rn


SPECIFYING RANGES
*****************

Unlike _git blame_ and _git annotate_ in older versions of git, the
extent of the annotation can be limited to both line ranges and revision
ranges.  The ‘-L’ option, which limits annotation to a range of lines,
may be specified multiple times.

   When you are interested in finding the origin for lines 40-60 for
file ‘foo’, you can use the ‘-L’ option like so (they mean the same
thing — both ask for 21 lines starting at line 40):

     git blame -L 40,60 foo
     git blame -L 40,+21 foo

   Also you can use a regular expression to specify the line range:

     git blame -L '/^sub hello {/,/^}$/' foo

   which limits the annotation to the body of the ‘hello’ subroutine.

   When you are not interested in changes older than version v2.6.18, or
changes older than 3 weeks, you can use revision range specifiers
similar to _git rev-list_:

     git blame v2.6.18.. -- foo
     git blame --since=3.weeks -- foo

   When revision range specifiers are used to limit the annotation,
lines that have not changed since the range boundary (either the commit
v2.6.18 or the most recent commit that is more than 3 weeks old in the
above example) are blamed for that range boundary commit.

   A particularly useful way is to see if an added file has lines
created by copy-and-paste from existing files.  Sometimes this indicates
that the developer was being sloppy and did not refactor the code
properly.  You can first find the commit that introduced the file with:

     git log --diff-filter=A --pretty=short -- foo

   and then annotate the change between the commit and its parents,
using ‘commit^!’ notation:

     git blame -C -C -f $commit^! -- foo


INCREMENTAL OUTPUT
******************

When called with ‘--incremental’ option, the command outputs the result
as it is built.  The output generally will talk about lines touched by
more recent commits first (i.e.  the lines will be annotated out of
order) and is meant to be used by interactive viewers.

   The output format is similar to the Porcelain format, but it does not
contain the actual lines from the file that is being annotated.

  1. Each blame entry always starts with a line of:

          <40-byte hex sha1> <sourceline> <resultline> <num_lines>

     Line numbers count from 1.

  2. The first time that a commit shows up in the stream, it has various
     other information about it printed out with a one-word tag at the
     beginning of each line describing the extra commit information
     (author, email, committer, dates, summary, etc.).

  3. Unlike the Porcelain format, the filename information is always
     given and terminates the entry:

          "filename" <whitespace-quoted-filename-goes-here>

     and thus it is really quite easy to parse for some line- and
     word-oriented parser (which should be quite natural for most
     scripting languages).

          *Note*

          For people who do parsing: to make it more robust, just ignore
          any lines between the first and last one ("<sha1>" and
          "filename" lines) where you do not recognize the tag words (or
          care about that particular one) at the beginning of the
          "extended information" lines.  That way, if there is ever
          added information (like the commit encoding or extended commit
          commentary), a blame viewer will not care.


MAPPING AUTHORS
***************

See gitmailmap(5).


SEE ALSO
********

git-annotate(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-branch,  Up: Top

Name
****

git-branch — List, create, or delete branches


Synopsis
********

     git branch [–color[=<when>] | –no-color] [–show-current]
             [-v [–abbrev=<n> | –no-abbrev]]
             [–column[=<options>] | –no-column] [–sort=<key>]
             [–merged [<commit>]] [–no-merged [<commit>]]
             [–contains [<commit>]] [–no-contains [<commit>]]
             [–points-at <object>] [–format=<format>]
             [(-r | –remotes) | (-a | –all)]
             [–list] [<pattern>…]
     git branch [–track | –no-track] [-f] <branchname> [<start-point>]
     git branch (–set-upstream-to=<upstream> | -u <upstream>) [<branchname>]
     git branch –unset-upstream [<branchname>]
     git branch (-m | -M) [<oldbranch>] <newbranch>
     git branch (-c | -C) [<oldbranch>] <newbranch>
     git branch (-d | -D) [-r] <branchname>…
     git branch –edit-description [<branchname>]


DESCRIPTION
***********

If ‘--list’ is given, or if there are no non-option arguments, existing
branches are listed; the current branch will be highlighted in green and
marked with an asterisk.  Any branches checked out in linked worktrees
will be highlighted in cyan and marked with a plus sign.  Option ‘-r’
causes the remote-tracking branches to be listed, and option ‘-a’ shows
both local and remote branches.

   If a ‘<pattern>’ is given, it is used as a shell wildcard to restrict
the output to matching branches.  If multiple patterns are given, a
branch is shown if it matches any of the patterns.

   Note that when providing a ‘<pattern>’, you must use ‘--list’;
otherwise the command may be interpreted as branch creation.

   With ‘--contains’, shows only the branches that contain the named
commit (in other words, the branches whose tip commits are descendants
of the named commit), ‘--no-contains’ inverts it.  With ‘--merged’, only
branches merged into the named commit (i.e.  the branches whose tip
commits are reachable from the named commit) will be listed.  With
‘--no-merged’ only branches not merged into the named commit will be
listed.  If the <commit> argument is missing it defaults to ‘HEAD’ (i.e.
the tip of the current branch).

   The command’s second form creates a new branch head named
<branchname> which points to the current ‘HEAD’, or <start-point> if
given.  As a special case, for <start-point>, you may use ‘"A...B"’ as a
shortcut for the merge base of ‘A’ and ‘B’ if there is exactly one merge
base.  You can leave out at most one of ‘A’ and ‘B’, in which case it
defaults to ‘HEAD’.

   Note that this will create the new branch, but it will not switch the
working tree to it; use "git switch <newbranch>" to switch to the new
branch.

   When a local branch is started off a remote-tracking branch, Git sets
up the branch (specifically the ‘branch.<name>.remote’ and
‘branch.<name>.merge’ configuration entries) so that _git pull_ will
appropriately merge from the remote-tracking branch.  This behavior may
be changed via the global ‘branch.autoSetupMerge’ configuration flag.
That setting can be overridden by using the ‘--track’ and ‘--no-track’
options, and changed later using ‘git branch --set-upstream-to’.

   With a ‘-m’ or ‘-M’ option, <oldbranch> will be renamed to
<newbranch>.  If <oldbranch> had a corresponding reflog, it is renamed
to match <newbranch>, and a reflog entry is created to remember the
branch renaming.  If <newbranch> exists, -M must be used to force the
rename to happen.

   The ‘-c’ and ‘-C’ options have the exact same semantics as ‘-m’ and
‘-M’, except instead of the branch being renamed, it will be copied to a
new name, along with its config and reflog.

   With a ‘-d’ or ‘-D’ option, ‘<branchname>’ will be deleted.  You may
specify more than one branch for deletion.  If the branch currently has
a reflog then the reflog will also be deleted.

   Use ‘-r’ together with ‘-d’ to delete remote-tracking branches.
Note, that it only makes sense to delete remote-tracking branches if
they no longer exist in the remote repository or if _git fetch_ was
configured not to fetch them again.  See also the _prune_ subcommand of
git-remote(1) for a way to clean up all obsolete remote-tracking
branches.


OPTIONS
*******

‘-d’
‘--delete’
     Delete a branch.  The branch must be fully merged in its upstream
     branch, or in ‘HEAD’ if no upstream was set with ‘--track’ or
     ‘--set-upstream-to’.

‘-D’
     Shortcut for ‘--delete --force’.

‘--create-reflog’
     Create the branch’s reflog.  This activates recording of all
     changes made to the branch ref, enabling use of date based sha1
     expressions such as "<branchname>@{yesterday}".  Note that in
     non-bare repositories, reflogs are usually enabled by default by
     the ‘core.logAllRefUpdates’ config option.  The negated form
     ‘--no-create-reflog’ only overrides an earlier ‘--create-reflog’,
     but currently does not negate the setting of
     ‘core.logAllRefUpdates’.

‘-f’
‘--force’
     Reset <branchname> to <startpoint>, even if <branchname> exists
     already.  Without ‘-f’, _git branch_ refuses to change an existing
     branch.  In combination with ‘-d’ (or ‘--delete’), allow deleting
     the branch irrespective of its merged status, or whether it even
     points to a valid commit.  In combination with ‘-m’ (or ‘--move’),
     allow renaming the branch even if the new branch name already
     exists, the same applies for ‘-c’ (or ‘--copy’).

‘-m’
‘--move’
     Move/rename a branch and the corresponding reflog.

‘-M’
     Shortcut for ‘--move --force’.

‘-c’
‘--copy’
     Copy a branch and the corresponding reflog.

‘-C’
     Shortcut for ‘--copy --force’.

‘--color[=<when>]’
     Color branches to highlight current, local, and remote-tracking
     branches.  The value must be always (the default), never, or auto.

‘--no-color’
     Turn off branch colors, even when the configuration file gives the
     default to color output.  Same as ‘--color=never’.

‘-i’
‘--ignore-case’
     Sorting and filtering branches are case insensitive.

‘--column[=<options>]’
‘--no-column’
     Display branch listing in columns.  See configuration variable
     ‘column.branch’ for option syntax.  ‘--column’ and ‘--no-column’
     without options are equivalent to _always_ and _never_
     respectively.

     This option is only applicable in non-verbose mode.

‘-r’
‘--remotes’
     List or delete (if used with -d) the remote-tracking branches.
     Combine with ‘--list’ to match the optional pattern(s).

‘-a’
‘--all’
     List both remote-tracking branches and local branches.  Combine
     with ‘--list’ to match optional pattern(s).

‘-l’
‘--list’
     List branches.  With optional ‘<pattern>...’, e.g.  ‘git branch
     --list 'maint-*'’, list only the branches that match the
     pattern(s).

‘--show-current’
     Print the name of the current branch.  In detached HEAD state,
     nothing is printed.

‘-v’
‘-vv’
‘--verbose’
     When in list mode, show sha1 and commit subject line for each head,
     along with relationship to upstream branch (if any).  If given
     twice, print the path of the linked worktree (if any) and the name
     of the upstream branch, as well (see also ‘git remote show
     <remote>’).  Note that the current worktree’s HEAD will not have
     its path printed (it will always be your current directory).

‘-q’
‘--quiet’
     Be more quiet when creating or deleting a branch, suppressing
     non-error messages.

‘--abbrev=<n>’
     In the verbose listing that show the commit object name, show the
     shortest prefix that is at least _<n>_ hexdigits long that uniquely
     refers the object.  The default value is 7 and can be overridden by
     the ‘core.abbrev’ config option.

‘--no-abbrev’
     Display the full sha1s in the output listing rather than
     abbreviating them.

‘-t’
‘--track’
     When creating a new branch, set up ‘branch.<name>.remote’ and
     ‘branch.<name>.merge’ configuration entries to mark the start-point
     branch as "upstream" from the new branch.  This configuration will
     tell git to show the relationship between the two branches in ‘git
     status’ and ‘git branch -v’.  Furthermore, it directs ‘git pull’
     without arguments to pull from the upstream when the new branch is
     checked out.

     This behavior is the default when the start point is a
     remote-tracking branch.  Set the branch.autoSetupMerge
     configuration variable to ‘false’ if you want ‘git switch’, ‘git
     checkout’ and ‘git branch’ to always behave as if ‘--no-track’ were
     given.  Set it to ‘always’ if you want this behavior when the
     start-point is either a local or remote-tracking branch.

‘--no-track’
     Do not set up "upstream" configuration, even if the
     branch.autoSetupMerge configuration variable is true.

‘--set-upstream’
     As this option had confusing syntax, it is no longer supported.
     Please use ‘--track’ or ‘--set-upstream-to’ instead.

‘-u <upstream>’
‘--set-upstream-to=<upstream>’
     Set up <branchname>’s tracking information so <upstream> is
     considered <branchname>’s upstream branch.  If no <branchname> is
     specified, then it defaults to the current branch.

‘--unset-upstream’
     Remove the upstream information for <branchname>.  If no branch is
     specified it defaults to the current branch.

‘--edit-description’
     Open an editor and edit the text to explain what the branch is for,
     to be used by various other commands (e.g.  ‘format-patch’,
     ‘request-pull’, and ‘merge’ (if enabled)).  Multi-line explanations
     may be used.

‘--contains [<commit>]’
     Only list branches which contain the specified commit (HEAD if not
     specified).  Implies ‘--list’.

‘--no-contains [<commit>]’
     Only list branches which don’t contain the specified commit (HEAD
     if not specified).  Implies ‘--list’.

‘--merged [<commit>]’
     Only list branches whose tips are reachable from the specified
     commit (HEAD if not specified).  Implies ‘--list’.

‘--no-merged [<commit>]’
     Only list branches whose tips are not reachable from the specified
     commit (HEAD if not specified).  Implies ‘--list’.

<branchname>
     The name of the branch to create or delete.  The new branch name
     must pass all checks defined by git-check-ref-format(1).  Some of
     these checks may restrict the characters allowed in a branch name.

<start-point>
     The new branch head will point to this commit.  It may be given as
     a branch name, a commit-id, or a tag.  If this option is omitted,
     the current HEAD will be used instead.

<oldbranch>
     The name of an existing branch to rename.

<newbranch>
     The new name for an existing branch.  The same restrictions as for
     <branchname> apply.

‘--sort=<key>’
     Sort based on the key given.  Prefix ‘-’ to sort in descending
     order of the value.  You may use the –sort=<key> option multiple
     times, in which case the last key becomes the primary key.  The
     keys supported are the same as those in ‘git for-each-ref’.  Sort
     order defaults to the value configured for the ‘branch.sort’
     variable if exists, or to sorting based on the full refname
     (including ‘refs/...’ prefix).  This lists detached HEAD (if
     present) first, then local branches and finally remote-tracking
     branches.  See git-config(1).

‘--points-at <object>’
     Only list branches of the given object.

‘--format <format>’
     A string that interpolates ‘%(fieldname)’ from a branch ref being
     shown and the object it points at.  The format is the same as that
     of git-for-each-ref(1).


CONFIGURATION
*************

‘pager.branch’ is only respected when listing branches, i.e., when
‘--list’ is used or implied.  The default is to use a pager.  See
git-config(1).


EXAMPLES
********

Start development from a known tag
          $ git clone git://git.kernel.org/pub/scm/.../linux-2.6 my2.6
          $ cd my2.6
          $ git branch my2.6.14 v2.6.14   (1)
          $ git switch my2.6.14

     *note (1): CO1-1.
          This step and the next one could be combined into a single
          step with "checkout -b my2.6.14 v2.6.14".

Delete an unneeded branch
          $ git clone git://git.kernel.org/.../git.git my.git
          $ cd my.git
          $ git branch -d -r origin/todo origin/html origin/man   (1)
          $ git branch -D test                                    (2)

     *note (1): CO2-1.
          Delete the remote-tracking branches "todo", "html" and "man".
          The next _fetch_ or _pull_ will create them again unless you
          configure them not to.  See git-fetch(1).

     *note (2): CO2-2.
          Delete the "test" branch even if the "master" branch (or
          whichever branch is currently checked out) does not have all
          commits from the test branch.

Listing branches from a specific remote
          $ git branch -r -l '<remote>/<pattern>'                 (1)
          $ git for-each-ref 'refs/remotes/<remote>/<pattern>'    (2)

     *note (1): CO3-1.
          Using ‘-a’ would conflate <remote> with any local branches you
          happen to have been prefixed with the same <remote> pattern.

     *note (2): CO3-2.
          ‘for-each-ref’ can take a wide range of options.  See
          git-for-each-ref(1)

   Patterns will normally need quoting.


NOTES
*****

If you are creating a branch that you want to switch to immediately, it
is easier to use the "git switch" command with its ‘-c’ option to do the
same thing with a single command.

   The options ‘--contains’, ‘--no-contains’, ‘--merged’ and
‘--no-merged’ serve four related but different purposes:

   • ‘--contains <commit>’ is used to find all branches which will need
     special attention if <commit> were to be rebased or amended, since
     those branches contain the specified <commit>.

   • ‘--no-contains <commit>’ is the inverse of that, i.e.  branches
     that don’t contain the specified <commit>.

   • ‘--merged’ is used to find all branches which can be safely
     deleted, since those branches are fully contained by HEAD.

   • ‘--no-merged’ is used to find branches which are candidates for
     merging into HEAD, since those branches are not fully contained by
     HEAD.

   複数の ‘--contains’ フィルターと ‘--no-contains’ フィルターを組み合わ
せる場合、少なくとも1つの ‘--contains’ コミットを含み、 ‘--no-contains’
コミットを含まない参照のみが表示されます。

   複数の ‘--merged’ フィルターと ‘--no-merged’ フィルターを組み合わせる
と、少なくとも1つの ‘--merged’ コミットから到達可能で、 ‘--no-merged’ コ
ミットのいずれからも到達できない参照のみが表示されます。


SEE ALSO
********

git-check-ref-format(1), git-fetch(1), git-remote(1), “Understanding
history: What is a branch?” (user-manual.html#what-is-a-branch) in the
Git User’s Manual.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-bugreport,  Up: Top

Name
****

git-bugreport — ユーザーがバグ報告を提出するための情報を収集する


Synopsis
********

     git bugreport [(-o | –output-directory) <path>] [(-s | –suffix) <format>]


DESCRIPTION
***********

ユーザーのマシン、Gitクライアント、リポジトリの状態に関する情報、および
ユーザーが観察した動作に関する情報の入力書式を(例えば、Gitメーリングリス
トに観察されたバグを報告するために)、ユーザーが共有できる単一のテキスト
ファイルとして獲得します。

   以下の情報がユーザーに要求されます:

   • 再現手順

   • 期待する動作

   • 実際の動作

   以下の情報が自動的に収集されます:

   • _git version –build-options_

   • uname sysname と release と version と machine strings

   • コンパイラ指定情報文字列

   • 有効なフックのリスト

   • $SHELL

   このツールは、通常のGitセットアッププロセスを介して呼び出されます。つ
まり、関連する構成ファイルが読み取れない場合など、起動できない場合があり
ます。 この種のシナリオでは、手動で助けを求めるときに、上記の種類の情報
を手動で収集すると役立つ場合があります。


OPTIONS
*******

‘-o <path>’
‘--output-directory <path>’
     結果のバグレポートファイルを現在のディレクトリではなく ‘<path>’ に
     配置します。

‘-s <format>’
‘--suffix <format>’
     バグレポート名の代替サフィックスを指定して、
     _git-bugreport-<formatted suffix>_ という名前のファイルを作成します
     。 これは、 strftime(3) 形式の文字列の形式をとる必要があります。現
     在の現地時間が使用されます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-bundle,  Up: Top

Name
****

git-bundle — Move objects and refs by archive


Synopsis
********

     git bundle create [-q | –quiet | –progress | –all-progress] [–all-progress-implied]
                         [–version=<version>] <file> <git-rev-list-args>
     git bundle verify [-q | –quiet] <file>
     git bundle list-heads <file> [<refname>…]
     git bundle unbundle [–progress] <file> [<refname>…]


DESCRIPTION
***********

Create, unpack, and manipulate "bundle" files.  Bundles are used for the
"offline" transfer of Git objects without an active "server" sitting on
the other side of the network connection.

   They can be used to create both incremental and full backups of a
repository, and to relay the state of the references in one repository
to another.

   Git commands that fetch or otherwise "read" via protocols such as
‘ssh://’ and ‘https://’ can also operate on bundle files.  It is
possible git-clone(1) a new repository from a bundle, to use
git-fetch(1) to fetch from one, and to list the references contained
within it with git-ls-remote(1).  There’s no corresponding "write"
support, i.e.a _git push_ into a bundle is not supported.

   See the "EXAMPLES" section below for examples of how to use bundles.


BUNDLE FORMAT
*************

Bundles are ‘.pack’ files (see git-pack-objects(1)) with a header
indicating what references are contained within the bundle.

   Like the the packed archive format itself bundles can either be
self-contained, or be created using exclusions.  See the "OBJECT
PREREQUISITES" section below.

   Bundles created using revision exclusions are "thin packs" created
using the ‘--thin’ option to git-pack-objects(1), and unbundled using
the ‘--fix-thin’ option to git-index-pack(1).

   There is no option to create a "thick pack" when using revision
exclusions, users should not be concerned about the difference.  By
using "thin packs" bundles created using exclusions are smaller in size.
That they’re "thin" under the hood is merely noted here as a curiosity,
and as a reference to other documentation

   See the ‘bundle-format’ documentation (technical/bundle-format.html)
for more details and the discussion of "thin pack" in the pack format
documentation (technical/pack-format.html) for further details.


OPTIONS
*******

create [options] <file> <git-rev-list-args>
     Used to create a bundle named _file_.  This requires the
     _<git-rev-list-args>_ arguments to define the bundle contents.
     _options_ contains the options specific to the _git bundle create_
     subcommand.

verify <file>
     Used to check that a bundle file is valid and will apply cleanly to
     the current repository.  This includes checks on the bundle format
     itself as well as checking that the prerequisite commits exist and
     are fully linked in the current repository.  _git bundle_ prints a
     list of missing commits, if any, and exits with a non-zero status.

list-heads <file>
     Lists the references defined in the bundle.  If followed by a list
     of references, only references matching those given are printed
     out.

unbundle <file>
     Passes the objects in the bundle to _git index-pack_ for storage in
     the repository, then prints the names of all defined references.
     If a list of references is given, only references matching those in
     the list are printed.  This command is really plumbing, intended to
     be called only by _git fetch_.

<git-rev-list-args>
     A list of arguments, acceptable to _git rev-parse_ and _git
     rev-list_ (and containing a named ref, see SPECIFYING REFERENCES
     below), that specifies the specific objects and references to
     transport.  For example, ‘master~10..master’ causes the current
     master reference to be packaged along with all objects added since
     its 10th ancestor commit.  There is no explicit limit to the number
     of references and objects that may be packaged.

[<refname>…]
     A list of references used to limit the references reported as
     available.  This is principally of use to _git fetch_, which
     expects to receive only those references asked for and not
     necessarily everything in the pack (in this case, _git bundle_ acts
     like _git fetch-pack_).

‘--progress’
     Progress status is reported on the standard error stream by default
     when it is attached to a terminal, unless -q is specified.  This
     flag forces progress status even if the standard error stream is
     not directed to a terminal.

‘--all-progress’
     When –stdout is specified then progress report is displayed during
     the object count and compression phases but inhibited during the
     write-out phase.  The reason is that in some cases the output
     stream is directly linked to another command which may wish to
     display progress status of its own as it processes incoming pack
     data.  This flag is like –progress except that it forces progress
     report for the write-out phase as well even if –stdout is used.

‘--all-progress-implied’
     This is used to imply –all-progress whenever progress display is
     activated.  Unlike –all-progress this flag doesn’t actually force
     any progress display by itself.

‘--version=<version>’
     Specify the bundle version.  Version 2 is the older format and can
     only be used with SHA-1 repositories; the newer version 3 contains
     capabilities that permit extensions.  The default is the oldest
     supported format, based on the hash algorithm in use.

‘-q’
‘--quiet’
     This flag makes the command not to report its progress on the
     standard error stream.


SPECIFYING REFERENCES
*********************

Revisions must accompanied by reference names to be packaged in a
bundle.

   More than one reference may be packaged, and more than one set of
prerequisite objects can be specified.  The objects packaged are those
not contained in the union of the prerequisites.

   The _git bundle create_ command resolves the reference names for you
using the same rules as ‘git rev-parse --abbrev-ref=loose’.  Each
prerequisite can be specified explicitly (e.g.  ‘^master~10’), or
implicitly (e.g.  ‘master~10..master’, ‘--since=10.days.ago master’).

   All of these simple cases are OK (assuming we have a "master" and
"next" branch):

     $ git bundle create master.bundle master
     $ echo master | git bundle create master.bundle --stdin
     $ git bundle create master-and-next.bundle master next
     $ (echo master; echo next) | git bundle create master-and-next.bundle --stdin

   And so are these (and the same but omitted ‘--stdin’ examples):

     $ git bundle create recent-master.bundle master~10..master
     $ git bundle create recent-updates.bundle master~10..master next~5..next

   A revision name or a range whose right-hand-side cannot be resolved
to a reference is not accepted:

     $ git bundle create HEAD.bundle $(git rev-parse HEAD)
     fatal: Refusing to create empty bundle.
     $ git bundle create master-yesterday.bundle master~10..master~5
     fatal: Refusing to create empty bundle.


OBJECT PREREQUISITES
********************

When creating bundles it is possible to create a self-contained bundle
that can be unbundled in a repository with no common history, as well as
providing negative revisions to exclude objects needed in the earlier
parts of the history.

   Feeding a revision such as ‘new’ to ‘git bundle create’ will create a
bundle file that contains all the objects reachable from the revision
‘new’.  That bundle can be unbundled in any repository to obtain a full
history that leads to the revision ‘new’:

     $ git bundle create full.bundle new

   A revision range such as ‘old..new’ will produce a bundle file that
will require the revision ‘old’ (and any objects reachable from it) to
exist for the bundle to be "unbundle"-able:

     $ git bundle create full.bundle old..new

   A self-contained bundle without any prerequisites can be extracted
into anywhere, even into an empty repository, or be cloned from (i.e.,
‘new’, but not ‘old..new’).

   It is okay to err on the side of caution, causing the bundle file to
contain objects already in the destination, as these are ignored when
unpacking at the destination.

   If you want to match ‘git clone --mirror’, which would include your
refs such as ‘refs/remotes/*’, use ‘--all’.  If you want to provide the
same set of refs that a clone directly from the source repository would
get, use ‘--branches --tags’ for the ‘<git-rev-list-args>’.

   The _git bundle verify_ command can be used to check whether your
recipient repository has the required prerequisite commits for a bundle.


EXAMPLES
********

Assume you want to transfer the history from a repository R1 on machine
A to another repository R2 on machine B. For whatever reason, direct
connection between A and B is not allowed, but we can move data from A
to B via some mechanism (CD, email, etc.).  We want to update R2 with
development made on the branch master in R1.

   To bootstrap the process, you can first create a bundle that does not
have any prerequisites.  You can use a tag to remember up to what commit
you last processed, in order to make it easy to later update the other
repository with an incremental bundle:

     machineA$ cd R1
     machineA$ git bundle create file.bundle master
     machineA$ git tag -f lastR2bundle master

   Then you transfer file.bundle to the target machine B. Because this
bundle does not require any existing object to be extracted, you can
create a new repository on machine B by cloning from it:

     machineB$ git clone -b master /home/me/tmp/file.bundle R2

   This will define a remote called "origin" in the resulting repository
that lets you fetch and pull from the bundle.  The $GIT_DIR/config file
in R2 will have an entry like this:

     [remote "origin"]
         url = /home/me/tmp/file.bundle
         fetch = refs/heads/*:refs/remotes/origin/*

   To update the resulting mine.git repository, you can fetch or pull
after replacing the bundle stored at /home/me/tmp/file.bundle with
incremental updates.

   After working some more in the original repository, you can create an
incremental bundle to update the other repository:

     machineA$ cd R1
     machineA$ git bundle create file.bundle lastR2bundle..master
     machineA$ git tag -f lastR2bundle master

   You then transfer the bundle to the other machine to replace
/home/me/tmp/file.bundle, and pull from it.

     machineB$ cd R2
     machineB$ git pull

   If you know up to what commit the intended recipient repository
should have the necessary objects, you can use that knowledge to specify
the prerequisites, giving a cut-off point to limit the revisions and
objects that go in the resulting bundle.  The previous example used the
lastR2bundle tag for this purpose, but you can use any other options
that you would give to the git-log(1) command.  Here are more examples:

   You can use a tag that is present in both:

     $ git bundle create mybundle v1.0.0..master

   You can use a prerequisite based on time:

     $ git bundle create mybundle --since=10.days master

   You can use the number of commits:

     $ git bundle create mybundle -10 master

   You can run ‘git-bundle verify’ to see if you can extract from a
bundle that was created with a prerequisite:

     $ git bundle verify mybundle

   This will list what commits you must have in order to extract from
the bundle and will error out if you do not have them.

   A bundle from a recipient repository’s point of view is just like a
regular repository which it fetches or pulls from.  You can, for
example, map references when fetching:

     $ git fetch mybundle master:localRef

   You can also see what references it offers:

     $ git ls-remote mybundle


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-cat-file,  Up: Top

Name
****

git-cat-file — Provide content or type and size information for
repository objects


Synopsis
********

     git cat-file (-t [–allow-unknown-type]| -s [–allow-unknown-type]| -e | -p | <type> | –textconv | –filters ) [–path=<path>] <object>
     git cat-file (–batch[=<format>] | –batch-check[=<format>]) [ –textconv | –filters ] [–follow-symlinks]


DESCRIPTION
***********

In its first form, the command provides the content or the type of an
object in the repository.  The type is required unless ‘-t’ or ‘-p’ is
used to find the object type, or ‘-s’ is used to find the object size,
or ‘--textconv’ or ‘--filters’ is used (which imply type "blob").

   In the second form, a list of objects (separated by linefeeds) is
provided on stdin, and the SHA-1, type, and size of each object is
printed on stdout.  The output format can be overridden using the
optional ‘<format>’ argument.  If either ‘--textconv’ or ‘--filters’ was
specified, the input is expected to list the object names followed by
the path name, separated by a single whitespace, so that the appropriate
drivers can be determined.


OPTIONS
*******

<object>
     The name of the object to show.  For a more complete list of ways
     to spell object names, see the "SPECIFYING REVISIONS" section in
     gitrevisions(7).

‘-t’
     Instead of the content, show the object type identified by
     ‘<object>’.

‘-s’
     Instead of the content, show the object size identified by
     ‘<object>’.

‘-e’
     Exit with zero status if ‘<object>’ exists and is a valid object.
     If ‘<object>’ is of an invalid format exit with non-zero and emits
     an error on stderr.

‘-p’
     Pretty-print the contents of ‘<object>’ based on its type.

<type>
     Typically this matches the real type of ‘<object>’ but asking for a
     type that can trivially be dereferenced from the given ‘<object>’
     is also permitted.  An example is to ask for a "tree" with
     ‘<object>’ being a commit object that contains it, or to ask for a
     "blob" with ‘<object>’ being a tag object that points at it.

‘--textconv’
     Show the content as transformed by a textconv filter.  In this
     case, ‘<object>’ has to be of the form ‘<tree-ish>:<path>’, or
     ‘:<path>’ in order to apply the filter to the content recorded in
     the index at ‘<path>’.

‘--filters’
     Show the content as converted by the filters configured in the
     current working tree for the given ‘<path>’ (i.e.  smudge filters,
     end-of-line conversion, etc).  In this case, ‘<object>’ has to be
     of the form ‘<tree-ish>:<path>’, or ‘:<path>’.

‘--path=<path>’
     For use with ‘--textconv’ or ‘--filters’, to allow specifying an
     object name and a path separately, e.g.  when it is difficult to
     figure out the revision from which the blob came.

‘--batch’
‘--batch=<format>’
     Print object information and contents for each object provided on
     stdin.  May not be combined with any other options or arguments
     except ‘--textconv’ or ‘--filters’, in which case the input lines
     also need to specify the path, separated by whitespace.  See the
     section ‘BATCH OUTPUT’ below for details.

‘--batch-check’
‘--batch-check=<format>’
     Print object information for each object provided on stdin.  May
     not be combined with any other options or arguments except
     ‘--textconv’ or ‘--filters’, in which case the input lines also
     need to specify the path, separated by whitespace.  See the section
     ‘BATCH OUTPUT’ below for details.

‘--batch-all-objects’
     Instead of reading a list of objects on stdin, perform the
     requested batch operation on all objects in the repository and any
     alternate object stores (not just reachable objects).  Requires
     ‘--batch’ or ‘--batch-check’ be specified.  Note that the objects
     are visited in order sorted by their hashes.

‘--buffer’
     Normally batch output is flushed after each object is output, so
     that a process can interactively read and write from ‘cat-file’.
     With this option, the output uses normal stdio buffering; this is
     much more efficient when invoking ‘--batch-check’ on a large number
     of objects.

‘--unordered’
     When ‘--batch-all-objects’ is in use, visit objects in an order
     which may be more efficient for accessing the object contents than
     hash order.  The exact details of the order are unspecified, but if
     you do not require a specific order, this should generally result
     in faster output, especially with ‘--batch’.  Note that ‘cat-file’
     will still show each object only once, even if it is stored
     multiple times in the repository.

‘--allow-unknown-type’
     Allow ‘-s’ or ‘-t’ to query broken/corrupt objects of unknown type.

‘--follow-symlinks’
     With ‘--batch’ or ‘--batch-check’, follow symlinks inside the
     repository when requesting objects with extended SHA-1 expressions
     of the form tree-ish:path-in-tree.  Instead of providing output
     about the link itself, provide output about the linked-to object.
     If a symlink points outside the tree-ish (e.g.  a link to ‘/foo’ or
     a root-level link to ‘../foo’), the portion of the link which is
     outside the tree will be printed.

     This option does not (currently) work correctly when an object in
     the index is specified (e.g.  ‘:link’ instead of ‘HEAD:link’)
     rather than one in the tree.

     This option cannot (currently) be used unless ‘--batch’ or
     ‘--batch-check’ is used.

     For example, consider a git repository containing:

          f: a file containing "hello\n"
          link: a symlink to f
          dir/link: a symlink to ../f
          plink: a symlink to ../f
          alink: a symlink to /etc/passwd

     For a regular file ‘f’, ‘echo HEAD:f | git cat-file --batch’ would
     print

          ce013625030ba8dba906f756967f9e9ca394464a blob 6

     And ‘echo HEAD:link | git cat-file --batch --follow-symlinks’ would
     print the same thing, as would ‘HEAD:dir/link’, as they both point
     at ‘HEAD:f’.

     Without ‘--follow-symlinks’, these would print data about the
     symlink itself.  In the case of ‘HEAD:link’, you would see

          4d1ae35ba2c8ec712fa2a379db44ad639ca277bd blob 1

     Both ‘plink’ and ‘alink’ point outside the tree, so they would
     respectively print:

          symlink 4
          ../f

          symlink 11
          /etc/passwd


OUTPUT
******

If ‘-t’ is specified, one of the ‘<type>’.

   If ‘-s’ is specified, the size of the ‘<object>’ in bytes.

   If ‘-e’ is specified, no output, unless the ‘<object>’ is malformed.

   If ‘-p’ is specified, the contents of ‘<object>’ are pretty-printed.

   If ‘<type>’ is specified, the raw (though uncompressed) contents of
the ‘<object>’ will be returned.


BATCH OUTPUT
************

If ‘--batch’ or ‘--batch-check’ is given, ‘cat-file’ will read objects
from stdin, one per line, and print information about them.  By default,
the whole line is considered as an object, as if it were fed to
git-rev-parse(1).

   You can specify the information shown for each object by using a
custom ‘<format>’.  The ‘<format>’ is copied literally to stdout for
each object, with placeholders of the form ‘%(atom)’ expanded, followed
by a newline.  The available atoms are:

‘objectname’
     The full hex representation of the object name.

‘objecttype’
     The type of the object (the same as ‘cat-file -t’ reports).

‘objectsize’
     The size, in bytes, of the object (the same as ‘cat-file -s’
     reports).

‘objectsize:disk’
     The size, in bytes, that the object takes up on disk.  See the note
     about on-disk sizes in the ‘CAVEATS’ section below.

‘deltabase’
     If the object is stored as a delta on-disk, this expands to the
     full hex representation of the delta base object name.  Otherwise,
     expands to the null OID (all zeroes).  See ‘CAVEATS’ below.

‘rest’
     If this atom is used in the output string, input lines are split at
     the first whitespace boundary.  All characters before that
     whitespace are considered to be the object name; characters after
     that first run of whitespace (i.e., the "rest" of the line) are
     output in place of the ‘%(rest)’ atom.

   If no format is specified, the default format is ‘%(objectname)
%(objecttype) %(objectsize)’.

   If ‘--batch’ is specified, the object information is followed by the
object contents (consisting of ‘%(objectsize)’ bytes), followed by a
newline.

   For example, ‘--batch’ without a custom format would produce:

     <oid> SP <type> SP <size> LF
     <contents> LF

   Whereas ‘--batch-check='%(objectname) %(objecttype)'’ would produce:

     <oid> SP <type> LF

   If a name is specified on stdin that cannot be resolved to an object
in the repository, then ‘cat-file’ will ignore any custom format and
print:

     <object> SP missing LF

   If a name is specified that might refer to more than one object (an
ambiguous short sha), then ‘cat-file’ will ignore any custom format and
print:

     <object> SP ambiguous LF

   If ‘--follow-symlinks’ is used, and a symlink in the repository
points outside the repository, then ‘cat-file’ will ignore any custom
format and print:

     symlink SP <size> LF
     <symlink> LF

   The symlink will either be absolute (beginning with a ‘/’), or
relative to the tree root.  For instance, if dir/link points to
‘../../foo’, then ‘<symlink>’ will be ‘../foo’.  ‘<size>’ is the size of
the symlink in bytes.

   If ‘--follow-symlinks’ is used, the following error messages will be
displayed:

     <object> SP missing LF

   is printed when the initial symlink requested does not exist.

     dangling SP <size> LF
     <object> LF

   is printed when the initial symlink exists, but something that it
(transitive-of) points to does not.

     loop SP <size> LF
     <object> LF

   is printed for symlink loops (or any symlinks that require more than
40 link resolutions to resolve).

     notdir SP <size> LF
     <object> LF

   is printed when, during symlink resolution, a file is used as a
directory name.


CAVEATS
*******

Note that the sizes of objects on disk are reported accurately, but care
should be taken in drawing conclusions about which refs or objects are
responsible for disk usage.  The size of a packed non-delta object may
be much larger than the size of objects which delta against it, but the
choice of which object is the base and which is the delta is arbitrary
and is subject to change during a repack.

   Note also that multiple copies of an object may be present in the
object database; in this case, it is undefined which copy’s size or
delta base will be reported.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-check-attr,  Up: Top

Name
****

git-check-attr — gitattributes情報を表示


Synopsis
********

     git check-attr [-a | –all | <attr>…] [–] <pathname>…
     git check-attr –stdin [-z] [-a | –all | <attr>…]


DESCRIPTION
***********

このコマンドは、すべてのパス名について、gitattributesとしての各属性を
‘unspecified’(未指定)または ‘set’ または ‘unset’ であるかどうか一覧表示
します。


OPTIONS
*******

‘-a, --all’
     指定されたパスに関連付けられているすべての属性を一覧表示します。 こ
     のオプションを使用すると、 _unspecified_ (指定されていない)属性は出
     力に含まれません。

‘--cached’
     作業ツリーを無視して、インデックス内のみに対して ‘.gitattributes’ を
     考慮してください。

‘--stdin’
     コマンドラインからではなく、標準入力から1行に1つずつパス名を読み取
     ります。

‘-z’
     出力形式は、マシンで解析できるように変更されます。 ‘--stdin’ も指定
     されている場合、入力パスは改行文字ではなくNUL文字で区切ります。

‘--’
     先行するすべての引数を属性として解釈し、後続のすべての引数をパス名
     として解釈します。

   ‘--stdin’ と ‘--all’ と ‘--’ のいずれも使用されていない場合、最初の引
数は属性として扱われ、残りの引数はパス名として扱われます。


OUTPUT
******

出力形式: <path> COLON SP <attribute> COLON SP <info> LF

   ‘-z’ が有効の場合はNULが区切り文字として使用されます: <path> NUL
<attribute> NUL <info> NUL

   <path>はクエリ対象のファイルのパス、 <attribute> はクエリ対象の属性、
<info> は行かのいずれかになります:

‘unspecified’
     (未指定)パスにその属性が定義されていない場合。

‘unset’
     属性がfalseとして定義されている場合。

‘set’
     属性がtrueとして定義されている場合。

<value>
     属性に値が割り当てられたとき。

   バッファリングは、 git(1) の ‘GIT_FLUSH’ オプションに記載されているよ
うに行われます。呼び出し元は、入力バッファーのオーバーフィル
(overfilling)または空の出力バッファーからの読み取りによって引き起こされ
るデッドロックを回避する責任があります。


EXAMPLES
********

これらの例では、以下の ‘.gitattributes’ ファイルが使用されています:

     *.java diff=java -crlf myAttr
     NoMyAttr.java !myAttr
     README caveat=unspecified

   • 単一の属性のリスト:

     $ git check-attr diff org/example/MyClass.java
     org/example/MyClass.java: diff: java

   • ファイルの複数の属性の一覧表示:

     $ git check-attr crlf diff myAttr -- org/example/MyClass.java
     org/example/MyClass.java: crlf: unset
     org/example/MyClass.java: diff: java
     org/example/MyClass.java: myAttr: set

   • ファイルのすべての属性を一覧表示:

     $ git check-attr --all -- org/example/MyClass.java
     org/example/MyClass.java: diff: java
     org/example/MyClass.java: myAttr: set

   • 複数のファイルの属性を一覧表示:

     $ git check-attr myAttr -- org/example/MyClass.java org/example/NoMyAttr.java
     org/example/MyClass.java: myAttr: set
     org/example/NoMyAttr.java: myAttr: unspecified

   • すべての値が等しく明確であるわけではありません:

     $ git check-attr caveat README
     README: caveat: unspecified


SEE ALSO
********

gitattributes(5).


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-check-ignore,  Up: Top

Name
****

git-check-ignore — gitignoreや除外ファイルのデバッグ


Synopsis
********

     git check-ignore [<options>] <pathname>…
     git check-ignore [<options>] –stdin


DESCRIPTION
***********

コマンドラインまたは ‘--stdin’ を介してファイルから指定されたパス名ごと
に、ファイルが ‘.gitignore’ (またはexcludeメカニズムへの他の入力ファイル
)によって除外されているかどうかを確認し、除外されている場合はそのパスを
出力します。

   デフォルトでは、追跡中のファイル(tracked files)は除外ルールの対象では
ないため、まったく表示されません。但し、 ‘–no-index’ もご覧下さい。


OPTIONS
*******

‘-q, --quiet’
     何も出力せず、終了ステータスを設定するだけです。 これは、単一のパス
     名でのみ有効です。

‘-v, --verbose’
     除外されたパスを出力する代わりに、除外パターンに一致するパスごとに
     、パスと一緒に除外パターンを出力します。(通常、除外パターンに一致す
     ることはパスが除外されることを意味しますが、パターンが ‘!’ で始まる
     場合、それは否定パターンであり、一致することはパスが除外されないこ
     とを意味します。)

     除外ソース内および除外ソース間の優先ルールについては、 gitignore(5)
     を参照してください。

‘--stdin’
     コマンドラインからではなく、標準入力から1行に1つずつパス名を読み取
     ります。

‘-z’
     出力フォーマットは、マシン解析可能になるように変更されます(以下を参
     照)。 ‘--stdin’ も指定されている場合、入力パスは改行文字ではなく
     NUL文字で区切られます。

‘-n, --non-matching’
     どのパターンにも一致しないパスを表示します。これは、 ‘--verbose’ が
     有効になっている場合にのみ意味があります。有効になっていないと、パ
     ターンに一致するパスと一致しないパスを区別できません。

‘--no-index’
     チェックを行うときにインデックスを調べません。これは、例えば ‘git
     add .’ で追跡されたパスが、ユーザーの期待通りにルールで無視されなか
     った場合のデバッグに使用できます。また、以前に ‘git add -f’ で追加
     したパスにマッチするように、否定を含むパターンを開発するときにも使
     用できます。


OUTPUT
******

デフォルトでは、指定されたパス名のうち無視パターンに一致するパスが1行に
1つずつ出力されます。特定のパスに一致する無視パターンがない場合、そのパ
スについては何も出力されません。これは、そのパスが無視されないことを意味
します。

   ‘--verbose’ が指定されている場合、出力の各行は以下の形式になります:

   <source> <COLON> <linenum> <COLON> <pattern> <HT> <pathname>

   <pathname> はクエリ対象のファイルのパス、 <pattern> は一致するパター
ン、 <source> はパターンのソースファイル、 <linenum> はそのソース内のパ
ターンの行番号です。 パターンに ‘!’ 接頭辞または ‘/’ 接尾辞が含まれてい
る場合、それは出力でも保持されます。 <source> は、 ‘core.excludesFile’ で
構成されたファイルを参照する場合は絶対パス、 ‘.git/info/exclude’ または
ディレクトリごとの除外ファイルを参照する場合はリポジトリルートを基準とし
ます。

   ‘-z’ が指定されている場合、出力のパス名はヌル文字で区切られます。
‘--verbose’ も指定されている場合、コロンとハードタブの代わりにヌル文字も
使用されます:

   <source> <NULL> <linenum> <NULL> <pattern> <NULL> <pathname> <NULL>

   ‘-n’ または ‘--non-matching’ が指定されている場合、一致しないパス名も
出力されます。その場合、 <pathname> を除く各出力レコードのすべてのフィー
ルドが空になります。これは、非対話的に実行する場合に役立ちます。これによ
り、ファイル達を長時間実行されるチェック無視プロセスのSTDINに段階的にス
トリーミングでき、これらのファイルごとに、STDOUTはそのファイルがパターン
に一致するかどうかを示します。 (このオプションがないと、特定のファイルの
出力がないということは、どのパターンとも一致しなかったのか、出力がまだ生
成されていないのかを判断することはできません。)

   バッファリングは、 git(1) の ‘GIT_FLUSH’ オプションに記載されているよ
うに行われます。呼び出し元は、入力バッファーのオーバーフィルまたは空の出
力バッファーからの読み取りによって引き起こされるデッドロックを回避する責
任があります。


EXIT STATUS
***********

0
     提供されたパスの1つ以上が無視されます。

1
     提供されたパスはどれも無視されません。

128
     致命的なエラーが発生しました。


SEE ALSO
********

gitignore(5) git-config(1) git-ls-files(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-check-mailmap,  Up: Top

Name
****

git-check-mailmap — 連絡先(contacts)の、正式な名前と電子メールアドレスを
表示


Synopsis
********

     git check-mailmap [<options>] <contact>…


DESCRIPTION
***********

コマンドライン指定または、(‘--stdin’ を使用する場合)標準入力からの各
“Name <user@host>” または “<user@host>” について、その人の正規名と電子メ
ールアドレス(以下 "Mapping Authors" 参照)を検索します。見つかった場合は
、それらを印刷します。それ以外の場合は、入力をそのまま出力します。


OPTIONS
*******

‘--stdin’
     コマンドラインで指定された連絡先(contacts)を消費後、標準入力から連
     絡先(contacts)を1行に1つずつ読み取ります。


OUTPUT
******

各連絡先(contact)ごとに、改行で終了する1行が出力されます。 名前が
_mailmap_ に提供または認識されている場合、 “Name <user@host>” が出力され
ます。それ以外の場合は、 “<user@host>” のみが出力されます。


CONFIGURATION
*************

カスタムの ‘.mailmap’ ターゲットファイルまたはオブジェクトを指定する方法
については、 git-config(1) の ‘mailmap.file’ と ‘mailmap.blob’ を参照し
てください。


MAPPING AUTHORS
***************

gitmailmap(5) 参照。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-check-ref-format,  Up: Top

Name
****

git-check-ref-format — Ensures that a reference name is well formed


Synopsis
********

     git check-ref-format [–normalize]
            [–[no-]allow-onelevel] [–refspec-pattern]
            <refname>
     git check-ref-format –branch <branchname-shorthand>


DESCRIPTION
***********

Checks if a given _refname_ is acceptable, and exits with a non-zero
status if it is not.

   A reference is used in Git to specify branches and tags.  A branch
head is stored in the ‘refs/heads’ hierarchy, while a tag is stored in
the ‘refs/tags’ hierarchy of the ref namespace (typically in
‘$GIT_DIR/refs/heads’ and ‘$GIT_DIR/refs/tags’ directories or, as
entries in file ‘$GIT_DIR/packed-refs’ if refs are packed by ‘git gc’).

   Git imposes the following rules on how references are named:

  1. They can include slash ‘/’ for hierarchical (directory) grouping,
     but no slash-separated component can begin with a dot ‘.’ or end
     with the sequence ‘.lock’.

  2. They must contain at least one ‘/’.  This enforces the presence of
     a category like ‘heads/’, ‘tags/’ etc.  but the actual names are
     not restricted.  If the ‘--allow-onelevel’ option is used, this
     rule is waived.

  3. They cannot have two consecutive dots ‘..’ anywhere.

  4. They cannot have ASCII control characters (i.e.  bytes whose values
     are lower than \040, or \177 ‘DEL’), space, tilde ‘~’, caret ‘^’,
     or colon ‘:’ anywhere.

  5. They cannot have question-mark ‘?’, asterisk ‘*’, or open bracket
     ‘[’ anywhere.  See the ‘--refspec-pattern’ option below for an
     exception to this rule.

  6. They cannot begin or end with a slash ‘/’ or contain multiple
     consecutive slashes (see the ‘--normalize’ option below for an
     exception to this rule)

  7. They cannot end with a dot ‘.’.

  8. They cannot contain a sequence ‘@{’.

  9. They cannot be the single character ‘@’.

  10. They cannot contain a ‘\’.

   These rules make it easy for shell script based tools to parse
reference names, pathname expansion by the shell when a reference name
is used unquoted (by mistake), and also avoid ambiguities in certain
reference name expressions (see gitrevisions(7)):

  1. A double-dot ‘..’ is often used as in ‘ref1..ref2’, and in some
     contexts this notation means ‘^ref1 ref2’ (i.e.  not in ‘ref1’ and
     in ‘ref2’).

  2. A tilde ‘~’ and caret ‘^’ are used to introduce the postfix _nth
     parent_ and _peel onion_ operation.

  3. A colon ‘:’ is used as in ‘srcref:dstref’ to mean "use srcref’s
     value and store it in dstref" in fetch and push operations.  It may
     also be used to select a specific object such as with _git
     cat-file_: "git cat-file blob v1.3.3:refs.c".

  4. at-open-brace ‘@{’ is used as a notation to access a reflog entry.

   With the ‘--branch’ option, the command takes a name and checks if it
can be used as a valid branch name (e.g.  when creating a new branch).
But be cautious when using the previous checkout syntax that may refer
to a detached HEAD state.  The rule ‘git check-ref-format --branch
$name’ implements may be stricter than what ‘git check-ref-format
refs/heads/$name’ says (e.g.  a dash may appear at the beginning of a
ref component, but it is explicitly forbidden at the beginning of a
branch name).  When run with ‘--branch’ option in a repository, the
input is first expanded for the “previous checkout syntax” ‘@{-n}’.  For
example, ‘@{-1}’ is a way to refer the last thing that was checked out
using "git switch" or "git checkout" operation.  This option should be
used by porcelains to accept this syntax anywhere a branch name is
expected, so they can act as if you typed the branch name.  As an
exception note that, the “previous checkout operation” might result in a
commit object name when the N-th last thing checked out was not a
branch.


OPTIONS
*******

‘--[no-]allow-onelevel’
     Controls whether one-level refnames are accepted (i.e., refnames
     that do not contain multiple ‘/’-separated components).  The
     default is ‘--no-allow-onelevel’.

‘--refspec-pattern’
     Interpret <refname> as a reference name pattern for a refspec (as
     used with remote repositories).  If this option is enabled,
     <refname> is allowed to contain a single ‘*’ in the refspec (e.g.,
     ‘foo/bar*/baz’ or ‘foo/bar*baz/’ but not ‘foo/bar*/baz*’).

‘--normalize’
     Normalize _refname_ by removing any leading slash (‘/’) characters
     and collapsing runs of adjacent slashes between name components
     into a single slash.  If the normalized refname is valid then print
     it to standard output and exit with a status of 0, otherwise exit
     with a non-zero status.  (‘--print’ is a deprecated way to spell
     ‘--normalize’.)


EXAMPLES
********

   • Print the name of the previous thing checked out:

          $ git check-ref-format --branch @{-1}

   • Determine the reference name to use for a new branch:

          $ ref=$(git check-ref-format --normalize "refs/heads/$newbranch")||
          { echo "we do not like '$newbranch' as a branch name." >&2 ; exit 1 ; }


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-checkout-index,  Up: Top

Name
****

git-checkout-index — Copy files from the index to the working tree


Synopsis
********

     git checkout-index [-u] [-q] [-a] [-f] [-n] [–prefix=<string>]
                        [–stage=<number>|all]
                        [–temp]
                        [-z] [–stdin]
                        [–] [<file>…]


DESCRIPTION
***********

Will copy all files listed from the index to the working directory (not
overwriting existing files).


OPTIONS
*******

‘-u’
‘--index’
     update stat information for the checked out entries in the index
     file.

‘-q’
‘--quiet’
     be quiet if files exist or are not in the index

‘-f’
‘--force’
     forces overwrite of existing files

‘-a’
‘--all’
     checks out all files in the index.  Cannot be used together with
     explicit filenames.

‘-n’
‘--no-create’
     Don’t checkout new files, only refresh files already checked out.

‘--prefix=<string>’
     When creating files, prepend <string> (usually a directory
     including a trailing /)

‘--stage=<number>|all’
     Instead of checking out unmerged entries, copy out the files from
     named stage.  <number> must be between 1 and 3.  Note: –stage=all
     automatically implies –temp.

‘--temp’
     Instead of copying the files to the working directory write the
     content to temporary files.  The temporary name associations will
     be written to stdout.

‘--stdin’
     Instead of taking list of paths from the command line, read list of
     paths from the standard input.  Paths are separated by LF (i.e.
     one path per line) by default.

‘-z’
     Only meaningful with ‘--stdin’; paths are separated with NUL
     character instead of LF.

–
     Do not interpret any more arguments as options.

   The order of the flags used to matter, but not anymore.

   Just doing ‘git checkout-index’ does nothing.  You probably meant
‘git checkout-index -a’.  And if you want to force it, you want ‘git
checkout-index -f -a’.

   Intuitiveness is not the goal here.  Repeatability is.  The reason
for the "no arguments means no work" behavior is that from scripts you
are supposed to be able to do:

     $ find . -name '*.h' -print0 | xargs -0 git checkout-index -f --

   which will force all existing ‘*.h’ files to be replaced with their
cached copies.  If an empty command line implied "all", then this would
force-refresh everything in the index, which was not the point.  But
since _git checkout-index_ accepts –stdin it would be faster to use:

     $ find . -name '*.h' -print0 | git checkout-index -f -z --stdin

   The ‘--’ is just a good idea when you know the rest will be
filenames; it will prevent problems with a filename of, for example,
‘-a’.  Using ‘--’ is probably a good policy in scripts.


Using –temp or –stage=all
*************************

When ‘--temp’ is used (or implied by ‘--stage=all’) _git checkout-index_
will create a temporary file for each index entry being checked out.
The index will not be updated with stat information.  These options can
be useful if the caller needs all stages of all unmerged entries so that
the unmerged files can be processed by an external merge tool.

   A listing will be written to stdout providing the association of
temporary file names to tracked path names.  The listing format has two
variations:

  1. tempname TAB path RS

     The first format is what gets used when ‘--stage’ is omitted or is
     not ‘--stage=all’.  The field tempname is the temporary file name
     holding the file content and path is the tracked path name in the
     index.  Only the requested entries are output.

  2. stage1temp SP stage2temp SP stage3tmp TAB path RS

     The second format is what gets used when ‘--stage=all’.  The three
     stage temporary fields (stage1temp, stage2temp, stage3temp) list
     the name of the temporary file if there is a stage entry in the
     index or ‘.’ if there is no stage entry.  Paths which only have a
     stage 0 entry will always be omitted from the output.

   In both formats RS (the record separator) is newline by default but
will be the null byte if -z was passed on the command line.  The
temporary file names are always safe strings; they will never contain
directory separators or whitespace characters.  The path field is always
relative to the current directory and the temporary file names are
always relative to the top level directory.

   If the object being copied out to a temporary file is a symbolic link
the content of the link will be written to a normal file.  It is up to
the end-user or the Porcelain to make use of this information.


EXAMPLES
********

To update and refresh only the files already checked out
          $ git checkout-index -n -f -a && git update-index --ignore-missing --refresh

Using _git checkout-index_ to "export an entire tree"
     The prefix ability basically makes it trivial to use _git
     checkout-index_ as an "export as tree" function.  Just read the
     desired tree into the index, and do:

          $ git checkout-index --prefix=git-export-dir/ -a

     ‘git checkout-index’ will "export" the index into the specified
     directory.

     The final "/" is important.  The exported name is literally just
     prefixed with the specified string.  Contrast this with the
     following example.

Export files with a prefix
          $ git checkout-index --prefix=.merged- Makefile

     This will check out the currently cached copy of ‘Makefile’ into
     the file ‘.merged-Makefile’.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-checkout,  Up: Top

Name
****

git-checkout — ブランチの切り替え、または作業ツリーファイルの復元を行い
ます。


Synopsis
********

     git checkout [-q] [-f] [-m] [<branch>]
     git checkout [-q] [-f] [-m] –detach [<branch>]
     git checkout [-q] [-f] [-m] [–detach] <commit>
     git checkout [-q] [-f] [-m] [[-b|-B|–orphan] <new_branch>] [<start_point>]
     git checkout [-f|–ours|–theirs|-m|–conflict=<style>] [<tree-ish>] [–] <pathspec>…
     git checkout [-f|–ours|–theirs|-m|–conflict=<style>] [<tree-ish>] –pathspec-from-file=<file> [–pathspec-file-nul]
     git checkout (-p|–patch) [<tree-ish>] [–] [<pathspec>…]


DESCRIPTION
***********

作業ツリー内のファイルを、インデックスまたは指定されたツリー内のバージョ
ンと一致するように更新します。 pathspecが指定されていない場合、 _git
checkout_ は ‘HEAD’ も更新して、指定されたブランチを現在のブランチとして
設定します。

_git checkout_ [<branch>]
     To prepare for working on ‘<branch>’, switch to it by updating the
     index and the files in the working tree, and by pointing ‘HEAD’ at
     the branch.  Local modifications to the files in the working tree
     are kept, so that they can be committed to the ‘<branch>’.

     If ‘<branch>’ is not found but there does exist a tracking branch
     in exactly one remote (call it ‘<remote>’) with a matching name and
     ‘--no-guess’ is not specified, treat as equivalent to

          $ git checkout -b <branch> --track <remote>/<branch>

     You could omit ‘<branch>’, in which case the command degenerates to
     "check out the current branch", which is a glorified no-op with
     rather expensive side-effects to show only the tracking
     information, if exists, for the current branch.

_git checkout_ -b|-B <new_branch> [<start point>]
     Specifying ‘-b’ causes a new branch to be created as if
     git-branch(1) were called and then checked out.  In this case you
     can use the ‘--track’ or ‘--no-track’ options, which will be passed
     to _git branch_.  As a convenience, ‘--track’ without ‘-b’ implies
     branch creation; see the description of ‘--track’ below.

     If ‘-B’ is given, ‘<new_branch>’ is created if it doesn’t exist;
     otherwise, it is reset.  This is the transactional equivalent of

          $ git branch -f <branch> [<start point>]
          $ git checkout <branch>

     that is to say, the branch is not reset/created unless "git
     checkout" is successful.

_git checkout_ –detach [<branch>]
_git checkout_ [–detach] <commit>
     Prepare to work on top of ‘<commit>’, by detaching ‘HEAD’ at it
     (see "DETACHED HEAD" section), and updating the index and the files
     in the working tree.  Local modifications to the files in the
     working tree are kept, so that the resulting working tree will be
     the state recorded in the commit plus the local modifications.

     When the ‘<commit>’ argument is a branch name, the ‘--detach’
     option can be used to detach ‘HEAD’ at the tip of the branch (‘git
     checkout <branch>’ would check out that branch without detaching
     ‘HEAD’).

     Omitting ‘<branch>’ detaches ‘HEAD’ at the tip of the current
     branch.

_git checkout_ [-f|–ours|–theirs|-m|–conflict=<style>] [<tree-ish>] [–] <pathspec>…
_git checkout_ [-f|–ours|–theirs|-m|–conflict=<style>] [<tree-ish>] –pathspec-from-file=<file> [–pathspec-file-nul]
     Overwrite the contents of the files that match the pathspec.  When
     the ‘<tree-ish>’ (most often a commit) is not given, overwrite
     working tree with the contents in the index.  When the ‘<tree-ish>’
     is given, overwrite both the index and the working tree with the
     contents at the ‘<tree-ish>’.

     The index may contain unmerged entries because of a previous failed
     merge.  By default, if you try to check out such an entry from the
     index, the checkout operation will fail and nothing will be checked
     out.  Using ‘-f’ will ignore these unmerged entries.  The contents
     from a specific side of the merge can be checked out of the index
     by using ‘--ours’ or ‘--theirs’.  With ‘-m’, changes made to the
     working tree file can be discarded to re-create the original
     conflicted merge result.

_git checkout_ (-p|–patch) [<tree-ish>] [–] [<pathspec>…]
     This is similar to the previous mode, but lets you use the
     interactive interface to show the "diff" output and choose which
     hunks to use in the result.  See below for the description of
     ‘--patch’ option.


OPTIONS
*******

‘-q’
‘--quiet’
     静かにします。フィードバックメッセージを抑制します。

‘--progress’
‘--no-progress’
     Progress status is reported on the standard error stream by default
     when it is attached to a terminal, unless ‘--quiet’ is specified.
     This flag enables progress reporting even if not attached to a
     terminal, regardless of ‘--quiet’.

‘-f’
‘--force’
     When switching branches, proceed even if the index or the working
     tree differs from ‘HEAD’.  This is used to throw away local
     changes.

     When checking out paths from the index, do not fail upon unmerged
     entries; instead, unmerged entries are ignored.

‘--ours’
‘--theirs’
     When checking out paths from the index, check out stage #2 (_ours_)
     or #3 (_theirs_) for unmerged paths.

     注意: ‘git rebase’ と ‘git pull --rebase’ での作業中、「ours」と「
     theirs」が入れ替わっているように見える場合があることに注意してくだ
     さい。 ‘--ours’ は、変更がリベースされるブランチからのバージョンを
     提供し、 ‘--theirs’ は、リベースされる作業を保持するブランチからの
     バージョンを提供します。

     これは、リモートでの履歴を共有の正規の履歴として扱うワークフローで
     ‘rebase’ が使用されているためです。リベースするブランチで行われた作
     業を、統合されるサードパーティの作業として扱います。そして、あなた
     は一時的にリベース中に正規の歴史の管理者の役割を引き受けています。
     正規の履歴の管理者として、リモートからの履歴を「私たち」(ours; つま
     り、「私達の共有された正規の履歴」)として表示する必要があり、サイド
     ブランチで行ったことは「彼ら」(theirs;つまり「その上での貢献者の作
     品」)として表示する必要があります。

‘-b <new_branch>’
     Create a new branch named ‘<new_branch>’ and start it at
     ‘<start_point>’; see git-branch(1) for details.

‘-B <new_branch>’
     Creates the branch ‘<new_branch>’ and start it at ‘<start_point>’;
     if it already exists, then reset it to ‘<start_point>’.  This is
     equivalent to running "git branch" with "-f"; see git-branch(1) for
     details.

‘-t’
‘--track’
     When creating a new branch, set up "upstream" configuration.  See
     "–track" in git-branch(1) for details.

     If no ‘-b’ option is given, the name of the new branch will be
     derived from the remote-tracking branch, by looking at the local
     part of the refspec configured for the corresponding remote, and
     then stripping the initial part up to the "*".  This would tell us
     to use ‘hack’ as the local branch when branching off of
     ‘origin/hack’ (or ‘remotes/origin/hack’, or even
     ‘refs/remotes/origin/hack’).  If the given name has no slash, or
     the above guessing results in an empty name, the guessing is
     aborted.  You can explicitly give a name with ‘-b’ in such a case.

‘--no-track’
     Do not set up "upstream" configuration, even if the
     ‘branch.autoSetupMerge’ configuration variable is true.

‘--guess’
‘--no-guess’
     If ‘<branch>’ is not found but there does exist a tracking branch
     in exactly one remote (call it ‘<remote>’) with a matching name,
     treat as equivalent to

          $ git checkout -b <branch> --track <remote>/<branch>

     If the branch exists in multiple remotes and one of them is named
     by the ‘checkout.defaultRemote’ configuration variable, we’ll use
     that one for the purposes of disambiguation, even if the ‘<branch>’
     isn’t unique across all remotes.  Set it to e.g.
     ‘checkout.defaultRemote=origin’ to always checkout remote branches
     from there if ‘<branch>’ is ambiguous but exists on the _origin_
     remote.  See also ‘checkout.defaultRemote’ in git-config(1).

     ‘--guess’ is the default behavior.  Use ‘--no-guess’ to disable it.

     The default behavior can be set via the ‘checkout.guess’
     configuration variable.

‘-l’
     Create the new branch’s reflog; see git-branch(1) for details.

‘-d’
‘--detach’
     Rather than checking out a branch to work on it, check out a commit
     for inspection and discardable experiments.  This is the default
     behavior of ‘git checkout <commit>’ when ‘<commit>’ is not a branch
     name.  See the "DETACHED HEAD" section below for details.

‘--orphan <new_branch>’
     Create a new _orphan_ branch, named ‘<new_branch>’, started from
     ‘<start_point>’ and switch to it.  The first commit made on this
     new branch will have no parents and it will be the root of a new
     history totally disconnected from all the other branches and
     commits.

     The index and the working tree are adjusted as if you had
     previously run ‘git checkout <start_point>’.  This allows you to
     start a new history that records a set of paths similar to
     ‘<start_point>’ by easily running ‘git commit -a’ to make the root
     commit.

     This can be useful when you want to publish the tree from a commit
     without exposing its full history.  You might want to do this to
     publish an open source branch of a project whose current tree is
     "clean", but whose full history contains proprietary or otherwise
     encumbered bits of code.

     If you want to start a disconnected history that records a set of
     paths that is totally different from the one of ‘<start_point>’,
     then you should clear the index and the working tree right after
     creating the orphan branch by running ‘git rm -rf .’ from the top
     level of the working tree.  Afterwards you will be ready to prepare
     your new files, repopulating the working tree, by copying them from
     elsewhere, extracting a tarball, etc.

‘--ignore-skip-worktree-bits’
     In sparse checkout mode, ‘git checkout -- <paths>’ would update
     only entries matched by ‘<paths>’ and sparse patterns in
     ‘$GIT_DIR/info/sparse-checkout’.  This option ignores the sparse
     patterns and adds back any files in ‘<paths>’.

‘-m’
‘--merge’
     When switching branches, if you have local modifications to one or
     more files that are different between the current branch and the
     branch to which you are switching, the command refuses to switch
     branches in order to preserve your modifications in context.
     However, with this option, a three-way merge between the current
     branch, your working tree contents, and the new branch is done, and
     you will be on the new branch.

     When a merge conflict happens, the index entries for conflicting
     paths are left unmerged, and you need to resolve the conflicts and
     mark the resolved paths with ‘git add’ (or ‘git rm’ if the merge
     should result in deletion of the path).

     When checking out paths from the index, this option lets you
     recreate the conflicted merge in the specified paths.

     When switching branches with ‘--merge’, staged changes may be lost.

‘--conflict=<style>’
     The same as ‘--merge’ option above, but changes the way the
     conflicting hunks are presented, overriding the
     ‘merge.conflictStyle’ configuration variable.  Possible values are
     "merge" (default) and "diff3" (in addition to what is shown by
     "merge" style, shows the original contents).

‘-p’
‘--patch’
     Interactively select hunks in the difference between the
     ‘<tree-ish>’ (or the index, if unspecified) and the working tree.
     The chosen hunks are then applied in reverse to the working tree
     (and if a ‘<tree-ish>’ was specified, the index).

     This means that you can use ‘git checkout -p’ to selectively
     discard edits from your current working tree.  See the “Interactive
     Mode” section of git-add(1) to learn how to operate the ‘--patch’
     mode.

     Note that this option uses the no overlay mode by default (see also
     ‘--overlay’), and currently doesn’t support overlay mode.

‘--ignore-other-worktrees’
     ‘git checkout’ refuses when the wanted ref is already checked out
     by another worktree.  This option makes it check the ref out
     anyway.  In other words, the ref can be held by more than one
     worktree.

‘--overwrite-ignore’
‘--no-overwrite-ignore’
     Silently overwrite ignored files when switching branches.  This is
     the default behavior.  Use ‘--no-overwrite-ignore’ to abort the
     operation when the new branch contains ignored files.

‘--recurse-submodules’
‘--no-recurse-submodules’
     Using ‘--recurse-submodules’ will update the content of all active
     submodules according to the commit recorded in the superproject.
     If local modifications in a submodule would be overwritten the
     checkout will fail unless ‘-f’ is used.  If nothing (or
     ‘--no-recurse-submodules’) is used, submodules working trees will
     not be updated.  Just like git-submodule(1), this will detach
     ‘HEAD’ of the submodule.

‘--overlay’
‘--no-overlay’
     In the default overlay mode, ‘git checkout’ never removes files
     from the index or the working tree.  When specifying
     ‘--no-overlay’, files that appear in the index and working tree,
     but not in ‘<tree-ish>’ are removed, to make them match
     ‘<tree-ish>’ exactly.

‘--pathspec-from-file=<file>’
     Pathspec is passed in ‘<file>’ instead of commandline args.  If
     ‘<file>’ is exactly ‘-’ then standard input is used.  Pathspec
     elements are separated by LF or CR/LF. Pathspec elements can be
     quoted as explained for the configuration variable ‘core.quotePath’
     (see git-config(1)).  See also ‘--pathspec-file-nul’ and global
     ‘--literal-pathspecs’.

‘--pathspec-file-nul’
     Only meaningful with ‘--pathspec-from-file’.  Pathspec elements are
     separated with NUL character and all other characters are taken
     literally (including newlines and quotes).

<branch>
     Branch to checkout; if it refers to a branch (i.e., a name that,
     when prepended with "refs/heads/", is a valid ref), then that
     branch is checked out.  Otherwise, if it refers to a valid commit,
     your ‘HEAD’ becomes "detached" and you are no longer on any branch
     (see below for details).

     You can use the ‘@{-N}’ syntax to refer to the N-th last
     branch/commit checked out using "git checkout" operation.  You may
     also specify ‘-’ which is synonymous to ‘@{-1}’.

     As a special case, you may use ‘A...B’ as a shortcut for the merge
     base of ‘A’ and ‘B’ if there is exactly one merge base.  You can
     leave out at most one of ‘A’ and ‘B’, in which case it defaults to
     ‘HEAD’.

<new_branch>
     Name for the new branch.

<start_point>
     The name of a commit at which to start the new branch; see
     git-branch(1) for details.  Defaults to ‘HEAD’.

     As a special case, you may use ‘"A...B"’ as a shortcut for the
     merge base of ‘A’ and ‘B’ if there is exactly one merge base.  You
     can leave out at most one of ‘A’ and ‘B’, in which case it defaults
     to ‘HEAD’.

<tree-ish>
     Tree to checkout from (when paths are given).  If not specified,
     the index will be used.

     As a special case, you may use ‘"A...B"’ as a shortcut for the
     merge base of ‘A’ and ‘B’ if there is exactly one merge base.  You
     can leave out at most one of ‘A’ and ‘B’, in which case it defaults
     to ‘HEAD’.

–
     Do not interpret any more arguments as options.

<pathspec>…
     Limits the paths affected by the operation.

     For more details, see the _pathspec_ entry in gitglossary(7).


DETACHED HEAD
*************

‘HEAD’ normally refers to a named branch (e.g.  ‘master’).  Meanwhile,
each branch refers to a specific commit.  Let’s look at a repo with
three commits, one of them tagged, and with branch ‘master’ checked out:

                HEAD (refers to branch 'master')
                 |
                 v
     a---b---c  branch 'master' (refers to commit 'c')
         ^
         |
       tag 'v2.0' (refers to commit 'b')

   When a commit is created in this state, the branch is updated to
refer to the new commit.  Specifically, _git commit_ creates a new
commit ‘d’, whose parent is commit ‘c’, and then updates branch ‘master’
to refer to new commit ‘d’.  ‘HEAD’ still refers to branch ‘master’ and
so indirectly now refers to commit ‘d’:

     $ edit; git add; git commit

                    HEAD (refers to branch 'master')
                     |
                     v
     a---b---c---d  branch 'master' (refers to commit 'd')
         ^
         |
       tag 'v2.0' (refers to commit 'b')

   It is sometimes useful to be able to checkout a commit that is not at
the tip of any named branch, or even to create a new commit that is not
referenced by a named branch.  Let’s look at what happens when we
checkout commit ‘b’ (here we show two ways this may be done):

     $ git checkout v2.0  # or
     $ git checkout master^^

        HEAD (refers to commit 'b')
         |
         v
     a---b---c---d  branch 'master' (refers to commit 'd')
         ^
         |
       tag 'v2.0' (refers to commit 'b')

   Notice that regardless of which checkout command we use, ‘HEAD’ now
refers directly to commit ‘b’.  This is known as being in detached
‘HEAD’ state.  It means simply that ‘HEAD’ refers to a specific commit,
as opposed to referring to a named branch.  Let’s see what happens when
we create a commit:

     $ edit; git add; git commit

          HEAD (refers to commit 'e')
           |
           v
           e
          /
     a---b---c---d  branch 'master' (refers to commit 'd')
         ^
         |
       tag 'v2.0' (refers to commit 'b')

   There is now a new commit ‘e’, but it is referenced only by ‘HEAD’.
We can of course add yet another commit in this state:

     $ edit; git add; git commit

              HEAD (refers to commit 'f')
               |
               v
           e---f
          /
     a---b---c---d  branch 'master' (refers to commit 'd')
         ^
         |
       tag 'v2.0' (refers to commit 'b')

   In fact, we can perform all the normal Git operations.  But, let’s
look at what happens when we then checkout ‘master’:

     $ git checkout master

                    HEAD (refers to branch 'master')
           e---f     |
          /          v
     a---b---c---d  branch 'master' (refers to commit 'd')
         ^
         |
       tag 'v2.0' (refers to commit 'b')

   It is important to realize that at this point nothing refers to
commit ‘f’.  Eventually commit ‘f’ (and by extension commit ‘e’) will be
deleted by the routine Git garbage collection process, unless we create
a reference before that happens.  If we have not yet moved away from
commit ‘f’, any of these will create a reference to it:

     $ git checkout -b foo   (1)
     $ git branch foo        (2)
     $ git tag foo           (3)

*note (1): CO1-1.
     creates a new branch ‘foo’, which refers to commit ‘f’, and then
     updates ‘HEAD’ to refer to branch ‘foo’.  In other words, we’ll no
     longer be in detached ‘HEAD’ state after this command.

*note (2): CO1-2.
     similarly creates a new branch ‘foo’, which refers to commit ‘f’,
     but leaves ‘HEAD’ detached.

*note (3): CO1-3.
     creates a new tag ‘foo’, which refers to commit ‘f’, leaving ‘HEAD’
     detached.

   If we have moved away from commit ‘f’, then we must first recover its
object name (typically by using git reflog), and then we can create a
reference to it.  For example, to see the last two commits to which
‘HEAD’ referred, we can use either of these commands:

     $ git reflog -2 HEAD # or
     $ git log -g -2 HEAD


ARGUMENT DISAMBIGUATION
***********************

When there is only one argument given and it is not ‘--’ (e.g.  ‘git
checkout abc’), and when the argument is both a valid ‘<tree-ish>’ (e.g.
a branch ‘abc’ exists) and a valid ‘<pathspec>’ (e.g.  a file or a
directory whose name is "abc" exists), Git would usually ask you to
disambiguate.  Because checking out a branch is so common an operation,
however, ‘git checkout abc’ takes "abc" as a ‘<tree-ish>’ in such a
situation.  Use ‘git checkout -- <pathspec>’ if you want to checkout
these paths out of the index.


EXAMPLES
********

  1. The following sequence checks out the ‘master’ branch, reverts the
     ‘Makefile’ to two revisions back, deletes ‘hello.c’ by mistake, and
     gets it back from the index.

          $ git checkout master             (1)
          $ git checkout master~2 Makefile  (2)
          $ rm -f hello.c
          $ git checkout hello.c            (3)

     *note (1): CO2-1.
          switch branch

     *note (2): CO2-2.
          take a file out of another commit

     *note (3): CO2-3.
          restore ‘hello.c’ from the index

          If you want to check out _all_ C source files out of the
          index, you can say

               $ git checkout -- '*.c'

          Note the quotes around ‘*.c’.  The file ‘hello.c’ will also be
          checked out, even though it is no longer in the working tree,
          because the file globbing is used to match entries in the
          index (not in the working tree by the shell).

          If you have an unfortunate branch that is named ‘hello.c’,
          this step would be confused as an instruction to switch to
          that branch.  You should instead write:

               $ git checkout -- hello.c

  2. After working in the wrong branch, switching to the correct branch
     would be done using:

          $ git checkout mytopic

     However, your "wrong" branch and correct ‘mytopic’ branch may
     differ in files that you have modified locally, in which case the
     above checkout would fail like this:

          $ git checkout mytopic
          error: You have local changes to 'frotz'; not switching branches.

     You can give the ‘-m’ flag to the command, which would try a
     three-way merge:

          $ git checkout -m mytopic
          Auto-merging frotz

     After this three-way merge, the local modifications are _not_
     registered in your index file, so ‘git diff’ would show you what
     changes you made since the tip of the new branch.

  3. When a merge conflict happens during switching branches with the
     ‘-m’ option, you would see something like this:

          $ git checkout -m mytopic
          Auto-merging frotz
          ERROR: Merge conflict in frotz
          fatal: merge program failed

     At this point, ‘git diff’ shows the changes cleanly merged as in
     the previous example, as well as the changes in the conflicted
     files.  Edit and resolve the conflict and mark it resolved with
     ‘git add’ as usual:

          $ edit frotz
          $ git add frotz


SEE ALSO
********

git-switch(1), git-restore(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-cherry-pick,  Up: Top

Name
****

git-cherry-pick — Apply the changes introduced by some existing commits


Synopsis
********

     git cherry-pick [–edit] [-n] [-m parent-number] [-s] [-x] [–ff]
                       [-S[<keyid>]] <commit>…
     git cherry-pick (–continue | –skip | –abort | –quit)


DESCRIPTION
***********

Given one or more existing commits, apply the change each one
introduces, recording a new commit for each.  This requires your working
tree to be clean (no modifications from the HEAD commit).

   When it is not obvious how to apply a change, the following happens:

  1. The current branch and ‘HEAD’ pointer stay at the last commit
     successfully made.

  2. The ‘CHERRY_PICK_HEAD’ ref is set to point at the commit that
     introduced the change that is difficult to apply.

  3. Paths in which the change applied cleanly are updated both in the
     index file and in your working tree.

  4. For conflicting paths, the index file records up to three versions,
     as described in the "TRUE MERGE" section of git-merge(1).  The
     working tree files will include a description of the conflict
     bracketed by the usual conflict markers ‘<<<<<<<’ and ‘>>>>>>>’.

  5. No other modifications are made.

   See git-merge(1) for some hints on resolving such conflicts.


OPTIONS
*******

<commit>…
     Commits to cherry-pick.  For a more complete list of ways to spell
     commits, see gitrevisions(7).  Sets of commits can be passed but no
     traversal is done by default, as if the ‘--no-walk’ option was
     specified, see git-rev-list(1).  Note that specifying a range will
     feed all <commit>… arguments to a single revision walk (see a later
     example that uses _maint master..next_).

‘-e’
‘--edit’
     With this option, _git cherry-pick_ will let you edit the commit
     message prior to committing.

‘--cleanup=<mode>’
     This option determines how the commit message will be cleaned up
     before being passed on to the commit machinery.  See git-commit(1)
     for more details.  In particular, if the _<mode>_ is given a value
     of ‘scissors’, scissors will be appended to ‘MERGE_MSG’ before
     being passed on in the case of a conflict.

‘-x’
     When recording the commit, append a line that says "(cherry picked
     from commit …)" to the original commit message in order to indicate
     which commit this change was cherry-picked from.  This is done only
     for cherry picks without conflicts.  Do not use this option if you
     are cherry-picking from your private branch because the information
     is useless to the recipient.  If on the other hand you are
     cherry-picking between two publicly visible branches (e.g.
     backporting a fix to a maintenance branch for an older release from
     a development branch), adding this information can be useful.

‘-r’
     It used to be that the command defaulted to do ‘-x’ described
     above, and ‘-r’ was to disable it.  Now the default is not to do
     ‘-x’ so this option is a no-op.

‘-m parent-number’
‘--mainline parent-number’
     Usually you cannot cherry-pick a merge because you do not know
     which side of the merge should be considered the mainline.  This
     option specifies the parent number (starting from 1) of the
     mainline and allows cherry-pick to replay the change relative to
     the specified parent.

‘-n’
‘--no-commit’
     Usually the command automatically creates a sequence of commits.
     This flag applies the changes necessary to cherry-pick each named
     commit to your working tree and the index, without making any
     commit.  In addition, when this option is used, your index does not
     have to match the HEAD commit.  The cherry-pick is done against the
     beginning state of your index.

     This is useful when cherry-picking more than one commits’ effect to
     your index in a row.

‘-s’
‘--signoff’
     Add a ‘Signed-off-by’ trailer at the end of the commit message.
     See the signoff option in git-commit(1) for more information.

‘-S[<keyid>]’
‘--gpg-sign[=<keyid>]’
‘--no-gpg-sign’
     GPG-sign commits.  The ‘keyid’ argument is optional and defaults to
     the committer identity; if specified, it must be stuck to the
     option without a space.  ‘--no-gpg-sign’ is useful to countermand
     both ‘commit.gpgSign’ configuration variable, and earlier
     ‘--gpg-sign’.

‘--ff’
     If the current HEAD is the same as the parent of the cherry-pick’ed
     commit, then a fast forward to this commit will be performed.

‘--allow-empty’
     By default, cherry-picking an empty commit will fail, indicating
     that an explicit invocation of ‘git commit --allow-empty’ is
     required.  This option overrides that behavior, allowing empty
     commits to be preserved automatically in a cherry-pick.  Note that
     when "–ff" is in effect, empty commits that meet the "fast-forward"
     requirement will be kept even without this option.  Note also, that
     use of this option only keeps commits that were initially empty
     (i.e.  the commit recorded the same tree as its parent).  Commits
     which are made empty due to a previous commit are dropped.  To
     force the inclusion of those commits use
     ‘--keep-redundant-commits’.

‘--allow-empty-message’
     By default, cherry-picking a commit with an empty message will
     fail.  This option overrides that behavior, allowing commits with
     empty messages to be cherry picked.

‘--keep-redundant-commits’
     If a commit being cherry picked duplicates a commit already in the
     current history, it will become empty.  By default these redundant
     commits cause ‘cherry-pick’ to stop so the user can examine the
     commit.  This option overrides that behavior and creates an empty
     commit object.  Implies ‘--allow-empty’.

‘--strategy=<strategy>’
     Use the given merge strategy.  Should only be used once.  See the
     MERGE STRATEGIES section in git-merge(1) for details.

‘-X<option>’
‘--strategy-option=<option>’
     Pass the merge strategy-specific option through to the merge
     strategy.  See git-merge(1) for details.

‘--rerere-autoupdate’
‘--no-rerere-autoupdate’
     Allow the rerere mechanism to update the index with the result of
     auto-conflict resolution if possible.


SEQUENCER SUBCOMMANDS
*********************

‘--continue’
     ‘.git/sequencer’ の情報を使用して、進行中の操作の続行を行います。失
     敗したcherry-pickまたはrevertの競合を解決した後、続行するために使用
     できます。

‘--skip’
     現在のコミットをスキップして、残りのシーケンスを続行します。

‘--quit’
     進行中の今回の操作を忘れてください。チェリーピックまたはrevertに失
     敗した後、シーケンサーの状態をクリアするために使用できます。

‘--abort’
     操作をキャンセルして、シーケンス操作前の状態に戻ります。


EXAMPLES
********

‘git cherry-pick master’
     Apply the change introduced by the commit at the tip of the master
     branch and create a new commit with this change.

‘git cherry-pick ..master’
‘git cherry-pick ^HEAD master’
     Apply the changes introduced by all commits that are ancestors of
     master but not of HEAD to produce new commits.

‘git cherry-pick maint next ^master’
‘git cherry-pick maint master..next’
     Apply the changes introduced by all commits that are ancestors of
     maint or next, but not master or any of its ancestors.  Note that
     the latter does not mean ‘maint’ and everything between ‘master’
     and ‘next’; specifically, ‘maint’ will not be used if it is
     included in ‘master’.

‘git cherry-pick master~4 master~2’
     Apply the changes introduced by the fifth and third last commits
     pointed to by master and create 2 new commits with these changes.

‘git cherry-pick -n master~1 next’
     Apply to the working tree and the index the changes introduced by
     the second last commit pointed to by master and by the last commit
     pointed to by next, but do not create any commit with these
     changes.

‘git cherry-pick --ff ..next’
     If history is linear and HEAD is an ancestor of next, update the
     working tree and advance the HEAD pointer to match next.
     Otherwise, apply the changes introduced by those commits that are
     in next but not HEAD to the current branch, creating a new commit
     for each new change.

‘git rev-list --reverse master -- README | git cherry-pick -n --stdin’
     Apply the changes introduced by all commits on the master branch
     that touched README to the working tree and index, so the result
     can be inspected and made into a single new commit if suitable.

   The following sequence attempts to backport a patch, bails out
because the code the patch applies to has changed too much, and then
tries again, this time exercising more care about matching up context
lines.

     $ git cherry-pick topic^             (1)
     $ git diff                           (2)
     $ git reset --merge ORIG_HEAD        (3)
     $ git cherry-pick -Xpatience topic^  (4)

*note (1): CO1-1.
     apply the change that would be shown by ‘git show topic^’.  In this
     example, the patch does not apply cleanly, so information about the
     conflict is written to the index and working tree and no new commit
     results.

*note (2): CO1-2.
     summarize changes to be reconciled

*note (3): CO1-3.
     cancel the cherry-pick.  In other words, return to the
     pre-cherry-pick state, preserving any local modifications you had
     in the working tree.

*note (4): CO1-4.
     try to apply the change introduced by ‘topic^’ again, spending
     extra time to avoid mistakes based on incorrectly matching context
     lines.


SEE ALSO
********

git-revert(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-cherry,  Up: Top

Name
****

git-cherry — アップストリームにまだ適用されていないコミットを検索する


Synopsis
********

     git cherry [-v] [<upstream> [<head> [<limit>]]]


DESCRIPTION
***********

‘<head>..<upstream>’ に ‘<limit>..<head>’ の範囲と同等のコミットがあるか
どうかを検査(determine)します。

   等価性テストは、空白と行番号を削除した後のdiffに基づいています。した
がって、git-cherry は、 git-cherry-pick(1) または git-am(1) または
git-rebase(1) を使用してコミットが「コピー」された時に検出します。

   ‘<limit>..<head>’ の範囲のすべてのコミットのSHA1を出力し、 <upstream>
に同等のものがあるコミットの場合は ‘-’ を接頭辞として付け、そうでないコ
ミットの場合は ‘+’ を接頭辞として付けます。


OPTIONS
*******

‘-v’
     SHA1の横にコミット件名(commit subject)を表示します。

<upstream>
     同等のコミットを検索するためのアップストリームブランチ。デフォルト
     はHEADのアップストリームブランチです。

<head>
     作業ブランチ。デフォルトはHEADです。

<limit>
     コミットをlimitまで(limitを含む)報告しないでください。


EXAMPLES
********


Patch workflows
===============

git-cherryは、パッチベースのワークフロー(gitworkflows(7) 参照)で頻繁に使
用され、一連のパッチがアップストリームメンテナによって適用されているかど
うかを判断します。このようなワークフローでは、以下のようなトピックブラン
チを作成して送信できます:

     $ git checkout -b topic origin/master
     # work and create some commits
     $ git format-patch origin/master
     $ git send-email ... 00*

   後で、あなたは(まだ ‘topic’ に居る時に、)次のように言うことで、変更が
適用されたかどうかを確認できます:

     $ git fetch  # update your notion of origin/master
     $ git cherry -v


Concrete example
================

トピックが3つのコミットで構成され、メンテナがそのうちの2つを適用した状況
では、状況は以下のようになります:

     $ git log --graph --oneline --decorate --boundary origin/master...topic
     * 7654321 (origin/master) upstream tip commit
     [... snip some other commits ...]
     * cccc111 cherry-pick of C
     * aaaa111 cherry-pick of A
     [... snip a lot more that has happened ...]
     | * cccc000 (topic) commit C
     | * bbbb000 commit B
     | * aaaa000 commit A
     |/
     o 1234567 branch point

   このような場合、git-cherryはまだ適用されていないモノの簡潔な要約を示
します:

     $ git cherry origin/master topic
     - cccc000... commit C
     + bbbb000... commit B
     - aaaa000... commit A

   ここで、(‘-’ でマークされている)コミットAとCは、 ‘origin/master’ のト
ップでリベースすると、トピックブランチから削除できますが、（‘+’ でマーク
されている)コミットBは ‘origin/master’ にapplyするために送信されるために
、まだ保持しつづける必要があります。


Using a limit
=============

オプションの <limit> は、あなたのトピックがアップストリームにない他の作
業に基づいている場合に役立ちます。前の例を拡張すると、これは以下のように
なります:

     $ git log --graph --oneline --decorate --boundary origin/master...topic
     * 7654321 (origin/master) upstream tip commit
     [... snip some other commits ...]
     * cccc111 cherry-pick of C
     * aaaa111 cherry-pick of A
     [... snip a lot more that has happened ...]
     | * cccc000 (topic) commit C
     | * bbbb000 commit B
     | * aaaa000 commit A
     | * 0000fff (base) unpublished stuff F
     [... snip ...]
     | * 0000aaa unpublished stuff A
     |/
     o 1234567 merge-base between upstream and topic

   制限として ‘base’ を指定することで、 ‘base’ と ‘topic’ の間のコミット
をリストすることを回避できます:

     $ git cherry origin/master topic base
     - cccc000... commit C
     + bbbb000... commit B
     - aaaa000... commit A


SEE ALSO
********

git-patch-id(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-citool,  Up: Top

Name
****

git-citool — git-commitのグラフィカルな代替手段


Synopsis
********

     git citool


DESCRIPTION
***********

Tcl/Tkベースのグラフィカルインターフェイス。変更されたファイルを確認し、
それらをインデックスにステージングし、コミットメッセージを入力して、新し
いコミットを現在のブランチに記録します。このインターフェースは、インタラ
クティブ性の低い’git commit’プログラムの代替手段です。

   ’git citool’は実際には‘git gui citool‘の標準エイリアスです。詳細につ
いては、git-gui(1)を参照してください。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-clean,  Up: Top

Name
****

git-clean — 作業ツリーから追跡されていないファイルを削除する


Synopsis
********

     git clean [-d] [-f] [-i] [-n] [-q] [-e <pattern>] [-x | -X] [–] <path>…


DESCRIPTION
***********

現在のディレクトリから開始して、バージョン管理下にないファイルを再帰的に
削除することにより、作業ツリーをクリーンにします。

   通常、Gitが追跡していないファイルのみが削除されますが、 ‘-x’ オプショ
ンが指定されている場合、無視されたファイル(ignored files)も削除されます
。これは、たとえば、ビルドでの生成物全てを削除するのに役立ちます。

   オプションで、任意の数の ‘<path> ...’ 引数を指定すると、それらのパス
のみが影響を受けます。


OPTIONS
*******

‘-d’
     通常、<path> が指定されていない場合、削除が多すぎるのを避けるために
     、git cleanは追跡されていないディレクトリ内には再帰処理しません。
     ‘-d’ を指定すると、そのようなディレクトリ内でも再帰的に処理します。
     パスが指定されている場合、 ‘-d’ は関係ありません。(‘--force’ で言及
     されているネストされたgitディレクトリを除く、)指定されたパスに一致
     するすべての追跡されていないファイルは削除されます。

‘-f’
‘--force’
     Git構成変数 clean.requireForce が false に設定されてい無い場合、「
     git clean」は、 ‘-f’ または ‘-i’ が指定されていない限り、ファイルま
     たはディレクトリの削除を拒否します。 2つ目の ‘-f’ が指定されていな
     い限り、Gitは追跡されていないネストされたgitリポジトリ(.gitサブディ
     レクトリを持つディレクトリ)の変更を拒否します。

‘-i’
‘--interactive’
     何が行われるを示し、ファイルを対話的にクリーンアップします。 詳細は
     「Interactive mode」を参照してください。

‘-n’
‘--dry-run’
     実際には何も削除せず、何が行われるかを表示します。

‘-q’
‘--quiet’
     静かにして、エラーのみを報告し、正常に削除されたファイルは報告しな
     いでください。

‘-e <pattern>’
‘--exclude=<pattern>’
     標準の無視ルールに加えて、指定の除外パターンを使用します
     (gitignore(5) 参照)。

‘-x’
     標準の無視ルール(gitignore(5) 参照)を使用しないでください。ただし、
     コマンドラインから ‘-e’ オプションを指定して指定された無視ルールは
     使用してください。これにより、ビルド生成物を含む、追跡されていない
     すべてのファイルを削除できます。これを使用して（おそらく「git
     restore」または「git reset」と組み合わせて）、ビルドをテストするた
     めのクリーンな、元の作業ディレクトリを作成できます。

‘-X’
     Gitによって無視されたファイルのみを削除します。これは、すべてを最初
     から再構築するのに役立つ場合がありますが、手動で作成したファイルは
     保持します。


Interactive mode
****************

コマンドがinteractive modeに入ると、クリーンアップするファイルとディレク
トリが表示され、インタラクティブコマンドループに入ります。

   コマンドループは、使用可能なサブコマンドのリストを表示し、「Whatnow>
」というプロンプトを表示します。一般に、プロンプトが単一の「>」で終わる
場合、以下のように、選択肢の1つだけを選択し、ENTERキーを押します:

         *** Commands ***
             1: clean                2: filter by pattern    3: select by numbers
             4: ask each             5: quit                 6: help
         What now> 1

   選択が一意である限り、上記は「c」または「clean」と打ち込む事もできま
す。

   メインコマンドループには6つのサブコマンドがあります。

clean
     ファイルとディレクトリのクリーニングを開始して、終了(quit)します。

filter by pattern
     これにより、削除するファイルとディレクトリが表示され、「Input
     ignore patterns>>」(入力無視パターン)プロンプトが表示されます。スペ
     ースで区切られたパターンを入力して、ファイルとディレクトリを削除か
     ら除外できます。 例えば。 「* .c * .h」は、「.c」と「.h」で終わるフ
     ァイルを削除から除外します。そして、結果に満足したら、ENTER を押し
     てメインメニューに戻ります。

select by numbers
     これにより、削除するファイルとディレクトリが表示され、「Select
     items to delete>>」(削除するアイテムを選択)というプロンプトが表示さ
     れます。プロンプトがこのように二重の「>>」で終わる場合、空白または
     コンマで連結して複数の選択を行うことができます。また、あなたは範囲
     を伝えることができます。 例えば「2-57,9」でリストから2,3,4,5,7,9を
     選択します。範囲の2番目の数値を省略すると、残りのすべての項目が選択
     されます。 例えば「7-」はリストから7,8,9を選択します。「*」dで全て
     を選択できます。そして、結果に満足したら、ENTER を押してメインメニ
     ューに戻ります。

ask each
     これはクリーニングが始まると、アイテムを削除するために一つずつ確認
     する必要があります。この操作は、上記の2つのアクションほど効率的では
     ないことに注意してください。

quit
     これにより、クリーニングを行わずに終了(quit)できます。

help
     git-cleanの対話的な簡単な使用法を示します。


SEE ALSO
********

gitignore(5)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-clone,  Up: Top

Name
****

git-clone — Clone a repository into a new directory


Synopsis
********

     git clone [–template=<template_directory>]
               [-l] [-s] [–no-hardlinks] [-q] [-n] [–bare] [–mirror]
               [-o <name>] [-b <name>] [-u <upload-pack>] [–reference <repository>]
               [–dissociate] [–separate-git-dir <git dir>]
               [–depth <depth>] [–[no-]single-branch] [–no-tags]
               [–recurse-submodules[=<pathspec>]] [–[no-]shallow-submodules]
               [–[no-]remote-submodules] [–jobs <n>] [–sparse] [–[no-]reject-shallow]
               [–filter=<filter>] [–] <repository>
               [<directory>]


DESCRIPTION
***********

Clones a repository into a newly created directory, creates
remote-tracking branches for each branch in the cloned repository
(visible using ‘git branch --remotes’), and creates and checks out an
initial branch that is forked from the cloned repository’s currently
active branch.

   After the clone, a plain ‘git fetch’ without arguments will update
all the remote-tracking branches, and a ‘git pull’ without arguments
will in addition merge the remote master branch into the current master
branch, if any (this is untrue when "–single-branch" is given; see
below).

   This default configuration is achieved by creating references to the
remote branch heads under ‘refs/remotes/origin’ and by initializing
‘remote.origin.url’ and ‘remote.origin.fetch’ configuration variables.


OPTIONS
*******

‘-l’
‘--local’
     When the repository to clone from is on a local machine, this flag
     bypasses the normal "Git aware" transport mechanism and clones the
     repository by making a copy of HEAD and everything under objects
     and refs directories.  The files under ‘.git/objects/’ directory
     are hardlinked to save space when possible.

     If the repository is specified as a local path (e.g.,
     ‘/path/to/repo’), this is the default, and –local is essentially a
     no-op.  If the repository is specified as a URL, then this flag is
     ignored (and we never use the local optimizations).  Specifying
     ‘--no-local’ will override the default when ‘/path/to/repo’ is
     given, using the regular Git transport instead.

     *NOTE*: this operation can race with concurrent modification to the
     source repository, similar to running ‘cp -r src dst’ while
     modifying ‘src’.

‘--no-hardlinks’
     Force the cloning process from a repository on a local filesystem
     to copy the files under the ‘.git/objects’ directory instead of
     using hardlinks.  This may be desirable if you are trying to make a
     back-up of your repository.

‘-s’
‘--shared’
     When the repository to clone is on the local machine, instead of
     using hard links, automatically setup
     ‘.git/objects/info/alternates’ to share the objects with the source
     repository.  The resulting repository starts out without any object
     of its own.

     *NOTE*: this is a possibly dangerous operation; do *not* use it
     unless you understand what it does.  If you clone your repository
     using this option and then delete branches (or use any other Git
     command that makes any existing commit unreferenced) in the source
     repository, some objects may become unreferenced (or dangling).
     These objects may be removed by normal Git operations (such as ‘git
     commit’) which automatically call ‘git maintenance run --auto’.
     (See git-maintenance(1).)  If these objects are removed and were
     referenced by the cloned repository, then the cloned repository
     will become corrupt.

     Note that running ‘git repack’ without the ‘--local’ option in a
     repository cloned with ‘--shared’ will copy objects from the source
     repository into a pack in the cloned repository, removing the disk
     space savings of ‘clone --shared’.  It is safe, however, to run
     ‘git gc’, which uses the ‘--local’ option by default.

     If you want to break the dependency of a repository cloned with
     ‘--shared’ on its source repository, you can simply run ‘git repack
     -a’ to copy all objects from the source repository into a pack in
     the cloned repository.

‘--reference[-if-able] <repository>’
     If the reference repository is on the local machine, automatically
     setup ‘.git/objects/info/alternates’ to obtain objects from the
     reference repository.  Using an already existing repository as an
     alternate will require fewer objects to be copied from the
     repository being cloned, reducing network and local storage costs.
     When using the ‘--reference-if-able’, a non existing directory is
     skipped with a warning instead of aborting the clone.

     *NOTE*: see the NOTE for the ‘--shared’ option, and also the
     ‘--dissociate’ option.

‘--dissociate’
     Borrow the objects from reference repositories specified with the
     ‘--reference’ options only to reduce network transfer, and stop
     borrowing from them after a clone is made by making necessary local
     copies of borrowed objects.  This option can also be used when
     cloning locally from a repository that already borrows objects from
     another repository—the new repository will borrow objects from the
     same repository, and this option can be used to stop the borrowing.

‘-q’
‘--quiet’
     Operate quietly.  Progress is not reported to the standard error
     stream.

‘-v’
‘--verbose’
     Run verbosely.  Does not affect the reporting of progress status to
     the standard error stream.

‘--progress’
     Progress status is reported on the standard error stream by default
     when it is attached to a terminal, unless ‘--quiet’ is specified.
     This flag forces progress status even if the standard error stream
     is not directed to a terminal.

‘--server-option=<option>’
     Transmit the given string to the server when communicating using
     protocol version 2.  The given string must not contain a NUL or LF
     character.  The server’s handling of server options, including
     unknown ones, is server-specific.  When multiple
     ‘--server-option=<option>’ are given, they are all sent to the
     other side in the order listed on the command line.

‘-n’
‘--no-checkout’
     No checkout of HEAD is performed after the clone is complete.

‘--[no-]reject-shallow’
     Fail if the source repository is a shallow repository.  The
     _clone.rejectShallow_ configuration variable can be used to specify
     the default.

‘--bare’
     Make a _bare_ Git repository.  That is, instead of creating
     ‘<directory>’ and placing the administrative files in
     ‘<directory>/.git’, make the ‘<directory>’ itself the ‘$GIT_DIR’.
     This obviously implies the ‘--no-checkout’ because there is nowhere
     to check out the working tree.  Also the branch heads at the remote
     are copied directly to corresponding local branch heads, without
     mapping them to ‘refs/remotes/origin/’.  When this option is used,
     neither remote-tracking branches nor the related configuration
     variables are created.

‘--sparse’
     Initialize the sparse-checkout file so the working directory starts
     with only the files in the root of the repository.  The
     sparse-checkout file can be modified to grow the working directory
     as needed.

‘--filter=<filter-spec>’
     Use the partial clone feature and request that the server sends a
     subset of reachable objects according to a given object filter.
     When using ‘--filter’, the supplied ‘<filter-spec>’ is used for the
     partial clone filter.  For example, ‘--filter=blob:none’ will
     filter out all blobs (file contents) until needed by Git.  Also,
     ‘--filter=blob:limit=<size>’ will filter out all blobs of size at
     least ‘<size>’.  For more details on filter specifications, see the
     ‘--filter’ option in git-rev-list(1).

‘--mirror’
     Set up a mirror of the source repository.  This implies ‘--bare’.
     Compared to ‘--bare’, ‘--mirror’ not only maps local branches of
     the source to local branches of the target, it maps all refs
     (including remote-tracking branches, notes etc.)  and sets up a
     refspec configuration such that all these refs are overwritten by a
     ‘git remote update’ in the target repository.

‘-o <name>’
‘--origin <name>’
     Instead of using the remote name ‘origin’ to keep track of the
     upstream repository, use ‘<name>’.  Overrides
     ‘clone.defaultRemoteName’ from the config.

‘-b <name>’
‘--branch <name>’
     Instead of pointing the newly created HEAD to the branch pointed to
     by the cloned repository’s HEAD, point to ‘<name>’ branch instead.
     In a non-bare repository, this is the branch that will be checked
     out.  ‘--branch’ can also take tags and detaches the HEAD at that
     commit in the resulting repository.

‘-u <upload-pack>’
‘--upload-pack <upload-pack>’
     When given, and the repository to clone from is accessed via ssh,
     this specifies a non-default path for the command run on the other
     end.

‘--template=<template_directory>’
     Specify the directory from which templates will be used; (See the
     "TEMPLATE DIRECTORY" section of git-init(1).)

‘-c <key>=<value>’
‘--config <key>=<value>’
     Set a configuration variable in the newly-created repository; this
     takes effect immediately after the repository is initialized, but
     before the remote history is fetched or any files checked out.  The
     key is in the same format as expected by git-config(1) (e.g.,
     ‘core.eol=true’).  If multiple values are given for the same key,
     each value will be written to the config file.  This makes it safe,
     for example, to add additional fetch refspecs to the origin remote.

     Due to limitations of the current implementation, some
     configuration variables do not take effect until after the initial
     fetch and checkout.  Configuration variables known to not take
     effect are: ‘remote.<name>.mirror’ and ‘remote.<name>.tagOpt’.  Use
     the corresponding ‘--mirror’ and ‘--no-tags’ options instead.

‘--depth <depth>’
     Create a _shallow_ clone with a history truncated to the specified
     number of commits.  Implies ‘--single-branch’ unless
     ‘--no-single-branch’ is given to fetch the histories near the tips
     of all branches.  If you want to clone submodules shallowly, also
     pass ‘--shallow-submodules’.

‘--shallow-since=<date>’
     Create a shallow clone with a history after the specified time.

‘--shallow-exclude=<revision>’
     Create a shallow clone with a history, excluding commits reachable
     from a specified remote branch or tag.  This option can be
     specified multiple times.

‘--[no-]single-branch’
     Clone only the history leading to the tip of a single branch,
     either specified by the ‘--branch’ option or the primary branch
     remote’s ‘HEAD’ points at.  Further fetches into the resulting
     repository will only update the remote-tracking branch for the
     branch this option was used for the initial cloning.  If the HEAD
     at the remote did not point at any branch when ‘--single-branch’
     clone was made, no remote-tracking branch is created.

‘--no-tags’
     Don’t clone any tags, and set ‘remote.<remote>.tagOpt=--no-tags’ in
     the config, ensuring that future ‘git pull’ and ‘git fetch’
     operations won’t follow any tags.  Subsequent explicit tag fetches
     will still work, (see git-fetch(1)).

     Can be used in conjunction with ‘--single-branch’ to clone and
     maintain a branch with no references other than a single cloned
     branch.  This is useful e.g.  to maintain minimal clones of the
     default branch of some repository for search indexing.

‘--recurse-submodules[=<pathspec>]’
     After the clone is created, initialize and clone submodules within
     based on the provided pathspec.  If no pathspec is provided, all
     submodules are initialized and cloned.  This option can be given
     multiple times for pathspecs consisting of multiple entries.  The
     resulting clone has ‘submodule.active’ set to the provided
     pathspec, or "."  (meaning all submodules) if no pathspec is
     provided.

     Submodules are initialized and cloned using their default settings.
     This is equivalent to running ‘git submodule update --init
     --recursive <pathspec>’ immediately after the clone is finished.
     This option is ignored if the cloned repository does not have a
     worktree/checkout (i.e.  if any of ‘--no-checkout’/‘-n’, ‘--bare’,
     or ‘--mirror’ is given)

‘--[no-]shallow-submodules’
     All submodules which are cloned will be shallow with a depth of 1.

‘--[no-]remote-submodules’
     All submodules which are cloned will use the status of the
     submodule’s remote-tracking branch to update the submodule, rather
     than the superproject’s recorded SHA-1.  Equivalent to passing
     ‘--remote’ to ‘git submodule update’.

‘--separate-git-dir=<git dir>’
     Instead of placing the cloned repository where it is supposed to
     be, place the cloned repository at the specified directory, then
     make a filesystem-agnostic Git symbolic link to there.  The result
     is Git repository can be separated from working tree.

‘-j <n>’
‘--jobs <n>’
     The number of submodules fetched at the same time.  Defaults to the
     ‘submodule.fetchJobs’ option.

<repository>
     The (possibly remote) repository to clone from.  See the GIT URLS
     section below for more information on specifying repositories.

<directory>
     The name of a new directory to clone into.  The "humanish" part of
     the source repository is used if no directory is explicitly given
     (‘repo’ for ‘/path/to/repo.git’ and ‘foo’ for ‘host.xz:foo/.git’).
     Cloning into an existing directory is only allowed if the directory
     is empty.


GIT URLS
********

一般に、URLには、トランスポートプロトコル、リモートサーバーのアドレス、
およびリポジトリへのパスに関する情報が含まれています。トランスポートプロ
トコルによっては、一部の情報が欠落している場合があります。

   Gitはsshとgitとhttpとhttpsプロトコルをサポートします(さらにftpと
ftpsをフェッチに使用できますが、これは非効率的で非推奨です。使用しないで
ください)。

   ネイティブトランスポート(つまり、 git:// URL)は認証を行わないため、セ
キュリティで保護されていないネットワークでは注意して使用する必要がありま
す。

   以下の構文を使用できます:

   • ssh://[user@]host.xz[:port]/path/to/repo.git/

   • git://host.xz[:port]/path/to/repo.git/

   • http[s]://host.xz[:port]/path/to/repo.git/

   • ftp[s]://host.xz[:port]/path/to/repo.git/

   代替のscpのような構文をsshプロトコルで使用することもできます:

   • [user@]host.xz:path/to/repo.git/

   この構文は、最初のコロン(:)の前にスラッシュがない場合にのみ認識されま
す。これは、コロンを含むローカルパスを区別するのに役立ちます。たとえば、
ローカルパス ‘foo:bar’ を、絶対パスまたは ‘./foo:bar’ として指定して、
ssh url として誤って解釈されないようにすることができます。

   sshおよびgitプロトコルは、さらに ~username 拡張をサポートします:

   • ssh://[user@]host.xz[:port]/~[user]/path/to/repo.git/

   • git://host.xz[:port]/~[user]/path/to/repo.git/

   • [user@]host.xz:/~[user]/path/to/repo.git/

   Gitでもネイティブにサポートされているローカルリポジトリの場合、以下の
構文を使用できます:

   • /path/to/repo.git/

   • file:///path/to/repo.git/

   これらの2つの構文は、前者が ‘--local’ オプションを含むことを除いて、
ほとんど同等です。

   「git clone」と「git fetch」と「git pull」は、「git push」と違って適
切なバンドルファイルを受け入れます。 git-bundle(1) を参照してください。

   Gitが特定のトランスポートプロトコルを処理する方法を知らない場合、
Gitは _remote-<transport>_ リモートヘルパー(存在する場合)を使用しようと
します。リモートヘルパーを明示的に要求するには、以下の構文を使用できます
:

   • <transport>::<address>

   ここで、 <address> は、パス、サーバーとパス、または呼び出されている特
定のリモートヘルパーによって認識される任意のURLのような文字列です。詳細
については、 gitremote-helpers(7) を参照してください。

   同じ名前のリモートリポジトリが多数あり、それらに異なる形式を使用する
場合(あなたの使用するURLが機能するURLに書き換えられるように)、以下の形式
の構成セクションを作成できます:

             [url "<actual url base>"]
                     insteadOf = <other url base>

   例えば、以下のようになります:

             [url "git://git.host.xz/"]
                     insteadOf = host.xz:/path/to/
                     insteadOf = work:

   "work:repo.git" や "host.xz:/path/to/repo.git" のようなURLは、任意の
コンテキストで、"git://git.host.xz/repo.git" に書き換えられます。

   プッシュ専用のURLを書き換えたい場合は、以下の形式の構成セクションを作
成できます:

             [url "<actual url base>"]
                     pushInsteadOf = <other url base>

   例えば、以下のようになります:

             [url "ssh://example.org/"]
                     pushInsteadOf = git://example.org/

   "git://example.org/path/to/repo.git" のようなURLは、プッシュの場合は
"ssh://example.org/path/to/repo.git" に書き換えられますが、プルは引き続
き元のURLのままです。


EXAMPLES
********

   • Clone from upstream:

          $ git clone git://git.kernel.org/pub/scm/.../linux.git my-linux
          $ cd my-linux
          $ make

   • Make a local clone that borrows from the current directory, without
     checking things out:

          $ git clone -l -s -n . ../copy
          $ cd ../copy
          $ git show-branch

   • Clone from upstream while borrowing from an existing local
     directory:

          $ git clone --reference /git/linux.git \
                  git://git.kernel.org/pub/scm/.../linux.git \
                  my-linux
          $ cd my-linux

   • Create a bare repository to publish your changes to the public:

          $ git clone --bare -l /home/proj/.git /pub/scm/proj.git


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-column,  Up: Top

Name
****

git-column — データを複数列表示する


Synopsis
********

     git column [–command=<name>] [–[raw-]mode=<mode>] [–width=<width>]
                  [–indent=<string>] [–nl=<string>] [–padding=<n>]


DESCRIPTION
***********

このコマンドは、標準入力の行を複数の列を持つテーブル(表)にフォーマットし
ます。各入力行は、テーブルの1つのセルを占有します。これは、出力を複数列
にフォーマットするために他のgitコマンドによって内部的に使用されます。


OPTIONS
*******

‘--command=<name>’
     構成変数 column.<name> とcolumn.ui を使用してレイアウトモードを探し
     ます。

‘--mode=<mode>’
     レイアウトモードを指定します。 git-config(1) のオプション構文につい
     ては、構成変数 column.ui を参照してください。

‘--raw-mode=<n>’
     ‘--mode’ と同じですが、数値としてエンコードされたモードを使用します
     。これは主に、レイアウトモードをすでにパースしている他のコマンドに
     よって使用されます。

‘--width=<width>’
     端末幅を指定します。デフォルトでは、「git column」は端末の幅を検出
     するか、検出できない場合は80にフォールバックします。

‘--indent=<string>’
     各行の先頭に印刷される文字列。

‘--nl=<string>’
     改行文字を含む、各行の終わりに印刷される文字列。

‘--padding=<N>’
     列間のスペースの数。 デフォルトでは1つの空白。


EXAMPLES
********

データを複数列(columns)でフォーマット:

     $ seq 1 24 | git column --mode=column --padding=5
     1      4      7      10     13     16     19     22
     2      5      8      11     14     17     20     23
     3      6      9      12     15     18     21     24

   データを複数行(rows)でフォーマット:

     $ seq 1 21 | git column --mode=row --padding=5
     1      2      3      4      5      6      7
     8      9      10     11     12     13     14
     15     16     17     18     19     20     21

   列幅が等しくないテーブルにいくつかのタグをリストします:

     $ git tag --list 'v2.4.*' --column=row,dense
     v2.4.0  v2.4.0-rc0  v2.4.0-rc1  v2.4.0-rc2  v2.4.0-rc3
     v2.4.1  v2.4.10     v2.4.11     v2.4.12     v2.4.2
     v2.4.3  v2.4.4      v2.4.5      v2.4.6      v2.4.7
     v2.4.8  v2.4.9


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-commit-graph,  Up: Top

Name
****

git-commit-graph — Write and verify Git commit-graph files


Synopsis
********

     git commit-graph verify [–object-dir <dir>] [–shallow] [–[no-]progress]
     git commit-graph write <options> [–object-dir <dir>] [–[no-]progress]


DESCRIPTION
***********

Manage the serialized commit-graph file.


OPTIONS
*******

‘--object-dir’
     Use given directory for the location of packfiles and commit-graph
     file.  This parameter exists to specify the location of an
     alternate that only has the objects directory, not a full ‘.git’
     directory.  The commit-graph file is expected to be in the
     ‘<dir>/info’ directory and the packfiles are expected to be in
     ‘<dir>/pack’.  If the directory could not be made into an absolute
     path, or does not match any known object directory, ‘git
     commit-graph ...’ will exit with non-zero status.

‘--[no-]progress’
     Turn progress on/off explicitly.  If neither is specified, progress
     is shown if standard error is connected to a terminal.


COMMANDS
********

_write_
     Write a commit-graph file based on the commits found in packfiles.
     If the config option ‘core.commitGraph’ is disabled, then this
     command will output a warning, then return success without writing
     a commit-graph file.

     With the ‘--stdin-packs’ option, generate the new commit graph by
     walking objects only in the specified pack-indexes.  (Cannot be
     combined with ‘--stdin-commits’ or ‘--reachable’.)

     With the ‘--stdin-commits’ option, generate the new commit graph by
     walking commits starting at the commits specified in stdin as a
     list of OIDs in hex, one OID per line.  OIDs that resolve to
     non-commits (either directly, or by peeling tags) are silently
     ignored.  OIDs that are malformed, or do not exist generate an
     error.  (Cannot be combined with ‘--stdin-packs’ or ‘--reachable’.)

     With the ‘--reachable’ option, generate the new commit graph by
     walking commits starting at all refs.  (Cannot be combined with
     ‘--stdin-commits’ or ‘--stdin-packs’.)

     With the ‘--append’ option, include all commits that are present in
     the existing commit-graph file.

     With the ‘--changed-paths’ option, compute and write information
     about the paths changed between a commit and its first parent.
     This operation can take a while on large repositories.  It provides
     significant performance gains for getting history of a directory or
     a file with ‘git log -- <path>’.  If this option is given, future
     commit-graph writes will automatically assume that this option was
     intended.  Use ‘--no-changed-paths’ to stop storing this data.

     With the ‘--max-new-filters=<n>’ option, generate at most ‘n’ new
     Bloom filters (if ‘--changed-paths’ is specified).  If ‘n’ is ‘-1’,
     no limit is enforced.  Only commits present in the new layer count
     against this limit.  To retroactively compute Bloom filters over
     earlier layers, it is advised to use ‘--split=replace’.  Overrides
     the ‘commitGraph.maxNewFilters’ configuration.

     With the ‘--split[=<strategy>]’ option, write the commit-graph as a
     chain of multiple commit-graph files stored in
     ‘<dir>/info/commit-graphs’.  Commit-graph layers are merged based
     on the strategy and other splitting options.  The new commits not
     already in the commit-graph are added in a new "tip" file.  This
     file is merged with the existing file if the following merge
     conditions are met:

        • If ‘--split=no-merge’ is specified, a merge is never
          performed, and the remaining options are ignored.
          ‘--split=replace’ overwrites the existing chain with a new
          one.  A bare ‘--split’ defers to the remaining options.  (Note
          that merging a chain of commit graphs replaces the existing
          chain with a length-1 chain where the first and only
          incremental holds the entire graph).

        • If ‘--size-multiple=<X>’ is not specified, let ‘X’ equal 2.
          If the new tip file would have ‘N’ commits and the previous
          tip has ‘M’ commits and ‘X’ times ‘N’ is greater than ‘M’,
          instead merge the two files into a single file.

        • If ‘--max-commits=<M>’ is specified with ‘M’ a positive
          integer, and the new tip file would have more than ‘M’
          commits, then instead merge the new tip with the previous tip.

          Finally, if ‘--expire-time=<datetime>’ is not specified, let
          ‘datetime’ be the current time.  After writing the split
          commit-graph, delete all unused commit-graph whose modified
          times are older than ‘datetime’.

_verify_
     Read the commit-graph file and verify its contents against the
     object database.  Used to check for corrupted data.

     With the ‘--shallow’ option, only check the tip commit-graph file
     in a chain of split commit-graphs.


EXAMPLES
********

   • Write a commit-graph file for the packed commits in your local
     ‘.git’ directory.

          $ git commit-graph write

   • Write a commit-graph file, extending the current commit-graph file
     using commits in ‘<pack-index>’.

          $ echo <pack-index> | git commit-graph write --stdin-packs

   • Write a commit-graph file containing all reachable commits.

          $ git show-ref -s | git commit-graph write --stdin-commits

   • Write a commit-graph file containing all commits in the current
     commit-graph file along with those reachable from ‘HEAD’.

          $ git rev-parse HEAD | git commit-graph write --stdin-commits --append


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-commit-tree,  Up: Top

Name
****

git-commit-tree — 新しいコミットオブジェクトを作成します


Synopsis
********

     git commit-tree <tree> [(-p <parent>)…]
     git commit-tree [(-p <parent>)…] [-S[<keyid>]] [(-m <message>)…]
                       [(-F <file>)…] <tree>


DESCRIPTION
***********

これは通常、エンドユーザーが直接実行するものではありません。代わりに
git-commit(1) を参照してください。

   提供されたツリーオブジェクトに基づいて新しいコミットオブジェクトを作
成し、標準出力に新しいコミットオブジェクトIDを発行します。 ‘-m’ または
‘-F’ オプションが指定されていない限り、ログメッセージは標準入力から読み
取られます。

   ‘-m’ および ‘-F’ オプションは、任意の回数、任意の順序で指定できます。
コミットログメッセージは、オプションが指定された順序で作成されます。

   コミットオブジェクトには、任意の数の親を含めることができます。親が1つ
だけの場合、これは通常のコミットです。 複数の親を持つことで、コミットは
複数の履歴行の間でマージされます。なお、最初のコミット(ルートコミット)に
は親はありません。

   ツリーは作業ディレクトリの特定のディレクトリ状態を表しますが、コミッ
トはある「時点」における状態を表し、そこに到達する方法を説明します。

   あなたがその状態に関するメモをは何処に保存してもGitは気にしませんが、
通常、コミットは新しい「HEAD」状態を識別します。実際のところGitは、
‘.git/HEAD’ が指すファイルに結果を書き込む傾向にあり、最後にコミットされ
た状態が何であったかを常に確認できるようにしています。


OPTIONS
*******

<tree>
     既存のツリーオブジェクト。

‘-p <parent>’
     各 ‘-p’ は、親コミットオブジェクトのIDを示します。

‘-m <message>’
     コミットログメッセージの段落。これは複数回指定でき、各 <message> は
     独立した段落になります。

‘-F <file>’
     指定されたファイルからコミットログメッセージを読み取ります。 標準入
     力から読み取るには、 ‘-’ を使用します。 これは複数回指定でき、各フ
     ァイルの内容は独自した段落になります。

‘-S[<keyid>]’
‘--gpg-sign[=<keyid>]’
‘--no-gpg-sign’
     GPG署名コミット。 ‘keyid’ 引数はオプションで、デフォルトはコミッタ
     ーIDです。指定する場合は、スペースなしでオプションに指定する必要が
     あります。 ‘--no-gpg-sign’ は、コマンドラインで前に指定した
     ‘--gpg-sign’ オプションを無効にするのに役立ちます。


Commit Information
******************

コミットをカプセル化します:

   • 全ての親のオブジェクトID

   • 作者名と電子メールアドレスと日付

   • コミッター名とコミッター電子メールアドレスとコミット日付

   コミットコメントは標準入力から読み取られます。変更ログエントリが "<"
リダイレクトを介して提供されない場合、「git commit-tree」は、変更ログエ
ントリがターミナルから入力されて ^D で終了するのを待つだけです。


DATE FORMATS
************

‘GIT_AUTHOR_DATE’ と ‘GIT_COMMITTER_DATE’ 環境変数は、以下の日付形式をサ
ポートします:

Git internal format
     これは ‘<unix timestamp> <time zone offset>’ ここで、 ‘<unix
     timestamp>’ UNIXエポックからの秒数です。 ‘<time zone offset>’ は
     UTCからの正または負のオフセットです。 たとえば、CET(UTCより1時間進
     んでいます)は ‘+0100’ です。

RFC 2822
     RFC 2822で説明されている標準の電子メール形式。たとえば、 ‘Thu, 07
     Apr 2005 22:13:13 +0200’ 。

ISO 8601
     ISO 8601規格で指定されている日時(例: ‘2005-04-07T22:13:13’)。パーサ
     は、 ‘T’ 文字の代わりにスペースも受け入れます。秒の小数部分は無視さ
     れます。たとえば、 ‘2005-04-07T22:13:13.019’ は
     ‘2005-04-07T22:13:13’ として扱われます。

          *Note*

          日付部分は、上記に加えて、 ‘YYYY.MM.DD’ または ‘MM/DD/YYYY’ ま
          たは ‘DD.MM.YYYY’ 形式が受け入れられます。


Discussion
**********

Gitは、ある程度までは文字エンコードに依存しません。

   • ブロブオブジェクトの内容は、解釈されていないバイトのシーケンスです
     。コアレベルでのエンコーディング変換はありません。

   • パス名はUTF-8正規化形式C(UTF-8 normalization form C)でエンコードさ
     れます。これは、ツリーオブジェクト、インデックスファイル、ref名、お
     よびコマンドライン引数、環境変数、構成ファイル( ‘.git/config’
     (git-config(1) 参照) と gitignore(5) と gitattributes(5) と
     gitmodules(5)) のパス名に適用されます。

     コアレベルのGitは、パス名を単に非NULバイトのシーケンスとして扱い、
     パス名をエンコードする変換はありません(MacとWindowsを除く)。したが
     って、非ASCIIパス名の使用は、レガシー拡張ASCIIエンコーディングを使
     用するプラットフォームやファイルシステムでもほとんど機能します。た
     だし、そのようなシステムで作成されたリポジトリは、UTF-8ベースのシス
     テム(Linux、Mac、Windowsなど)では正しく機能しません。その逆も同様で
     す。さらに、多くのGitベースのツールは、パス名がUTF-8であると単純に
     想定しており、他のエンコーディングを正しく表示できません。

   • コミットログメッセージは通常UTF-8でエンコードされますが、他の拡張
     ASCIIエンコードもサポートされています。これには、ISO-8859-x、
     CP125xなどが含まれますが、UTF-16/32、EBCDIC、およびCJKマルチバイト
     エンコーディング(GBK、Shift-JIS、Big5、EUC-x、CP9xxなど)は含まれま
     せん。

   我々はコミットログメッセージをUTF-8でエンコードすることをお勧めします
が、コアとGit Porcelainはどちらも、プロジェクトでUTF-8を強制しないように
設計されています。特定のプロジェクトのすべての参加者がレガシーエンコーデ
ィングを使用する方が便利だと感じた場合、Gitはそれを禁止しません。 ただし
、覚えておくべきことがいくつかあります。

  1. _git commit_ と _git commit-tree_ は、プロジェクトがレガシーエンコ
     ーディングを使用していることを明示的に指定しない限り、与えられたコ
     ミットログメッセージが有効なUTF-8文字列のように見えない場合に警告を
     発します。明示的に指定する方法は、以下のように、 ‘.git/config’ ファ
     イルに ‘i18n.commitEncoding’ を含めることです。

          [i18n]
                  commitEncoding = ISO-8859-1

     上記の設定で作成されたコミットオブジェクトは、 ‘encoding’ ヘッダー
     に ‘i18n.commitEncoding’ の値を記録します。 これは、後でそれらを見
     る他の人々を助けるためです。このヘッダーがないということは、コミッ
     トログメッセージがUTF-8でエンコードされていることを意味します。

  2. _git log_ と _git show_ と _git blame_ とその仲間たちは、コミットオ
     ブジェクトの ‘encoding’ ヘッダーを見て、特に指定がない限り、ログメ
     ッセージをUTF-8に再コーディングしようとします。あなたは以下のように
     、 ‘.git/config’ ファイルの ‘i18n.logOutputEncoding’ を使用して目的
     の出力エンコーディングを指定できます。

          [i18n]
                  logOutputEncoding = ISO-8859-1

     この構成変数がない場合は、代わりに ‘i18n.commitEncoding’ の値が使用
     されます。

   UTF-8への再コーディングは必ずしも可逆的な操作ではないため、我々はコミ
ットが行われたときにコミットログメッセージを再コーディングしないことを意
図的に選択したことに注意してください。


FILES
*****

/etc/mailname


SEE ALSO
********

git-write-tree(1) git-commit(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-commit,  Up: Top

Name
****

git-commit — Record changes to the repository


Synopsis
********

     git commit [-a | –interactive | –patch] [-s] [-v] [-u<mode>] [–amend]
                [–dry-run] [(-c | -C | –squash) <commit> | –fixup [(amend|reword):]<commit>)]
                [-F <file> | -m <msg>] [–reset-author] [–allow-empty]
                [–allow-empty-message] [–no-verify] [-e] [–author=<author>]
                [–date=<date>] [–cleanup=<mode>] [–[no-]status]
                [-i | -o] [–pathspec-from-file=<file> [–pathspec-file-nul]]
                [(–trailer <token>[(=|:)<value>])…] [-S[<keyid>]]
                [–] [<pathspec>…]


DESCRIPTION
***********

Create a new commit containing the current contents of the index and the
given log message describing the changes.  The new commit is a direct
child of HEAD, usually the tip of the current branch, and the branch is
updated to point to it (unless no branch is associated with the working
tree, in which case HEAD is "detached" as described in git-checkout(1)).

   The content to be committed can be specified in several ways:

  1. by using git-add(1) to incrementally "add" changes to the index
     before using the _commit_ command (Note: even modified files must
     be "added");

  2. by using git-rm(1) to remove files from the working tree and the
     index, again before using the _commit_ command;

  3. by listing files as arguments to the _commit_ command (without
     –interactive or –patch switch), in which case the commit will
     ignore changes staged in the index, and instead record the current
     content of the listed files (which must already be known to Git);

  4. by using the -a switch with the _commit_ command to automatically
     "add" changes from all known files (i.e.  all files that are
     already listed in the index) and to automatically "rm" files in the
     index that have been removed from the working tree, and then
     perform the actual commit;

  5. by using the –interactive or –patch switches with the _commit_
     command to decide one by one which files or hunks should be part of
     the commit in addition to contents in the index, before finalizing
     the operation.  See the “Interactive Mode” section of git-add(1) to
     learn how to operate these modes.

   The ‘--dry-run’ option can be used to obtain a summary of what is
included by any of the above for the next commit by giving the same set
of parameters (options and paths).

   If you make a commit and then find a mistake immediately after that,
you can recover from it with _git reset_.


OPTIONS
*******

‘-a’
‘--all’
     Tell the command to automatically stage files that have been
     modified and deleted, but new files you have not told Git about are
     not affected.

‘-p’
‘--patch’
     Use the interactive patch selection interface to choose which
     changes to commit.  See git-add(1) for details.

‘-C <commit>’
‘--reuse-message=<commit>’
     Take an existing commit object, and reuse the log message and the
     authorship information (including the timestamp) when creating the
     commit.

‘-c <commit>’
‘--reedit-message=<commit>’
     Like _-C_, but with ‘-c’ the editor is invoked, so that the user
     can further edit the commit message.

‘--fixup=[(amend|reword):]<commit>’
     Create a new commit which "fixes up" ‘<commit>’ when applied with
     ‘git rebase --autosquash’.  Plain ‘--fixup=<commit>’ creates a
     "fixup!"  commit which changes the content of ‘<commit>’ but leaves
     its log message untouched.  ‘--fixup=amend:<commit>’ is similar but
     creates an "amend!"  commit which also replaces the log message of
     ‘<commit>’ with the log message of the "amend!"  commit.
     ‘--fixup=reword:<commit>’ creates an "amend!"  commit which
     replaces the log message of ‘<commit>’ with its own log message but
     makes no changes to the content of ‘<commit>’.

     The commit created by plain ‘--fixup=<commit>’ has a subject
     composed of "fixup!"  followed by the subject line from <commit>,
     and is recognized specially by ‘git rebase --autosquash’.  The ‘-m’
     option may be used to supplement the log message of the created
     commit, but the additional commentary will be thrown away once the
     "fixup!"  commit is squashed into ‘<commit>’ by ‘git rebase
     --autosquash’.

     The commit created by ‘--fixup=amend:<commit>’ is similar but its
     subject is instead prefixed with "amend!".  The log message of
     <commit> is copied into the log message of the "amend!"  commit and
     opened in an editor so it can be refined.  When ‘git rebase
     --autosquash’ squashes the "amend!"  commit into ‘<commit>’, the
     log message of ‘<commit>’ is replaced by the refined log message
     from the "amend!"  commit.  It is an error for the "amend!"
     commit’s log message to be empty unless ‘--allow-empty-message’ is
     specified.

     ‘--fixup=reword:<commit>’ is shorthand for ‘--fixup=amend:<commit>
     --only’.  It creates an "amend!"  commit with only a log message
     (ignoring any changes staged in the index).  When squashed by ‘git
     rebase --autosquash’, it replaces the log message of ‘<commit>’
     without making any other changes.

     Neither "fixup!"  nor "amend!"  commits change authorship of
     ‘<commit>’ when applied by ‘git rebase --autosquash’.  See
     git-rebase(1) for details.

‘--squash=<commit>’
     Construct a commit message for use with ‘rebase --autosquash’.  The
     commit message subject line is taken from the specified commit with
     a prefix of "squash!  ".  Can be used with additional commit
     message options (‘-m’/‘-c’/‘-C’/‘-F’).  See git-rebase(1) for
     details.

‘--reset-author’
     When used with -C/-c/–amend options, or when committing after a
     conflicting cherry-pick, declare that the authorship of the
     resulting commit now belongs to the committer.  This also renews
     the author timestamp.

‘--short’
     When doing a dry-run, give the output in the short-format.  See
     git-status(1) for details.  Implies ‘--dry-run’.

‘--branch’
     Show the branch and tracking info even in short-format.

‘--porcelain’
     When doing a dry-run, give the output in a porcelain-ready format.
     See git-status(1) for details.  Implies ‘--dry-run’.

‘--long’
     When doing a dry-run, give the output in the long-format.  Implies
     ‘--dry-run’.

‘-z’
‘--null’
     When showing ‘short’ or ‘porcelain’ status output, print the
     filename verbatim and terminate the entries with NUL, instead of
     LF. If no format is given, implies the ‘--porcelain’ output format.
     Without the ‘-z’ option, filenames with "unusual" characters are
     quoted as explained for the configuration variable ‘core.quotePath’
     (see git-config(1)).

‘-F <file>’
‘--file=<file>’
     Take the commit message from the given file.  Use _-_ to read the
     message from the standard input.

‘--author=<author>’
     Override the commit author.  Specify an explicit author using the
     standard ‘A U Thor <author@example.com>’ format.  Otherwise
     <author> is assumed to be a pattern and is used to search for an
     existing commit by that author (i.e.  rev-list –all -i
     –author=<author>); the commit author is then copied from the first
     such commit found.

‘--date=<date>’
     Override the author date used in the commit.

‘-m <msg>’
‘--message=<msg>’
     Use the given <msg> as the commit message.  If multiple ‘-m’
     options are given, their values are concatenated as separate
     paragraphs.

     The ‘-m’ option is mutually exclusive with ‘-c’, ‘-C’, and ‘-F’.

‘-t <file>’
‘--template=<file>’
     When editing the commit message, start the editor with the contents
     in the given file.  The ‘commit.template’ configuration variable is
     often used to give this option implicitly to the command.  This
     mechanism can be used by projects that want to guide participants
     with some hints on what to write in the message in what order.  If
     the user exits the editor without editing the message, the commit
     is aborted.  This has no effect when a message is given by other
     means, e.g.  with the ‘-m’ or ‘-F’ options.

‘-s’
‘--signoff’
‘--no-signoff’
     コミットログメッセージの最後に、コミッターによる「Signed-off-by」ト
     レーラーを追加します。signoffの意味は、コミットしているプロジェクト
     によって異なります。たとえば、コミッターがプロジェクトのライセンス
     に基づいて作品を提出する権利を持っていることを証明したり、開発者の
     原産地証明書などの寄稿者の代表に同意したりする場合があります。
     (LinuxカーネルおよびGitプロジェクトで使用されるものについては、
     http：//developercertificate.orgを参照してください)。プロジェクトで
     signoffがどのように使用されるかを理解するには、貢献しているプロジェ
     クトのドキュメントまたはリーダーシップ(leadership)を参照してくださ
     い。

     ‘--no-signoff’ オプションを使用すると、コマンドラインで以前の
     ‘--signoff’ オプションを無効にすることができます。

‘--trailer <token>[(=|:)<value>]’
     Specify a (<token>, <value>) pair that should be applied as a
     trailer.  (e.g.  ‘git commit --trailer "Signed-off-by:C O Mitter \
     <committer@example.com>" --trailer "Helped-by:C O Mitter \
     <committer@example.com>"’ will add the "Signed-off-by" trailer and
     the "Helped-by" trailer to the commit message.)  The ‘trailer.*’
     configuration variables (git-interpret-trailers(1)) can be used to
     define if a duplicated trailer is omitted, where in the run of
     trailers each trailer would appear, and other details.

‘-n’
‘--no-verify’
     This option bypasses the pre-commit and commit-msg hooks.  See also
     githooks(5).

‘--allow-empty’
     Usually recording a commit that has the exact same tree as its sole
     parent commit is a mistake, and the command prevents you from
     making such a commit.  This option bypasses the safety, and is
     primarily for use by foreign SCM interface scripts.

‘--allow-empty-message’
     Like –allow-empty this command is primarily for use by foreign SCM
     interface scripts.  It allows you to create a commit with an empty
     commit message without using plumbing commands like
     git-commit-tree(1).

‘--cleanup=<mode>’
     This option determines how the supplied commit message should be
     cleaned up before committing.  The _<mode>_ can be ‘strip’,
     ‘whitespace’, ‘verbatim’, ‘scissors’ or ‘default’.

     strip
          Strip leading and trailing empty lines, trailing whitespace,
          commentary and collapse consecutive empty lines.

     whitespace
          Same as ‘strip’ except #commentary is not removed.

     verbatim
          Do not change the message at all.

     scissors
          Same as ‘whitespace’ except that everything from (and
          including) the line found below is truncated, if the message
          is to be edited.  "‘#’" can be customized with
          core.commentChar.

               # ------------------------ >8 ------------------------

     default
          Same as ‘strip’ if the message is to be edited.  Otherwise
          ‘whitespace’.

     The default can be changed by the ‘commit.cleanup’ configuration
     variable (see git-config(1)).

‘-e’
‘--edit’
     The message taken from file with ‘-F’, command line with ‘-m’, and
     from commit object with ‘-C’ are usually used as the commit log
     message unmodified.  This option lets you further edit the message
     taken from these sources.

‘--no-edit’
     Use the selected commit message without launching an editor.  For
     example, ‘git commit --amend --no-edit’ amends a commit without
     changing its commit message.

‘--amend’
     Replace the tip of the current branch by creating a new commit.
     The recorded tree is prepared as usual (including the effect of the
     ‘-i’ and ‘-o’ options and explicit pathspec), and the message from
     the original commit is used as the starting point, instead of an
     empty message, when no other message is specified from the command
     line via options such as ‘-m’, ‘-F’, ‘-c’, etc.  The new commit has
     the same parents and author as the current one (the
     ‘--reset-author’ option can countermand this).

     It is a rough equivalent for:

                  $ git reset --soft HEAD^
                  $ ... do something else to come up with the right tree ...
                  $ git commit -c ORIG_HEAD

     but can be used to amend a merge commit.

     You should understand the implications of rewriting history if you
     amend a commit that has already been published.  (See the
     "RECOVERING FROM UPSTREAM REBASE" section in git-rebase(1).)

‘--no-post-rewrite’
     Bypass the post-rewrite hook.

‘-i’
‘--include’
     Before making a commit out of staged contents so far, stage the
     contents of paths given on the command line as well.  This is
     usually not what you want unless you are concluding a conflicted
     merge.

‘-o’
‘--only’
     Make a commit by taking the updated working tree contents of the
     paths specified on the command line, disregarding any contents that
     have been staged for other paths.  This is the default mode of
     operation of _git commit_ if any paths are given on the command
     line, in which case this option can be omitted.  If this option is
     specified together with ‘--amend’, then no paths need to be
     specified, which can be used to amend the last commit without
     committing changes that have already been staged.  If used together
     with ‘--allow-empty’ paths are also not required, and an empty
     commit will be created.

‘--pathspec-from-file=<file>’
     Pathspec is passed in ‘<file>’ instead of commandline args.  If
     ‘<file>’ is exactly ‘-’ then standard input is used.  Pathspec
     elements are separated by LF or CR/LF. Pathspec elements can be
     quoted as explained for the configuration variable ‘core.quotePath’
     (see git-config(1)).  See also ‘--pathspec-file-nul’ and global
     ‘--literal-pathspecs’.

‘--pathspec-file-nul’
     Only meaningful with ‘--pathspec-from-file’.  Pathspec elements are
     separated with NUL character and all other characters are taken
     literally (including newlines and quotes).

‘-u[<mode>]’
‘--untracked-files[=<mode>]’
     Show untracked files.

     The mode parameter is optional (defaults to _all_), and is used to
     specify the handling of untracked files; when -u is not used, the
     default is _normal_, i.e.  show untracked files and directories.

     The possible options are:

        • _no_ - Show no untracked files

        • _normal_ - Shows untracked files and directories

        • _all_ - Also shows individual files in untracked directories.

     The default can be changed using the status.showUntrackedFiles
     configuration variable documented in git-config(1).

‘-v’
‘--verbose’
     Show unified diff between the HEAD commit and what would be
     committed at the bottom of the commit message template to help the
     user describe the commit by reminding what changes the commit has.
     Note that this diff output doesn’t have its lines prefixed with
     _#_.  This diff will not be a part of the commit message.  See the
     ‘commit.verbose’ configuration variable in git-config(1).

     If specified twice, show in addition the unified diff between what
     would be committed and the worktree files, i.e.  the unstaged
     changes to tracked files.

‘-q’
‘--quiet’
     Suppress commit summary message.

‘--dry-run’
     Do not create a commit, but show a list of paths that are to be
     committed, paths with local changes that will be left uncommitted
     and paths that are untracked.

‘--status’
     Include the output of git-status(1) in the commit message template
     when using an editor to prepare the commit message.  Defaults to
     on, but can be used to override configuration variable
     commit.status.

‘--no-status’
     Do not include the output of git-status(1) in the commit message
     template when using an editor to prepare the default commit
     message.

‘-S[<keyid>]’
‘--gpg-sign[=<keyid>]’
‘--no-gpg-sign’
     GPG-sign commits.  The ‘keyid’ argument is optional and defaults to
     the committer identity; if specified, it must be stuck to the
     option without a space.  ‘--no-gpg-sign’ is useful to countermand
     both ‘commit.gpgSign’ configuration variable, and earlier
     ‘--gpg-sign’.

–
     Do not interpret any more arguments as options.

<pathspec>…
     When pathspec is given on the command line, commit the contents of
     the files that match the pathspec without recording the changes
     already added to the index.  The contents of these files are also
     staged for the next commit on top of what have been staged before.

     For more details, see the _pathspec_ entry in gitglossary(7).


EXAMPLES
********

When recording your own work, the contents of modified files in your
working tree are temporarily stored to a staging area called the "index"
with _git add_.  A file can be reverted back, only in the index but not
in the working tree, to that of the last commit with ‘git restore
--staged <file>’, which effectively reverts _git add_ and prevents the
changes to this file from participating in the next commit.  After
building the state to be committed incrementally with these commands,
‘git commit’ (without any pathname parameter) is used to record what has
been staged so far.  This is the most basic form of the command.  An
example:

     $ edit hello.c
     $ git rm goodbye.c
     $ git add hello.c
     $ git commit

   Instead of staging files after each individual change, you can tell
‘git commit’ to notice the changes to the files whose contents are
tracked in your working tree and do corresponding ‘git add’ and ‘git rm’
for you.  That is, this example does the same as the earlier example if
there is no other change in your working tree:

     $ edit hello.c
     $ rm goodbye.c
     $ git commit -a

   The command ‘git commit -a’ first looks at your working tree, notices
that you have modified hello.c and removed goodbye.c, and performs
necessary ‘git add’ and ‘git rm’ for you.

   After staging changes to many files, you can alter the order the
changes are recorded in, by giving pathnames to ‘git commit’.  When
pathnames are given, the command makes a commit that only records the
changes made to the named paths:

     $ edit hello.c hello.h
     $ git add hello.c hello.h
     $ edit Makefile
     $ git commit Makefile

   This makes a commit that records the modification to ‘Makefile’.  The
changes staged for ‘hello.c’ and ‘hello.h’ are not included in the
resulting commit.  However, their changes are not lost — they are still
staged and merely held back.  After the above sequence, if you do:

     $ git commit

   this second commit would record the changes to ‘hello.c’ and
‘hello.h’ as expected.

   After a merge (initiated by _git merge_ or _git pull_) stops because
of conflicts, cleanly merged paths are already staged to be committed
for you, and paths that conflicted are left in unmerged state.  You
would have to first check which paths are conflicting with _git status_
and after fixing them manually in your working tree, you would stage the
result as usual with _git add_:

     $ git status | grep unmerged
     unmerged: hello.c
     $ edit hello.c
     $ git add hello.c

   After resolving conflicts and staging the result, ‘git ls-files -u’
would stop mentioning the conflicted path.  When you are done, run ‘git
commit’ to finally record the merge:

     $ git commit

   As with the case to record your own changes, you can use ‘-a’ option
to save typing.  One difference is that during a merge resolution, you
cannot use ‘git commit’ with pathnames to alter the order the changes
are committed, because the merge should be recorded as a single commit.
In fact, the command refuses to run when given pathnames (but see ‘-i’
option).


COMMIT INFORMATION
******************

Author and committer information is taken from the following environment
variables, if set:

     GIT_AUTHOR_NAME
     GIT_AUTHOR_EMAIL
     GIT_AUTHOR_DATE
     GIT_COMMITTER_NAME
     GIT_COMMITTER_EMAIL
     GIT_COMMITTER_DATE

   (nb "<", ">" and "\n"s are stripped)

   The author and committer names are by convention some form of a
personal name (that is, the name by which other humans refer to you),
although Git does not enforce or require any particular form.  Arbitrary
Unicode may be used, subject to the constraints listed above.  This name
has no effect on authentication; for that, see the ‘credential.username’
variable in git-config(1).

   In case (some of) these environment variables are not set, the
information is taken from the configuration items ‘user.name’ and
‘user.email’, or, if not present, the environment variable EMAIL, or, if
that is not set, system user name and the hostname used for outgoing
mail (taken from ‘/etc/mailname’ and falling back to the fully qualified
hostname when that file does not exist).

   The ‘author.name’ and ‘committer.name’ and their corresponding email
options override ‘user.name’ and ‘user.email’ if set and are overridden
themselves by the environment variables.

   The typical usage is to set just the ‘user.name’ and ‘user.email’
variables; the other options are provided for more complex use cases.


DATE FORMATS
************

‘GIT_AUTHOR_DATE’ と ‘GIT_COMMITTER_DATE’ 環境変数は、以下の日付形式をサ
ポートします:

Git internal format
     これは ‘<unix timestamp> <time zone offset>’ ここで、 ‘<unix
     timestamp>’ UNIXエポックからの秒数です。 ‘<time zone offset>’ は
     UTCからの正または負のオフセットです。 たとえば、CET(UTCより1時間進
     んでいます)は ‘+0100’ です。

RFC 2822
     RFC 2822で説明されている標準の電子メール形式。たとえば、 ‘Thu, 07
     Apr 2005 22:13:13 +0200’ 。

ISO 8601
     ISO 8601規格で指定されている日時(例: ‘2005-04-07T22:13:13’)。パーサ
     は、 ‘T’ 文字の代わりにスペースも受け入れます。秒の小数部分は無視さ
     れます。たとえば、 ‘2005-04-07T22:13:13.019’ は
     ‘2005-04-07T22:13:13’ として扱われます。

          *Note*

          日付部分は、上記に加えて、 ‘YYYY.MM.DD’ または ‘MM/DD/YYYY’ ま
          たは ‘DD.MM.YYYY’ 形式が受け入れられます。

   上記のすべての日付形式を認識することに加えて、 ‘--date’ オプションは
、 "yesterday" や "last Friday at noon" など、より人間よりの日付形式も理
解しようとします。


DISCUSSION
**********

Though not required, it’s a good idea to begin the commit message with a
single short (less than 50 character) line summarizing the change,
followed by a blank line and then a more thorough description.  The text
up to the first blank line in a commit message is treated as the commit
title, and that title is used throughout Git.  For example,
git-format-patch(1) turns a commit into email, and it uses the title on
the Subject line and the rest of the commit in the body.

   Gitは、ある程度までは文字エンコードに依存しません。

   • ブロブオブジェクトの内容は、解釈されていないバイトのシーケンスです
     。コアレベルでのエンコーディング変換はありません。

   • パス名はUTF-8正規化形式C(UTF-8 normalization form C)でエンコードさ
     れます。これは、ツリーオブジェクト、インデックスファイル、ref名、お
     よびコマンドライン引数、環境変数、構成ファイル( ‘.git/config’
     (git-config(1) 参照) と gitignore(5) と gitattributes(5) と
     gitmodules(5)) のパス名に適用されます。

     コアレベルのGitは、パス名を単に非NULバイトのシーケンスとして扱い、
     パス名をエンコードする変換はありません(MacとWindowsを除く)。したが
     って、非ASCIIパス名の使用は、レガシー拡張ASCIIエンコーディングを使
     用するプラットフォームやファイルシステムでもほとんど機能します。た
     だし、そのようなシステムで作成されたリポジトリは、UTF-8ベースのシス
     テム(Linux、Mac、Windowsなど)では正しく機能しません。その逆も同様で
     す。さらに、多くのGitベースのツールは、パス名がUTF-8であると単純に
     想定しており、他のエンコーディングを正しく表示できません。

   • コミットログメッセージは通常UTF-8でエンコードされますが、他の拡張
     ASCIIエンコードもサポートされています。これには、ISO-8859-x、
     CP125xなどが含まれますが、UTF-16/32、EBCDIC、およびCJKマルチバイト
     エンコーディング(GBK、Shift-JIS、Big5、EUC-x、CP9xxなど)は含まれま
     せん。

   我々はコミットログメッセージをUTF-8でエンコードすることをお勧めします
が、コアとGit Porcelainはどちらも、プロジェクトでUTF-8を強制しないように
設計されています。特定のプロジェクトのすべての参加者がレガシーエンコーデ
ィングを使用する方が便利だと感じた場合、Gitはそれを禁止しません。 ただし
、覚えておくべきことがいくつかあります。

  1. _git commit_ と _git commit-tree_ は、プロジェクトがレガシーエンコ
     ーディングを使用していることを明示的に指定しない限り、与えられたコ
     ミットログメッセージが有効なUTF-8文字列のように見えない場合に警告を
     発します。明示的に指定する方法は、以下のように、 ‘.git/config’ ファ
     イルに ‘i18n.commitEncoding’ を含めることです。

          [i18n]
                  commitEncoding = ISO-8859-1

     上記の設定で作成されたコミットオブジェクトは、 ‘encoding’ ヘッダー
     に ‘i18n.commitEncoding’ の値を記録します。 これは、後でそれらを見
     る他の人々を助けるためです。このヘッダーがないということは、コミッ
     トログメッセージがUTF-8でエンコードされていることを意味します。

  2. _git log_ と _git show_ と _git blame_ とその仲間たちは、コミットオ
     ブジェクトの ‘encoding’ ヘッダーを見て、特に指定がない限り、ログメ
     ッセージをUTF-8に再コーディングしようとします。あなたは以下のように
     、 ‘.git/config’ ファイルの ‘i18n.logOutputEncoding’ を使用して目的
     の出力エンコーディングを指定できます。

          [i18n]
                  logOutputEncoding = ISO-8859-1

     この構成変数がない場合は、代わりに ‘i18n.commitEncoding’ の値が使用
     されます。

   UTF-8への再コーディングは必ずしも可逆的な操作ではないため、我々はコミ
ットが行われたときにコミットログメッセージを再コーディングしないことを意
図的に選択したことに注意してください。


ENVIRONMENT AND CONFIGURATION VARIABLES
***************************************

The editor used to edit the commit log message will be chosen from the
‘GIT_EDITOR’ environment variable, the core.editor configuration
variable, the ‘VISUAL’ environment variable, or the ‘EDITOR’ environment
variable (in that order).  See git-var(1) for details.


HOOKS
*****

This command can run ‘commit-msg’, ‘prepare-commit-msg’, ‘pre-commit’,
‘post-commit’ and ‘post-rewrite’ hooks.  See githooks(5) for more
information.


FILES
*****

‘$GIT_DIR/COMMIT_EDITMSG’
     This file contains the commit message of a commit in progress.  If
     ‘git commit’ exits due to an error before creating a commit, any
     commit message that has been provided by the user (e.g., in an
     editor session) will be available in this file, but will be
     overwritten by the next invocation of ‘git commit’.


SEE ALSO
********

git-add(1), git-rm(1), git-mv(1), git-merge(1), git-commit-tree(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-config,  Up: Top

Name
****

git-config — リポジトリオプションまたはグローバルオプションを、取得およ
び設定する


Synopsis
********

     git config [<file-option>] [–type=<type>] [–fixed-value] [–show-origin] [–show-scope] [-z|–null] name [value [value-pattern]]
     git config [<file-option>] [–type=<type>] –add name value
     git config [<file-option>] [–type=<type>] [–fixed-value] –replace-all name value [value-pattern]
     git config [<file-option>] [–type=<type>] [–show-origin] [–show-scope] [-z|–null] [–fixed-value] –get name [value-pattern]
     git config [<file-option>] [–type=<type>] [–show-origin] [–show-scope] [-z|–null] [–fixed-value] –get-all name [value-pattern]
     git config [<file-option>] [–type=<type>] [–show-origin] [–show-scope] [-z|–null] [–fixed-value] [–name-only] –get-regexp name_regex [value-pattern]
     git config [<file-option>] [–type=<type>] [-z|–null] –get-urlmatch name URL
     git config [<file-option>] [–fixed-value] –unset name [value-pattern]
     git config [<file-option>] [–fixed-value] –unset-all name [value-pattern]
     git config [<file-option>] –rename-section old_name new_name
     git config [<file-option>] –remove-section name
     git config [<file-option>] [–show-origin] [–show-scope] [-z|–null] [–name-only] -l | –list
     git config [<file-option>] –get-color name [default]
     git config [<file-option>] –get-colorbool name [stdout-is-tty]
     git config [<file-option>] -e | –edit


DESCRIPTION
***********

このコマンドを使用して、オプションを照会(query)/設定(set)/置換
(replace)/設定解除(unset;削除)できます。名前は実際にはドットで区切られた
セクションとキーであり、値はエスケープされます。

   ‘--add’ オプションを使用すると、オプションに複数の行を追加できます。
複数行で発生する可能性のあるオプションを更新または設定解除する場合は、
‘value-pattern’ ( ‘--fixed-value’ オプションが指定されていない限り、拡張
正規表現)を指定する必要があります。パターンに一致する既存の値のみが更新
または設定解除されます。パターンと「一致しない」行を処理する場合は、前に
1つの感嘆符(‘!’)を追加するだけです(*note EXAMPLES:: も参照下さい)が、た
だし、これは ‘--fixed-value’ オプションが使用されていない場合のみ機能す
ることに注意してください。

   ‘--type=<type>’ オプションは _git config_ に指示して、指定の<type>の
下で入力値(incoming value)と出力値(outgoing value)が正規化可能であること
を確認します。 ‘-type=<type>’ が指定されていない場合、正規化は実行されま
せん。 呼び出し元は、既に指定済の ‘--type’ 指定子を ‘--no-type’ で設定解
除できます。

   読み取り時、値はデフォルトでシステム、グローバル、リポジトリのローカ
ル構成ファイルから読み取られ、オプション ‘--system’ 、‘--global’ 、
‘--local’ 、 ‘--worktree’ 、 ‘–file <filename> ‘ を使用して、その場所か
ら「のみ」読み取るようにコマンドに指示できます(*note FILES:: 参照)。

   書き込み時、新しい値はデフォルトでリポジトリのローカル構成ファイルに
書き込まれます。オプション ‘--system’ 、‘--global’ 、 ‘--worktree’ 、
‘--file <filename> ` を使用すれば、コマンドにその場所に書き込むよう指示
できます(あなたは `--local’ と言うこともでき、そしてこれはデフォルトです
)。

   このコマンドは、エラー時にゼロ以外のステータスで失敗します。 いくつか
の終了コードは以下のとおりです:

   • セクションキーが不正(ret=1)

   • セクションまたは名前が与えられてない(ret=2)

   • configファイルが不正(ret=3)

   • configファイルに書き込みできない(ret=4)

   • 存在しないオプションの設定を削除(unseet)しようとしました(ret=5)

   • あなたは、複数の行が一致するオプションを設定(set)/削除(unset)しよう
     としています(ret=5)

   • 不正な正規表現を使おうとしています(ret=6)

   成功の場合、コマンドは終了コード 0 を返します。

   使用可能なすべての構成変数のリストは、 ‘git help --config’ コマンドを
使用して取得できます。


OPTIONS
*******

‘--replace-all’
     デフォルトの振る舞いでは最大1行を置き換えますが、このオプションより
     、キー(およびオプションで ‘value-pattern’)に一致するすべての行が置
     換されます。

‘--add’
     既存の値を変更せずに、オプションに新しい「行を追加」します。 これは
     ‘--replace-all’ の ‘value-pattern’ として _^$_ を指定しても同じ事が
     可能です。

‘--get’
     指定されたキーの値を取得します(オプションで、値に一致する正規表現で
     フィルタリングされます)。キーが見つからなかった場合はエラーコード
     1を返し、複数のキー値が見つかった場合は「最後の値」を返します。

‘--get-all’
     ‘--get’ と同様ですが、複数値キー(複数行;multivar)のすべての値を返し
     ます。

‘--get-regexp’
     ‘--get-all’ と同様ですが、名前を正規表現として解釈し、キー名を書き
     出します。正規表現の照合では現在、大文字と小文字が区別され、セクシ
     ョン名と変数名が小文字になっている正規化されたバージョンのキーに対
     して実行されますが、サブセクション名は大文字と小文字が区別されませ
     ん。

‘--get-urlmatch name URL’
     2つの部分からなる名前 section.key を指定すると、<url> 部分が指定し
     たURLに最もよく一致する section.<url>.key の値が返されます(そのよう
     なキーが存在しない場合は、 section.keyの値にフォールバックします)。
     セクションだけを名前として指定した合は、当該セクション内のすべての
     キー・値をリストします。値が見つからない場合はエラーコード1を返しま
     す。

‘--global’
     オプション書き込みの場合: リポジトリの ‘.git/config’ ではなくグロー
     バル ‘~/.gitconfig’ ‘$XDG_CONFIG_HOME/git/config’ ファイルがある場
     合は ‘$XDG_CONFIG_HOME/git/config’ ファイルに書き込みます。

     オプション読み取りの場合: 使用可能なすべてのファイルからではなく、
     グローバル ‘~/.gitconfig’ と ‘$XDG_CONFIG_HOME/git/config’ からのみ
     読み取ります。

     *note FILES:: も参照して下さい。

‘--system’
     オプション書き込みの場合: リポジトリの ‘.git/config’ ではなくシステ
     ム全体の ‘$(prefix)/etc/gitconfig’ に書き込みます。

     オプション読み取りの場合: 使用可能なすべてのファイルからではなく、
     システム全体の ‘$(prefix)/etc/gitconfig’ からのみ読み取ります。

     *note FILES:: も参照して下さい。

‘--local’
     オプションを書き込む場合: リポジトリの ‘.git/config’ ファイルに書き
     込みます。これがデフォルトの動作です。

     読み取りオプションの場合: 使用可能なすべてのファイルからではなく、
     リポジトリ ‘.git/config’ からのみ読み取ります。

     *note FILES:: も参照して下さい。

‘--worktree’
     ‘--local’ と似ていますが、 ‘extensions.worktreeConfig’ が存在する場
     合、 ‘.git/config.worktree’ が読み書きされる点が異なります。
     ‘extensions.worktreeConfig’ が存在しない場合は ‘--local’ と同じです
     。

‘-f config-file’
‘--file config-file’
     オプション書き込みの場合: リポジトリの ‘.git/config’ ではなく、指定
     のファイルに書き込みます。

     オプション読み取りの場合: 使用可能なすべてのファイルからではなく、
     指定のファイルからのみ読み取ります。

     *note FILES:: も参照して下さい。

‘--blob blob’
     ‘--file’ に似ていますが、ファイルの代わりに指定のブロブを使用します
     。例えば、 _master:.gitmodules_ を使用して、masterブランチのファイ
     ル _.gitmodules_ から値を読み取ることができます。ブロブ名の綴りのよ
     り完全なリストについては、 gitrevisions(7) の「SPECIFYING
     REVISIONS」セクションを参照してください。

‘--remove-section’
     指定のセクションを構成ファイルから削除します。

‘--rename-section’
     指定のセクションの名前を新しい名前に変更します。

‘--unset’
     キーに一致する行を構成ファイルから削除します。

‘--unset-all’
     キーに一致するすべての行を構成ファイルから削除します。

‘-l’
‘--list’
     構成ファイルに「設定されている」すべての変数とその値を一覧表示しま
     す(訳注:使用可能なすべての構成変数のリストは、 ‘git help
     --config’)。

‘--fixed-value’
     ‘value-pattern’ 引数と一緒に使用する場合、 ‘value-pattern’ を正規表
     現ではなく単なる文字列として扱います。これにより、値が
     ‘value-pattern’ と完全に等しいものにのみ一致する、名前/値のペアだけ
     に制限されます。

‘--type <type>’
     _git config_ は、入力または出力が指定された型(type)の制約の下で有効
     であることを保証し、その型の正規形式で出力値を正規化します。

     有効な型には以下のものがあります:

        • _bool_: 値を「true」または「false」として正規化します。

        • _int_ 値を単純な10進数として正規化します。オプションのサフィッ
          クス「k」また「m」または「g」を使用すると、入力時に値にそれぞ
          れ1,024または1,048,576(1024^2)または1,073,741,824(10243)が掛け
          算されます。

        • _bool-or-int_: 上記のように、 _bool_ または _int_ のいずれかに
          従って正規化します。

        • _path_: ‘$HOME’ の値を意味する ‘~’ を先頭に追加し、指定のユー
          ザのホームディレクトリを ‘~user’ として正規化します。この ‘~’
          は値を書き込むときには効果がありません(ただし、あなたはコマン
          ドラインから ‘git config section.variable ~/’ と実行してシェル
          に展開をさせることができます)。

        • _expiry-date_: 固定または相対の日付文字列からタイムスタンプに
          変換することで正規化します。この指定は値を書き込むときには効果
          がありません。

        • _color_: 値を取得するときに、ANSIカラーエスケープシーケンスに
          変換して正規化します。値を設定するとき、指定された値がANSIカラ
          ーとして正規化可能であることを確認するために健全性チェックが実
          行されますが、正規化自体は行われず、そのまま書き込まれます。

‘--bool’
‘--int’
‘--bool-or-int’
‘--path’
‘--expiry-date’
     タイプ指定子を選択するための歴史的オプション。 代わりに ‘--type’ を
     優先します(上記参照)。

‘--no-type’
     (これ以前に設定されていた場合、)これ以前に設定された型指定子の設定
     を解除します。このオプションは、「git config」が取得した変数を正規
     化しないように要求します。 ‘--no-type’ は、‘--type=<type>’ または
     ‘--<type>’ が無い場合は何の効果もありません。

‘-z’
‘--null’
     値やキーを出力するすべてのオプションで、値を(改行ではなく)常にヌル
     バイト(\0)で終了します。代わりに、キーと値の間の区切り文字として改
     行を使用します。これにより、例えば、改行を含む値を混乱することなく
     、出力を安全にパースできます。

‘--name-only’
     ‘--list’ または ‘--get-regexp’ の構成変数で名前のみを出力します。

‘--show-origin’
     照会されたすべての構成オプションの出力に、その構成オプションの出処
     の種類(ファイル、標準入力、blob、コマンドライン)と実際の出処(設定フ
     ァイルのパス、参照、または該当する場合はblobのID)を追加します。

‘--show-scope’
     ‘--show-origin’ と同様に、クエリされたすべての設定オプションの出力
     をその値のスコープ(ローカル、グローバル、システム、コマンド)で拡張
     します。

‘--get-colorbool name [stdout-is-tty]’
     ‘name’ の色設定(たとえば ‘color.diff’)を見つけて、「true」または「
     false」を出力します。 ‘stdout-is-tty’ は「true」または「false」のい
     ずれかである必要があり、構成で「auto」と表示されている場合に考慮さ
     れます。 ‘stdout-is-tty’ がない場合は、コマンド自体の標準出力をチェ
     ックし、色を使用する場合はステータス0で終了し、それ以外の場合はステ
     ータス1で終了します。 ‘name’ の色設定が未定義の場合、コマンドはフォ
     ールバックとして ‘color.ui’ を使用します。

‘--get-color name [default]’
     ‘name’ (例: ‘color.diff.new’) に設定されている色を見つけて、ANSIカ
     ラーエスケープシーケンスとして標準出力に出力します。 ‘name’ に色が
     設定されていない場合は、オプションの ‘default’ パラメータが代わりに
     使用されます。

     ‘--type=color [--default=<default>]’ は ‘--get-color’ よりも優先さ
     れます(ただし、 ‘--get-color’ は、 ‘--type=color’ によって出力され
     る末尾の改行を省略します)。

‘-e’
‘--edit’
     指定の構成ファイルを変更するためのエディタを開きます。指定できるの
     は、 ‘--system’ または ‘--global’ または「リポジトリ」(指定なし;デ
     フォルト)、のいずれかです。

‘--[no-]includes’
     値を検索するときは、設定ファイルの ‘include.*’ ディレクティブを尊重
     します。特定のファイルが指定されている場合(たとえば、 ‘--file’ 、
     ‘--global’ などを使用した場合)はデフォルトで ‘off’ になり、すべての
     構成ファイルを検索する場合は ‘on’ になります。

‘--default <value>’
     ‘--get’ を使用していて、要求した変数が見つからない場合、 <value> が
     その変数に割り当てられた値であるかのように動作します。


CONFIGURATION
*************

‘pager.config’ は、構成を一覧表示する場合、つまり、 ‘ –list‘ 、または複
数の結果を返す可能性のある ‘--get-*’ のいずれか、を使用する場合にのみ尊
重されます。デフォルトでは pager を使用します。


FILES
*****

‘--file’ で明示的に設定されていない場合、 _git config_ が構成オプション
を検索する以下の4つのファイルがあります:

$(prefix)/etc/gitconfig
     システム全体(PC毎)の構成ファイル

$XDG_CONFIG_HOME/git/config
     2番目のユーザー固有の構成ファイルです。 $XDG_CONFIG_HOME が設定され
     ていないか空の場合 ‘$HOME/.config/git/config’ が使用されます。この
     ファイルに設定されている単一値の変数は、 ‘~/.gitconfig’ にあるもの
     によって上書きされます。このファイルのサポートはごく最近追加された
     ため、古いバージョンのGitを使用することがある場合は、このファイルを
     作成しないことをお勧めします。

~/.gitconfig
     ユーザー毎の構成ファイル。グローバル(global)構成ファイルとも呼ばれ
     る。

$GIT_DIR/config
     リポジトリ毎の構成ファイル。

$GIT_DIR/config.worktree
     これはオプションであり、 ‘extensions.worktreeConfig’ が
     $GIT_DIR/config に存在する場合にのみ検索されます。

   それ以上のオプションが指定されていない場合、すべての読み取りオプショ
ンは、使用可能なこれらのファイルをすべて読み取ります。グローバルまたはシ
ステム全体の構成ファイルが使用できない場合、それらは無視されます。リポジ
トリ設定ファイルが利用できないか読み取り可能でない場合、「git config」は
ゼロ以外のエラーコードで終了します。 ただし、どちらの場合もエラーメッセ
ージは発行されません。

   ファイルは上記の順序で読み取られ、「最後」に見つかった値が前に読み取
った値よりも優先されます。なお、複数値(multiple values)を取得すると、す
べてのファイルのキーのすべての値が使用されます。

   あなたは gitコマンドを実行するとき、 ‘-c’ オプションを使用して、個々
の構成パラメーターをオーバーライドできます。詳細については git(1) を参照
してください。

   すべての書き込みオプションは、デフォルトではリポジトリ固有の構成ファ
イルに書き込みます。これは、 ‘--replace-all’ や ‘--unset’ などのオプショ
ンにも影響することに注意してください。 ※ ‘git config’ は一度に1つのファ
イルのみを変更します。

   これらのルールは、 ‘--global’ と‘ –system‘ と ‘--local’ と‘
–worktree‘ と ‘--file’ コマンドラインオプションを使用してオーバーライド
できます。上記の *note OPTIONS:: を参照してください。


ENVIRONMENT
***********

GIT_CONFIG_GLOBAL
GIT_CONFIG_SYSTEM
     グローバルまたはシステムレベルの構成からではなく、指定されたファイ
     ルから構成を取得します。詳細については git(1) を参照してください。

GIT_CONFIG_NOSYSTEM
     システム全体(PC毎)の $(prefix)/etc/gitconfig ファイルからの設定の読
     み取りをスキップするかどうか。詳細については git(1) を参照してくだ
     さい。

   *note FILES:: も参照して下さい。

GIT_CONFIG_COUNT
GIT_CONFIG_KEY_<n>
GIT_CONFIG_VALUE_<n>
     GIT_CONFIG_COUNTが正の数に設定されている場合、その数までのすべての
     環境ペア GIT_CONFIG_KEY_<n> と GIT_CONFIG_VALUE_<n> がプロセスのラ
     ンタイム構成に追加されます。構成ペアはゼロインデックスです。キーま
     たは値が欠落している場合は、エラーとして扱われます。空の
     GIT_CONFIG_COUNTは、GIT_CONFIG_COUNT=0と同じように扱われます。つま
     り、ペアは処理されません。これらの環境変数は構成ファイルの値をオー
     バーライドしますが、 ‘git -c’ を介して渡された明示的なオプションに
     よってオーバーライドされます。

     これは、共通の構成で複数のgitコマンドを生成したいが、スクリプトを作
     成する場合など、構成ファイルに依存できない場合に役立ちます。

GIT_CONFIG
     ‘git config’ に ‘--file’ オプションが指定されていない場合は、
     ‘--file’ を介して提供されているかのように ‘GIT_CONFIG’ によって指定
     されたファイルを使用します。この変数は他のGitコマンドには影響せず、
     主に歴史的な互換性のためのものです。 通常、 ‘--file’ オプションの代
     わりに使用する理由はありません。


EXAMPLES
********

以下の .git/config が与えられているものとします:

     #
     # This is the config file, and
     # a '#' or ';' character indicates
     # a comment
     #

     ; core variables
     [core]
             ; Don't trust file modes
             filemode = false

     ; Our diff algorithm
     [diff]
             external = /usr/local/bin/diff-wrapper
             renames = true

     ; Proxy settings
     [core]
             gitproxy=proxy-command for kernel.org
             gitproxy=default-proxy ; for all the rest

     ; HTTP
     [http]
             sslVerify
     [http "https://weak.example.com"]
             sslVerify = false
             cookieFile = /tmp/cookie.txt

   あなたは以下のようにしてfilemodeをtrueに設定できます

     % git config core.filemode true

   とある架空のプロキシコマンドエントリで、末尾が kernel.org である行を
、 _"ssh" for kernel.org_ に置換するには

     % git config core.gitproxy '"ssh" for kernel.org' 'for kernel.org$'

   これにより、kernel.orgのキーと値のペアのみが置き換えられます。

   renamesのエントリを削除するには

     % git config --unset diff.renames

   マルチ変数(multivar)(上記のcore.gitproxyなど)のエントリを削除する場合
は、正確に1行の値に一致する正規表現を指定する必要があります。

   特定のキーの値を照会するには、次のようにします。

     % git config --get core.filemode

   または

     % git config core.filemode

   また、マルチ変数(multivar)の照会は:

     % git config --get core.gitproxy "for kernel.org$"

   マルチ変数のすべての値を知りたい場合は、次のようにします:

     % git config --get-all core.gitproxy

   あなたが危険極まりない人生を送りたい場合は、以下のようにして
core.gitproxy の「全て」を新しいものに置き換えることができます。

     % git config --replace-all core.gitproxy ssh

   しかし、あなたが本当にデフォルトプロキシの行、つまり「for …」の接尾辞
のない行だけを置き換えたい場合は、次のようにします:

     % git config core.gitproxy ssh '! for '

   感嘆符(‘!’)と実際に一致させるには、以下のことを行う必要があります。

     % git config section.key value '[!]'

   既存のプロキシを変更せずに新しいプロキシを追加するには、以下を使用し
ます。

     % git config --add core.gitproxy '"proxy-command" for example.com'

   あなたのスクリプトで構成からカスタマイズされた色を使う例:

     #!/bin/sh
     WS=$(git config --get-color color.diff.whitespace "blue reverse")
     RESET=$(git config --get-color "" "reset")
     echo "${WS}your whitespace color or blue reverse${RESET}"

   URL が ‘https://weak.example.com’ の場合、 ‘http.sslVerify’ はfalseに
設定され、他のすべてのURLでは ‘true’ に設定されます:

     % git config --type=bool --get-urlmatch http.sslverify https://good.example.com
     true
     % git config --type=bool --get-urlmatch http.sslverify https://weak.example.com
     false
     % git config --get-urlmatch http https://weak.example.com
     http.cookieFile /tmp/cookie.txt
     http.sslverify false


CONFIGURATION FILE
******************

Git構成ファイルには、Gitコマンドの動作に影響を与えるいくつかの変数が含ま
れています。各リポジトリ内のファイル ‘.git/config’ と、オプションで
‘config.worktree’ (git-worktree(1) の「CONFIGURATION FILE」セクションを
参照)は、そのリポジトリの設定を保存するために使用され、
‘$HOME/.gitconfig’ は、ユーザーごとの構成を ‘.git/config’ ファイルのフォ
ールバック値として保存するために使用されます。 ファイル ‘/etc/gitconfig’
を使用して、システム全体のデフォルト設定を保存できます。

   構成変数は、Git配管コマンドとGit磁器コマンドの両方で使用されます。変
数はセクションに分割されます。変数自体の完全修飾変数名は最後のドット区切
りセグメントであり、セクション名は最後のドットより前のすべてです。変数名
では大文字と小文字が区別されず、英数字(alphanumeric)と ‘-’(\x2d) のみが
許可され、英字(alphabetic)で始まる必要があります。一部の変数は複数回現れ
る場合があり、その変数はmultivalueであると言います(訳注:multiple lines(複
数行)という表現とmultivalueと言う表現が混在する。configでは同じ意味)。


Syntax
======

構文はかなり柔軟で寛容です。空白(whitespace)はほとんど無視されます。 _#_
と _;_ 文字はそこからその行の行末までコメントにします。空白行は無視され
ます。

   このファイルは、セクションと変数で構成されています。セクションは角括
弧内(‘[' … `]')のセクションの名前で始まり、次のセクションが始まるまで続
きます。セクション名では大文字と小文字は区別されません。セクション名には
、英数字(alphanumeric) と `-’ (\x2d) と ‘.’ (\x2e) のみを使用できます。
各変数はあるセクションに属している必要があります。つまり、変数の最初の設
定の前にセクションヘッダーが必要です。

   セクションはさらにサブセクションに分割できます。サブセクションを開始
するには、以下の例のように、セクションヘッダーで、セクション名からスペー
スで区切って、その名前を二重引用符で囲みます:

             [section "subsection"]

   サブセクション名では大文字と小文字が区別され、改行とヌルバイト
(\x00)以外の任意の文字を含めることができます。 二重引用符 ‘"’ (\x22)と バ
ックスラッシュ(\x5c;日本の環境では円記号で表示される事がある)は、それぞ
れ ‘\"’ と ‘\\’ としてエスケープすることで含めることができます。 他の文
字の前にあるバックスラッシュは、読み取るときに削除されます。 たとえば、
‘\t’ は ‘t’ として読み取られ、 ‘\0’ は ‘0’ として読み取られます。セクシ
ョンヘッダーは複数行にまたがることはできません。変数は、セクションまたは
特定のサブセクションに直接属する場合があります。 ‘[section" subsection
"]’ がある場合は ‘[section]’ も使用できますが、必須ではありません。

   非推奨の ‘[section.subsection]’ 構文があります。この構文では、サブセ
クション名は小文字に変換され、大文字と小文字が区別されて比較されます。こ
れらのサブセクション名は、セクション名と同じ制限に従います。

   他のすべての行(およびセクションヘッダーの後の行の残りの部分)は、「
name = value」(または単に「name」)の形式で設定変数として認識されます(「
name」形式は「name = true」の省略形で、変数をブール値「true」に設定しま
す)。変数名では大文字と小文字が区別されず、英数字(alphanumeric)と ‘-’
(\x2d) のみが許可され、英字(alphabetic)で始まる必要があります。

   値を定義する行は、 ‘\’ (\x5c) で終了することにより、次の行に続けるこ
とができます。続けた時、バックスラッシュと行末は削除されて認識されます。
_name =_ の後の先頭の空白と、その行で最初に現れるコメント文字 _#_ または
_;_ 以降行末まで、または、行末尾の空白は、二重引用符で囲まれていない限り
破棄されます。値内の内部空白はそのまま保持されます。

   ダブルクォートで囲まれた中では、ダブルクォート ‘"’ とバックスラッシュ
‘\’ 文字はエスケープしなければなりません。 ‘"’ を表わすには ‘\"’ を使い
、 ‘\’ を表わすには ‘\\’ を使ってください。

   ( ‘\"’ と ‘\\’ に加えて)認識されるエスケープシーケンスは、改行文字
(NL;newline)が ‘\n’ 、水平タブ(HT;TAB)が ‘\t’ 、バックスペース(BS)が
‘\b’ です。他のエスケープシーケンス(8進エスケープシーケンスを含む)は無効
です。


Includes
========

‘include’ セクションと ‘includeIf’ セクションを使用すると、別のソースか
らの設定ディレクティブを含めることができます。これら２つのセクションは、
条件がtrueと評価されない場合 ‘includeIf’ セクションが無視されることを除
いて、同様に動作します。 以下の「Conditional includes」を参照してくださ
い。

   特別な ‘include.path’ (または ‘includeIf.*.path’ )変数をインクルード
するファイルの名前に設定することにより、別の構成ファイルをインクルードで
きます。 変数はその値としてパス名を取り、チルダ展開の対象となります。こ
れらの変数は複数回指定できます。

   インクルードファイルの内容は、includeディレクティブの場所で見つかった
かのように、すぐに挿入されます。変数の値が相対パスである場合、そのパスは
、includeディレクティブが見つかった構成ファイルからの相対パスであると見
なされます。例については、以下を参照してください。


Conditional includes
====================

‘includeIf.<condition>.path’ 変数をインクルードするファイルの名前に設定
することにより、条件付きで別の構成ファイルをインクルードできます。

   条件は、キーワードで始まり、その後にコロンと、形式と意味がキーワード
によって異なるいくつかのデータが続きます。サポートされているキーワードは
以下のとおりです:

‘gitdir’
     キーワード ‘gitdir:’ 続くデータは、グロブパターンとして使用されます
     。 .git ディレクトリの場所がパターンと一致する場合、インクルード条
     件が満たされます。

     ‘.git’ の場所は自動検出されるか、 ‘$GIT_DIR’ 環境変数から取得されま
     す。 リポジトリが .git ファイルを介して(つまり、サブモジュールやリ
     ンクされたワークツリーなどから)自動検出される場合、最終的に検出され
     る .git の場所とは、 .git ファイルの場所ではなく .git ファイルから
     たどった .gitディレクトリの場所です。

     パターンには、標準のグロブワイルドカードと、複数のパス部分に一致す
     る可能性のある2つの追加のワイルドカード ‘**/’ と ‘/**’ を含めること
     ができます。詳細については、 gitignore(5) を参照してください。便宜
     上、以下の記法が使えます:

        • パターンが ‘~/’ で始まる場合、 ‘~’ は環境変数 ‘HOME’ の内容に
          置き換えられます。

        • パターンが ‘./’ で始まる場合、現在の設定ファイルを含むディレク
          トリに置き換えられます。

        • パターンが ‘~/’ ・ ‘./’ ・ ‘/’ のいずれでも始まらない場合、
          ‘**/’ 自動的に先頭に追加されます。たとえば、パターン ‘foo/bar’
          は ‘**/foo/bar’ になり、 ‘/any/path/to/foo/bar’ と一致します。

        • パターンが ‘/’ で終わる場合、 ‘**’ が自動的に追加されます。 た
          とえば、パターン ‘foo/’ は ‘foo/**’ になります。言い換えると、
          「foo」ディレクトリとその中のすべてに再帰的に一致します。

‘gitdir/i’
     これは、照合が大文字と小文字を区別せずに行われることを除いて、
     ‘gitdir’ と同じです(大文字と小文字を区別しないファイルシステムなど
     )。

‘onbranch’
     キーワード ‘onbranch:’ に続くデータは、標準のグロブワイルドカードと
     、複数のパス部分に一致する可能性のある2つの追加のワイルドカード
     ‘**/’ と ‘/**’ を含むパターンと見なされます。現在チェックアウトされ
     ているブランチの名前がパターンと一致するワークツリーにいる場合、イ
     ンクルード条件が満たされます。

     パターンが ‘/’ で終わる場合、 ‘**’ が自動的に追加されます。 たとえ
     ば、パターン ‘foo/’ は ‘foo/**’ になります。つまり、 ‘foo/’ で始ま
     るすべてのブランチに一致します。これは、ブランチが階層的に編成され
     ていて、その階層内のすべてのブランチに構成を適用する場合に役立ちま
     す。

   ‘gitdir’ と ‘gitdir/i’ を介したマッチングに関するいくつかの注意事項:

   • ‘$GIT_DIR’ の中のシンボリックリンクは、マッチ前に解決されません。

   • シンボリックリンクバージョンとrealpathバージョンの両方のパスが、
     ‘$GIT_DIR’ の値と照合されます。例えば ‘~/git’ が ‘/mnt/storage/git’
     へのシンボリックリンクである場合、 ‘gitdir:~/git’ と
     ‘gitdir:/mnt/storage/git’ の両方が一致します。

     これは、Git v2.13.0 でのこの機能の最初のリリースには当てはまりませ
     んでした。これは、realpathバージョンにのみ一致していました。この機
     能の初期リリースとの互換性を希望する構成では、realpathバージョンの
     み、あるいは両方のバージョンを指定する必要があります。

   • 注意: 「../」は特別なものではなく、文字通り一致することに注意してく
     ださい。これは、あなたが望むものではない可能性があります。


Example
=======

     # Core variables
     [core]
             ; Don't trust file modes
             filemode = false

     # Our diff algorithm
     [diff]
             external = /usr/local/bin/diff-wrapper
             renames = true

     [branch "devel"]
             remote = origin
             merge = refs/heads/devel

     # Proxy settings
     [core]
             gitProxy="ssh" for "kernel.org"
             gitProxy=default-proxy ; for the rest

     [include]
             path = /path/to/foo.inc ; include by absolute path
             path = foo.inc ; find "foo.inc" relative to the current file
             path = ~/foo.inc ; find "foo.inc" in your `$HOME` directory

     ; include if $GIT_DIR is /path/to/foo/.git
     [includeIf "gitdir:/path/to/foo/.git"]
             path = /path/to/foo.inc

     ; include for all repositories inside /path/to/group
     [includeIf "gitdir:/path/to/group/"]
             path = /path/to/foo.inc

     ; include for all repositories inside $HOME/to/group
     [includeIf "gitdir:~/to/group/"]
             path = /path/to/foo.inc

     ; relative paths are always relative to the including
     ; file (if the condition is true); their location is not
     ; affected by the condition
     [includeIf "gitdir:/path/to/group/"]
             path = foo.inc

     ; include only if we are in a worktree where foo-branch is
     ; currently checked out
     [includeIf "onbranch:foo-branch"]
             path = foo.inc


Values
======

多くの変数の値は単純な文字列として扱われますが、特定のタイプの値をとる変
数があり、それらの綴り方に関する規則があります。

boolean
     変数がブール値をとると言われるとき、「true」と「false」の多くの同義
     語が受け入れられます。なお、これらはすべて大文字と小文字を区別しま
     せん。

     true
          ブール値 true のリテラルは、 ‘yes’ と ‘on’ と ‘true’ と ‘1`で
          す。 また、値の指定無し( `= <value>’ 無し) の変数は true と見
          なされます。

     false
          ブール値 false リテラルは、 ‘no’ と ‘off’ と ‘false’ と ‘0’ と
          空文字列です。

          ‘--type = bool’ 型指定子を使用して値を正規形に変換する場合、
          _git config_ は、値の出力を「true」または「false」（小文字で表
          記）にします。

integer
     さまざまなサイズを指定する多くの変数の値には、「k」、「M」などの接
     尾辞を付けることができます。これは、「数値に1024掛けた値に」、「数
     値に1024x1024を掛けた値に」などを意味します。

color
     色をとる変数の値は、スペースで区切られた色(最大で2つ、1つは前景用
     (foreground)、もう1つは背景用(background))と、(必要な数の)属性
     (attribute)の「リスト」です。

     使用できる基本色は、 ‘normal’ と ‘black’ と ‘red’ と ‘green’ と
     ‘yellow’ と ‘blue’ と ‘magenta’ と ‘cyan’ と ‘white’ です。与えられ
     た最初の色は前景用です。2番目は背景用です。 ‘normal’ を除くすべての
     基本色には、 ‘brightred’ のように色の前に ‘bright’ と付けることで指
     定できる明るいバリエーションがあります。

     色は0から255までの数字で指定することもできます。これらはANSI256色モ
     ードを使用します(ただし、すべての端末がこれをサポートしているわけで
     はないことに注意してください)。端末が24ビットRGB値をサポートしてい
     る場合は ‘#ff0ab3’ のように16進数として指定することもできます。

     受け入れられる属性(attribute)は、 ‘bold’ と ‘dim’ と ‘ul’ と
     ‘blink’ と ‘reverse’ と ‘italic’ と ‘strike’ (取り消し線
     (cross-out)または「取り消し線」の文字(strikethrough letters)の場合)
     です。色に関する属性の位置(前、後、または中間)は重要ではありません
     。特定の属性は、それらの前に「no」または「no-」を付けることによって
     オフにすることができます(たとえば、「noreverse」、「no-ul」など)。

     空のカラー文字列は、色の効果をまったく生成しません。 これは、色を完
     全に無効にすることなく、特定の要素の色付けを回避するために使用でき
     ます。

     gitで事前定義されたカラースロットの場合、属性は、カラー出力の各アイ
     テムの先頭でリセットされることを意図しています。したがって、
     ‘color.decorate.branch`を’ black‘に設定すると、同じ出力行の前のもの
     が ‘bold’ または他の属性でペイントされるように設定されている場合(た
     とえば ‘log --decorate’ 出力のブランチ名のリストの前で括弧を開く)で
     も、そのブランチ名がプレーンな ‘black’ でペイントされます。ただし、
     カスタムログ形式では、より複雑で階層化された色付けが行われる場合が
     あり、否定された形式が役立つ場合があります。

pathname
     パス名の値をとる変数には、 ‘~/’ または ‘~user/’ で始まる文字列を指
     定できます。このような文字列には、通常のチルダ展開が行われます。
     ‘~/’ は ‘$HOME’ の値に展開され、 ‘~user/’ は指定のユーザーのホーム
     ディレクトリに展開されます。

     パスが ‘%(prefix)/’ で始まる場合、残りはGitの「ランタイムプレフィッ
     クス」に関連するパス、つまりGit自体がインストールされた場所に関連す
     るパスとして解釈されます。 たとえば、 ‘%(prefix)/bin/’ は、Git実行
     可能ファイル自体が存在するディレクトリを指します。Gitがランタイムプ
     レフィックスのサポートなしでコンパイルされた場合、代わりにコンパイ
     ルされたプレフィックスが置き換えられます。万が一、展開してはならな
     いリテラルパスを指定する必要がある場合は、 ‘./%(prefix)/bin’ のよう
     に接頭辞 ‘./’ を付ける必要があります。


Variables
=========

注意: このリストは包括的ではなく、必ずしも完全ではないことに注意してくだ
さい。コマンド固有の変数については、適切なマニュアルページに詳細な説明が
あります。

   他のgit関連ツールは、独自の変数を使用する場合があります。独自のツール
で使用する新しい変数を考案するときは、それらの名前がGit自体や他の一般的
なツールで使用されているものと競合しないことを確認し、ドキュメントに記述
してください。

advice.*
     これらの変数は、新しいユーザーを支援するために設計されたさまざまな
     オプションのヘルプメッセージを制御します。すべての「advice.*」変数
     はデフォルトで「true」に設定されており、これらを「false」に設定する
     ことで、ヘルプが不要であることをGitに伝えることができます。

     fetchShowForcedUpdates
          git-fetch(1)がrefの更新後に強制更新を計算したり、 チェックが無
          効になっていることを警告したりするのに 長い時間がかかる場合に
          表示されるアドバイス。

     pushUpdateRejected
          _pushNonFFCurrent_ と _pushNonFFMatching_ と
          _pushAlreadyExists_ と _pushFetchFirst_ と _pushNeedsForce_ と
          _pushRefNeedsUpdate_ を 同時に無効にする場合は、この変数を
          _false_ に設定します。

     pushNonFFCurrent
          現在のブランチへの non-fast-forward 更新が原因で git-push(1) が
          失敗した場合に表示されるアドバイス。

     pushNonFFMatching
          git-push(1) を実行し、 「matching refs」を明示的にプッシュ(つ
          まり あなたは「:」を使用したか、 あなたの現在のブランチではな
          いrefspecを指定した)して、 「non-fast-forward」エラーが発生し
          たときに表示されるアドバイスです。

     pushAlreadyExists
          git-push(1) が、 fast-forwarding の対象とならない更新(タグなど
          )を拒否した場合に表示されます。

     pushFetchFirst
          git-push(1) が、私たちが持っていないオブジェクトを指す リモー
          ト参照を上書きしようとする更新を 拒否した場合に表示されます。

     pushNeedsForce
          git-push(1) が、 コミットっぽくないオブジェクトを指すリモート
          refを上書きしようとする更新、 またはコミットっぽくないブジェク
          トを指すリモートrefを作成しようとする更新を 拒否した場合に表示
          されます。

     pushUnqualifiedRefname
          git-push(1) が、 ソースと宛先のrefsに基づいて、 ソースが属する
          リモートref名前空間を推測しようとするのをあきらめたときに表示
          されます。 ただし、 ソースオブジェクトのタイプに基づいて、
          refs/heads/* または refs/tags/* のいずれかにプッシュすることを
          提案できる場合もあります。

     pushRefNeedsUpdate
          git-push(1) が、 リモート追跡refにローカルにない更新がある場合
          に、 ブランチの強制更新を拒否した場合に表示されます。

     skippedCherryPicks
          git-rebase(1) が、 アップストリームブランチにすでにチェリーピ
          ックされているコミットをスキップした場合に表示されます。

     statusAheadBehind
          git-status(1) が、 リモート追跡refと比較したローカルrefの先行
          (ahead)/遅延(behind)カウントを計算し、 その計算に予想よりも時
          間がかかる場合に表示されます。 ‘status.aheadBehind’ がfalseの
          場合、 またはオプション ‘--no-ahead-behind’ が指定されている場
          合は表示されません。

     statusHints
          git-status(1) の出力や、 git-commit(1) の コミットメッセージ記
          入時のテンプレート表示や、 git-switch(1) または
          git-checkout(1) の ブランチ切り替え時のヘルプメッセージに、 現
          在の状態からどのように進めていくかの指示を表示します。

     statusUoption
          コマンドが、 追跡されていないファイルを列挙するのに2秒以上かか
          る場合は、 git-status(1) で ‘-u’ オプション使用の検討をアドバ
          イスします。

     commitBeforeMerge
          git-merge(1) がローカルの変更を上書きしないようにマージを拒否
          した場合に、 アドバイスが表示されます。

     resetQuiet
          コマンドがreset後に、 ステージングされていない変更を列挙するの
          に2秒以上かかる場合は、 git-reset(1) で ‘--quiet’ オプション使
          用の検討をアドバイスします。

     resolveConflict
          競合が原因で操作が実行できない場合に、 さまざまなコマンドによ
          って表示されるアドバイス。

     sequencerInUse
          シーケンサーコマンドがすでに進行中の場合に表示されるアドバイス
          。

     implicitIdentity
          システムのユーザー名とドメイン名から 情報が推測される場合の
          ID構成の設定方法に 関するアドバイス。

     detachedHead
          git-switch(1) または git-checkout(1) を使用して HEADのデタッチ
          状態に移行し、 事後にローカルブランチを作成する方法を 指示した
          ときに表示されるアドバイス。

     checkoutAmbiguousRemoteBranchName
          git-checkout(1) と git-switch(1) の引数が、 明確な引数によらず
          リモート追跡ブランチがチェックアウトされる状況で、 複数のリモ
          ート上のリモート追跡ブランチに対して あいまいに解決される場合
          に表示されるアドバイス。 このアドバイスが出力される状況で、 特
          定のリモートをデフォルトで 使用するように設定する方法について
          は、 ‘checkout.defaultRemote’ 構成変数を参照してください。

     amWorkDir
          git-am(1) がパッチファイルの適用に失敗した場合に パッチファイ
          ルの場所を示すアドバイス。

     rmHints
          git-rm(1) の出力に失敗した場合、 現在の状態からどのように進め
          るかについての指示を表示します。

     addEmbeddedRepo
          誤って、あるgitリポジトリを別のリポジトリ内に追加した 場合の対
          処方法に関するアドバイス。

     ignoredHook
          フックが実行可能ファイルとして設定されていないために フックが
          無視された場合に表示されるアドバイス。

     waitingForEditor
          Gitがユーザーからのエディタ入力を待機しているときは、 いつでも
          端末にメッセージを出力します。

     nestedTag
          ユーザーがタグオブジェクトに再帰的にタグを付けようとした 場合
          に表示されるアドバイス。

     submoduleAlternateErrorStrategyDie
          「die」に設定された submodule.alternateErrorStrategy オプショ
          ンが 致命的なエラーを引き起こす場合に表示されるアドバイス。

     addIgnoredFile
          ユーザーが、無視されたファイルをインデックスに追加しようとした
          場合に表示されるアドバイス。

     addEmptyPathspec
          ユーザーがpathspecパラメーターを指定せずに addコマンドを実行し
          た場合に表示されるアドバイス。

     updateSparsePath
          git-add(1) または git-rm(1) のいずれかが、 現在のスパースチェ
          ックアウト外のインデックスエントリを 更新するように求められた
          ときに表示されるアドバイス。

core.fileMode
     作業ツリー内のファイルの実行可能ビットを尊重するかどうかをGitに通知
     します。

     一部のファイルシステムでは、実行可能としてマークされたファイルがチ
     ェックアウトされるか、実行可能ビットがオンになっている実行不可能な
     ファイルをチェックアウトすると、実行可能ビットを失います。
     git-clone(1) または git-init(1) は、ファイルシステムを調査して、実
     行可能ビットを正しく処理し、この変数が必要に応じて自動的に設定され
     るかどうかを確認します。

     リポジトリはファイルモードを正しく処理するファイルシステム上にある
     可能性があり、この変数は作成時に「true」に設定されますが、後でファ
     イルモードを失う別の環境からアクセスできるようになる可能性がありま
     す(たとえば、CIFSマウントを介したext4のエクスポート。CygwinがGit
     for WindowsまたはEclipseでリポジトリを作成た時など)。このような場合
     、この変数を「false」に設定する必要がある場合があります。
     git-update-index(1) を参照してください。

     (設定ファイルでcore.filemodeが指定されていない場合、)デフォルトは
     trueです。

core.hideDotFiles
     (Windowsのみ)trueの場合、名前がドットで始まる、新しく作成されたディ
     レクトリと新しく作成されたファイルを非表示としてマークします。
     _dotGitOnly_ の場合、 ‘.git/’ ディレクトリのみが非表示になり、ドッ
     トで始まる他のファイルは非表示になりません。デフォルトのモードは「
     dotGitOnly」です。

core.ignoreCase
     APFS、HFS+、FAT、NTFSなどの大文字と小文字を区別しないファイルシステ
     ムでGitをより適切に機能させるためのさまざまな回避策を可能にする内部
     変数。たとえば、Gitが「Makefile」を予期しているときにディレクトリリ
     ストで「makefile」が見つかった場合、Git それは実際には同じファイル
     であると想定し、「Makefile」として記憶し続けます。

     デフォルトはfalseですが、 git-clone(1) または git-init(1) は、リポ
     ジトリの作成時に必要に応じてcore.ignoreCaseを調査してtrueに設定しま
     す。

     あなたのオペレーティングシステムとファイルシステムに関して、Gitは、
     この変数の適切な構成に依存しています。この値を変更すると、予期しな
     い動作が発生する可能性があります。

core.precomposeUnicode
     このオプションは、GitのMacOS実装でのみ使用されます。
     core.precomposeUnicode=true の場合、GitはMacOSによって行われたファ
     イル名のUnicode分解(unicode decomposition)を元に戻します。これは、
     MacOSとLinuxまたはWindowsの間でリポジトリを共有する場合に便利です。
     (Git for Windows 1.7.10以降、または Git under cygwin 1.7 が必要です
     )。 falseの場合、ファイル名はGitによって完全に透過的に処理されます
     。これは、古いバージョンのGitとの下位互換性があります。

core.protectHFS
     trueに設定されている場合、 HFS+ ファイルシステムで ‘.git’ と同等と
     見なされるパスのチェックアウトを許可しないでください。デフォルトは
     MacOSでは ‘true’ 、それ以外の場合は ‘false’ です。

core.protectNTFS
     trueに設定されている場合、NTFSファイルシステムで問題を引き起こす可
     能性のあるパスのチェックアウトを許可しないでください。 例えば、 8.3
     の「短い」名前と競合します。デフォルトは、Windowsでは「true」、それ
     以外の場合は「false」です。

core.fsmonitor
     設定されている場合、この変数の値は、要求された日時以降に変更された
     可能性のあるすべてのファイルを識別するコマンドとして使用されます。
     この情報は、変更されていないファイルの不要な処理を回避することによ
     り、gitを高速化するために使用されます。 githooks(5) の「
     fsmonitor-watchman」セクションを参照してください。

core.fsmonitorHookVersion
     fsmonitorを呼び出すときに使用されるフックのバージョンを設定します。
     現在、バージョン1と2があります。これが設定されていない場合、バージ
     ョン2が最初に試行され、失敗した場合はバージョン1が試行されます。 バ
     ージョン1は、入力としてtimpstampを使用して、それ以降に変更があった
     ファイルを判別しますが、watchmanなどの一部のモニターでは、
     timestampを使用すると競合状態になります。バージョン2はopaque
     stringを使用しているため、モニターは競合状態なしで変更されたファイ
     ルを判別するために使用できるものを返すことができます。

core.trustctime
     falseの場合、インデックスと作業ツリー間のctimeの違いは無視されます
     。iノードの変更時刻がGitの外部の何か(ファイルシステムクローラーおよ
     び一部のバックアップシステム)によって定期的に変更される場合に役立ち
     ます。 git-update-index(1) を参照してください。デフォルトではtrueで
     す。

core.splitIndex
     trueの場合、インデックスの分割インデックス機能が使用されます。
     git-update-index(1) を参照してください。 デフォルトではfalseです。

core.untrackedCache
     インデックスの追跡されていないモノのキャッシュ機能をどうするかを決
     定します。この変数が設定されていない(unset)か、 ‘keep’ に設定されて
     いる場合、キャッシュが保持されます。 ‘true`に設定すると、自動的に追
     加されます。 また、 `false’ に設定すると、自動的に削除されます。
     ‘true’ に設定する前に、mtimeがシステムで正しく機能していることを確
     認する必要があります。 git-update-index(1) を参照してください。 こ
     の設定をデフォルトで ‘true’ に設定する ‘feature.manyFiles’ が有効に
     なっていない限り、デフォルトは ‘keep’ です。

core.checkStat
     core.checkStat が設定されていないか ‘default’ に設定されている場合
     、Gitがファイルを調べてからファイルが変更されたかどうかを検出するた
     めに、stat構造体の多くのフィールドがチェックされます。この構成変数
     が ‘minimal’ に設定されている場合、mtimeとctimeの1秒未満の部分、フ
     ァイルの所有者のuidとgid、iノード番号(およびGitがそれを使用するよう
     にコンパイルされている場合はデバイス番号も)はチェック対象から除外さ
     れ、mtimeの2分の1の部分(および ‘core.trustCtime’ が設定されている場
     合はctime)とファイルサイズチェックのみがチェック対象として残ります
     。

     (JGitなど)一部のフィールドに使用可能な値を残さないGitの実装がありま
     す。これらのフィールドを比較から除外することにより、 ‘minimal’ モー
     ドは、同じリポジトリがこれらの他のシステムによって同時に使用される
     場合の相互運用性に役立つ可能性があります。

core.quotePath
     パスを出力するコマンド(例: _ls-files_ 、 _diff_)は、パス名を二重引
     用符で囲み(‘"..."’)、Cが制御文字をエスケープするのと同じ方法でそれ
     らの文字をバックスラッシュ(‘\’)でエスケープすることにより、パス名の
     「異常な」文字をクォートします(例: TABの場合は ‘\t’ 、LFの場合は
     ‘\n’ 、バックスラッシュの場合は ‘\\’ )、または0x80より大きい値のバ
     イト(たとえば、UTF-8の "micro" の場合は8進数 ‘\302\265’)。この変数
     がfalseに設定されている場合、0x80を超えるバイトは「異常」とは見なさ
     れなくなります。この変数の設定に関係なく、二重引用符(‘"’)、バックス
     ラッシュ(‘\’)、および制御文字は常にエスケープされます。単純なスペー
     ス文字は「異常」とは見なされません。多くのコマンドは、 ‘-z’ オプシ
     ョンを使用してパス名を完全にそのままで出力できます。デフォルト値は
     trueです。

core.eol
     作業ディレクトリ内で、( ‘text’ 属性を設定するか、‘text=auto’ と
     Gitがコンテンツをテキストとして自動検出することにより)テキストとし
     てマークされたファイルが使用する行末タイプを設定します。 代替手段は
     、 ‘lf’ と ‘crlf’ と プラットフォームの生来の行末を使用する
     ‘native’ があります。デフォルト値は ‘native’ です。行末変換の詳細に
     ついては、 gitattributes(5) を参照してください。注意:
     ‘core.autocrlf’ が ‘true’ または ‘input’ に設定されている場合、この
     値は無視されることに注意してください。

core.safecrlf
     trueの場合、行末変換がアクティブなときに ‘CRLF’ の変換が可逆的かど
     うかをGitにチェックさせます。 Gitは、コマンドが作業ツリー内のファイ
     ルを直接または間接的に変更するかどうかを確認します。たとえば、ある
     ファイルをコミットしてから同じファイルをチェックアウトすると、作業
     ツリーに元のファイルが生成されます。この操作が ‘core.autocrlf’ の現
     在の設定に当てはまらない場合、Gitはそのファイルを拒否します。変数を
     ‘warn’ に設定でき、その場合、Gitは不可逆的な変換についてのみ警告は
     しますが、操作を続行します。

     CRLF変換には、データが破損する可能性がわずかにあります。有効にする
     と、Gitはコミット時にCRLFをLFに変換し、チェックアウト時にLFをCRLFに
     変換します。コミット前にLFとCRLFが混在しているファイルは、Gitでは復
     元できません。リポジトリにLF行末のみが含まれるように行末を修正する
     のは、テキストファイルの場合は正しい操作です。しかし、誤ってテキス
     トとして分類されたバイナリファイルの場合、変換によってデータが破損
     する可能性があります。

     あなたがこのような破損を早期に認識した場合は、 .gitattributes で変
     換タイプを明示的に設定することで簡単に修正できます。コミットした直
     後は、作業ツリーに元のファイルが残っており、このファイルはまだ破損
     していません。 このファイルはバイナリファイルなのだからと、Gitがフ
     ァイルを適切に処理することをGitに明示的に伝えることができます。

     残念ながら、行末が混在するテキストファイルをクリーンアップするとい
     う望ましい効果と、バイナリファイルを破損するという望ましくない効果
     を区別することはできません。どちらの場合も、CRLFは元に戻せない方法
     で削除されます。テキストファイルの場合、CRLFは行末であるため、これ
     は正しいことですが、バイナリファイルの場合、CRLFを変換するとデータ
     が破損します。

     注意: この安全性チェックは、チェックアウトによって、 ‘core.eol’ と
     ‘core.autocrlf’ の異なる設定に対して元のファイルと同じファイルが生
     成されることを意味するのではなく、現在のファイルに対してのみ生成さ
     れることに注意してください。 たとえば、 ‘LF’ を含むテキストファイル
     は ‘core.eol=lf’ で受け入れられ、後で ‘ core.eol=crlf‘ でチェックア
     ウトできます。この場合、結果のファイルには ‘CRLF’ が含まれますが、
     元のファイルには ‘LF`が含まれていました。 ただし、両方の作業ツリー
     で、行末は一貫しています。つまり、すべて `LF’ または、 すべて
     ‘CRLF’ のいずれかですが、混合されることはありません。行末が混在する
     ファイルは、 ‘core.safecrlf’ メカニズムによって報告されます。

core.autocrlf
     この変数を「true」に設定することは、すべてのファイルで「text」属性
     を「auto」に設定し、core.eolを「crlf」に設定することと同じです。 作
     業ディレクトリに ‘CRLF’ 行末があり、リポジトリにLF行末がある場合は
     、trueに設定します。 この変数は「input」に設定できます。この場合、
     出力変換は実行されません。

core.checkRoundtripEncoding
     ‘working-tree-encoding’ 属性で使用された場合に Git が UTF-8 のラウ
     ンドトリップチェックを行うエンコーディングの、カンマや空白で区切ら
     れたリスト(gitattributes(5) を参照)。デフォルト値は ‘SHIFT-JIS’ で
     す。

core.symlinks
     falseの場合、シンボリックリンクは、リンクテキストを含む小さなプレー
     ンファイルとしてチェックアウトされます。 git-update-index(1) と
     git-add(1) は、記録されたタイプを通常のファイルに変更しません。シン
     ボリックリンクをサポートしないFATのようなファイルシステムで役立ちま
     す。

     デフォルトは true ですが、git-clone(1) や git-init(1) はリポジトリ
     の作成時に core.symlinks を調査して必要に応じて core.symlinks を
     false に設定します。

core.gitProxy
     フェッチにGitプロトコルを使用する場合、リモートサーバーへの直接接続
     を確立する代わりに(「コマンドホストポート」として)実行する「プロキ
     シコマンド」。変数値が「COMMAND for DOMAIN」形式の場合、コマンドは
     、指定されたドメイン文字列で終わるホスト名にのみ適用されます。この
     変数は複数回設定でき、指定された順序で照合されます。最初にマッチし
     たものが採用されます。

     ‘GIT_PROXY_COMMAND’ 環境変数(特別な「for」処理なしで常に普遍的に適
     用されます)によってオーバーライドできます。

     特別な文字列 ‘none’ をプロキシコマンドとして使用して、特定のドメイ
     ンパターンにプロキシを使用しないように指定できます。これは、ファイ
     アウォール内のサーバをプロキシの使用から除外する一方で、外部ドメイ
     ンには共通のプロキシをデフォルトで使用する場合に便利です。

core.sshCommand
     この変数が設定されている場合、 ‘git fetch’ と ‘git push’ は、リモー
     トシステムに接続する必要があるときに、 ‘ssh’ の代わりに指定したコマ
     ンドを使用します。このコマンドは ‘GIT_SSH_COMMAND’ 環境変数と同じ形
     式であり、環境変数が設定されると上書きされます。

core.ignoreStat
     trueの場合、Gitは lstat() 呼び出しを使用して、インデックスと作業ツ
     リーの両方で同じように更新された追跡ファイルの「assume-unchanged」
     ビットを設定することにより、ファイルが変更されたかどうかを検出する
     ことを回避します。

     ファイルがGitの外部で変更される場合、ユーザーは変更されたファイルを
     明示的にステージングする必要があります(たとえば、
     git-update-index(1) の「Examples」セクションを参照)。 Gitは通常、こ
     れらのファイルへの変更を検出しません。

     これは、 CIFS/Microsoft Windows など、 lstat() 呼び出しが非常に遅い
     システムで役立ちます。

     false がデフォルトです。

core.preferSymlinkRefs
     HEADおよびその他のシンボリック参照ファイルのデフォルトの「symref」
     形式の代わりに、シンボリックリンクを使用します。これは、HEADがシン
     ボリックリンクであることを期待する古いスクリプトを操作するために必
     要になる場合があります。

core.alternateRefsCommand
     alternateから利用可能な履歴のヒントをアドバタイズする場合は、
     git-for-each-ref(1) の代わりに、シェルを使用して指定されたコマンド
     を実行します。最初の引数は、alternateの絶対パスです。出力には、1行
     に1つの16進オブジェクトIDが含まれている必要があります(つまり、 ‘git
     for-each-ref --format='%(objectname)'’ によって生成されたものと同じ
     ある必要があります)。

     注意: 通常、 あなたは ‘git for-each-ref’ をconfig値に直接入れること
     はできません。これは、リポジトリパスを引数として受け取らないためで
     す(ただし、あなたは上記のコマンドをシェルスクリプトでラップすること
     はできます)。

core.alternateRefsPrefixes
     alternateからの参照を一覧表示する場合は、指定のプレフィックスで始ま
     る参照のみを一覧表示します。プレフィックスは git-for-each-ref(1) へ
     の引数として指定されたかのようにマッチングします。複数のプレフィッ
     クスを一覧表示するには、それらを空白で区切ります。
     ‘core.alternateRefsCommand’ が設定されている場合、
     ‘core.alternateRefsPrefixes’ を設定しても効果ありません。

core.bare
     trueの場合、このリポジトリは「ベア」(bare;ベアリポジトリ)であると見
     なされ、作業ディレクトリは関連付けられていません。この場合、
     git-add(1) や git-merge(1) など、作業ディレクトリを必要とする多くの
     コマンドが無効になります。

     この設定は、リポジトリの作成時に git-clone(1) または git-init(1) に
     よって自動的に推測されます。 デフォルトでは、 ‘/.git’ で終わるリポ
     ジトリはベアではないと見なされ(bare = false)、他のすべてのリポジト
     リはベアであると見なされます(bare = true)。

core.worktree
     作業ツリーのルートへのパスを設定します。 ‘GIT_COMMON_DIR’ 環境変数
     が設定されている場合、 core.worktree は無視され、作業ツリーのルート
     を決定するために使用されません。core.worktree は ‘GIT_WORK_TREE’ 環
     境変数と ‘--work-tree’ コマンドラインオプションで上書きできます。値
     は、絶対パスまたは ‘.git’ ディレクトリへの相対パスにすることができ
     ます。これは、 ‘--git-dir’ または GIT_DIR 環境変数で指定されるか、
     ‘--git-dir’ や GIT_DIR 環境変数の指定が無い場合は自動的に検出されま
     す。‘--work-tree’ と GIT_WORK_TREE と core.worktree のいずれも指定
     されていない場合、現在の作業ディレクトリが作業ツリーの最上位と見な
     されます。

     注意: この変数は、ディレクトリの ‘.git｀ サブディレクトリ内の構成フ
     ァイルに設定されている場合でも適用され、その値は前者のディレクトリ
     とは異なることに注意してください(たとえば、 `/path/to/’ ディレクト
     リの ‘.git’ サブディレクトリ内の構成ファイル ‘/path/to/.git/config’
     内の core.worktree が ‘/different/path’ に設定されていたとする)、こ
     れはおそらく設定ミスです。あなたが ‘/path/to’ ディレクトリでGitコマ
     ンドを実行すると、引き続き ‘/different/path’ が作業ツリーのルートと
     して使用され、あなたが何をしているのか分かっている(たとえば、リポジ
     トリの通常の作業ツリーとは異なる場所に同じインデックスの読み取り専
     用スナップショットを作成している)のでない限り混乱を招く可能性があり
     ます。

core.logAllRefUpdates
     reflogを有効にします。新旧のSHA-1の追加や、日付/時刻・理由の更新に
     よる、refである <ref> の更新は、ファイル ‘$GIT_DIR/logs/<ref>’ が存
     在する場合のみ、そのファイルにロギングされます。この構成変数が
     ‘true’ に設定されている場合、欠落している ‘$GIT_DIR/logs/<ref>’ フ
     ァイルがブランチヘッド(つまり、 ‘refs/heads/’ 下)、リモートref(つま
     り、 refs/ 下)、note refs(つまり、 ‘refs/notes/’ 下)、およびシンボ
     リックref ‘HEAD’ 。 ‘always`に設定されている場合、欠落している
     reflogは、 `refs/’ 下のすべてのrefに対して自動的に作成されます。

     この情報を使用して、「2日前」(2 days ago)にブランチの先端であったコ
     ミットを判別できます。

     この値は、作業ディレクトリが関連付けられているリポジトリではデフォ
     ルトでtrueになり、ベアリポジトリではデフォルトでfalseになります。

core.repositoryFormatVersion
     リポジトリの形式とレイアウトのバージョンを識別する内部変数。

core.sharedRepository
     _group_ (または _true_ )の場合、リポジトリはグループ内の複数のユー
     ザー間で共有可能になります(すべてのファイルとオブジェクトがグループ
     書き込み可能であることを確認してください)。 _all_ (または _world_ ま
     たは _everybody_)の場合、リポジトリはグループ共有可能であることに加
     えて、すべてのユーザーが読み取り可能になります。 _umask_ (または
     _false_ )の場合、Gitは umask(2) によって報告された権限を使用します
     。「0xxx」(「0xxx」は8進数)の場合、リポジトリ内のファイルはこのモー
     ド値になります。「0xxx」はユーザーのumask値をオーバーライドします
     (他のオプションはユーザーのumask値の要求された部分のみをオーバーラ
     イドします)。例:「0660」は、所有者とグループがリポジトリを読み取り
     /書き込み可能にしますが、他のユーザーはアクセスできません(umaskが「
     0022」などでない限り、「group」と同等です)。 「0640」は、グループで
     読み取り可能ですが、グループで書き込み可能ではないリポジトリです。
     git-init(1) を参照してください。 デフォルトではFalseです。

core.warnAmbiguousRefs
     trueの場合、渡したref名があいまいでリポジトリ内の複数のrefと一致す
     る可能性がある場合、Gitは警告を表示します。 デフォルトではtrue。

core.compression
     デフォルトの圧縮レベルを示す整数 -1〜9。 -1はzlibのデフォルトです。
     0は圧縮がないことを意味し、1〜9はさまざまな速度とサイズのトレードオ
     フであり、9が最も低速です。設定されている場合、これは
     ‘core.looseCompression’ や ‘pack.compression’ などの他の圧縮変数の
     デフォルトを提供します。

core.looseCompression
     整数 -1〜9は、パックファイルにないオブジェクトの圧縮レベルを示しま
     す。-1はzlibのデフォルトです。0は圧縮がないことを意味し、1〜9はさま
     ざまな速度とサイズのトレードオフであり、9が最も低速です。設定されて
     いない場合、デフォルトは core.compression です。 これが設定されてい
     ない場合、デフォルトは1(最高速度)になります。

core.packedGitWindowSize
     1回のマッピング操作でメモリにマップするパックファイルのバイト数。ウ
     ィンドウサイズを大きくすると、システムが少数の大きなパックファイル
     をより迅速に処理できるようになる場合があります。ウィンドウサイズを
     小さくすると、オペレーティングシステムのメモリマネージャへの呼び出
     しが増えるため、パフォーマンスに悪影響を及ぼしますが、多数の大きな
     パックファイルにアクセスする場合のパフォーマンスが向上する可能性が
     あります。

     コンパイル時にNO_MMAPが設定されている場合、デフォルトは1Mバイトです
     。それ以外の場合、32ビットプラットフォームでは32Mバイト、64ビットプ
     ラットフォームでは1Gバイトです。これは、すべてのユーザー/オペレーテ
     ィングシステムにとって妥当なはずです。おそらくあなたはこの値を調整
     する必要はありません。

     _k_ または _m_ または _g_ の一般的な単位接尾辞がサポートされていま
     す。

core.packedGitLimit
     パックファイルからメモリに同時にマップする最大バイト数。Gitが操作を
     完了するために一度にこれ以上のバイトにアクセスする必要がある場合、
     Gitは既存の領域のマップを解除して、プロセス内の仮想アドレス空間を再
     利用します。

     デフォルトは、32ビットプラットフォームでは256Mバイト、64ビットプラ
     ットフォームでは32Tバイト(事実上無制限)です。これは、超巨大プロジェ
     クトを除いて、すべてのユーザー/オペレーティングシステムにとって妥当
     なはずです。あなたは、おそらくこの値を調整する必要はありません。

     _k_ または _m_ または _g_ の一般的な単位接尾辞がサポートされていま
     す。

core.deltaBaseCacheLimit
     複数の削除されたオブジェクトによって参照される可能性のあるベースオ
     ブジェクトをキャッシュするために予約するスレッドあたりの最大バイト
     数。解凍(decompress)されたベースオブジェクト全体をキャッシュに保存
     することで、Gitは頻繁に使用されるベースオブジェクトを何度もアンパッ
     クおよび解凍することを回避できます。

     デフォルトは、すべてのプラットフォームで96Mバイトです。これは、超巨
     大プロジェクトを除いて、すべてのユーザー/オペレーティングシステムに
     とって妥当なはずです。あなたは、おそらくこの値を調整する必要はあり
     ません。

     _k_ または _m_ または _g_ の一般的な単位接尾辞がサポートされていま
     す。

core.bigFileThreshold
     このサイズより大きいファイルは、デルタ圧縮を試行せずに、デフレート
     して保存されます。デルタ圧縮なしで大きなファイルを保存すると、ディ
     スク使用量が増えるというわずかな犠牲を払って、過度のメモリ使用量を
     回避できます。加えて、このサイズより大きいファイルは常にバイナリと
     して扱われます。

     デフォルトは、すべてのプラットフォームで512Mバイトです。ソースコー
     ドやその他のテキストファイルは依然としてデルタ圧縮できるため、これ
     はほとんどのプロジェクトにとって合理的ですが、より大きなバイナリメ
     ディアファイルにとっては合理的ではありません。

     _k_ または _m_ または _g_ の一般的な単位接尾辞がサポートされていま
     す。

core.excludesFile
     ‘.gitignore’ (ディレクトリごと)と ‘.git/info/exclude’ に加えて、追
     跡されることを意図されていないパスを記述するパターンを含むファイル
     へのパス名を指定します。 デフォルトは ‘$XDG_CONFIG_HOME/git/ignore’
     です。 ‘$XDG_CONFIG_HOME’ が設定されていないか空の場合、代わりに
     ‘$HOME/.config/git/ignore’ が使用されます。 gitignore(5) を参照して
     ください。

core.askPass
     パスワードを対話的に要求する一部のコマンド(svnやhttpインターフェイ
     スなど)は、この変数の値を介して指定された外部プログラムを使用するよ
     うに指示できます。 ‘GIT_ASKPASS’ 環境変数でオーバーライドできます。
     設定されていない場合は、 ‘SSH_ASKPASS’ 環境変数の値にフォールバック
     するか、それが失敗した場合は、単純なパスワードプロンプトにフォール
     バックします。外部プログラムには、コマンドライン引数として適切なプ
     ロンプトが与えられ、その標準出力にパスワードを書き出す事になってい
     ます。

core.attributesFile
     ‘.gitattributes’ (ディレクトリごと) と ‘.git/info/attributes’ に加
     えて、Gitはこのファイルで属性を調べます(gitattributes(5) を参照)。
     パスの拡張は、 ‘core.excludesFile’ の場合と同じ方法で行われます。デ
     フォルト値は ‘$XDG_CONFIG_HOME/git/attributes’ です。
     ‘$XDG_CONFIG_HOME’ が設定されていないか空の場合、代わりに
     ‘$HOME/.config/git/attributes’ が使用されます。

core.hooksPath
     デフォルトでは、Gitは ‘$GIT_DIR/hooks’ ディレクトリでフックを探しま
     す。これを別のパスに設定します。例えば ‘/etc/git/hooks’ です。そし
     てGitはそのディレクトリであなたのフックを見つけようとします。例えば
     ‘$GIT_DIR/hooks/pre-receive’ の代わりに
     ‘/etc/git/hooks/pre-receive’ です。

     パスは絶対パスでも相対パスでもかまいません。相対パスは、フックが実
     行されているディレクトリを基準にしたものと見なされます(githooks(5)
     の「DESCRIPTION」セクションを参照)。

     この設定変数は、あなたのGitフックをリポジトリごとに設定するのではな
     く一元的に設定したい場合や、デフォルトのフックを変更した
     ‘init.templateDir’ に代わるより柔軟で一元的な設定として有用です。

core.editor
     エディタを起動してメッセージを編集できる ‘commit’ や ‘tag’ などのコ
     マンドは、この変数が設定されているときにこの変数の値を使用し、環境
     変数 ‘GIT_EDITOR’ は設定されていません。 git-var(1) を参照してくだ
     さい。

core.commentChar
     メッセージを編集できる ‘commit’ や ‘tag’ などのコマンドは、この文字
     で始まるコメント行を考慮し、エディタから戻った後にそれらを削除しま
     す(デフォルトは ‘#’)。

     ‘auto’ に設定すると、 ‘git-commit’ は、既存のコミットメッセージのど
     の行の先頭文字でもない文字を選択します。

core.filesRefLockTimeout
     個々の参照をロックしようとしたときに再試行する時間の長さ(ミリ秒単位
     )。値0は、まったく再試行しないことを意味します。 -1 は無期限に試す
     ことを意味します。 デフォルトは100です(つまり、100ミリ秒再試行しま
     す)。

core.packedRefsTimeout
     ‘packed-refs’ ファイルをロックしようとしたときに再試行する時間の長
     さ(ミリ秒単位)。値0は、まったく再試行しないことを意味します。-1は無
     期限に試すことを意味します。デフォルトは1000です(つまり、1秒間再試
     行します)。

core.pager
     Gitコマンドで使用するテキストビューア(「less」など)。値はシェルによ
     って解釈されることを意図しています。 優先順位は、 ‘$GIT_PAGER’ 環境
     変数、 ‘core.pager’ 構成、 ‘$PAGER’ 、そしてコンパイル時に選択され
     たデフォルト(通常は _less_)です。

     ‘LESS’ 環境変数が設定されていない(unset)場合、Gitはそれを ‘FRX’ に
     設定(set)します(‘LESS’ 環境変数が設定されている場合は、Gitはそれを
     まったく変更しません)。Gitのデフォルト設定である ‘LESS’ を選択的に
     オーバーライドする場合は、 ‘core.pager’ を、例えば ‘less -S’ と設定
     できます。これはGitによってシェルに渡され、Gitは最後のコマンドを
     ‘LESS=FRX less -S’ に変換します。環境変数では ‘S’ オプションを設定
     しませんが、コマンドラインでは設定し、長い行を切り捨てるように指示
     します。同様に、 ‘core.pager’ を ‘less -+F’ に設定すると、環境変数
     によって指定された ‘F`オプションがコマンドラインによって非アクティ
     ブになり、 `less’ の「1画面の場合は終了」動作が非アクティブになりま
     す。特定のGitコマンドに対していくつかのフラグを特に指定してアクティ
     ブにすることができます。たとえば、 ‘pager.blame’ を ‘less -S’ に設
     定すると、 ‘git blame’ でのみページャーで行の切り捨てが有効になりま
     す。

     同様に、 ‘LV’ 環境変数が設定されていない場合、Gitはそれを ‘-c’ に設
     定します。この設定を上書きするには、 ‘LV’ を別の値でエクスポートす
     るか、 ‘core.pager’ を ‘lv +c’ に設定します。

core.whitespace
     注意すべき一般的な空白(whitespace)の問題のコンマ(‘,’)区切りのリスト
     。 _gitd iff_ は ‘color.diff.whitespace’ を使用してそれらを強調表示
     し、 ‘git apply --whitespace = error’ はそれらをエラーと見なします
     。 接頭辞 ‘-’ を付けて、それらのいずれかを無効にすることができます
     (例: ‘-trailing-space’):

        • ‘blank-at-eol’ は、行末の末尾の空白をエラーとして扱います(デフ
          ォルトで有効になっています)。

        • ‘space-before-tab’ は、行の最初のインデント部分のタブ文字の直
          前に表示されるスペース文字をエラーとして扱います(デフォルトで
          有効になっています)。

        • ‘indent-with-non-tab’ は、同等のタブではなくスペース文字でイン
          デントされた行をエラーとして扱います(デフォルトでは有効になっ
          ていません)。

        • ‘tab-in-indent’ は、行の最初のインデント部分にあるタブ文字をエ
          ラーとして扱います(デフォルトでは有効になっていません)。

        • ‘blank-at-eof’ は、ファイルの最後に追加された空白行をエラーと
          して扱います(デフォルトで有効になっています)。

        • ‘trailing-space’ は、‘ blank-at-eol‘ と ‘blank-at-eof’ の両方
          をカバーする省略形です。

        • ‘cr-at-eol’ は、行末のキャリッジリターンをラインターミネータの
          一部として扱います。つまり、そのようなキャリッジリターンの前の
          文字が空白(a whitespace)でない場合、 ‘trailing-space’ はトリガ
          ーされません(デフォルトでは有効になっていません)。

        • ‘tabwidth=<n>’ は、タブが占める文字数を示します。 これは、
          ‘indent-with-non-tab’ と、 Gitが ‘tab-in-indent’ エラーを修正
          する場合に関連します。デフォルトのタブ幅は8です。許可される値
          は1〜63です。

core.fsyncObjectFiles
     このブール値は、オブジェクトファイルを書き込むときに _fsync()_ を有
     効にします。

     これは、データの書き込みを適切に順序付けるファイルシステムでは時間
     と労力の無駄ですが、ジャーナル処理を使用しないファイルシステム(伝統
     的なUNIXファイルシステム)や、ファイルの内容ではなくメタデータのみを
     ジャーナル処理するファイルシステム(OS XのHFS+や、‘data=writeback’ な
     Linux ext3)で役立ちます。

core.preloadIndex
     _git diff_ などの操作のために並列インデックスプリロードを有効にする

     これにより、特にキャッシュセマンティクスが弱く、IOレイテンシが比較
     的高いNFSなどのファイルシステムで、「git diff」や「git status」など
     の操作を高速化できます。有効にすると、Gitはファイルシステムデータと
     のインデックス比較を並行して実行し、重複する入出力を許可します。デ
     フォルトはtrueです。

core.unsetenvvars
     Windowsのみ: 他のプロセスを生成する前に設定を解除する必要がある環境
     変数の名前のコンマ(‘,’)区切りのリスト。Git for Windowsが独自の
     Perlインタープリターの使用を主張しているという事実を説明するために
     、デフォルトは ‘PERL5LIB’ です。

core.restrictinheritedhandles
     Windowsのみ: 生成されたプロセスが標準のファイルハンドル( ‘stdin’ と
     ‘stdout’ と ‘stderr’)のみを継承するか、すべてのハンドルを継承するか
     をオーバーライドします。 ‘auto’ または ‘true’ または ‘false’ にする
     ことができます。デフォルトは ‘auto’ で、これはWindows7以降では
     ‘true’ を意味し、古いバージョンのWindowsでは ‘false’ を意味します。

core.createObject
     これを _link_ に設定できます。この場合、ハードリンク後のソース削除
     を、オブジェクトの作成が既存のオブジェクトが上書しないことをチェッ
     クするために使用します。

     一部のファイルシステム/オペレーティングシステムの組み合わせでは、こ
     れは信頼できませんので、この構成設定を _rename_ に設定します。ただ
     し、これにより、既存のオブジェクトファイルが上書きされないようにす
     るチェックが削除されます。

core.notesRef
     コミットメッセージを表示するときは、指定されたrefに保存されている
     note も表示します。refは完全に修飾されている必要があります。指定さ
     れたrefが存在しない場合、それはエラーではありませんが、noteを印刷し
     てはならないことを意味します。

     この設定のデフォルトは「refs/notes/commits」であり、
     ‘GIT_NOTES_REF’ 環境変数でオーバーライドできます。 git-notes(1) を
     参照してください。

core.commitGraph
     trueの場合、gitはcommit-graphファイル(存在する場合)を読み取り、コミ
     ットのグラフ構造をパースします。デフォルトはtrueです。詳細について
     は、 git-commit-graph(1) を参照してください。

core.useReplaceRefs
     ‘false’ に設定すると、コマンドラインで ‘--no-replace-objects’ オプ
     ションが指定されたかのように振る舞います。詳細については git(1) と
     git-replace(1) を参照してください。

core.multiPackIndex
     multi-pack-index ファイルを使用して、単一のインデックスを使用して複
     数のパックファイルを追跡します。詳細については
     git-multi-pack-index(1) を参照してください。デフォルトはtrueです。

core.sparseCheckout
     「スパースチェックアウト」(sparse checkout)機能を有効にします。 詳
     細については、 git-sparse-checkout(1) を参照してください。

core.sparseCheckoutCone
     スパースチェックアウト機能の「コーンモード」(cone mode)を有効にしま
     す。スパースチェックアウトファイルに含まれるパターンのセットが限ら
     れている場合、このモードはパフォーマンスに大きな利点をもたらします
     。詳細については git-sparse-checkout(1) を参照してください。

core.abbrev
     オブジェクト名の省略形の長さを設定します。指定されていないか「
     auto」に設定されている場合、リポジトリ内のパックされたオブジェクト
     のおおよその数に基づいて適切な値が計算されます。それは、省略された
     オブジェクト名がしばらくの間(some time)一意であるのに十分な長さです
     。「no」に設定すると、省略形は作成されず、オブジェクト名は完全な長
     さで表示されます。 最小の長さは4です。

add.ignoreErrors
add.ignore-errors (deprecated)
     Tells _git add_ to continue adding files when some files cannot be
     added due to indexing errors.  Equivalent to the ‘--ignore-errors’
     option of git-add(1).  ‘add.ignore-errors’ is deprecated, as it
     does not follow the usual naming convention for configuration
     variables.

add.interactive.useBuiltin
     [EXPERIMENTAL] Set to ‘true’ to use the experimental built-in
     implementation of the interactive version of git-add(1) instead of
     the Perl script version.  Is ‘false’ by default.

alias.*
     Command aliases for the git(1) command wrapper - e.g.  after
     defining ‘alias.last = cat-file commit HEAD’, the invocation ‘git
     last’ is equivalent to ‘git cat-file commit HEAD’.  To avoid
     confusion and troubles with script usage, aliases that hide
     existing Git commands are ignored.  Arguments are split by spaces,
     the usual shell quoting and escaping is supported.  A quote pair or
     a backslash can be used to quote them.

     Note that the first word of an alias does not necessarily have to
     be a command.  It can be a command-line option that will be passed
     into the invocation of ‘git’.  In particular, this is useful when
     used with ‘-c’ to pass in one-time configurations or ‘-p’ to force
     pagination.  For example, ‘loud-rebase = -c commit.verbose=true
     rebase’ can be defined such that running ‘git loud-rebase’ would be
     equivalent to ‘git -c commit.verbose=true rebase’.  Also, ‘ps = -p
     status’ would be a helpful alias since ‘git ps’ would paginate the
     output of ‘git status’ where the original command does not.

     If the alias expansion is prefixed with an exclamation point, it
     will be treated as a shell command.  For example, defining
     ‘alias.new = !gitk --all --not ORIG_HEAD’, the invocation ‘git new’
     is equivalent to running the shell command ‘gitk --all --not
     ORIG_HEAD’.  Note that shell commands will be executed from the
     top-level directory of a repository, which may not necessarily be
     the current directory.  ‘GIT_PREFIX’ is set as returned by running
     ‘git rev-parse --show-prefix’ from the original current directory.
     See git-rev-parse(1).

am.keepcr
     If true, git-am will call git-mailsplit for patches in mbox format
     with parameter ‘--keep-cr’.  In this case git-mailsplit will not
     remove ‘\r’ from lines ending with ‘\r\n’.  Can be overridden by
     giving ‘--no-keep-cr’ from the command line.  See git-am(1),
     git-mailsplit(1).

am.threeWay
     By default, ‘git am’ will fail if the patch does not apply cleanly.
     When set to true, this setting tells ‘git am’ to fall back on 3-way
     merge if the patch records the identity of blobs it is supposed to
     apply to and we have those blobs available locally (equivalent to
     giving the ‘--3way’ option from the command line).  Defaults to
     ‘false’.  See git-am(1).

apply.ignoreWhitespace
     When set to _change_, tells _git apply_ to ignore changes in
     whitespace, in the same way as the ‘--ignore-space-change’ option.
     When set to one of: no, none, never, false tells _git apply_ to
     respect all whitespace differences.  See git-apply(1).

apply.whitespace
     Tells _git apply_ how to handle whitespaces, in the same way as the
     ‘--whitespace’ option.  See git-apply(1).

blame.blankBoundary
     Show blank commit object name for boundary commits in git-blame(1).
     This option defaults to false.

blame.coloring
     This determines the coloring scheme to be applied to blame output.
     It can be _repeatedLines_, _highlightRecent_, or _none_ which is
     the default.

blame.date
     Specifies the format used to output dates in git-blame(1).  If
     unset the iso format is used.  For supported values, see the
     discussion of the ‘--date’ option at git-log(1).

blame.showEmail
     Show the author email instead of author name in git-blame(1).  This
     option defaults to false.

blame.showRoot
     Do not treat root commits as boundaries in git-blame(1).  This
     option defaults to false.

blame.ignoreRevsFile
     Ignore revisions listed in the file, one unabbreviated object name
     per line, in git-blame(1).  Whitespace and comments beginning with
     ‘#’ are ignored.  This option may be repeated multiple times.
     Empty file names will reset the list of ignored revisions.  This
     option will be handled before the command line option
     ‘--ignore-revs-file’.

blame.markUnblamableLines
     Mark lines that were changed by an ignored revision that we could
     not attribute to another commit with a _*_ in the output of
     git-blame(1).

blame.markIgnoredLines
     Mark lines that were changed by an ignored revision that we
     attributed to another commit with a _?_  in the output of
     git-blame(1).

branch.autoSetupMerge
     Tells _git branch_, _git switch_ and _git checkout_ to set up new
     branches so that git-pull(1) will appropriately merge from the
     starting point branch.  Note that even if this option is not set,
     this behavior can be chosen per-branch using the ‘--track’ and
     ‘--no-track’ options.  The valid settings are: ‘false’ — no
     automatic setup is done; ‘true’ — automatic setup is done when the
     starting point is a remote-tracking branch; ‘always’ — automatic
     setup is done when the starting point is either a local branch or
     remote-tracking branch.  This option defaults to true.

branch.autoSetupRebase
     When a new branch is created with _git branch_, _git switch_ or
     _git checkout_ that tracks another branch, this variable tells Git
     to set up pull to rebase instead of merge (see
     "branch.<name>.rebase").  When ‘never’, rebase is never
     automatically set to true.  When ‘local’, rebase is set to true for
     tracked branches of other local branches.  When ‘remote’, rebase is
     set to true for tracked branches of remote-tracking branches.  When
     ‘always’, rebase will be set to true for all tracking branches.
     See "branch.autoSetupMerge" for details on how to set up a branch
     to track another branch.  This option defaults to never.

branch.sort
     This variable controls the sort ordering of branches when displayed
     by git-branch(1).  Without the "–sort=<value>" option provided, the
     value of this variable will be used as the default.  See
     git-for-each-ref(1) field names for valid values.

branch.<name>.remote
     When on branch <name>, it tells _git fetch_ and _git push_ which
     remote to fetch from/push to.  The remote to push to may be
     overridden with ‘remote.pushDefault’ (for all branches).  The
     remote to push to, for the current branch, may be further
     overridden by ‘branch.<name>.pushRemote’.  If no remote is
     configured, or if you are not on any branch, it defaults to
     ‘origin’ for fetching and ‘remote.pushDefault’ for pushing.
     Additionally, ‘.’ (a period) is the current local repository (a
     dot-repository), see ‘branch.<name>.merge’’s final note below.

branch.<name>.pushRemote
     When on branch <name>, it overrides ‘branch.<name>.remote’ for
     pushing.  It also overrides ‘remote.pushDefault’ for pushing from
     branch <name>.  When you pull from one place (e.g.  your upstream)
     and push to another place (e.g.  your own publishing repository),
     you would want to set ‘remote.pushDefault’ to specify the remote to
     push to for all branches, and use this option to override it for a
     specific branch.

branch.<name>.merge
     Defines, together with branch.<name>.remote, the upstream branch
     for the given branch.  It tells _git fetch_/_git pull_/_git rebase_
     which branch to merge and can also affect _git push_ (see
     push.default).  When in branch <name>, it tells _git fetch_ the
     default refspec to be marked for merging in FETCH_HEAD. The value
     is handled like the remote part of a refspec, and must match a ref
     which is fetched from the remote given by "branch.<name>.remote".
     The merge information is used by _git pull_ (which at first calls
     _git fetch_) to lookup the default branch for merging.  Without
     this option, _git pull_ defaults to merge the first refspec
     fetched.  Specify multiple values to get an octopus merge.  If you
     wish to setup _git pull_ so that it merges into <name> from another
     branch in the local repository, you can point branch.<name>.merge
     to the desired branch, and use the relative path setting ‘.’ (a
     period) for branch.<name>.remote.

branch.<name>.mergeOptions
     Sets default options for merging into branch <name>.  The syntax
     and supported options are the same as those of git-merge(1), but
     option values containing whitespace characters are currently not
     supported.

branch.<name>.rebase
     When true, rebase the branch <name> on top of the fetched branch,
     instead of merging the default branch from the default remote when
     "git pull" is run.  See "pull.rebase" for doing this in a non
     branch-specific manner.

     When ‘merges’ (or just _m_), pass the ‘--rebase-merges’ option to
     _git rebase_ so that the local merge commits are included in the
     rebase (see git-rebase(1) for details).

     When ‘preserve’ (or just _p_, deprecated in favor of ‘merges’),
     also pass ‘--preserve-merges’ along to _git rebase_ so that locally
     committed merge commits will not be flattened by running _git
     pull_.

     When the value is ‘interactive’ (or just _i_), the rebase is run in
     interactive mode.

     *NOTE*: this is a possibly dangerous operation; do *not* use it
     unless you understand the implications (see git-rebase(1) for
     details).

branch.<name>.description
     Branch description, can be edited with ‘git branch
     --edit-description’.  Branch description is automatically added in
     the format-patch cover letter or request-pull summary.

browser.<tool>.cmd
     Specify the command to invoke the specified browser.  The specified
     command is evaluated in shell with the URLs passed as arguments.
     (See git-web–browse(1).)

browser.<tool>.path
     Override the path for the given tool that may be used to browse
     HTML help (see ‘-w’ option in git-help(1)) or a working repository
     in gitweb (see git-instaweb(1)).

checkout.defaultRemote
     When you run ‘git checkout <something>’ or ‘git switch <something>’
     and only have one remote, it may implicitly fall back on checking
     out and tracking e.g.  ‘origin/<something>’.  This stops working as
     soon as you have more than one remote with a ‘<something>’
     reference.  This setting allows for setting the name of a preferred
     remote that should always win when it comes to disambiguation.  The
     typical use-case is to set this to ‘origin’.

     Currently this is used by git-switch(1) and git-checkout(1) when
     ‘git checkout <something>’ or ‘git switch <something>’ will
     checkout the ‘<something>’ branch on another remote, and by
     git-worktree(1) when ‘git worktree add’ refers to a remote branch.
     This setting might be used for other checkout-like commands or
     functionality in the future.

checkout.guess
     Provides the default value for the ‘--guess’ or ‘--no-guess’ option
     in ‘git checkout’ and ‘git switch’.  See git-switch(1) and
     git-checkout(1).

checkout.workers
     The number of parallel workers to use when updating the working
     tree.  The default is one, i.e.  sequential execution.  If set to a
     value less than one, Git will use as many workers as the number of
     logical cores available.  This setting and
     ‘checkout.thresholdForParallelism’ affect all commands that perform
     checkout.  E.g.  checkout, clone, reset, sparse-checkout, etc.

     Note: parallel checkout usually delivers better performance for
     repositories located on SSDs or over NFS. For repositories on
     spinning disks and/or machines with a small number of cores, the
     default sequential checkout often performs better.  The size and
     compression level of a repository might also influence how well the
     parallel version performs.

checkout.thresholdForParallelism
     When running parallel checkout with a small number of files, the
     cost of subprocess spawning and inter-process communication might
     outweigh the parallelization gains.  This setting allows to define
     the minimum number of files for which parallel checkout should be
     attempted.  The default is 100.

clean.requireForce
     ブール値。falseで無いの場合 ‘-f’ または ‘-i’ または ‘-n’ を指定しな
     い限りgit-cleanは何もしません。 デフォルトはtrueです。

clone.defaultRemoteName
     The name of the remote to create when cloning a repository.
     Defaults to ‘origin’, and can be overridden by passing the
     ‘--origin’ command-line option to git-clone(1).

clone.rejectShallow
     Reject to clone a repository if it is a shallow one, can be
     overridden by passing option ‘--reject-shallow’ in command line.
     See git-clone(1)

color.advice
     A boolean to enable/disable color in hints (e.g.  when a push
     failed, see ‘advice.*’ for a list).  May be set to ‘always’,
     ‘false’ (or ‘never’) or ‘auto’ (or ‘true’), in which case colors
     are used only when the error output goes to a terminal.  If unset,
     then the value of ‘color.ui’ is used (‘auto’ by default).

color.advice.hint
     Use customized color for hints.

color.blame.highlightRecent
     This can be used to color the metadata of a blame line depending on
     age of the line.

     This setting should be set to a comma-separated list of color and
     date settings, starting and ending with a color, the dates should
     be set from oldest to newest.  The metadata will be colored given
     the colors if the line was introduced before the given timestamp,
     overwriting older timestamped colors.

     Instead of an absolute timestamp relative timestamps work as well,
     e.g.  2.weeks.ago is valid to address anything older than 2 weeks.

     It defaults to _blue,12 month ago,white,1 month ago,red_, which
     colors everything older than one year blue, recent changes between
     one month and one year old are kept white, and lines introduced
     within the last month are colored red.

color.blame.repeatedLines
     Use the customized color for the part of git-blame output that is
     repeated meta information per line (such as commit id, author name,
     date and timezone).  Defaults to cyan.

color.branch
     A boolean to enable/disable color in the output of git-branch(1).
     May be set to ‘always’, ‘false’ (or ‘never’) or ‘auto’ (or ‘true’),
     in which case colors are used only when the output is to a
     terminal.  If unset, then the value of ‘color.ui’ is used (‘auto’
     by default).

color.branch.<slot>
     Use customized color for branch coloration.  ‘<slot>’ is one of
     ‘current’ (the current branch), ‘local’ (a local branch), ‘remote’
     (a remote-tracking branch in refs/remotes/), ‘upstream’ (upstream
     tracking branch), ‘plain’ (other refs).

color.diff
     Whether to use ANSI escape sequences to add color to patches.  If
     this is set to ‘always’, git-diff(1), git-log(1), and git-show(1)
     will use color for all patches.  If it is set to ‘true’ or ‘auto’,
     those commands will only use color when output is to the terminal.
     If unset, then the value of ‘color.ui’ is used (‘auto’ by default).

     This does not affect git-format-patch(1) or the _git-diff-*_
     plumbing commands.  Can be overridden on the command line with the
     ‘--color[=<when>]’ option.

color.diff.<slot>
     Use customized color for diff colorization.  ‘<slot>’ specifies
     which part of the patch to use the specified color, and is one of
     ‘context’ (context text - ‘plain’ is a historical synonym), ‘meta’
     (metainformation), ‘frag’ (hunk header), _func_ (function in hunk
     header), ‘old’ (removed lines), ‘new’ (added lines), ‘commit’
     (commit headers), ‘whitespace’ (highlighting whitespace errors),
     ‘oldMoved’ (deleted lines), ‘newMoved’ (added lines),
     ‘oldMovedDimmed’, ‘oldMovedAlternative’,
     ‘oldMovedAlternativeDimmed’, ‘newMovedDimmed’,
     ‘newMovedAlternative’ ‘newMovedAlternativeDimmed’ (See the _<mode>_
     setting of _–color-moved_ in git-diff(1) for details),
     ‘contextDimmed’, ‘oldDimmed’, ‘newDimmed’, ‘contextBold’,
     ‘oldBold’, and ‘newBold’ (see git-range-diff(1) for details).

color.decorate.<slot>
     Use customized color for _git log –decorate_ output.  ‘<slot>’ is
     one of ‘branch’, ‘remoteBranch’, ‘tag’, ‘stash’ or ‘HEAD’ for local
     branches, remote-tracking branches, tags, stash and HEAD,
     respectively and ‘grafted’ for grafted commits.

color.grep
     When set to ‘always’, always highlight matches.  When ‘false’ (or
     ‘never’), never.  When set to ‘true’ or ‘auto’, use color only when
     the output is written to the terminal.  If unset, then the value of
     ‘color.ui’ is used (‘auto’ by default).

color.grep.<slot>
     Use customized color for grep colorization.  ‘<slot>’ specifies
     which part of the line to use the specified color, and is one of

     ‘context’
          non-matching text in context lines (when using ‘-A’, ‘-B’, or
          ‘-C’)

     ‘filename’
          filename prefix (when not using ‘-h’)

     ‘function’
          function name lines (when using ‘-p’)

     ‘lineNumber’
          line number prefix (when using ‘-n’)

     ‘column’
          column number prefix (when using ‘--column’)

     ‘match’
          matching text (same as setting ‘matchContext’ and
          ‘matchSelected’)

     ‘matchContext’
          matching text in context lines

     ‘matchSelected’
          matching text in selected lines

     ‘selected’
          non-matching text in selected lines

     ‘separator’
          separators between fields on a line (‘:’, ‘-’, and ‘=’) and
          between hunks (‘--’)

color.interactive
     When set to ‘always’, always use colors for interactive prompts and
     displays (such as those used by "git-add –interactive" and
     "git-clean –interactive").  When false (or ‘never’), never.  When
     set to ‘true’ or ‘auto’, use colors only when the output is to the
     terminal.  If unset, then the value of ‘color.ui’ is used (‘auto’
     by default).

color.interactive.<slot>
     Use customized color for _git add –interactive_ and _git clean
     –interactive_ output.  ‘<slot>’ may be ‘prompt’, ‘header’, ‘help’
     or ‘error’, for four distinct types of normal output from
     interactive commands.

color.pager
     A boolean to specify whether ‘auto’ color modes should colorize
     output going to the pager.  Defaults to true; set this to false if
     your pager does not understand ANSI color codes.

color.push
     A boolean to enable/disable color in push errors.  May be set to
     ‘always’, ‘false’ (or ‘never’) or ‘auto’ (or ‘true’), in which case
     colors are used only when the error output goes to a terminal.  If
     unset, then the value of ‘color.ui’ is used (‘auto’ by default).

color.push.error
     Use customized color for push errors.

color.remote
     If set, keywords at the start of the line are highlighted.  The
     keywords are "error", "warning", "hint" and "success", and are
     matched case-insensitively.  May be set to ‘always’, ‘false’ (or
     ‘never’) or ‘auto’ (or ‘true’).  If unset, then the value of
     ‘color.ui’ is used (‘auto’ by default).

color.remote.<slot>
     Use customized color for each remote keyword.  ‘<slot>’ may be
     ‘hint’, ‘warning’, ‘success’ or ‘error’ which match the
     corresponding keyword.

color.showBranch
     A boolean to enable/disable color in the output of
     git-show-branch(1).  May be set to ‘always’, ‘false’ (or ‘never’)
     or ‘auto’ (or ‘true’), in which case colors are used only when the
     output is to a terminal.  If unset, then the value of ‘color.ui’ is
     used (‘auto’ by default).

color.status
     A boolean to enable/disable color in the output of git-status(1).
     May be set to ‘always’, ‘false’ (or ‘never’) or ‘auto’ (or ‘true’),
     in which case colors are used only when the output is to a
     terminal.  If unset, then the value of ‘color.ui’ is used (‘auto’
     by default).

color.status.<slot>
     Use customized color for status colorization.  ‘<slot>’ is one of
     ‘header’ (the header text of the status message), ‘added’ or
     ‘updated’ (files which are added but not committed), ‘changed’
     (files which are changed but not added in the index), ‘untracked’
     (files which are not tracked by Git), ‘branch’ (the current
     branch), ‘nobranch’ (the color the _no branch_ warning is shown in,
     defaulting to red), ‘localBranch’ or ‘remoteBranch’ (the local and
     remote branch names, respectively, when branch and tracking
     information is displayed in the status short-format), or ‘unmerged’
     (files which have unmerged changes).

color.transport
     A boolean to enable/disable color when pushes are rejected.  May be
     set to ‘always’, ‘false’ (or ‘never’) or ‘auto’ (or ‘true’), in
     which case colors are used only when the error output goes to a
     terminal.  If unset, then the value of ‘color.ui’ is used (‘auto’
     by default).

color.transport.rejected
     Use customized color when a push was rejected.

color.ui
     This variable determines the default value for variables such as
     ‘color.diff’ and ‘color.grep’ that control the use of color per
     command family.  Its scope will expand as more commands learn
     configuration to set a default for the ‘--color’ option.  Set it to
     ‘false’ or ‘never’ if you prefer Git commands not to use color
     unless enabled explicitly with some other configuration or the
     ‘--color’ option.  Set it to ‘always’ if you want all output not
     intended for machine consumption to use color, to ‘true’ or ‘auto’
     (this is the default since Git 1.8.4) if you want such output to
     use color when written to the terminal.

column.ui
     Specify whether supported commands should output in columns.  This
     variable consists of a list of tokens separated by spaces or
     commas:

     These options control when the feature should be enabled (defaults
     to _never_):

     ‘always’
          always show in columns

     ‘never’
          never show in columns

     ‘auto’
          show in columns if the output is to the terminal

     These options control layout (defaults to _column_).  Setting any
     of these implies _always_ if none of _always_, _never_, or _auto_
     are specified.

     ‘column’
          fill columns before rows

     ‘row’
          fill rows before columns

     ‘plain’
          show in one column

     Finally, these options can be combined with a layout option
     (defaults to _nodense_):

     ‘dense’
          make unequal size columns to utilize more space

     ‘nodense’
          make equal size columns

column.branch
     Specify whether to output branch listing in ‘git branch’ in
     columns.  See ‘column.ui’ for details.

column.clean
     Specify the layout when list items in ‘git clean -i’, which always
     shows files and directories in columns.  See ‘column.ui’ for
     details.

column.status
     Specify whether to output untracked files in ‘git status’ in
     columns.  See ‘column.ui’ for details.

column.tag
     Specify whether to output tag listing in ‘git tag’ in columns.  See
     ‘column.ui’ for details.

commit.cleanup
     This setting overrides the default of the ‘--cleanup’ option in
     ‘git commit’.  See git-commit(1) for details.  Changing the default
     can be useful when you always want to keep lines that begin with
     comment character ‘#’ in your log message, in which case you would
     do ‘git config commit.cleanup whitespace’ (note that you will have
     to remove the help lines that begin with ‘#’ in the commit log
     template yourself, if you do this).

commit.gpgSign
     A boolean to specify whether all commits should be GPG signed.  Use
     of this option when doing operations such as rebase can result in a
     large number of commits being signed.  It may be convenient to use
     an agent to avoid typing your GPG passphrase several times.

commit.status
     A boolean to enable/disable inclusion of status information in the
     commit message template when using an editor to prepare the commit
     message.  Defaults to true.

commit.template
     Specify the pathname of a file to use as the template for new
     commit messages.

commit.verbose
     A boolean or int to specify the level of verbose with ‘git commit’.
     See git-commit(1).

commitGraph.generationVersion
     Specifies the type of generation number version to use when writing
     or reading the commit-graph file.  If version 1 is specified, then
     the corrected commit dates will not be written or read.  Defaults
     to 2.

commitGraph.maxNewFilters
     Specifies the default value for the ‘--max-new-filters’ option of
     ‘git commit-graph write’ (c.f., git-commit-graph(1)).

commitGraph.readChangedPaths
     If true, then git will use the changed-path Bloom filters in the
     commit-graph file (if it exists, and they are present).  Defaults
     to true.  See git-commit-graph(1) for more information.

credential.helper
     ユーザー名またはパスワードの資格情報が必要なときに呼び出される外部
     ヘルパーを指定します。ヘルパーは、ユーザーに資格情報の入力を求めな
     いように、外部ストレージを参照する場合があります。これは通常、可能
     な引数を持つ資格情報ヘルパーの名前ですが、引数を持つ絶対パス、また
     は ‘!’ が前に付いている場合はシェルコマンドの場合もあります。

     注意: 複数のヘルパーが定義されている場合があることに注意してくださ
     い。詳細と例については、 gitcredentials(7) を参照してください。

credential.useHttpPath
     資格情報を取得するとき、http URL または https URL のパス部分を重要
     視します。デフォルトはfalseです。詳細については、 gitcredentials(7)
     を参照してください。

credential.username
     ネットワーク認証にユーザー名が設定されていない場合は、デフォルトで
     このユーザー名を使用します。 以下の credential.<context>.* と
     gitcredentials(7) を参照してください。

credential.<url>.*
     上記の credential.* オプションは、一部の資格情報に選択的に適用でき
     ます。 たとえば、 "credential.https://example.com.username" は、
     example.com への https 接続に対してのみデフォルトのユーザー名を設定
     します。 URLの照合方法の詳細については、 gitcredentials(7) を参照し
     てください。

credentialCache.ignoreSIGHUP
     git-credential-cache—daemon に、終了する代わりにSIGHUPを無視するよ
     うに指示します。

credentialStore.lockTimeoutMS
     資格情報ファイルをロックしようとしたときに git-credential-store が
     再試行する時間の長さ(ミリ秒単位)。値0は、まったく再試行しないことを
     意味します。-1は無期限に試すことを意味します。デフォルトは1000です
     (つまり、1秒間再試行します)。

completion.commands
     This is only used by git-completion.bash to add or remove commands
     from the list of completed commands.  Normally only porcelain
     commands and a few select others are completed.  You can add more
     commands, separated by space, in this variable.  Prefixing the
     command with _-_ will remove it from the existing list.

diff.autoRefreshIndex
     When using _git diff_ to compare with work tree files, do not
     consider stat-only change as changed.  Instead, silently run ‘git
     update-index --refresh’ to update the cached stat information for
     paths whose contents in the work tree match the contents in the
     index.  This option defaults to true.  Note that this affects only
     _git diff_ Porcelain, and not lower level _diff_ commands such as
     _git diff-files_.

diff.dirstat
     A comma separated list of ‘--dirstat’ parameters specifying the
     default behavior of the ‘--dirstat’ option to git-diff(1) and
     friends.  The defaults can be overridden on the command line (using
     ‘--dirstat=<param1,param2,...>’).  The fallback defaults (when not
     changed by ‘diff.dirstat’) are ‘changes,noncumulative,3’.  The
     following parameters are available:

     ‘changes’
          Compute the dirstat numbers by counting the lines that have
          been removed from the source, or added to the destination.
          This ignores the amount of pure code movements within a file.
          In other words, rearranging lines in a file is not counted as
          much as other changes.  This is the default behavior when no
          parameter is given.

     ‘lines’
          Compute the dirstat numbers by doing the regular line-based
          diff analysis, and summing the removed/added line counts.
          (For binary files, count 64-byte chunks instead, since binary
          files have no natural concept of lines).  This is a more
          expensive ‘--dirstat’ behavior than the ‘changes’ behavior,
          but it does count rearranged lines within a file as much as
          other changes.  The resulting output is consistent with what
          you get from the other ‘--*stat’ options.

     ‘files’
          Compute the dirstat numbers by counting the number of files
          changed.  Each changed file counts equally in the dirstat
          analysis.  This is the computationally cheapest ‘--dirstat’
          behavior, since it does not have to look at the file contents
          at all.

     ‘cumulative’
          Count changes in a child directory for the parent directory as
          well.  Note that when using ‘cumulative’, the sum of the
          percentages reported may exceed 100%.  The default
          (non-cumulative) behavior can be specified with the
          ‘noncumulative’ parameter.

     <limit>
          An integer parameter specifies a cut-off percent (3% by
          default).  Directories contributing less than this percentage
          of the changes are not shown in the output.

     Example: The following will count changed files, while ignoring
     directories with less than 10% of the total amount of changed
     files, and accumulating child directory counts in the parent
     directories: ‘files,10,cumulative’.

diff.statGraphWidth
     Limit the width of the graph part in –stat output.  If set, applies
     to all commands generating –stat output except format-patch.

diff.context
     Generate diffs with <n> lines of context instead of the default of
     3.  This value is overridden by the -U option.

diff.interHunkContext
     Show the context between diff hunks, up to the specified number of
     lines, thereby fusing the hunks that are close to each other.  This
     value serves as the default for the ‘--inter-hunk-context’ command
     line option.

diff.external
     If this config variable is set, diff generation is not performed
     using the internal diff machinery, but using the given command.
     Can be overridden with the ‘GIT_EXTERNAL_DIFF’ environment
     variable.  The command is called with parameters as described under
     "git Diffs" in git(1).  Note: if you want to use an external diff
     program only on a subset of your files, you might want to use
     gitattributes(5) instead.

diff.ignoreSubmodules
     Sets the default value of –ignore-submodules.  Note that this
     affects only _git diff_ Porcelain, and not lower level _diff_
     commands such as _git diff-files_.  _git checkout_ and _git switch_
     also honor this setting when reporting uncommitted changes.
     Setting it to _all_ disables the submodule summary normally shown
     by _git commit_ and _git status_ when ‘status.submoduleSummary’ is
     set unless it is overridden by using the –ignore-submodules
     command-line option.  The _git submodule_ commands are not affected
     by this setting.  By default this is set to untracked so that any
     untracked submodules are ignored.

diff.mnemonicPrefix
     If set, _git diff_ uses a prefix pair that is different from the
     standard "a/" and "b/" depending on what is being compared.  When
     this configuration is in effect, reverse diff output also swaps the
     order of the prefixes:

     ‘git diff’
          compares the (i)ndex and the (w)ork tree;

     ‘git diff HEAD’
          compares a (c)ommit and the (w)ork tree;

     ‘git diff --cached’
          compares a (c)ommit and the (i)ndex;

     ‘git diff HEAD:file1 file2’
          compares an (o)bject and a (w)ork tree entity;

     ‘git diff --no-index a b’
          compares two non-git things (1) and (2).

diff.noprefix
     If set, _git diff_ does not show any source or destination prefix.

diff.relative
     If set to _true_, _git diff_ does not show changes outside of the
     directory and show pathnames relative to the current directory.

diff.orderFile
     diff内でファイルを並べ替える方法を示すファイル。 詳細については、
     git-diff(1) の ‘-O’ オプションを参照してください。 ‘diff.orderFile’
     が相対パス名の場合、作業ツリーの最上位を基準として扱います。

diff.renameLimit
     The number of files to consider in the exhaustive portion of
     copy/rename detection; equivalent to the _git diff_ option ‘-l’.
     If not set, the default value is currently 1000.  This setting has
     no effect if rename detection is turned off.

diff.renames
     Whether and how Git detects renames.  If set to "false", rename
     detection is disabled.  If set to "true", basic rename detection is
     enabled.  If set to "copies" or "copy", Git will detect copies, as
     well.  Defaults to true.  Note that this affects only _git diff_
     Porcelain like git-diff(1) and git-log(1), and not lower level
     commands such as git-diff-files(1).

diff.suppressBlankEmpty
     A boolean to inhibit the standard behavior of printing a space
     before each empty output line.  Defaults to false.

diff.submodule
     Specify the format in which differences in submodules are shown.
     The "short" format just shows the names of the commits at the
     beginning and end of the range.  The "log" format lists the commits
     in the range like git-submodule(1) ‘summary’ does.  The "diff"
     format shows an inline diff of the changed contents of the
     submodule.  Defaults to "short".

diff.wordRegex
     A POSIX Extended Regular Expression used to determine what is a
     "word" when performing word-by-word difference calculations.
     Character sequences that match the regular expression are "words",
     all other characters are *ignorable* whitespace.

diff.<driver>.command
     The custom diff driver command.  See gitattributes(5) for details.

diff.<driver>.xfuncname
     The regular expression that the diff driver should use to recognize
     the hunk header.  A built-in pattern may also be used.  See
     gitattributes(5) for details.

diff.<driver>.binary
     Set this option to true to make the diff driver treat files as
     binary.  See gitattributes(5) for details.

diff.<driver>.textconv
     The command that the diff driver should call to generate the
     text-converted version of a file.  The result of the conversion is
     used to generate a human-readable diff.  See gitattributes(5) for
     details.

diff.<driver>.wordRegex
     The regular expression that the diff driver should use to split
     words in a line.  See gitattributes(5) for details.

diff.<driver>.cachetextconv
     Set this option to true to make the diff driver cache the text
     conversion outputs.  See gitattributes(5) for details.

diff.tool
     Controls which diff tool is used by git-difftool(1).  This variable
     overrides the value configured in ‘merge.tool’.  The list below
     shows the valid built-in values.  Any other value is treated as a
     custom diff tool and requires that a corresponding
     difftool.<tool>.cmd variable is defined.

diff.guitool
     Controls which diff tool is used by git-difftool(1) when the
     -g/–gui flag is specified.  This variable overrides the value
     configured in ‘merge.guitool’.  The list below shows the valid
     built-in values.  Any other value is treated as a custom diff tool
     and requires that a corresponding difftool.<guitool>.cmd variable
     is defined.

        • araxis

        • bc

        • bc3

        • bc4

        • codecompare

        • deltawalker

        • diffmerge

        • diffuse

        • ecmerge

        • emerge

        • examdiff

        • guiffy

        • gvimdiff

        • gvimdiff1

        • gvimdiff2

        • gvimdiff3

        • kdiff3

        • kompare

        • meld

        • nvimdiff

        • nvimdiff1

        • nvimdiff2

        • nvimdiff3

        • opendiff

        • p4merge

        • smerge

        • tkdiff

        • vimdiff

        • vimdiff1

        • vimdiff2

        • vimdiff3

        • winmerge

        • xxdiff

diff.indentHeuristic
     Set this option to ‘false’ to disable the default heuristics that
     shift diff hunk boundaries to make patches easier to read.

diff.algorithm
     Choose a diff algorithm.  The variants are as follows:

     ‘default’, ‘myers’
          The basic greedy diff algorithm.  Currently, this is the
          default.

     ‘minimal’
          Spend extra time to make sure the smallest possible diff is
          produced.

     ‘patience’
          Use "patience diff" algorithm when generating patches.

     ‘histogram’
          This algorithm extends the patience algorithm to "support
          low-occurrence common elements".

diff.wsErrorHighlight
     Highlight whitespace errors in the ‘context’, ‘old’ or ‘new’ lines
     of the diff.  Multiple values are separated by comma, ‘none’ resets
     previous values, ‘default’ reset the list to ‘new’ and ‘all’ is a
     shorthand for ‘old,new,context’.  The whitespace errors are colored
     with ‘color.diff.whitespace’.  The command line option
     ‘--ws-error-highlight=<kind>’ overrides this setting.

diff.colorMoved
     If set to either a valid ‘<mode>’ or a true value, moved lines in a
     diff are colored differently, for details of valid modes see
     _–color-moved_ in git-diff(1).  If simply set to true the default
     color mode will be used.  When set to false, moved lines are not
     colored.

diff.colorMovedWS
     When moved lines are colored using e.g.  the ‘diff.colorMoved’
     setting, this option controls the ‘<mode>’ how spaces are treated
     for details of valid modes see _–color-moved-ws_ in git-diff(1).

difftool.<tool>.path
     Override the path for the given tool.  This is useful in case your
     tool is not in the PATH.

difftool.<tool>.cmd
     Specify the command to invoke the specified diff tool.  The
     specified command is evaluated in shell with the following
     variables available: _LOCAL_ is set to the name of the temporary
     file containing the contents of the diff pre-image and _REMOTE_ is
     set to the name of the temporary file containing the contents of
     the diff post-image.

difftool.prompt
     Prompt before each invocation of the diff tool.

extensions.objectFormat
     Specify the hash algorithm to use.  The acceptable values are
     ‘sha1’ and ‘sha256’.  If not specified, ‘sha1’ is assumed.  It is
     an error to specify this key unless ‘core.repositoryFormatVersion’
     is 1.

     Note that this setting should only be set by git-init(1) or
     git-clone(1).  Trying to change it after initialization will not
     work and will produce hard-to-diagnose issues.

fastimport.unpackLimit
     If the number of objects imported by git-fast-import(1) is below
     this limit, then the objects will be unpacked into loose object
     files.  However if the number of imported objects equals or exceeds
     this limit then the pack will be stored as a pack.  Storing the
     pack from a fast-import can make the import operation complete
     faster, especially on slow filesystems.  If not set, the value of
     ‘transfer.unpackLimit’ is used instead.

feature.*
     The config settings that start with ‘feature.’ modify the defaults
     of a group of other config settings.  These groups are created by
     the Git developer community as recommended defaults and are subject
     to change.  In particular, new config options may be added with
     different defaults.

feature.experimental
     Enable config options that are new to Git, and are being considered
     for future defaults.  Config settings included here may be added or
     removed with each release, including minor version updates.  These
     settings may have unintended interactions since they are so new.
     Please enable this setting if you are interested in providing
     feedback on experimental features.  The new default values are:

        • ‘fetch.negotiationAlgorithm=skipping’ may improve fetch
          negotiation times by skipping more commits at a time, reducing
          the number of round trips.

feature.manyFiles
     Enable config options that optimize for repos with many files in
     the working directory.  With many files, commands such as ‘git
     status’ and ‘git checkout’ may be slow and these new defaults
     improve performance:

        • ‘index.version=4’ enables path-prefix compression in the
          index.

        • ‘core.untrackedCache=true’ enables the untracked cache.  This
          setting assumes that mtime is working on your machine.

fetch.recurseSubmodules
     This option controls whether ‘git fetch’ (and the underlying fetch
     in ‘git pull’) will recursively fetch into populated submodules.
     This option can be set either to a boolean value or to _on-demand_.
     Setting it to a boolean changes the behavior of fetch and pull to
     recurse unconditionally into submodules when set to true or to not
     recurse at all when set to false.  When set to _on-demand_, fetch
     and pull will only recurse into a populated submodule when its
     superproject retrieves a commit that updates the submodule’s
     reference.  Defaults to _on-demand_, or to the value of
     _submodule.recurse_ if set.

fetch.fsckObjects
     If it is set to true, git-fetch-pack will check all fetched
     objects.  See ‘transfer.fsckObjects’ for what’s checked.  Defaults
     to false.  If not set, the value of ‘transfer.fsckObjects’ is used
     instead.

fetch.fsck.<msg-id>
     Acts like ‘fsck.<msg-id>’, but is used by git-fetch-pack(1) instead
     of git-fsck(1).  See the ‘fsck.<msg-id>’ documentation for details.

fetch.fsck.skipList
     Acts like ‘fsck.skipList’, but is used by git-fetch-pack(1) instead
     of git-fsck(1).  See the ‘fsck.skipList’ documentation for details.

fetch.unpackLimit
     If the number of objects fetched over the Git native transfer is
     below this limit, then the objects will be unpacked into loose
     object files.  However if the number of received objects equals or
     exceeds this limit then the received pack will be stored as a pack,
     after adding any missing delta bases.  Storing the pack from a push
     can make the push operation complete faster, especially on slow
     filesystems.  If not set, the value of ‘transfer.unpackLimit’ is
     used instead.

fetch.prune
     If true, fetch will automatically behave as if the ‘--prune’ option
     was given on the command line.  See also ‘remote.<name>.prune’ and
     the PRUNING section of git-fetch(1).

fetch.pruneTags
     If true, fetch will automatically behave as if the
     ‘refs/tags/*:refs/tags/*’ refspec was provided when pruning, if not
     set already.  This allows for setting both this option and
     ‘fetch.prune’ to maintain a 1=1 mapping to upstream refs.  See also
     ‘remote.<name>.pruneTags’ and the PRUNING section of git-fetch(1).

fetch.output
     Control how ref update status is printed.  Valid values are ‘full’
     and ‘compact’.  Default value is ‘full’.  See section OUTPUT in
     git-fetch(1) for detail.

fetch.negotiationAlgorithm
     Control how information about the commits in the local repository
     is sent when negotiating the contents of the packfile to be sent by
     the server.  Set to "skipping" to use an algorithm that skips
     commits in an effort to converge faster, but may result in a
     larger-than-necessary packfile; or set to "noop" to not send any
     information at all, which will almost certainly result in a
     larger-than-necessary packfile, but will skip the negotiation step.
     The default is "default" which instructs Git to use the default
     algorithm that never skips commits (unless the server has
     acknowledged it or one of its descendants).  If
     ‘feature.experimental’ is enabled, then this setting defaults to
     "skipping".  Unknown values will cause _git fetch_ to error out.

     See also the ‘--negotiate-only’ and ‘--negotiation-tip’ options to
     git-fetch(1).

fetch.showForcedUpdates
     Set to false to enable ‘--no-show-forced-updates’ in git-fetch(1)
     and git-pull(1) commands.  Defaults to true.

fetch.parallel
     Specifies the maximal number of fetch operations to be run in
     parallel at a time (submodules, or remotes when the ‘--multiple’
     option of git-fetch(1) is in effect).

     A value of 0 will give some reasonable default.  If unset, it
     defaults to 1.

     For submodules, this setting can be overridden using the
     ‘submodule.fetchJobs’ config setting.

fetch.writeCommitGraph
     Set to true to write a commit-graph after every ‘git fetch’ command
     that downloads a pack-file from a remote.  Using the ‘--split’
     option, most executions will create a very small commit-graph file
     on top of the existing commit-graph file(s).  Occasionally, these
     files will merge and the write may take longer.  Having an updated
     commit-graph file helps performance of many Git commands, including
     ‘git merge-base’, ‘git push -f’, and ‘git log --graph’.  Defaults
     to false.

format.attach
     Enable multipart/mixed attachments as the default for
     _format-patch_.  The value can also be a double quoted string which
     will enable attachments as the default and set the value as the
     boundary.  See the –attach option in git-format-patch(1).

format.from
     Provides the default value for the ‘--from’ option to format-patch.
     Accepts a boolean value, or a name and email address.  If false,
     format-patch defaults to ‘--no-from’, using commit authors directly
     in the "From:" field of patch mails.  If true, format-patch
     defaults to ‘--from’, using your committer identity in the "From:"
     field of patch mails and including a "From:" field in the body of
     the patch mail if different.  If set to a non-boolean value,
     format-patch uses that value instead of your committer identity.
     Defaults to false.

format.numbered
     A boolean which can enable or disable sequence numbers in patch
     subjects.  It defaults to "auto" which enables it only if there is
     more than one patch.  It can be enabled or disabled for all
     messages by setting it to "true" or "false".  See –numbered option
     in git-format-patch(1).

format.headers
     Additional email headers to include in a patch to be submitted by
     mail.  See git-format-patch(1).

format.to
format.cc
     Additional recipients to include in a patch to be submitted by
     mail.  See the –to and –cc options in git-format-patch(1).

format.subjectPrefix
     The default for format-patch is to output files with the _[PATCH]_
     subject prefix.  Use this variable to change that prefix.

format.coverFromDescription
     The default mode for format-patch to determine which parts of the
     cover letter will be populated using the branch’s description.  See
     the ‘--cover-from-description’ option in git-format-patch(1).

format.signature
     The default for format-patch is to output a signature containing
     the Git version number.  Use this variable to change that default.
     Set this variable to the empty string ("") to suppress signature
     generation.

format.signatureFile
     Works just like format.signature except the contents of the file
     specified by this variable will be used as the signature.

format.suffix
     The default for format-patch is to output files with the suffix
     ‘.patch’.  Use this variable to change that suffix (make sure to
     include the dot if you want it).

format.encodeEmailHeaders
     Encode email headers that have non-ASCII characters with
     "Q-encoding" (described in RFC 2047) for email transmission.
     Defaults to true.

format.pretty
     The default pretty format for log/show/whatchanged command, See
     git-log(1), git-show(1), git-whatchanged(1).

format.thread
     The default threading style for _git format-patch_.  Can be a
     boolean value, or ‘shallow’ or ‘deep’.  ‘shallow’ threading makes
     every mail a reply to the head of the series, where the head is
     chosen from the cover letter, the ‘--in-reply-to’, and the first
     patch mail, in this order.  ‘deep’ threading makes every mail a
     reply to the previous one.  A true boolean value is the same as
     ‘shallow’, and a false value disables threading.

format.signOff
     A boolean value which lets you enable the ‘-s/--signoff’ option of
     format-patch by default.  *Note:* Adding the ‘Signed-off-by’
     trailer to a patch should be a conscious act and means that you
     certify you have the rights to submit this work under the same open
     source license.  Please see the _SubmittingPatches_ document for
     further discussion.

format.coverLetter
     A boolean that controls whether to generate a cover-letter when
     format-patch is invoked, but in addition can be set to "auto", to
     generate a cover-letter only when there’s more than one patch.
     Default is false.

format.outputDirectory
     Set a custom directory to store the resulting files instead of the
     current working directory.  All directory components will be
     created.

format.filenameMaxLength
     The maximum length of the output filenames generated by the
     ‘format-patch’ command; defaults to 64.  Can be overridden by the
     ‘--filename-max-length=<n>’ command line option.

format.useAutoBase
     A boolean value which lets you enable the ‘--base=auto’ option of
     format-patch by default.  Can also be set to "whenAble" to allow
     enabling ‘--base=auto’ if a suitable base is available, but to skip
     adding base info otherwise without the format dying.

format.notes
     Provides the default value for the ‘--notes’ option to
     format-patch.  Accepts a boolean value, or a ref which specifies
     where to get notes.  If false, format-patch defaults to
     ‘--no-notes’.  If true, format-patch defaults to ‘--notes’.  If set
     to a non-boolean value, format-patch defaults to ‘--notes=<ref>’,
     where ‘ref’ is the non-boolean value.  Defaults to false.

     If one wishes to use the ref ‘ref/notes/true’, please use that
     literal instead.

     This configuration can be specified multiple times in order to
     allow multiple notes refs to be included.  In that case, it will
     behave similarly to multiple ‘--[no-]notes[=]’ options passed in.
     That is, a value of ‘true’ will show the default notes, a value of
     ‘<ref>’ will also show notes from that notes ref and a value of
     ‘false’ will negate previous configurations and not show notes.

     For example,

          [format]
                  notes = true
                  notes = foo
                  notes = false
                  notes = bar

     will only show notes from ‘refs/notes/bar’.

filter.<driver>.clean
     The command which is used to convert the content of a worktree file
     to a blob upon checkin.  See gitattributes(5) for details.

filter.<driver>.smudge
     The command which is used to convert the content of a blob object
     to a worktree file upon checkout.  See gitattributes(5) for
     details.

fsck.<msg-id>
     fsck中に、gitは、現在のバージョンのgitでは生成されず、
     ‘transfer.fsckObjects’ が設定されている場合はネットワーク経由で送信
     されない、レガシーデータの問題を検出する場合があります。この機能は
     、そのようなデータを含むレガシーリポジトリの操作をサポートすること
     を目的としています。

     ‘fsck.<msg-id>’ 設定は、 git-fsck(1) によって取得されますが、代わり
     に、そのようなデータセット ‘receive.fsck.<msg-id>’ のプッシュを受け
     入れるか、または、クローンまたはフェッチのセットである
     ‘fetch.fsck.<msg-id>’ を使用します。

     この文書の残りの部分では、簡潔にするために ‘fsck.*’ 変数について説
     明していますが、対応する ‘receive.fsck.*’ 変数と ‘fetch.<msg-id>.*’
     変数にも同じことが当てはまります。

     ‘color.ui’ や ‘core.editor’ のような変数とは異なり、
     ‘receive.fsck.<msg-id>’ と ‘fetch.fsck.<msg-id>’ 変数は、設定されて
     いない場合、 ‘fsck.<msg-id>’ 構成にフォールバックしません。さまざま
     な状況で同じfsck設定を均一に構成するには、3つすべてを同じ値に設定す
     る必要があります。

     ‘fsck.<msg-id>’ が設定されている場合、 ‘fsck.<msg-id>’ の値を
     ‘error’ 、 ‘warn’ 、‘ignore’ のいずれか一つとすることにより、エラー
     を警告に切り替える事もでき、その逆も可能です。そして ‘<msg-id>’ の
     部分はメッセージIDです。便利なように、fsckはエラー/警告メッセージの
     前にメッセージIDを付けます。たとえば「missingEmail: invalid
     author/committer line - missing email」は、 ‘fsck.missingEmail =
     ignore’ を設定するとその問題が非表示になることを意味します。

     一般に、これらの問題のあるオブジェクトが共有する破損の種類をリスト
     して無視するのではなく、 ‘fsck.skipList’ に問題のある既存のオブジェ
     クトを列挙することをお勧めします。前者を実行すると、同じ破損の新し
     いインスタンスが見過ごされる可能性があります。

     不明な ‘fsck.<msg-id>’ 値を設定すると、fsckが停止(die)しますが、
     ‘receive.fsck.<msg-id>’ や ‘fetch.fsck.<msg-id>’ に対して同じことを
     行うと、gitは単に警告するだけです。

fsck.skipList
     非致命的な理由により既に壊れている(broken)ことが分かっているため無
     視する必要があるオブジェクト名(1行につき1つの省略されてないSHA-1)の
     リストへのパス。Git 2.20 以降では、コメント(‘#’)文字から行末までと
     、空行と、先頭と末尾の空白(whitespace)は無視されます。それより古い
     バージョンでは1行につき1つのSHA-1以外は全てエラーになります。

     この機能は、無効なコミッターの電子メールアドレスなど、初期のコミッ
     トにもかかわらず、安全に無視できるエラーを含む、確立されたプロジェ
     クトを受け入れる必要がある場合に役立ちます。 注意: この設定では、
     corruptオブジェクトをスキップすることはできません。

     ‘fsck.<msg-id>’ と同様に、この変数に対応する
     ‘receive.fsck.skipList’ 派生と ‘fetch.fsck.skipList’ 派生があります
     。

     ‘color.ui’ や ‘core.editor’ のような変数とは異なり、
     ‘receive.fsck.skipList’ 変数と ‘fetch.fsck.skipList’ 変数は、設定さ
     れていない場合、 ‘fsck.skipList’ 構成にフォールバックしません。さま
     ざまな状況で同じfsck設定を均一に構成するには、3つすべてを同じ値に設
     定する必要があります。

     古いバージョンのGit(2.20より前)では、オブジェクト名リストを並べ替え
     る必要があることが文書化されています。これは必須ではなく、オブジェ
     クト名は任意の順序で表示できますが、リストを読み取るときに、内部バ
     イナリ検索実装の目的でリストが並べ替えられているかどうかを追跡しま
     した。これにより、既に並べ替えられたリストでは作業を節約できます。
     膨大なリストがない限り、リストを事前に並べ替える必要はありませんで
     した。 Gitバージョン2.20以降では、代わりにハッシュ実装が使用される
     ため、リストを事前に並べ替える必要はありません。

gc.aggressiveDepth
     ‘git gc --aggressive’ で使用されるデルタ圧縮アルゴリズムで使用され
     る深さパラメーター。これはデフォルトで50に設定されています。これは
     ‘--aggressive’ が使用されていない場合の ‘--depth’ オプションのデフ
     ォルトです。

     詳細については git-repack(1) の ‘--depth’ オプションの文書を参照し
     てください。

gc.aggressiveWindow
     ‘git gc --aggressive’ で使用されるデルタ圧縮アルゴリズムで使用され
     るウィンドウサイズパラメータ。これはデフォルトで250に設定されていま
     す。これは、 ‘--window’ のデフォルト値の10よりもはるかに積極的なウ
     ィンドウサイズです。

     詳細については、 git-repack(1) の ‘--window’ オプションの文書を参照
     してください。

gc.auto
     リポジトリにおおよそ指定の値より多くのルーズオブジェクトがある場合
     、 ‘git gc --auto’ はそれらをパックします。一部の磁器コマンドは、こ
     のコマンドを使用して、軽量のガベージコレクションを時々実行します。
     デフォルト値は6700です。

     これを0に設定すると、ルーズオブジェクトの数に基づく自動パッキングが
     無効にななります。また、他のヒューリスティックな ‘git gc --auto’ が
     、 ‘gc.autoPackLimit’ などの作業があるかどうかを判断するためにこの
     値を使用します。

gc.autoPackLimit
     リポジトリに ‘* .keep’ ファイルでマークされていないパックがこの設定
     値より多くある場合、 ‘git gc --auto’ はそれらを1つの大きなパックに
     統合します。デフォルト値は50です。これを0に設定すると、無効になりま
     す。 ‘gc.auto’ を0に設定すると、この設定も無効になります。

     以下の ‘gc.bigPackThreshold’ 構成変数を参照してください。この設定を
     使用中は、自動パックの制限がどのように機能するかに影響します。

gc.autoDetach
     システムがサポートしている場合は ‘git gc --auto’ は即座戻り、実行は
     バックグラウンドで行われます。デフォルトはtrueです。

gc.bigPackThreshold
     ゼロ以外の場合、 ‘git gc’ の実行時に、この設定値より大きいすべての
     パックが保持されます。これは ‘--keep-largest-pack’ と非常に似ていま
     すが、最大のパックだけでなく、しきい値を満たす全てのパックが保持さ
     れる点が異なります。デフォルトはゼロです。 _k_ 、 _m_ 、 _g_ の一般
     的な単位接尾辞がサポートされています。

     注意: 保持されるパックの数が gc.autoPackLimit を超える場合、この構
     成変数は無視され、基本パックを除くすべてのパックが再パックされるこ
     とに注意してください。再パック後、パックの数は gc.autoPackLimit を
     下回り、再び gc.bigPackThreshold が尊重されるでしょう。

     ‘git repack’ がスムーズに実行されると推定されるメモリ量が利用できず
     、かつ、 ‘gc.bigPackThreshold’ が設定されていない場合、最大のパック
     も除外されます(これは、 ‘--keep-largest-pack’ を指定して ‘git gc’ を
     実行するのと同じです)。

gc.writeCommitGraph
     trueの場合、 git-gc(1) が実行されると、 gcはcommit-graphファイルを
     書き換えます。 ‘git gc --auto’ を使用する場合、ハウスキーピングが必
     要な場合はコミットグラフが更新されます。デフォルトはtrueです。詳細
     については git-commit-graph(1) を参照してください。

gc.logExpiry
     ファイルgc.logが存在する場合、 ‘git gc --auto’ はそのコンテンツを出
     力し、そのファイルが「gc.logExpiry」より古い場合を除いて、実行する
     代わりにステータス0で終了します。デフォルトは「1.day」です。その他
     の値の指定方法については ‘gc.pruneExpire’ を参照してください。

gc.packRefs
     リポジトリで ‘git pack-refs’ を実行すると、HTTPなどの馬鹿プロトコル
     (dumb transport) を介して 1.5.1.2 より前のGitバージョンではクローン
     が作成できなくなります。この変数は、「git gc」が「git pack-refs」を
     実行するかどうかを決定します。これを ‘notbare’ に設定して、すべての
     非ベアリポジトリ内で有効にするか、ブール値に設定することができます
     。 デフォルトは ‘true’ です。

gc.pruneExpire
     「git gc」を実行すると、‘prune --expire 2.weeks.ago’ が呼び出されま
     す。この構成変数で猶予期間をオーバーライドします。 値「now」を使用
     してこの猶予期間を無効にし、到達不能なオブジェクトを常にすぐに剪定
     (prune)するか、「never」を使用して剪定を抑制することができます。こ
     の機能は「git gc」がリポジトリに書き込む別のプロセスと同時に実行さ
     れる場合の破損を防ぐのに役立ちます。 git-gc(1) の「NOTES」セクショ
     ンを参照してください。

gc.worktreePruneExpire
     _git gc_ が実行されると、 ‘git worktree prune --expire3.months.ago’
     が呼び出されます。この構成変数を使用して、別の猶予期間を設定できま
     す。値「now」を使用して猶予期間を無効にし、 ‘$GIT_DIR/worktrees’ を
     すぐに剪定(prune)するか、「never」を使用して剪定を抑制することがで
     きます。

gc.reflogExpire
gc.<pattern>.reflogExpire
     「git reflog expire」は、この時間より古いreflogエントリを削除します
     。デフォルトは90日です。値「now」はすべてのエントリをすぐに期限切れ
     にし、「never」は期限切れを完全に抑制します。中央に「<pattern>」(例
     :「refs/stash」)がある場合、設定は <pattern> に一致するrefにのみ適
     用されます。

gc.reflogExpireUnreachable
gc.<pattern>.reflogExpireUnreachable
     _git reflog expire_ は、この時間より古いreflogエントリを削除し、現
     在の先端(the current tip)から到達不能にします。デフォルトは30日です
     。値「now」はすべてのエントリをすぐに期限切れにし、「never」は期限
     切れを完全に抑制します。中央に「<pattern>」(例:「refs/stash」)があ
     る場合、設定は <pattern> に一致するrefにのみ適用されます。

     これらのタイプのエントリは通常、 ‘git commit--amend’ または ‘git
     rebase’ を使用した結果として作成され、修正またはリベースが発生する
     前のコミットです。これらの変更は現在のプロジェクトの一部ではないた
     め、ほとんどのユーザーはそれらをより早く期限切れにしたいと思うでし
     ょう。そのため、デフォルトは ‘gc.reflogExpire’ よりも積極的です。

gc.rerereResolved
     以前に解決した競合するマージの記録は、「git rerere gc」が実行される
     ときに、この設定値で指定の日数保持されます。より人間が読める「
     1.month.ago」などを使用することもできます。デフォルトは60日です。
     git-rerere(1) を参照してください。

gc.rerereUnresolved
     _git rerere gc_ が実行されると、解決していない競合するマージの記録
     がこの設定値の日数保持されます。より人間が読める「1.month.ago」など
     を使用することもできます。デフォルトは15日です。 git-rerere(1) を参
     照してください。

gitcvs.commitMsgAnnotation
     Append this string to each commit message.  Set to empty string to
     disable this feature.  Defaults to "via git-CVS emulator".

gitcvs.enabled
     Whether the CVS server interface is enabled for this repository.
     See git-cvsserver(1).

gitcvs.logFile
     Path to a log file where the CVS server interface well… logs
     various stuff.  See git-cvsserver(1).

gitcvs.usecrlfattr
     If true, the server will look up the end-of-line conversion
     attributes for files to determine the ‘-k’ modes to use.  If the
     attributes force Git to treat a file as text, the ‘-k’ mode will be
     left blank so CVS clients will treat it as text.  If they suppress
     text conversion, the file will be set with _-kb_ mode, which
     suppresses any newline munging the client might otherwise do.  If
     the attributes do not allow the file type to be determined, then
     ‘gitcvs.allBinary’ is used.  See gitattributes(5).

gitcvs.allBinary
     This is used if ‘gitcvs.usecrlfattr’ does not resolve the correct
     _-kb_ mode to use.  If true, all unresolved files are sent to the
     client in mode _-kb_.  This causes the client to treat them as
     binary files, which suppresses any newline munging it otherwise
     might do.  Alternatively, if it is set to "guess", then the
     contents of the file are examined to decide if it is binary,
     similar to ‘core.autocrlf’.

gitcvs.dbName
     Database used by git-cvsserver to cache revision information
     derived from the Git repository.  The exact meaning depends on the
     used database driver, for SQLite (which is the default driver) this
     is a filename.  Supports variable substitution (see
     git-cvsserver(1) for details).  May not contain semicolons (‘;’).
     Default: _%Ggitcvs.%m.sqlite_

gitcvs.dbDriver
     Used Perl DBI driver.  You can specify any available driver for
     this here, but it might not work.  git-cvsserver is tested with
     _DBD::SQLite_, reported to work with _DBD::Pg_, and reported *not*
     to work with _DBD::mysql_.  Experimental feature.  May not contain
     double colons (‘:’).  Default: _SQLite_.  See git-cvsserver(1).

gitcvs.dbUser, gitcvs.dbPass
     Database user and password.  Only useful if setting
     ‘gitcvs.dbDriver’, since SQLite has no concept of database users
     and/or passwords.  _gitcvs.dbUser_ supports variable substitution
     (see git-cvsserver(1) for details).

gitcvs.dbTableNamePrefix
     Database table name prefix.  Prepended to the names of any database
     tables used, allowing a single database to be used for several
     repositories.  Supports variable substitution (see git-cvsserver(1)
     for details).  Any non-alphabetic characters will be replaced with
     underscores.

   All gitcvs variables except for ‘gitcvs.usecrlfattr’ and
‘gitcvs.allBinary’ can also be specified as
_gitcvs.<access_method>.<varname>_ (where _access_method_ is one of
"ext" and "pserver") to make them apply only for the given access
method.

gitweb.category
gitweb.description
gitweb.owner
gitweb.url
     See gitweb(1) for description.

gitweb.avatar
gitweb.blame
gitweb.grep
gitweb.highlight
gitweb.patches
gitweb.pickaxe
gitweb.remote_heads
gitweb.showSizes
gitweb.snapshot
     See gitweb.conf(5) for description.

grep.lineNumber
     If set to true, enable ‘-n’ option by default.

grep.column
     If set to true, enable the ‘--column’ option by default.

grep.patternType
     Set the default matching behavior.  Using a value of _basic_,
     _extended_, _fixed_, or _perl_ will enable the ‘--basic-regexp’,
     ‘--extended-regexp’, ‘--fixed-strings’, or ‘--perl-regexp’ option
     accordingly, while the value _default_ will return to the default
     matching behavior.

grep.extendedRegexp
     If set to true, enable ‘--extended-regexp’ option by default.  This
     option is ignored when the ‘grep.patternType’ option is set to a
     value other than _default_.

grep.threads
     Number of grep worker threads to use.  See ‘grep.threads’ in
     git-grep(1) for more information.

grep.fallbackToNoIndex
     If set to true, fall back to git grep –no-index if git grep is
     executed outside of a git repository.  Defaults to false.

gpg.program
     Use this custom program instead of "‘gpg’" found on ‘$PATH’ when
     making or verifying a PGP signature.  The program must support the
     same command-line interface as GPG, namely, to verify a detached
     signature, "‘gpg --verify $signature - <$file’" is run, and the
     program is expected to signal a good signature by exiting with code
     0, and to generate an ASCII-armored detached signature, the
     standard input of "‘gpg -bsau $key’" is fed with the contents to be
     signed, and the program is expected to send the result to its
     standard output.

gpg.format
     Specifies which key format to use when signing with ‘--gpg-sign’.
     Default is "openpgp" and another possible value is "x509".

gpg.<format>.program
     Use this to customize the program used for the signing format you
     chose.  (see ‘gpg.program’ and ‘gpg.format’) ‘gpg.program’ can
     still be used as a legacy synonym for ‘gpg.openpgp.program’.  The
     default value for ‘gpg.x509.program’ is "gpgsm".

gpg.minTrustLevel
     Specifies a minimum trust level for signature verification.  If
     this option is unset, then signature verification for merge
     operations require a key with at least ‘marginal’ trust.  Other
     operations that perform signature verification require a key with
     at least ‘undefined’ trust.  Setting this option overrides the
     required trust-level for all operations.  Supported values, in
     increasing order of significance:

        • ‘undefined’

        • ‘never’

        • ‘marginal’

        • ‘fully’

        • ‘ultimate’

gui.commitMsgWidth
     Defines how wide the commit message window is in the git-gui(1).
     "75" is the default.

gui.diffContext
     Specifies how many context lines should be used in calls to diff
     made by the git-gui(1).  The default is "5".

gui.displayUntracked
     Determines if git-gui(1) shows untracked files in the file list.
     The default is "true".

gui.encoding
     Specifies the default character encoding to use for displaying of
     file contents in git-gui(1) and gitk(1).  It can be overridden by
     setting the _encoding_ attribute for relevant files (see
     gitattributes(5)).  If this option is not set, the tools default to
     the locale encoding.

gui.matchTrackingBranch
     Determines if new branches created with git-gui(1) should default
     to tracking remote branches with matching names or not.  Default:
     "false".

gui.newBranchTemplate
     Is used as suggested name when creating new branches using the
     git-gui(1).

gui.pruneDuringFetch
     "true" if git-gui(1) should prune remote-tracking branches when
     performing a fetch.  The default value is "false".

gui.trustmtime
     Determines if git-gui(1) should trust the file modification
     timestamp or not.  By default the timestamps are not trusted.

gui.spellingDictionary
     Specifies the dictionary used for spell checking commit messages in
     the git-gui(1).  When set to "none" spell checking is turned off.

gui.fastCopyBlame
     If true, _git gui blame_ uses ‘-C’ instead of ‘-C -C’ for original
     location detection.  It makes blame significantly faster on huge
     repositories at the expense of less thorough copy detection.

gui.copyBlameThreshold
     Specifies the threshold to use in _git gui blame_ original location
     detection, measured in alphanumeric characters.  See the
     git-blame(1) manual for more information on copy detection.

gui.blamehistoryctx
     Specifies the radius of history context in days to show in gitk(1)
     for the selected commit, when the ‘Show History Context’ menu item
     is invoked from _git gui blame_.  If this variable is set to zero,
     the whole history is shown.

guitool.<name>.cmd
     Specifies the shell command line to execute when the corresponding
     item of the git-gui(1) ‘Tools’ menu is invoked.  This option is
     mandatory for every tool.  The command is executed from the root of
     the working directory, and in the environment it receives the name
     of the tool as ‘GIT_GUITOOL’, the name of the currently selected
     file as _FILENAME_, and the name of the current branch as
     _CUR_BRANCH_ (if the head is detached, _CUR_BRANCH_ is empty).

guitool.<name>.needsFile
     Run the tool only if a diff is selected in the GUI. It guarantees
     that _FILENAME_ is not empty.

guitool.<name>.noConsole
     Run the command silently, without creating a window to display its
     output.

guitool.<name>.noRescan
     Don’t rescan the working directory for changes after the tool
     finishes execution.

guitool.<name>.confirm
     Show a confirmation dialog before actually running the tool.

guitool.<name>.argPrompt
     Request a string argument from the user, and pass it to the tool
     through the ‘ARGS’ environment variable.  Since requesting an
     argument implies confirmation, the _confirm_ option has no effect
     if this is enabled.  If the option is set to _true_, _yes_, or _1_,
     the dialog uses a built-in generic prompt; otherwise the exact
     value of the variable is used.

guitool.<name>.revPrompt
     Request a single valid revision from the user, and set the
     ‘REVISION’ environment variable.  In other aspects this option is
     similar to _argPrompt_, and can be used together with it.

guitool.<name>.revUnmerged
     Show only unmerged branches in the _revPrompt_ subdialog.  This is
     useful for tools similar to merge or rebase, but not for things
     like checkout or reset.

guitool.<name>.title
     Specifies the title to use for the prompt dialog.  The default is
     the tool name.

guitool.<name>.prompt
     Specifies the general prompt string to display at the top of the
     dialog, before subsections for _argPrompt_ and _revPrompt_.  The
     default value includes the actual command.

help.browser
     Specify the browser that will be used to display help in the _web_
     format.  See git-help(1).

help.format
     Override the default help format used by git-help(1).  Values
     _man_, _info_, _web_ and _html_ are supported.  _man_ is the
     default.  _web_ and _html_ are the same.

help.autoCorrect
     If git detects typos and can identify exactly one valid command
     similar to the error, git will try to suggest the correct command
     or even run the suggestion automatically.  Possible config values
     are:

        • 0 (default): show the suggested command.  positive number: run
          the suggested command after specified deciseconds (0.1 sec).

        • "immediate": run the suggested command immediately.  "prompt":
          show the suggestion and prompt for confirmation to run the
          command.

        • "never": don’t run or show any suggested command.

help.htmlPath
     Specify the path where the HTML documentation resides.  File system
     paths and URLs are supported.  HTML pages will be prefixed with
     this path when help is displayed in the _web_ format.  This
     defaults to the documentation path of your Git installation.

http.proxy
     Override the HTTP proxy, normally configured using the
     _http_proxy_, _https_proxy_, and _all_proxy_ environment variables
     (see ‘curl(1)’).  In addition to the syntax understood by curl, it
     is possible to specify a proxy string with a user name but no
     password, in which case git will attempt to acquire one in the same
     way it does for other credentials.  See gitcredentials(7) for more
     information.  The syntax thus is
     _[protocol://][user[:password]@]proxyhost[:port]_.  This can be
     overridden on a per-remote basis; see remote.<name>.proxy

http.proxyAuthMethod
     Set the method with which to authenticate against the HTTP proxy.
     This only takes effect if the configured proxy string contains a
     user name part (i.e.  is of the form _user@host_ or
     _user@host:port_).  This can be overridden on a per-remote basis;
     see ‘remote.<name>.proxyAuthMethod’.  Both can be overridden by the
     ‘GIT_HTTP_PROXY_AUTHMETHOD’ environment variable.  Possible values
     are:

        • ‘anyauth’ - Automatically pick a suitable authentication
          method.  It is assumed that the proxy answers an
          unauthenticated request with a 407 status code and one or more
          Proxy-authenticate headers with supported authentication
          methods.  This is the default.

        • ‘basic’ - HTTP Basic authentication

        • ‘digest’ - HTTP Digest authentication; this prevents the
          password from being transmitted to the proxy in clear text

        • ‘negotiate’ - GSS-Negotiate authentication (compare the
          –negotiate option of ‘curl(1)’)

        • ‘ntlm’ - NTLM authentication (compare the –ntlm option of
          ‘curl(1)’)

http.proxySSLCert
     The pathname of a file that stores a client certificate to use to
     authenticate with an HTTPS proxy.  Can be overridden by the
     ‘GIT_PROXY_SSL_CERT’ environment variable.

http.proxySSLKey
     The pathname of a file that stores a private key to use to
     authenticate with an HTTPS proxy.  Can be overridden by the
     ‘GIT_PROXY_SSL_KEY’ environment variable.

http.proxySSLCertPasswordProtected
     Enable Git’s password prompt for the proxy SSL certificate.
     Otherwise OpenSSL will prompt the user, possibly many times, if the
     certificate or private key is encrypted.  Can be overridden by the
     ‘GIT_PROXY_SSL_CERT_PASSWORD_PROTECTED’ environment variable.

http.proxySSLCAInfo
     Pathname to the file containing the certificate bundle that should
     be used to verify the proxy with when using an HTTPS proxy.  Can be
     overridden by the ‘GIT_PROXY_SSL_CAINFO’ environment variable.

http.emptyAuth
     Attempt authentication without seeking a username or password.
     This can be used to attempt GSS-Negotiate authentication without
     specifying a username in the URL, as libcurl normally requires a
     username for authentication.

http.delegation
     Control GSSAPI credential delegation.  The delegation is disabled
     by default in libcurl since version 7.21.7.  Set parameter to tell
     the server what it is allowed to delegate when it comes to user
     credentials.  Used with GSS/kerberos.  Possible values are:

        • ‘none’ - Don’t allow any delegation.

        • ‘policy’ - Delegates if and only if the OK-AS-DELEGATE flag is
          set in the Kerberos service ticket, which is a matter of realm
          policy.

        • ‘always’ - Unconditionally allow the server to delegate.

http.extraHeader
     Pass an additional HTTP header when communicating with a server.
     If more than one such entry exists, all of them are added as extra
     headers.  To allow overriding the settings inherited from the
     system config, an empty value will reset the extra headers to the
     empty list.

http.cookieFile
     The pathname of a file containing previously stored cookie lines,
     which should be used in the Git http session, if they match the
     server.  The file format of the file to read cookies from should be
     plain HTTP headers or the Netscape/Mozilla cookie file format (see
     ‘curl(1)’).  NOTE that the file specified with http.cookieFile is
     used only as input unless http.saveCookies is set.

http.saveCookies
     If set, store cookies received during requests to the file
     specified by http.cookieFile.  Has no effect if http.cookieFile is
     unset.

http.version
     Use the specified HTTP protocol version when communicating with a
     server.  If you want to force the default.  The available and
     default version depend on libcurl.  Currently the possible values
     of this option are:

        • HTTP/2

        • HTTP/1.1

http.sslVersion
     The SSL version to use when negotiating an SSL connection, if you
     want to force the default.  The available and default version
     depend on whether libcurl was built against NSS or OpenSSL and the
     particular configuration of the crypto library in use.  Internally
     this sets the _CURLOPT_SSL_VERSION_ option; see the libcurl
     documentation for more details on the format of this option and for
     the ssl version supported.  Currently the possible values of this
     option are:

        • sslv2

        • sslv3

        • tlsv1

        • tlsv1.0

        • tlsv1.1

        • tlsv1.2

        • tlsv1.3

     Can be overridden by the ‘GIT_SSL_VERSION’ environment variable.
     To force git to use libcurl’s default ssl version and ignore any
     explicit http.sslversion option, set ‘GIT_SSL_VERSION’ to the empty
     string.

http.sslCipherList
     A list of SSL ciphers to use when negotiating an SSL connection.
     The available ciphers depend on whether libcurl was built against
     NSS or OpenSSL and the particular configuration of the crypto
     library in use.  Internally this sets the _CURLOPT_SSL_CIPHER_LIST_
     option; see the libcurl documentation for more details on the
     format of this list.

     Can be overridden by the ‘GIT_SSL_CIPHER_LIST’ environment
     variable.  To force git to use libcurl’s default cipher list and
     ignore any explicit http.sslCipherList option, set
     ‘GIT_SSL_CIPHER_LIST’ to the empty string.

http.sslVerify
     Whether to verify the SSL certificate when fetching or pushing over
     HTTPS. Defaults to true.  Can be overridden by the
     ‘GIT_SSL_NO_VERIFY’ environment variable.

http.sslCert
     File containing the SSL certificate when fetching or pushing over
     HTTPS. Can be overridden by the ‘GIT_SSL_CERT’ environment
     variable.

http.sslKey
     File containing the SSL private key when fetching or pushing over
     HTTPS. Can be overridden by the ‘GIT_SSL_KEY’ environment variable.

http.sslCertPasswordProtected
     Enable Git’s password prompt for the SSL certificate.  Otherwise
     OpenSSL will prompt the user, possibly many times, if the
     certificate or private key is encrypted.  Can be overridden by the
     ‘GIT_SSL_CERT_PASSWORD_PROTECTED’ environment variable.

http.sslCAInfo
     File containing the certificates to verify the peer with when
     fetching or pushing over HTTPS. Can be overridden by the
     ‘GIT_SSL_CAINFO’ environment variable.

http.sslCAPath
     Path containing files with the CA certificates to verify the peer
     with when fetching or pushing over HTTPS. Can be overridden by the
     ‘GIT_SSL_CAPATH’ environment variable.

http.sslBackend
     Name of the SSL backend to use (e.g.  "openssl" or "schannel").
     This option is ignored if cURL lacks support for choosing the SSL
     backend at runtime.

http.schannelCheckRevoke
     Used to enforce or disable certificate revocation checks in cURL
     when http.sslBackend is set to "schannel".  Defaults to ‘true’ if
     unset.  Only necessary to disable this if Git consistently errors
     and the message is about checking the revocation status of a
     certificate.  This option is ignored if cURL lacks support for
     setting the relevant SSL option at runtime.

http.schannelUseSSLCAInfo
     As of cURL v7.60.0, the Secure Channel backend can use the
     certificate bundle provided via ‘http.sslCAInfo’, but that would
     override the Windows Certificate Store.  Since this is not
     desirable by default, Git will tell cURL not to use that bundle by
     default when the ‘schannel’ backend was configured via
     ‘http.sslBackend’, unless ‘http.schannelUseSSLCAInfo’ overrides
     this behavior.

http.pinnedpubkey
     Public key of the https service.  It may either be the filename of
     a PEM or DER encoded public key file or a string starting with
     _sha256//_ followed by the base64 encoded sha256 hash of the public
     key.  See also libcurl _CURLOPT_PINNEDPUBLICKEY_. git will exit
     with an error if this option is set but not supported by cURL.

http.sslTry
     Attempt to use AUTH SSL/TLS and encrypted data transfers when
     connecting via regular FTP protocol.  This might be needed if the
     FTP server requires it for security reasons or you wish to connect
     securely whenever remote FTP server supports it.  Default is false
     since it might trigger certificate verification errors on
     misconfigured servers.

http.maxRequests
     How many HTTP requests to launch in parallel.  Can be overridden by
     the ‘GIT_HTTP_MAX_REQUESTS’ environment variable.  Default is 5.

http.minSessions
     The number of curl sessions (counted across slots) to be kept
     across requests.  They will not be ended with curl_easy_cleanup()
     until http_cleanup() is invoked.  If USE_CURL_MULTI is not defined,
     this value will be capped at 1.  Defaults to 1.

http.postBuffer
     Maximum size in bytes of the buffer used by smart HTTP transports
     when POSTing data to the remote system.  For requests larger than
     this buffer size, HTTP/1.1 and Transfer-Encoding: chunked is used
     to avoid creating a massive pack file locally.  Default is 1 MiB,
     which is sufficient for most requests.

     Note that raising this limit is only effective for disabling
     chunked transfer encoding and therefore should be used only where
     the remote server or a proxy only supports HTTP/1.0 or is
     noncompliant with the HTTP standard.  Raising this is not, in
     general, an effective solution for most push problems, but can
     increase memory consumption significantly since the entire buffer
     is allocated even for small pushes.

http.lowSpeedLimit, http.lowSpeedTime
     If the HTTP transfer speed is less than _http.lowSpeedLimit_ for
     longer than _http.lowSpeedTime_ seconds, the transfer is aborted.
     Can be overridden by the ‘GIT_HTTP_LOW_SPEED_LIMIT’ and
     ‘GIT_HTTP_LOW_SPEED_TIME’ environment variables.

http.noEPSV
     A boolean which disables using of EPSV ftp command by curl.  This
     can helpful with some "poor" ftp servers which don’t support EPSV
     mode.  Can be overridden by the ‘GIT_CURL_FTP_NO_EPSV’ environment
     variable.  Default is false (curl will use EPSV).

http.userAgent
     The HTTP USER_AGENT string presented to an HTTP server.  The
     default value represents the version of the client Git such as
     git/1.7.1.  This option allows you to override this value to a more
     common value such as Mozilla/4.0.  This may be necessary, for
     instance, if connecting through a firewall that restricts HTTP
     connections to a set of common USER_AGENT strings (but not
     including those like git/1.7.1).  Can be overridden by the
     ‘GIT_HTTP_USER_AGENT’ environment variable.

http.followRedirects
     Whether git should follow HTTP redirects.  If set to ‘true’, git
     will transparently follow any redirect issued by a server it
     encounters.  If set to ‘false’, git will treat all redirects as
     errors.  If set to ‘initial’, git will follow redirects only for
     the initial request to a remote, but not for subsequent follow-up
     HTTP requests.  Since git uses the redirected URL as the base for
     the follow-up requests, this is generally sufficient.  The default
     is ‘initial’.

http.<url>.*
     Any of the http.* options above can be applied selectively to some
     URLs.  For a config key to match a URL, each element of the config
     key is compared to that of the URL, in the following order:

       1. Scheme (e.g., ‘https’ in ‘https://example.com/’).  This field
          must match exactly between the config key and the URL.

       2. Host/domain name (e.g., ‘example.com’ in
          ‘https://example.com/’).  This field must match between the
          config key and the URL. It is possible to specify a ‘*’ as
          part of the host name to match all subdomains at this level.
          ‘https://*.example.com/’ for example would match
          ‘https://foo.example.com/’, but not
          ‘https://foo.bar.example.com/’.

       3. Port number (e.g., ‘8080’ in ‘http://example.com:8080/’).
          This field must match exactly between the config key and the
          URL. Omitted port numbers are automatically converted to the
          correct default for the scheme before matching.

       4. Path (e.g., ‘repo.git’ in ‘https://example.com/repo.git’).
          The path field of the config key must match the path field of
          the URL either exactly or as a prefix of slash-delimited path
          elements.  This means a config key with path ‘foo/’ matches
          URL path ‘foo/bar’.  A prefix can only match on a slash (‘/’)
          boundary.  Longer matches take precedence (so a config key
          with path ‘foo/bar’ is a better match to URL path ‘foo/bar’
          than a config key with just path ‘foo/’).

       5. User name (e.g., ‘user’ in
          ‘https://user@example.com/repo.git’).  If the config key has a
          user name it must match the user name in the URL exactly.  If
          the config key does not have a user name, that config key will
          match a URL with any user name (including none), but at a
          lower precedence than a config key with a user name.

     The list above is ordered by decreasing precedence; a URL that
     matches a config key’s path is preferred to one that matches its
     user name.  For example, if the URL is
     ‘https://user@example.com/foo/bar’ a config key match of
     ‘https://example.com/foo’ will be preferred over a config key match
     of ‘https://user@example.com’.

     All URLs are normalized before attempting any matching (the
     password part, if embedded in the URL, is always ignored for
     matching purposes) so that equivalent URLs that are simply spelled
     differently will match properly.  Environment variable settings
     always override any matches.  The URLs that are matched against are
     those given directly to Git commands.  This means any URLs visited
     as a result of a redirection do not participate in matching.

i18n.commitEncoding
     Character encoding the commit messages are stored in; Git itself
     does not care per se, but this information is necessary e.g.  when
     importing commits from emails or in the gitk graphical history
     browser (and possibly at other places in the future or in other
     porcelains).  See e.g.  git-mailinfo(1).  Defaults to _utf-8_.

i18n.logOutputEncoding
     Character encoding the commit messages are converted to when
     running _git log_ and friends.

imap.folder
     メールをドロップするフォルダー。通常はドラフトフォルダーです。 例：
     「INBOX.Drafts」とか「INBOX/Drafts」とか「[Gmail]/Drafts」です。必
     須です。

imap.tunnel
     サーバーへの直接ネットワーク接続を使用する代わりに、コマンドがパイ
     プされるIMAPサーバーへのトンネルをセットアップするために使用される
     コマンド。 imap.host が設定されていない場合に必須です。

imap.host
     サーバーを識別するURL。 非セキュア接続には ‘imap://’ プレフィックス
     を使用し、セキュア接続には ‘imaps://’ プレフィックスを使用します。
     imap.tunnel が設定されている場合は無視されますが、それ以外の場合は
     必須です。

imap.user
     サーバーにログインするときに使用するユーザー名。

imap.pass
     サーバーにログインするときに使用するパスワード。

imap.port
     サーバー上で接続する整数のポート番号。 デフォルトは、 imap:// ホス
     トの場合は143、 imaps:// ホストの場合は993です。 imap.tunnel が設定
     されている場合は無視されます。

imap.sslverify
     SSL/TLS接続で使用されるサーバー証明書の検証を有効/無効にするブール
     値。デフォルトは ‘true’ です。 imap.tunnel が設定されている場合は無
     視されます。

imap.preformattedHTML
     パッチを送信するときにhtmlエンコーディングの使用を有効/無効にするブ
     ール値。 htmlでエンコードされたパッチは <pre> で囲まれ、コンテンツ
     タイプは text/html になります。皮肉なことに、このオプションを有効に
     すると、Thunderbirdはパッチを plane/text の format=fixed メールとし
     て送信します。デフォルトは ‘false’ です。

imap.authMethod
     IMAPサーバーでの認証の認証方法を指定します。GitがNO_CURLオプション
     を使用してビルドされた場合、curlバージョンが7.34.0より古い場合、ま
     たはgit-imap-sendを ‘--no-curl’ オプションを指定して実行している場
     合、サポートされるメソッドは _CRAM-MD5_ のみです。これが設定されて
     いない場合、「git imap-send」は基本的なIMAPプレーンテキストLOGINコ
     マンドを使用します。

index.recordEndOfIndexEntries
     Specifies whether the index file should include an "End Of Index
     Entry" section.  This reduces index load time on multiprocessor
     machines but produces a message "ignoring EOIE extension" when
     reading the index using Git versions before 2.20.  Defaults to
     _true_ if index.threads has been explicitly enabled, _false_
     otherwise.

index.recordOffsetTable
     Specifies whether the index file should include an "Index Entry
     Offset Table" section.  This reduces index load time on
     multiprocessor machines but produces a message "ignoring IEOT
     extension" when reading the index using Git versions before 2.20.
     Defaults to _true_ if index.threads has been explicitly enabled,
     _false_ otherwise.

index.sparse
     When enabled, write the index using sparse-directory entries.  This
     has no effect unless ‘core.sparseCheckout’ and
     ‘core.sparseCheckoutCone’ are both enabled.  Defaults to _false_.

index.threads
     Specifies the number of threads to spawn when loading the index.
     This is meant to reduce index load time on multiprocessor machines.
     Specifying 0 or _true_ will cause Git to auto-detect the number of
     CPU’s and set the number of threads accordingly.  Specifying 1 or
     _false_ will disable multithreading.  Defaults to _true_.

index.version
     Specify the version with which new index files should be
     initialized.  This does not affect existing repositories.  If
     ‘feature.manyFiles’ is enabled, then the default is 4.

init.templateDir
     Specify the directory from which templates will be copied.  (See
     the "TEMPLATE DIRECTORY" section of git-init(1).)

init.defaultBranch
     Allows overriding the default branch name e.g.  when initializing a
     new repository.

instaweb.browser
     Specify the program that will be used to browse your working
     repository in gitweb.  See git-instaweb(1).

instaweb.httpd
     The HTTP daemon command-line to start gitweb on your working
     repository.  See git-instaweb(1).

instaweb.local
     If true the web server started by git-instaweb(1) will be bound to
     the local IP (127.0.0.1).

instaweb.modulePath
     The default module path for git-instaweb(1) to use instead of
     /usr/lib/apache2/modules.  Only used if httpd is Apache.

instaweb.port
     The port number to bind the gitweb httpd to.  See git-instaweb(1).

interactive.singleKey
     In interactive commands, allow the user to provide one-letter input
     with a single key (i.e., without hitting enter).  Currently this is
     used by the ‘--patch’ mode of git-add(1), git-checkout(1),
     git-restore(1), git-commit(1), git-reset(1), and git-stash(1).
     Note that this setting is silently ignored if portable keystroke
     input is not available; requires the Perl module Term::ReadKey.

interactive.diffFilter
     When an interactive command (such as ‘git add --patch’) shows a
     colorized diff, git will pipe the diff through the shell command
     defined by this configuration variable.  The command may mark up
     the diff further for human consumption, provided that it retains a
     one-to-one correspondence with the lines in the original diff.
     Defaults to disabled (no filtering).

log.abbrevCommit
     If true, makes git-log(1), git-show(1), and git-whatchanged(1)
     assume ‘--abbrev-commit’.  You may override this option with
     ‘--no-abbrev-commit’.

log.date
     Set the default date-time mode for the _log_ command.  Setting a
     value for log.date is similar to using _git log_’s ‘--date’ option.
     See git-log(1) for details.

log.decorate
     Print out the ref names of any commits that are shown by the log
     command.  If _short_ is specified, the ref name prefixes
     _refs/heads/_, _refs/tags/_ and _refs/remotes/_ will not be
     printed.  If _full_ is specified, the full ref name (including
     prefix) will be printed.  If _auto_ is specified, then if the
     output is going to a terminal, the ref names are shown as if
     _short_ were given, otherwise no ref names are shown.  This is the
     same as the ‘--decorate’ option of the ‘git log’.

log.excludeDecoration
     Exclude the specified patterns from the log decorations.  This is
     similar to the ‘--decorate-refs-exclude’ command-line option, but
     the config option can be overridden by the ‘--decorate-refs’
     option.

log.diffMerges
     Set default diff format to be used for merge commits.  See
     ‘--diff-merges’ in git-log(1) for details.  Defaults to ‘separate’.

log.follow
     If ‘true’, ‘git log’ will act as if the ‘--follow’ option was used
     when a single <path> is given.  This has the same limitations as
     ‘--follow’, i.e.  it cannot be used to follow multiple files and
     does not work well on non-linear history.

log.graphColors
     A list of colors, separated by commas, that can be used to draw
     history lines in ‘git log --graph’.

log.showRoot
     If true, the initial commit will be shown as a big creation event.
     This is equivalent to a diff against an empty tree.  Tools like
     git-log(1) or git-whatchanged(1), which normally hide the root
     commit will now show it.  True by default.

log.showSignature
     If true, makes git-log(1), git-show(1), and git-whatchanged(1)
     assume ‘--show-signature’.

log.mailmap
     If true, makes git-log(1), git-show(1), and git-whatchanged(1)
     assume ‘--use-mailmap’, otherwise assume ‘--no-use-mailmap’.  True
     by default.

lsrefs.unborn
     May be "advertise" (the default), "allow", or "ignore".  If
     "advertise", the server will respond to the client sending "unborn"
     (as described in protocol-v2.txt) and will advertise support for
     this feature during the protocol v2 capability advertisement.
     "allow" is the same as "advertise" except that the server will not
     advertise support for this feature; this is useful for
     load-balanced servers that cannot be updated atomically (for
     example), since the administrator could configure "allow", then
     after a delay, configure "advertise".

mailinfo.scissors
     trueの場合、 git-mailinfo(1) (それゆえ git-am(1) も)は、コマンドラ
     インで ‘--scissors’ オプションが指定されているかのようにデフォルト
     で動作します。この機能がアクティブな場合、メッセージ本文から切り取
     り線(つまり、主に ">8" や "8<" や "-" で構成される)行とそれより前の
     すべてを削除します。

mailmap.file
     拡張メールマップファイルの場所。リポジトリのルートにあるデフォルト
     のメールマップが最初にロードされ、次にこの変数が指すメールマップフ
     ァイルがロードされます。メールマップファイルの場所は、リポジトリサ
     ブディレクトリ内、またはリポジトリの外部のどこかにあります。
     git-shortlog(1) と git-blame(1) を参照してください。

mailmap.blob
     ‘mailmap.file’ と同様ですが、値をリポジトリ内のブロブへの参照と見な
     します。 ‘mailmap.file’ と ‘mailmap.blob’ の両方が指定されている場
     合、両方が解析され、 ‘mailmap.file’ からのエントリが優先されます。
     この変数は、ベアリポジトリではデフォルトで ‘HEAD:.mailmap’ になりま
     す。非ベアリポジトリでは、デフォルトで空になります。

maintenance.auto
     This boolean config option controls whether some commands run ‘git
     maintenance run --auto’ after doing their normal work.  Defaults to
     true.

maintenance.strategy
     This string config option provides a way to specify one of a few
     recommended schedules for background maintenance.  This only
     affects which tasks are run during ‘git maintenance run
     --schedule=X’ commands, provided no ‘--task=<task>’ arguments are
     provided.  Further, if a ‘maintenance.<task>.schedule’ config value
     is set, then that value is used instead of the one provided by
     ‘maintenance.strategy’.  The possible strategy strings are:

        • ‘none’: This default setting implies no task are run at any
          schedule.

        • ‘incremental’: This setting optimizes for performing small
          maintenance activities that do not delete any data.  This does
          not schedule the ‘gc’ task, but runs the ‘prefetch’ and
          ‘commit-graph’ tasks hourly, the ‘loose-objects’ and
          ‘incremental-repack’ tasks daily, and the ‘pack-refs’ task
          weekly.

maintenance.<task>.enabled
     This boolean config option controls whether the maintenance task
     with name ‘<task>’ is run when no ‘--task’ option is specified to
     ‘git maintenance run’.  These config values are ignored if a
     ‘--task’ option exists.  By default, only ‘maintenance.gc.enabled’
     is true.

maintenance.<task>.schedule
     This config option controls whether or not the given ‘<task>’ runs
     during a ‘git maintenance run --schedule=<frequency>’ command.  The
     value must be one of "hourly", "daily", or "weekly".

maintenance.commit-graph.auto
     This integer config option controls how often the ‘commit-graph’
     task should be run as part of ‘git maintenance run --auto’.  If
     zero, then the ‘commit-graph’ task will not run with the ‘--auto’
     option.  A negative value will force the task to run every time.
     Otherwise, a positive value implies the command should run when the
     number of reachable commits that are not in the commit-graph file
     is at least the value of ‘maintenance.commit-graph.auto’.  The
     default value is 100.

maintenance.loose-objects.auto
     This integer config option controls how often the ‘loose-objects’
     task should be run as part of ‘git maintenance run --auto’.  If
     zero, then the ‘loose-objects’ task will not run with the ‘--auto’
     option.  A negative value will force the task to run every time.
     Otherwise, a positive value implies the command should run when the
     number of loose objects is at least the value of
     ‘maintenance.loose-objects.auto’.  The default value is 100.

maintenance.incremental-repack.auto
     This integer config option controls how often the
     ‘incremental-repack’ task should be run as part of ‘git maintenance
     run --auto’.  If zero, then the ‘incremental-repack’ task will not
     run with the ‘--auto’ option.  A negative value will force the task
     to run every time.  Otherwise, a positive value implies the command
     should run when the number of pack-files not in the
     multi-pack-index is at least the value of
     ‘maintenance.incremental-repack.auto’.  The default value is 10.

man.viewer
     Specify the programs that may be used to display help in the _man_
     format.  See git-help(1).

man.<tool>.cmd
     Specify the command to invoke the specified man viewer.  The
     specified command is evaluated in shell with the man page passed as
     argument.  (See git-help(1).)

man.<tool>.path
     Override the path for the given tool that may be used to display
     help in the _man_ format.  See git-help(1).

merge.conflictStyle
     Specify the style in which conflicted hunks are written out to
     working tree files upon merge.  The default is "merge", which shows
     a ‘<<<<<<<’ conflict marker, changes made by one side, a ‘=======’
     marker, changes made by the other side, and then a ‘>>>>>>>’
     marker.  An alternate style, "diff3", adds a ‘|||||||’ marker and
     the original text before the ‘=======’ marker.

merge.defaultToUpstream
     If merge is called without any commit argument, merge the upstream
     branches configured for the current branch by using their last
     observed values stored in their remote-tracking branches.  The
     values of the ‘branch.<current branch>.merge’ that name the
     branches at the remote named by ‘branch.<current branch>.remote’
     are consulted, and then they are mapped via ‘remote.<remote>.fetch’
     to their corresponding remote-tracking branches, and the tips of
     these tracking branches are merged.  Defaults to true.

merge.ff
     By default, Git does not create an extra merge commit when merging
     a commit that is a descendant of the current commit.  Instead, the
     tip of the current branch is fast-forwarded.  When set to ‘false’,
     this variable tells Git to create an extra merge commit in such a
     case (equivalent to giving the ‘--no-ff’ option from the command
     line).  When set to ‘only’, only such fast-forward merges are
     allowed (equivalent to giving the ‘--ff-only’ option from the
     command line).

merge.verifySignatures
     If true, this is equivalent to the –verify-signatures command line
     option.  See git-merge(1) for details.

merge.branchdesc
     ブランチ名に加えて、それらに関連付けられたブランチの説明テキストを
     ログメッセージに入力します。デフォルトはfalseです。

merge.log
     ブランチ名に加えて、マージされる実際のコミットからの最大「指定の数
     」の親コミットの1行説明をログメッセージに入力します。デフォルトは
     falseで、trueは20の同義語です。

merge.suppressDest
     統合ブランチの名前に一致するグロブをこの複数値の構成変数
     (multi-valued configuration variable)に追加することにより、これらの
     統合ブランチへのマージに対して計算されるデフォルトのマージメッセー
     ジは、タイトルから「into <branch name>」を省略します。

     空の値を持つ要素を使用して、以前の構成エントリから蓄積されたグロブ
     のリストをクリアできます。 ‘merge.suppressDest’ 変数が定義されてい
     ない場合、下位互換性のためにデフォルト値の ‘master’ が使用されます
     。

merge.renameLimit
     The number of files to consider in the exhaustive portion of rename
     detection during a merge.  If not specified, defaults to the value
     of diff.renameLimit.  If neither merge.renameLimit nor
     diff.renameLimit are specified, currently defaults to 7000.  This
     setting has no effect if rename detection is turned off.

merge.renames
     Whether Git detects renames.  If set to "false", rename detection
     is disabled.  If set to "true", basic rename detection is enabled.
     Defaults to the value of diff.renames.

merge.directoryRenames
     Whether Git detects directory renames, affecting what happens at
     merge time to new files added to a directory on one side of history
     when that directory was renamed on the other side of history.  If
     merge.directoryRenames is set to "false", directory rename
     detection is disabled, meaning that such new files will be left
     behind in the old directory.  If set to "true", directory rename
     detection is enabled, meaning that such new files will be moved
     into the new directory.  If set to "conflict", a conflict will be
     reported for such paths.  If merge.renames is false,
     merge.directoryRenames is ignored and treated as false.  Defaults
     to "conflict".

merge.renormalize
     Tell Git that canonical representation of files in the repository
     has changed over time (e.g.  earlier commits record text files with
     CRLF line endings, but recent ones use LF line endings).  In such a
     repository, Git can convert the data recorded in commits to a
     canonical form before performing a merge to reduce unnecessary
     conflicts.  For more information, see section "Merging branches
     with differing checkin/checkout attributes" in gitattributes(5).

merge.stat
     Whether to print the diffstat between ORIG_HEAD and the merge
     result at the end of the merge.  True by default.

merge.autoStash
     When set to true, automatically create a temporary stash entry
     before the operation begins, and apply it after the operation ends.
     This means that you can run merge on a dirty worktree.  However,
     use with care: the final stash application after a successful merge
     might result in non-trivial conflicts.  This option can be
     overridden by the ‘--no-autostash’ and ‘--autostash’ options of
     git-merge(1).  Defaults to false.

merge.tool
     Controls which merge tool is used by git-mergetool(1).  The list
     below shows the valid built-in values.  Any other value is treated
     as a custom merge tool and requires that a corresponding
     mergetool.<tool>.cmd variable is defined.

merge.guitool
     Controls which merge tool is used by git-mergetool(1) when the
     -g/–gui flag is specified.  The list below shows the valid built-in
     values.  Any other value is treated as a custom merge tool and
     requires that a corresponding mergetool.<guitool>.cmd variable is
     defined.

        • araxis

        • bc

        • bc3

        • bc4

        • codecompare

        • deltawalker

        • diffmerge

        • diffuse

        • ecmerge

        • emerge

        • examdiff

        • guiffy

        • gvimdiff

        • gvimdiff1

        • gvimdiff2

        • gvimdiff3

        • kdiff3

        • meld

        • nvimdiff

        • nvimdiff1

        • nvimdiff2

        • nvimdiff3

        • opendiff

        • p4merge

        • smerge

        • tkdiff

        • tortoisemerge

        • vimdiff

        • vimdiff1

        • vimdiff2

        • vimdiff3

        • winmerge

        • xxdiff

merge.verbosity
     Controls the amount of output shown by the recursive merge
     strategy.  Level 0 outputs nothing except a final error message if
     conflicts were detected.  Level 1 outputs only conflicts, 2 outputs
     conflicts and file changes.  Level 5 and above outputs debugging
     information.  The default is level 2.  Can be overridden by the
     ‘GIT_MERGE_VERBOSITY’ environment variable.

merge.<driver>.name
     Defines a human-readable name for a custom low-level merge driver.
     See gitattributes(5) for details.

merge.<driver>.driver
     Defines the command that implements a custom low-level merge
     driver.  See gitattributes(5) for details.

merge.<driver>.recursive
     Names a low-level merge driver to be used when performing an
     internal merge between common ancestors.  See gitattributes(5) for
     details.

mergetool.<tool>.path
     Override the path for the given tool.  This is useful in case your
     tool is not in the PATH.

mergetool.<tool>.cmd
     Specify the command to invoke the specified merge tool.  The
     specified command is evaluated in shell with the following
     variables available: _BASE_ is the name of a temporary file
     containing the common base of the files to be merged, if available;
     _LOCAL_ is the name of a temporary file containing the contents of
     the file on the current branch; _REMOTE_ is the name of a temporary
     file containing the contents of the file from the branch being
     merged; _MERGED_ contains the name of the file to which the merge
     tool should write the results of a successful merge.

mergetool.<tool>.hideResolved
     Allows the user to override the global ‘mergetool.hideResolved’
     value for a specific tool.  See ‘mergetool.hideResolved’ for the
     full description.

mergetool.<tool>.trustExitCode
     For a custom merge command, specify whether the exit code of the
     merge command can be used to determine whether the merge was
     successful.  If this is not set to true then the merge target file
     timestamp is checked and the merge assumed to have been successful
     if the file has been updated, otherwise the user is prompted to
     indicate the success of the merge.

mergetool.meld.hasOutput
     Older versions of ‘meld’ do not support the ‘--output’ option.  Git
     will attempt to detect whether ‘meld’ supports ‘--output’ by
     inspecting the output of ‘meld --help’.  Configuring
     ‘mergetool.meld.hasOutput’ will make Git skip these checks and use
     the configured value instead.  Setting ‘mergetool.meld.hasOutput’
     to ‘true’ tells Git to unconditionally use the ‘--output’ option,
     and ‘false’ avoids using ‘--output’.

mergetool.meld.useAutoMerge
     When the ‘--auto-merge’ is given, meld will merge all
     non-conflicting parts automatically, highlight the conflicting
     parts and wait for user decision.  Setting
     ‘mergetool.meld.useAutoMerge’ to ‘true’ tells Git to
     unconditionally use the ‘--auto-merge’ option with ‘meld’.  Setting
     this value to ‘auto’ makes git detect whether ‘--auto-merge’ is
     supported and will only use ‘--auto-merge’ when available.  A value
     of ‘false’ avoids using ‘--auto-merge’ altogether, and is the
     default value.

mergetool.hideResolved
     During a merge Git will automatically resolve as many conflicts as
     possible and write the _MERGED_ file containing conflict markers
     around any conflicts that it cannot resolve; _LOCAL_ and _REMOTE_
     normally represent the versions of the file from before Git’s
     conflict resolution.  This flag causes _LOCAL_ and _REMOTE_ to be
     overwriten so that only the unresolved conflicts are presented to
     the merge tool.  Can be configured per-tool via the
     ‘mergetool.<tool>.hideResolved’ configuration variable.  Defaults
     to ‘false’.

mergetool.keepBackup
     After performing a merge, the original file with conflict markers
     can be saved as a file with a ‘.orig’ extension.  If this variable
     is set to ‘false’ then this file is not preserved.  Defaults to
     ‘true’ (i.e.  keep the backup files).

mergetool.keepTemporaries
     When invoking a custom merge tool, Git uses a set of temporary
     files to pass to the tool.  If the tool returns an error and this
     variable is set to ‘true’, then these temporary files will be
     preserved, otherwise they will be removed after the tool has
     exited.  Defaults to ‘false’.

mergetool.writeToTemp
     Git writes temporary _BASE_, _LOCAL_, and _REMOTE_ versions of
     conflicting files in the worktree by default.  Git will attempt to
     use a temporary directory for these files when set ‘true’.
     Defaults to ‘false’.

mergetool.prompt
     Prompt before each invocation of the merge resolution program.

notes.mergeStrategy
     Which merge strategy to choose by default when resolving notes
     conflicts.  Must be one of ‘manual’, ‘ours’, ‘theirs’, ‘union’, or
     ‘cat_sort_uniq’.  Defaults to ‘manual’.  See "NOTES MERGE
     STRATEGIES" section of git-notes(1) for more information on each
     strategy.

notes.<name>.mergeStrategy
     Which merge strategy to choose when doing a notes merge into
     refs/notes/<name>.  This overrides the more general
     "notes.mergeStrategy".  See the "NOTES MERGE STRATEGIES" section in
     git-notes(1) for more information on the available strategies.

notes.displayRef
     The (fully qualified) refname from which to show notes when showing
     commit messages.  The value of this variable can be set to a glob,
     in which case notes from all matching refs will be shown.  You may
     also specify this configuration variable several times.  A warning
     will be issued for refs that do not exist, but a glob that does not
     match any refs is silently ignored.

     This setting can be overridden with the ‘GIT_NOTES_DISPLAY_REF’
     environment variable, which must be a colon separated list of refs
     or globs.

     The effective value of "core.notesRef" (possibly overridden by
     GIT_NOTES_REF) is also implicitly added to the list of refs to be
     displayed.

notes.rewrite.<command>
     When rewriting commits with <command> (currently ‘amend’ or
     ‘rebase’) and this variable is set to ‘true’, Git automatically
     copies your notes from the original to the rewritten commit.
     Defaults to ‘true’, but see "notes.rewriteRef" below.

notes.rewriteMode
     When copying notes during a rewrite (see the
     "notes.rewrite.<command>" option), determines what to do if the
     target commit already has a note.  Must be one of ‘overwrite’,
     ‘concatenate’, ‘cat_sort_uniq’, or ‘ignore’.  Defaults to
     ‘concatenate’.

     This setting can be overridden with the ‘GIT_NOTES_REWRITE_MODE’
     environment variable.

notes.rewriteRef
     When copying notes during a rewrite, specifies the (fully
     qualified) ref whose notes should be copied.  The ref may be a
     glob, in which case notes in all matching refs will be copied.  You
     may also specify this configuration several times.

     Does not have a default value; you must configure this variable to
     enable note rewriting.  Set it to ‘refs/notes/commits’ to enable
     rewriting for the default commit notes.

     This setting can be overridden with the ‘GIT_NOTES_REWRITE_REF’
     environment variable, which must be a colon separated list of refs
     or globs.

pack.window
     The size of the window used by git-pack-objects(1) when no window
     size is given on the command line.  Defaults to 10.

pack.depth
     The maximum delta depth used by git-pack-objects(1) when no maximum
     depth is given on the command line.  Defaults to 50.  Maximum value
     is 4095.

pack.windowMemory
     The maximum size of memory that is consumed by each thread in
     git-pack-objects(1) for pack window memory when no limit is given
     on the command line.  The value can be suffixed with "k", "m", or
     "g".  When left unconfigured (or set explicitly to 0), there will
     be no limit.

pack.compression
     An integer -1..9, indicating the compression level for objects in a
     pack file.  -1 is the zlib default.  0 means no compression, and
     1..9 are various speed/size tradeoffs, 9 being slowest.  If not
     set, defaults to core.compression.  If that is not set, defaults to
     -1, the zlib default, which is "a default compromise between speed
     and compression (currently equivalent to level 6)."

     Note that changing the compression level will not automatically
     recompress all existing objects.  You can force recompression by
     passing the -F option to git-repack(1).

pack.allowPackReuse
     When true, and when reachability bitmaps are enabled, pack-objects
     will try to send parts of the bitmapped packfile verbatim.  This
     can reduce memory and CPU usage to serve fetches, but might result
     in sending a slightly larger pack.  Defaults to true.

pack.island
     An extended regular expression configuring a set of delta islands.
     See "DELTA ISLANDS" in git-pack-objects(1) for details.

pack.islandCore
     Specify an island name which gets to have its objects be packed
     first.  This creates a kind of pseudo-pack at the front of one
     pack, so that the objects from the specified island are hopefully
     faster to copy into any pack that should be served to a user
     requesting these objects.  In practice this means that the island
     specified should likely correspond to what is the most commonly
     cloned in the repo.  See also "DELTA ISLANDS" in
     git-pack-objects(1).

pack.deltaCacheSize
     The maximum memory in bytes used for caching deltas in
     git-pack-objects(1) before writing them out to a pack.  This cache
     is used to speed up the writing object phase by not having to
     recompute the final delta result once the best match for all
     objects is found.  Repacking large repositories on machines which
     are tight with memory might be badly impacted by this though,
     especially if this cache pushes the system into swapping.  A value
     of 0 means no limit.  The smallest size of 1 byte may be used to
     virtually disable this cache.  Defaults to 256 MiB.

pack.deltaCacheLimit
     The maximum size of a delta, that is cached in git-pack-objects(1).
     This cache is used to speed up the writing object phase by not
     having to recompute the final delta result once the best match for
     all objects is found.  Defaults to 1000.  Maximum value is 65535.

pack.threads
     Specifies the number of threads to spawn when searching for best
     delta matches.  This requires that git-pack-objects(1) be compiled
     with pthreads otherwise this option is ignored with a warning.
     This is meant to reduce packing time on multiprocessor machines.
     The required amount of memory for the delta search window is
     however multiplied by the number of threads.  Specifying 0 will
     cause Git to auto-detect the number of CPU’s and set the number of
     threads accordingly.

pack.indexVersion
     Specify the default pack index version.  Valid values are 1 for
     legacy pack index used by Git versions prior to 1.5.2, and 2 for
     the new pack index with capabilities for packs larger than 4 GB as
     well as proper protection against the repacking of corrupted packs.
     Version 2 is the default.  Note that version 2 is enforced and this
     config option ignored whenever the corresponding pack is larger
     than 2 GB.

     If you have an old Git that does not understand the version 2
     ‘*.idx’ file, cloning or fetching over a non native protocol (e.g.
     "http") that will copy both ‘*.pack’ file and corresponding ‘*.idx’
     file from the other side may give you a repository that cannot be
     accessed with your older version of Git.  If the ‘*.pack’ file is
     smaller than 2 GB, however, you can use git-index-pack(1) on the
     *.pack file to regenerate the ‘*.idx’ file.

pack.packSizeLimit
     The maximum size of a pack.  This setting only affects packing to a
     file when repacking, i.e.  the git:// protocol is unaffected.  It
     can be overridden by the ‘--max-pack-size’ option of git-repack(1).
     Reaching this limit results in the creation of multiple packfiles.

     Note that this option is rarely useful, and may result in a larger
     total on-disk size (because Git will not store deltas between
     packs), as well as worse runtime performance (object lookup within
     multiple packs is slower than a single pack, and optimizations like
     reachability bitmaps cannot cope with multiple packs).

     If you need to actively run Git using smaller packfiles (e.g.,
     because your filesystem does not support large files), this option
     may help.  But if your goal is to transmit a packfile over a medium
     that supports limited sizes (e.g., removable media that cannot
     store the whole repository), you are likely better off creating a
     single large packfile and splitting it using a generic multi-volume
     archive tool (e.g., Unix ‘split’).

     The minimum size allowed is limited to 1 MiB. The default is
     unlimited.  Common unit suffixes of _k_, _m_, or _g_ are supported.

pack.useBitmaps
     When true, git will use pack bitmaps (if available) when packing to
     stdout (e.g., during the server side of a fetch).  Defaults to
     true.  You should not generally need to turn this off unless you
     are debugging pack bitmaps.

pack.useSparse
     When true, git will default to using the _–sparse_ option in _git
     pack-objects_ when the _–revs_ option is present.  This algorithm
     only walks trees that appear in paths that introduce new objects.
     This can have significant performance benefits when computing a
     pack to send a small change.  However, it is possible that extra
     objects are added to the pack-file if the included commits contain
     certain types of direct renames.  Default is ‘true’.

pack.preferBitmapTips
     When selecting which commits will receive bitmaps, prefer a commit
     at the tip of any reference that is a suffix of any value of this
     configuration over any other commits in the "selection window".

     Note that setting this configuration to ‘refs/foo’ does not mean
     that the commits at the tips of ‘refs/foo/bar’ and ‘refs/foo/baz’
     will necessarily be selected.  This is because commits are selected
     for bitmaps from within a series of windows of variable length.

     If a commit at the tip of any reference which is a suffix of any
     value of this configuration is seen in a window, it is immediately
     given preference over any other commit in that window.

pack.writeBitmaps (deprecated)
     This is a deprecated synonym for ‘repack.writeBitmaps’.

pack.writeBitmapHashCache
     When true, git will include a "hash cache" section in the bitmap
     index (if one is written).  This cache can be used to feed git’s
     delta heuristics, potentially leading to better deltas between
     bitmapped and non-bitmapped objects (e.g., when serving a fetch
     between an older, bitmapped pack and objects that have been pushed
     since the last gc).  The downside is that it consumes 4 bytes per
     object of disk space.  Defaults to true.

pack.writeReverseIndex
     When true, git will write a corresponding .rev file (see:
     Documentation/technical/pack-format.txt
     (../technical/pack-format.html)) for each new packfile that it
     writes in all places except for git-fast-import(1) and in the bulk
     checkin mechanism.  Defaults to false.

pager.<cmd>
     If the value is boolean, turns on or off pagination of the output
     of a particular Git subcommand when writing to a tty.  Otherwise,
     turns on pagination for the subcommand using the pager specified by
     the value of ‘pager.<cmd>’.  If ‘--paginate’ or ‘--no-pager’ is
     specified on the command line, it takes precedence over this
     option.  To disable pagination for all commands, set ‘core.pager’
     or ‘GIT_PAGER’ to ‘cat’.

pretty.<name>
     Alias for a –pretty= format string, as specified in git-log(1).
     Any aliases defined here can be used just as the built-in pretty
     formats could.  For example, running ‘git config pretty.changelog
     "format:* %H %s"’ would cause the invocation ‘git log
     --pretty=changelog’ to be equivalent to running ‘git log
     "--pretty=format:* %H %s"’.  Note that an alias with the same name
     as a built-in format will be silently ignored.

protocol.allow
     設定されている場合は、ポリシーを明示的に持たないすべてのプロトコル
     にユーザー定義のデフォルトポリシーを指定します
     (‘protocol.<name>.allow’)。デフォルトでは、設定されていない場合、既
     知の安全なプロトコル(http、https、git、ssh、file)のデフォルトポリシ
     ーは「always」、既知の危険なプロトコル(ext)のデフォルトポリシーは「
     never」、その他の全てのプロトコルのデフォルトのポリシーは「user」で
     す。サポートされているポリシーは以下です:

        • ‘always’ - プロトコルは常に使用できます。

        • ‘never’ - プロトコルを使用することはできません。

        • ‘user’ - プロトコルは、 ‘GIT_PROTOCOL_FROM_USER’ が設定されて
          いないか、値が ‘1’ の場合にのみ使用できます。このポリシーは、
          プロトコルをユーザーが直接使用できるようにしたいが、ユーザー入
          力なしの clone/fetch/push を実行するコマンドでは使用したくない
          場合(たとえば再帰的なsubmoduleの初期化の場合)、設定しなければ
          なりません。

protocol.<name>.allow
     clone/fetch/push コマンドでプロトコル ‘<name>’ が使用するポリシーを
     設定します。 使用可能なポリシーについては、上記の「protocol.allow」
     を参照してください。

     現在gitで使用されているプロトコル名はイカのとおりです:

        • ‘file’: 任意のローカルファイルベースのパス( ‘file://’ URL また
          は ローカルパス を含む)

        • ‘git’: 直接TCP接続(または構成されている場合はプロキシ)を介した
          匿名のgitプロトコル

        • ‘ssh’: sshプロトコルの上で動くgitプロトコル( ‘host:path’ 書式
          や ‘ssh://’ 等を含む)

        • ‘http’: httpプロトコルの上で動くgitプロトコル。「スマート
          http」と「ダムhttp」の両方です。両方を構成する場合は、個別に構
          成する必要があります。注意:これには ‘https’ は含まれないことに
          注意してください。

        • 外部ヘルパーはそれらのプロトコルによる名前が付けられます(たと
          えば、 ‘hg’ というプロトコルを指定したら ‘git-remote-hg’ ヘル
          パーを許可します)

protocol.version
     設定されている場合、クライアントは指定されたプロトコルバージョンを
     使用してサーバーとの通信を試みます。サーバーがサポートしていない場
     合、通信はバージョン0にフォールバックします。設定されていない場合、
     デフォルトは「2」です。 サポートされているバージョンは以下です:

        • ‘0’ - 独自のワイヤープロトコル

        • ‘1’ - サーバーからの初期応答にバージョン文字列が追加された独自
          のワイヤープロトコル。

        • ‘2’ - wire protocol version 2 (technical/protocol-v2.html)

pull.ff
     By default, Git does not create an extra merge commit when merging
     a commit that is a descendant of the current commit.  Instead, the
     tip of the current branch is fast-forwarded.  When set to ‘false’,
     this variable tells Git to create an extra merge commit in such a
     case (equivalent to giving the ‘--no-ff’ option from the command
     line).  When set to ‘only’, only such fast-forward merges are
     allowed (equivalent to giving the ‘--ff-only’ option from the
     command line).  This setting overrides ‘merge.ff’ when pulling.

pull.rebase
     When true, rebase branches on top of the fetched branch, instead of
     merging the default branch from the default remote when "git pull"
     is run.  See "branch.<name>.rebase" for setting this on a
     per-branch basis.

     When ‘merges’ (or just _m_), pass the ‘--rebase-merges’ option to
     _git rebase_ so that the local merge commits are included in the
     rebase (see git-rebase(1) for details).

     When ‘preserve’ (or just _p_, deprecated in favor of ‘merges’),
     also pass ‘--preserve-merges’ along to _git rebase_ so that locally
     committed merge commits will not be flattened by running _git
     pull_.

     When the value is ‘interactive’ (or just _i_), the rebase is run in
     interactive mode.

     *NOTE*: this is a possibly dangerous operation; do *not* use it
     unless you understand the implications (see git-rebase(1) for
     details).

pull.octopus
     The default merge strategy to use when pulling multiple branches at
     once.

pull.twohead
     The default merge strategy to use when pulling a single branch.

push.default
     Defines the action ‘git push’ should take if no refspec is given
     (whether from the command-line, config, or elsewhere).  Different
     values are well-suited for specific workflows; for instance, in a
     purely central workflow (i.e.  the fetch source is equal to the
     push destination), ‘upstream’ is probably what you want.  Possible
     values are:

        • ‘nothing’ - do not push anything (error out) unless a refspec
          is given.  This is primarily meant for people who want to
          avoid mistakes by always being explicit.

        • ‘current’ - push the current branch to update a branch with
          the same name on the receiving end.  Works in both central and
          non-central workflows.

        • ‘upstream’ - push the current branch back to the branch whose
          changes are usually integrated into the current branch (which
          is called ‘@{upstream}’).  This mode only makes sense if you
          are pushing to the same repository you would normally pull
          from (i.e.  central workflow).

        • ‘tracking’ - This is a deprecated synonym for ‘upstream’.

        • ‘simple’ - pushes the current branch with the same name on the
          remote.

          If you are working on a centralized workflow (pushing to the
          same repository you pull from, which is typically ‘origin’),
          then you need to configure an upstream branch with the same
          name.

          This mode is the default since Git 2.0, and is the safest
          option suited for beginners.

        • ‘matching’ - push all branches having the same name on both
          ends.  This makes the repository you are pushing to remember
          the set of branches that will be pushed out (e.g.  if you
          always push _maint_ and _master_ there and no other branches,
          the repository you push to will have these two branches, and
          your local _maint_ and _master_ will be pushed there).

          To use this mode effectively, you have to make sure _all_ the
          branches you would push out are ready to be pushed out before
          running _git push_, as the whole point of this mode is to
          allow you to push all of the branches in one go.  If you
          usually finish work on only one branch and push out the
          result, while other branches are unfinished, this mode is not
          for you.  Also this mode is not suitable for pushing into a
          shared central repository, as other people may add new
          branches there, or update the tip of existing branches outside
          your control.

          This used to be the default, but not since Git 2.0 (‘simple’
          is the new default).

push.followTags
     If set to true enable ‘--follow-tags’ option by default.  You may
     override this configuration at time of push by specifying
     ‘--no-follow-tags’.

push.gpgSign
     May be set to a boolean value, or the string _if-asked_.  A true
     value causes all pushes to be GPG signed, as if ‘--signed’ is
     passed to git-push(1).  The string _if-asked_ causes pushes to be
     signed if the server supports it, as if ‘--signed=if-asked’ is
     passed to _git push_.  A false value may override a value from a
     lower-priority config file.  An explicit command-line flag always
     overrides this config option.

push.pushOption
     When no ‘--push-option=<option>’ argument is given from the command
     line, ‘git push’ behaves as if each <value> of this variable is
     given as ‘--push-option=<value>’.

     This is a multi-valued variable, and an empty value can be used in
     a higher priority configuration file (e.g.  ‘.git/config’ in a
     repository) to clear the values inherited from a lower priority
     configuration files (e.g.  ‘$HOME/.gitconfig’).

          Example:

          /etc/gitconfig
            push.pushoption = a
            push.pushoption = b

          ~/.gitconfig
            push.pushoption = c

          repo/.git/config
            push.pushoption =
            push.pushoption = b

          This will result in only b (a and c are cleared).

push.recurseSubmodules
     Make sure all submodule commits used by the revisions to be pushed
     are available on a remote-tracking branch.  If the value is _check_
     then Git will verify that all submodule commits that changed in the
     revisions to be pushed are available on at least one remote of the
     submodule.  If any commits are missing, the push will be aborted
     and exit with non-zero status.  If the value is _on-demand_ then
     all submodules that changed in the revisions to be pushed will be
     pushed.  If on-demand was not able to push all necessary revisions
     it will also be aborted and exit with non-zero status.  If the
     value is _no_ then default behavior of ignoring submodules when
     pushing is retained.  You may override this configuration at time
     of push by specifying _–recurse-submodules=check|on-demand|no_.  If
     not set, _no_ is used by default, unless _submodule.recurse_ is set
     (in which case a _true_ value means _on-demand_).

push.useForceIfIncludes
     If set to "true", it is equivalent to specifying
     ‘--force-if-includes’ as an option to git-push(1) in the command
     line.  Adding ‘--no-force-if-includes’ at the time of push
     overrides this configuration setting.

push.negotiate
     If set to "true", attempt to reduce the size of the packfile sent
     by rounds of negotiation in which the client and the server attempt
     to find commits in common.  If "false", Git will rely solely on the
     server’s ref advertisement to find commits in common.

rebase.backend
     Default backend to use for rebasing.  Possible choices are _apply_
     or _merge_.  In the future, if the merge backend gains all
     remaining capabilities of the apply backend, this setting may
     become unused.

rebase.stat
     Whether to show a diffstat of what changed upstream since the last
     rebase.  False by default.

rebase.autoSquash
     If set to true enable ‘--autosquash’ option by default.

rebase.autoStash
     When set to true, automatically create a temporary stash entry
     before the operation begins, and apply it after the operation ends.
     This means that you can run rebase on a dirty worktree.  However,
     use with care: the final stash application after a successful
     rebase might result in non-trivial conflicts.  This option can be
     overridden by the ‘--no-autostash’ and ‘--autostash’ options of
     git-rebase(1).  Defaults to false.

rebase.missingCommitsCheck
     If set to "warn", git rebase -i will print a warning if some
     commits are removed (e.g.  a line was deleted), however the rebase
     will still proceed.  If set to "error", it will print the previous
     warning and stop the rebase, _git rebase –edit-todo_ can then be
     used to correct the error.  If set to "ignore", no checking is
     done.  To drop a commit without warning or error, use the ‘drop’
     command in the todo list.  Defaults to "ignore".

rebase.instructionFormat
     A format string, as specified in git-log(1), to be used for the
     todo list during an interactive rebase.  The format will
     automatically have the long commit hash prepended to the format.

rebase.abbreviateCommands
     If set to true, ‘git rebase’ will use abbreviated command names in
     the todo list resulting in something like this:

                  p deadbee The oneline of the commit
                  p fa1afe1 The oneline of the next commit
                  ...

     instead of:

                  pick deadbee The oneline of the commit
                  pick fa1afe1 The oneline of the next commit
                  ...

     Defaults to false.

rebase.rescheduleFailedExec
     Automatically reschedule ‘exec’ commands that failed.  This only
     makes sense in interactive mode (or when an ‘--exec’ option was
     provided).  This is the same as specifying the
     ‘--reschedule-failed-exec’ option.

rebase.forkPoint
     If set to false set ‘--no-fork-point’ option by default.

receive.advertiseAtomic
     By default, git-receive-pack will advertise the atomic push
     capability to its clients.  If you don’t want to advertise this
     capability, set this variable to false.

receive.advertisePushOptions
     When set to true, git-receive-pack will advertise the push options
     capability to its clients.  False by default.

receive.autogc
     By default, git-receive-pack will run "git-gc –auto" after
     receiving data from git-push and updating refs.  You can stop it by
     setting this variable to false.

receive.certNonceSeed
     By setting this variable to a string, ‘git receive-pack’ will
     accept a ‘git push --signed’ and verifies it by using a "nonce"
     protected by HMAC using this string as a secret key.

receive.certNonceSlop
     When a ‘git push --signed’ sent a push certificate with a "nonce"
     that was issued by a receive-pack serving the same repository
     within this many seconds, export the "nonce" found in the
     certificate to ‘GIT_PUSH_CERT_NONCE’ to the hooks (instead of what
     the receive-pack asked the sending side to include).  This may
     allow writing checks in ‘pre-receive’ and ‘post-receive’ a bit
     easier.  Instead of checking ‘GIT_PUSH_CERT_NONCE_SLOP’ environment
     variable that records by how many seconds the nonce is stale to
     decide if they want to accept the certificate, they only can check
     ‘GIT_PUSH_CERT_NONCE_STATUS’ is ‘OK’.

receive.fsckObjects
     If it is set to true, git-receive-pack will check all received
     objects.  See ‘transfer.fsckObjects’ for what’s checked.  Defaults
     to false.  If not set, the value of ‘transfer.fsckObjects’ is used
     instead.

receive.fsck.<msg-id>
     Acts like ‘fsck.<msg-id>’, but is used by git-receive-pack(1)
     instead of git-fsck(1).  See the ‘fsck.<msg-id>’ documentation for
     details.

receive.fsck.skipList
     Acts like ‘fsck.skipList’, but is used by git-receive-pack(1)
     instead of git-fsck(1).  See the ‘fsck.skipList’ documentation for
     details.

receive.keepAlive
     After receiving the pack from the client, ‘receive-pack’ may
     produce no output (if ‘--quiet’ was specified) while processing the
     pack, causing some networks to drop the TCP connection.  With this
     option set, if ‘receive-pack’ does not transmit any data in this
     phase for ‘receive.keepAlive’ seconds, it will send a short
     keepalive packet.  The default is 5 seconds; set to 0 to disable
     keepalives entirely.

receive.unpackLimit
     If the number of objects received in a push is below this limit
     then the objects will be unpacked into loose object files.  However
     if the number of received objects equals or exceeds this limit then
     the received pack will be stored as a pack, after adding any
     missing delta bases.  Storing the pack from a push can make the
     push operation complete faster, especially on slow filesystems.  If
     not set, the value of ‘transfer.unpackLimit’ is used instead.

receive.maxInputSize
     If the size of the incoming pack stream is larger than this limit,
     then git-receive-pack will error out, instead of accepting the pack
     file.  If not set or set to 0, then the size is unlimited.

receive.denyDeletes
     If set to true, git-receive-pack will deny a ref update that
     deletes the ref.  Use this to prevent such a ref deletion via a
     push.

receive.denyDeleteCurrent
     If set to true, git-receive-pack will deny a ref update that
     deletes the currently checked out branch of a non-bare repository.

receive.denyCurrentBranch
     If set to true or "refuse", git-receive-pack will deny a ref update
     to the currently checked out branch of a non-bare repository.  Such
     a push is potentially dangerous because it brings the HEAD out of
     sync with the index and working tree.  If set to "warn", print a
     warning of such a push to stderr, but allow the push to proceed.
     If set to false or "ignore", allow such pushes with no message.
     Defaults to "refuse".

     Another option is "updateInstead" which will update the working
     tree if pushing into the current branch.  This option is intended
     for synchronizing working directories when one side is not easily
     accessible via interactive ssh (e.g.  a live web site, hence the
     requirement that the working directory be clean).  This mode also
     comes in handy when developing inside a VM to test and fix code on
     different Operating Systems.

     By default, "updateInstead" will refuse the push if the working
     tree or the index have any difference from the HEAD, but the
     ‘push-to-checkout’ hook can be used to customize this.  See
     githooks(5).

receive.denyNonFastForwards
     If set to true, git-receive-pack will deny a ref update which is
     not a fast-forward.  Use this to prevent such an update via a push,
     even if that push is forced.  This configuration variable is set
     when initializing a shared repository.

receive.hideRefs
     This variable is the same as ‘transfer.hideRefs’, but applies only
     to ‘receive-pack’ (and so affects pushes, but not fetches).  An
     attempt to update or delete a hidden ref by ‘git push’ is rejected.

receive.procReceiveRefs
     This is a multi-valued variable that defines reference prefixes to
     match the commands in ‘receive-pack’.  Commands matching the
     prefixes will be executed by an external hook "proc-receive",
     instead of the internal ‘execute_commands’ function.  If this
     variable is not defined, the "proc-receive" hook will never be
     used, and all commands will be executed by the internal
     ‘execute_commands’ function.

     For example, if this variable is set to "refs/for", pushing to
     reference such as "refs/for/master" will not create or update a
     reference named "refs/for/master", but may create or update a pull
     request directly by running the hook "proc-receive".

     Optional modifiers can be provided in the beginning of the value to
     filter commands for specific actions: create (a), modify (m),
     delete (d).  A ‘!’ can be included in the modifiers to negate the
     reference prefix entry.  E.g.:

          git config --system --add receive.procReceiveRefs ad:refs/heads
          git config --system --add receive.procReceiveRefs !:refs/heads

receive.updateServerInfo
     If set to true, git-receive-pack will run git-update-server-info
     after receiving data from git-push and updating refs.

receive.shallowUpdate
     If set to true, .git/shallow can be updated when new refs require
     new shallow roots.  Otherwise those refs are rejected.

remote.pushDefault
     The remote to push to by default.  Overrides ‘branch.<name>.remote’
     for all branches, and is overridden by ‘branch.<name>.pushRemote’
     for specific branches.

remote.<name>.url
     The URL of a remote repository.  See git-fetch(1) or git-push(1).

remote.<name>.pushurl
     The push URL of a remote repository.  See git-push(1).

remote.<name>.proxy
     For remotes that require curl (http, https and ftp), the URL to the
     proxy to use for that remote.  Set to the empty string to disable
     proxying for that remote.

remote.<name>.proxyAuthMethod
     For remotes that require curl (http, https and ftp), the method to
     use for authenticating against the proxy in use (probably set in
     ‘remote.<name>.proxy’).  See ‘http.proxyAuthMethod’.

remote.<name>.fetch
     The default set of "refspec" for git-fetch(1).  See git-fetch(1).

remote.<name>.push
     The default set of "refspec" for git-push(1).  See git-push(1).

remote.<name>.mirror
     If true, pushing to this remote will automatically behave as if the
     ‘--mirror’ option was given on the command line.

remote.<name>.skipDefaultUpdate
     If true, this remote will be skipped by default when updating using
     git-fetch(1) or the ‘update’ subcommand of git-remote(1).

remote.<name>.skipFetchAll
     If true, this remote will be skipped by default when updating using
     git-fetch(1) or the ‘update’ subcommand of git-remote(1).

remote.<name>.receivepack
     The default program to execute on the remote side when pushing.
     See option –receive-pack of git-push(1).

remote.<name>.uploadpack
     The default program to execute on the remote side when fetching.
     See option –upload-pack of git-fetch-pack(1).

remote.<name>.tagOpt
     Setting this value to –no-tags disables automatic tag following
     when fetching from remote <name>.  Setting it to –tags will fetch
     every tag from remote <name>, even if they are not reachable from
     remote branch heads.  Passing these flags directly to git-fetch(1)
     can override this setting.  See options –tags and –no-tags of
     git-fetch(1).

remote.<name>.vcs
     Setting this to a value <vcs> will cause Git to interact with the
     remote with the git-remote-<vcs> helper.

remote.<name>.prune
     When set to true, fetching from this remote by default will also
     remove any remote-tracking references that no longer exist on the
     remote (as if the ‘--prune’ option was given on the command line).
     Overrides ‘fetch.prune’ settings, if any.

remote.<name>.pruneTags
     When set to true, fetching from this remote by default will also
     remove any local tags that no longer exist on the remote if pruning
     is activated in general via ‘remote.<name>.prune’, ‘fetch.prune’ or
     ‘--prune’.  Overrides ‘fetch.pruneTags’ settings, if any.

     See also ‘remote.<name>.prune’ and the PRUNING section of
     git-fetch(1).

remote.<name>.promisor
     When set to true, this remote will be used to fetch promisor
     objects.

remote.<name>.partialclonefilter
     The filter that will be applied when fetching from this promisor
     remote.

remotes.<group>
     The list of remotes which are fetched by "git remote update
     <group>".  See git-remote(1).

repack.useDeltaBaseOffset
     By default, git-repack(1) creates packs that use delta-base offset.
     If you need to share your repository with Git older than version
     1.4.4, either directly or via a dumb protocol such as http, then
     you need to set this option to "false" and repack.  Access from old
     Git versions over the native protocol are unaffected by this
     option.

repack.packKeptObjects
     If set to true, makes ‘git repack’ act as if ‘--pack-kept-objects’
     was passed.  See git-repack(1) for details.  Defaults to ‘false’
     normally, but ‘true’ if a bitmap index is being written (either via
     ‘--write-bitmap-index’ or ‘repack.writeBitmaps’).

repack.useDeltaIslands
     If set to true, makes ‘git repack’ act as if ‘--delta-islands’ was
     passed.  Defaults to ‘false’.

repack.writeBitmaps
     When true, git will write a bitmap index when packing all objects
     to disk (e.g., when ‘git repack -a’ is run).  This index can speed
     up the "counting objects" phase of subsequent packs created for
     clones and fetches, at the cost of some disk space and extra time
     spent on the initial repack.  This has no effect if multiple
     packfiles are created.  Defaults to true on bare repos, false
     otherwise.

rerere.autoUpdate
     When set to true, ‘git-rerere’ updates the index with the resulting
     contents after it cleanly resolves conflicts using previously
     recorded resolution.  Defaults to false.

rerere.enabled
     Activate recording of resolved conflicts, so that identical
     conflict hunks can be resolved automatically, should they be
     encountered again.  By default, git-rerere(1) is enabled if there
     is an ‘rr-cache’ directory under the ‘$GIT_DIR’, e.g.  if "rerere"
     was previously used in the repository.

reset.quiet
     trueに設定すると、 ‘git reset’ はデフォルトで ‘--quiet’ オプション
     になります。

sendemail.identity
     A configuration identity.  When given, causes values in the
     _sendemail.<identity>_ subsection to take precedence over values in
     the _sendemail_ section.  The default identity is the value of
     ‘sendemail.identity’.

sendemail.smtpEncryption
     See git-send-email(1) for description.  Note that this setting is
     not subject to the _identity_ mechanism.

sendemail.smtpsslcertpath
     Path to ca-certificates (either a directory or a single file).  Set
     it to an empty string to disable certificate verification.

sendemail.<identity>.*
     Identity-specific versions of the _sendemail.*_ parameters found
     below, taking precedence over those when this identity is selected,
     through either the command-line or ‘sendemail.identity’.

sendemail.aliasesFile
sendemail.aliasFileType
sendemail.annotate
sendemail.bcc
sendemail.cc
sendemail.ccCmd
sendemail.chainReplyTo
sendemail.confirm
sendemail.envelopeSender
sendemail.from
sendemail.multiEdit
sendemail.signedoffbycc
sendemail.smtpPass
sendemail.suppresscc
sendemail.suppressFrom
sendemail.to
sendemail.tocmd
sendemail.smtpDomain
sendemail.smtpServer
sendemail.smtpServerPort
sendemail.smtpServerOption
sendemail.smtpUser
sendemail.thread
sendemail.transferEncoding
sendemail.validate
sendemail.xmailer
     See git-send-email(1) for description.

sendemail.signedoffcc (deprecated)
     Deprecated alias for ‘sendemail.signedoffbycc’.

sendemail.smtpBatchSize
     Number of messages to be sent per connection, after that a relogin
     will happen.  If the value is 0 or undefined, send all messages in
     one connection.  See also the ‘--batch-size’ option of
     git-send-email(1).

sendemail.smtpReloginDelay
     Seconds wait before reconnecting to smtp server.  See also the
     ‘--relogin-delay’ option of git-send-email(1).

sendemail.forbidSendmailVariables
     To avoid common misconfiguration mistakes, git-send-email(1) will
     abort with a warning if any configuration options for "sendmail"
     exist.  Set this variable to bypass the check.

sequence.editor
     Text editor used by ‘git rebase -i’ for editing the rebase
     instruction file.  The value is meant to be interpreted by the
     shell when it is used.  It can be overridden by the
     ‘GIT_SEQUENCE_EDITOR’ environment variable.  When not configured
     the default commit message editor is used instead.

showBranch.default
     The default set of branches for git-show-branch(1).  See
     git-show-branch(1).

splitIndex.maxPercentChange
     When the split index feature is used, this specifies the percent of
     entries the split index can contain compared to the total number of
     entries in both the split index and the shared index before a new
     shared index is written.  The value should be between 0 and 100.
     If the value is 0 then a new shared index is always written, if it
     is 100 a new shared index is never written.  By default the value
     is 20, so a new shared index is written if the number of entries in
     the split index would be greater than 20 percent of the total
     number of entries.  See git-update-index(1).

splitIndex.sharedIndexExpire
     When the split index feature is used, shared index files that were
     not modified since the time this variable specifies will be removed
     when a new shared index file is created.  The value "now" expires
     all entries immediately, and "never" suppresses expiration
     altogether.  The default value is "2.weeks.ago".  Note that a
     shared index file is considered modified (for the purpose of
     expiration) each time a new split-index file is either created
     based on it or read from it.  See git-update-index(1).

ssh.variant
     デフォルトでは、Gitは設定されたSSHコマンドのベース名(環境変数
     ‘GIT_SSH’ または環境変数 ‘GIT_SSH_COMMAND’ または構成設定
     ‘core.sshCommand’ を使用して設定)に基づいて使用するコマンドライン引
     数を決定します。ベース名が認識されない場合、Gitは最初に ‘-G’ (print
     configuration)オプションを使用して構成済みのSSHコマンドを呼び出し、
     その後、(成功した場合、)OpenSSHオプションを使用するか、(失敗した場
     合、)hostおよびremoteコマンド以外のオプションを使用しないことで、
     OpenSSHオプションのサポートを検出しようとします。

     構成変数 ‘ssh.variant’ は、この検出をオーバーライドするように設定で
     きます。有効な値は、 ‘ssh’ (OpenSSHオプションを使用する場合)、
     ‘plink’ 、 ‘putty’ 、 ‘tortoiseplink’ 、 ‘simple’ (hostおよび
     remoteコマンド以外のオプションを持っていません)、です。 デフォルト
     の自動検出は、値 ‘auto’ を使用して明示的に要求できます。また、これ
     以外の値は ‘ssh’ として扱われます。この設定は、環境変数
     ‘GIT_SSH_VARIANT’ を介してオーバーライドすることもできます。

     各派生で使用されている現在のコマンドラインパラメータは以下のとおり
     です:

        • ‘ssh’ - [-p port] [-4] [-6] [-o option] [username@]host
          command

        • ‘simple’ - [username@]host command

        • ‘plink’ or ‘putty’ - [-P port] [-4] [-6] [username@]host
          command

        • ‘tortoiseplink’ - [-P port] [-4] [-6] -batch [username@]host
          command

     ‘simple’ 派生を除き、コマンドラインパラメータはgitが新しい機能を取
     得するにつれて変更される可能性があります。

status.relativePaths
     By default, git-status(1) shows paths relative to the current
     directory.  Setting this variable to ‘false’ shows paths relative
     to the repository root (this was the default for Git prior to
     v1.5.4).

status.short
     Set to true to enable –short by default in git-status(1).  The
     option –no-short takes precedence over this variable.

status.branch
     Set to true to enable –branch by default in git-status(1).  The
     option –no-branch takes precedence over this variable.

status.aheadBehind
     Set to true to enable ‘--ahead-behind’ and false to enable
     ‘--no-ahead-behind’ by default in git-status(1) for non-porcelain
     status formats.  Defaults to true.

status.displayCommentPrefix
     If set to true, git-status(1) will insert a comment prefix before
     each output line (starting with ‘core.commentChar’, i.e.  ‘#’ by
     default).  This was the behavior of git-status(1) in Git 1.8.4 and
     previous.  Defaults to false.

status.renameLimit
     The number of files to consider when performing rename detection in
     git-status(1) and git-commit(1).  Defaults to the value of
     diff.renameLimit.

status.renames
     Whether and how Git detects renames in git-status(1) and
     git-commit(1) .  If set to "false", rename detection is disabled.
     If set to "true", basic rename detection is enabled.  If set to
     "copies" or "copy", Git will detect copies, as well.  Defaults to
     the value of diff.renames.

status.showStash
     If set to true, git-status(1) will display the number of entries
     currently stashed away.  Defaults to false.

status.showUntrackedFiles
     By default, git-status(1) and git-commit(1) show files which are
     not currently tracked by Git.  Directories which contain only
     untracked files, are shown with the directory name only.  Showing
     untracked files means that Git needs to lstat() all the files in
     the whole repository, which might be slow on some systems.  So,
     this variable controls how the commands displays the untracked
     files.  Possible values are:

        • ‘no’ - Show no untracked files.

        • ‘normal’ - Show untracked files and directories.

        • ‘all’ - Show also individual files in untracked directories.

     If this variable is not specified, it defaults to _normal_.  This
     variable can be overridden with the -u|–untracked-files option of
     git-status(1) and git-commit(1).

status.submoduleSummary
     Defaults to false.  If this is set to a non zero number or true
     (identical to -1 or an unlimited number), the submodule summary
     will be enabled and a summary of commits for modified submodules
     will be shown (see –summary-limit option of git-submodule(1)).
     Please note that the summary output command will be suppressed for
     all submodules when ‘diff.ignoreSubmodules’ is set to _all_ or only
     for those submodules where ‘submodule.<name>.ignore=all’.  The only
     exception to that rule is that status and commit will show staged
     submodule changes.  To also view the summary for ignored submodules
     you can either use the –ignore-submodules=dirty command-line option
     or the _git submodule summary_ command, which shows a similar
     output but does not honor these settings.

stash.useBuiltin
     Unused configuration variable.  Used in Git versions 2.22 to 2.26
     as an escape hatch to enable the legacy shellscript implementation
     of stash.  Now the built-in rewrite of it in C is always used.
     Setting this will emit a warning, to alert any remaining users that
     setting this now does nothing.

stash.showIncludeUntracked
     If this is set to true, the ‘git stash show’ command will show the
     untracked files of a stash entry.  Defaults to false.  See
     description of _show_ command in git-stash(1).

stash.showPatch
     If this is set to true, the ‘git stash show’ command without an
     option will show the stash entry in patch form.  Defaults to false.
     See description of _show_ command in git-stash(1).

stash.showStat
     If this is set to true, the ‘git stash show’ command without an
     option will show diffstat of the stash entry.  Defaults to true.
     See description of _show_ command in git-stash(1).

submodule.<name>.url
     The URL for a submodule.  This variable is copied from the
     .gitmodules file to the git config via _git submodule init_.  The
     user can change the configured URL before obtaining the submodule
     via _git submodule update_.  If neither submodule.<name>.active or
     submodule.active are set, the presence of this variable is used as
     a fallback to indicate whether the submodule is of interest to git
     commands.  See git-submodule(1) and gitmodules(5) for details.

submodule.<name>.update
     The method by which a submodule is updated by _git submodule
     update_, which is the only affected command, others such as _git
     checkout –recurse-submodules_ are unaffected.  It exists for
     historical reasons, when _git submodule_ was the only command to
     interact with submodules; settings like ‘submodule.active’ and
     ‘pull.rebase’ are more specific.  It is populated by ‘git submodule
     init’ from the gitmodules(5) file.  See description of _update_
     command in git-submodule(1).

submodule.<name>.branch
     The remote branch name for a submodule, used by ‘git submodule
     update --remote’.  Set this option to override the value found in
     the ‘.gitmodules’ file.  See git-submodule(1) and gitmodules(5) for
     details.

submodule.<name>.fetchRecurseSubmodules
     This option can be used to control recursive fetching of this
     submodule.  It can be overridden by using the
     –[no-]recurse-submodules command-line option to "git fetch" and
     "git pull".  This setting will override that from in the
     gitmodules(5) file.

submodule.<name>.ignore
     Defines under what circumstances "git status" and the diff family
     show a submodule as modified.  When set to "all", it will never be
     considered modified (but it will nonetheless show up in the output
     of status and commit when it has been staged), "dirty" will ignore
     all changes to the submodules work tree and takes only differences
     between the HEAD of the submodule and the commit recorded in the
     superproject into account.  "untracked" will additionally let
     submodules with modified tracked files in their work tree show up.
     Using "none" (the default when this option is not set) also shows
     submodules that have untracked files in their work tree as changed.
     This setting overrides any setting made in .gitmodules for this
     submodule, both settings can be overridden on the command line by
     using the "–ignore-submodules" option.  The _git submodule_
     commands are not affected by this setting.

submodule.<name>.active
     Boolean value indicating if the submodule is of interest to git
     commands.  This config option takes precedence over the
     submodule.active config option.  See gitsubmodules(7) for details.

submodule.active
     A repeated field which contains a pathspec used to match against a
     submodule’s path to determine if the submodule is of interest to
     git commands.  See gitsubmodules(7) for details.

submodule.recurse
     A boolean indicating if commands should enable the
     ‘--recurse-submodules’ option by default.  Applies to all commands
     that support this option (‘checkout’, ‘fetch’, ‘grep’, ‘pull’,
     ‘push’, ‘read-tree’, ‘reset’, ‘restore’ and ‘switch’) except
     ‘clone’ and ‘ls-files’.  Defaults to false.  When set to true, it
     can be deactivated via the ‘--no-recurse-submodules’ option.  Note
     that some Git commands lacking this option may call some of the
     above commands affected by ‘submodule.recurse’; for instance ‘git
     remote update’ will call ‘git fetch’ but does not have a
     ‘--no-recurse-submodules’ option.  For these commands a workaround
     is to temporarily change the configuration value by using ‘git -c
     submodule.recurse=0’.

submodule.fetchJobs
     Specifies how many submodules are fetched/cloned at the same time.
     A positive integer allows up to that number of submodules fetched
     in parallel.  A value of 0 will give some reasonable default.  If
     unset, it defaults to 1.

submodule.alternateLocation
     Specifies how the submodules obtain alternates when submodules are
     cloned.  Possible values are ‘no’, ‘superproject’.  By default ‘no’
     is assumed, which doesn’t add references.  When the value is set to
     ‘superproject’ the submodule to be cloned computes its alternates
     location relative to the superprojects alternate.

submodule.alternateErrorStrategy
     Specifies how to treat errors with the alternates for a submodule
     as computed via ‘submodule.alternateLocation’.  Possible values are
     ‘ignore’, ‘info’, ‘die’.  Default is ‘die’.  Note that if set to
     ‘ignore’ or ‘info’, and if there is an error with the computed
     alternate, the clone proceeds as if no alternate was specified.

tag.forceSignAnnotated
     A boolean to specify whether annotated tags created should be GPG
     signed.  If ‘--annotate’ is specified on the command line, it takes
     precedence over this option.

tag.sort
     This variable controls the sort ordering of tags when displayed by
     git-tag(1).  Without the "–sort=<value>" option provided, the value
     of this variable will be used as the default.

tag.gpgSign
     A boolean to specify whether all tags should be GPG signed.  Use of
     this option when running in an automated script can result in a
     large number of tags being signed.  It is therefore convenient to
     use an agent to avoid typing your gpg passphrase several times.
     Note that this option doesn’t affect tag signing behavior enabled
     by "-u <keyid>" or "–local-user=<keyid>" options.

tar.umask
     This variable can be used to restrict the permission bits of tar
     archive entries.  The default is 0002, which turns off the world
     write bit.  The special value "user" indicates that the archiving
     user’s umask will be used instead.  See umask(2) and
     git-archive(1).

   Trace2 config settings are only read from the system and global
config files; repository local and worktree config files and ‘-c’
command line arguments are not respected.

trace2.normalTarget
     This variable controls the normal target destination.  It may be
     overridden by the ‘GIT_TRACE2’ environment variable.  The following
     table shows possible values.

trace2.perfTarget
     This variable controls the performance target destination.  It may
     be overridden by the ‘GIT_TRACE2_PERF’ environment variable.  The
     following table shows possible values.

trace2.eventTarget
     This variable controls the event target destination.  It may be
     overridden by the ‘GIT_TRACE2_EVENT’ environment variable.  The
     following table shows possible values.

        • ‘0’ or ‘false’ - ターゲットを無効にします。

        • ‘1’ or ‘true’ - ‘STDERR’ に書き出します。

        • ‘[2-9]’ - すでに開いているファイル・デスクリプターに書き出しま
          す。

        • ‘<absolute-pathname>’ - appendモードでファイルに書き込みます。
          ターゲットがすでに存在し、ディレクトリである場合、トレースは指
          定のディレクトリの下のファイル(プロセスごとに1つ)に書き込まれ
          ます。

        • ‘af_unix:[<socket_type>:]<absolute-pathname>’ - Unixドメインソ
          ケットに書き出します(それらをサポートするプラットフォーム上で
          あれば)。ソケットタイプは ‘stream’ または ‘dgram’ のいずれかで
          す。省略した場合、Gitは両方を試します。

trace2.normalBrief
     Boolean.  When true ‘time’, ‘filename’, and ‘line’ fields are
     omitted from normal output.  May be overridden by the
     ‘GIT_TRACE2_BRIEF’ environment variable.  Defaults to false.

trace2.perfBrief
     Boolean.  When true ‘time’, ‘filename’, and ‘line’ fields are
     omitted from PERF output.  May be overridden by the
     ‘GIT_TRACE2_PERF_BRIEF’ environment variable.  Defaults to false.

trace2.eventBrief
     Boolean.  When true ‘time’, ‘filename’, and ‘line’ fields are
     omitted from event output.  May be overridden by the
     ‘GIT_TRACE2_EVENT_BRIEF’ environment variable.  Defaults to false.

trace2.eventNesting
     Integer.  Specifies desired depth of nested regions in the event
     output.  Regions deeper than this value will be omitted.  May be
     overridden by the ‘GIT_TRACE2_EVENT_NESTING’ environment variable.
     Defaults to 2.

trace2.configParams
     A comma-separated list of patterns of "important" config settings
     that should be recorded in the trace2 output.  For example,
     ‘core.*,remote.*.url’ would cause the trace2 output to contain
     events listing each configured remote.  May be overridden by the
     ‘GIT_TRACE2_CONFIG_PARAMS’ environment variable.  Unset by default.

trace2.envVars
     A comma-separated list of "important" environment variables that
     should be recorded in the trace2 output.  For example,
     ‘GIT_HTTP_USER_AGENT,GIT_CONFIG’ would cause the trace2 output to
     contain events listing the overrides for HTTP user agent and the
     location of the Git configuration file (assuming any are set).  May
     be overridden by the ‘GIT_TRACE2_ENV_VARS’ environment variable.
     Unset by default.

trace2.destinationDebug
     Boolean.  When true Git will print error messages when a trace
     target destination cannot be opened for writing.  By default, these
     errors are suppressed and tracing is silently disabled.  May be
     overridden by the ‘GIT_TRACE2_DST_DEBUG’ environment variable.

trace2.maxFiles
     Integer.  When writing trace files to a target directory, do not
     write additional traces if we would exceed this many files.
     Instead, write a sentinel file that will block further tracing to
     this directory.  Defaults to 0, which disables this check.

transfer.fsckObjects
     When ‘fetch.fsckObjects’ or ‘receive.fsckObjects’ are not set, the
     value of this variable is used instead.  Defaults to false.

     When set, the fetch or receive will abort in the case of a
     malformed object or a link to a nonexistent object.  In addition,
     various other issues are checked for, including legacy issues (see
     ‘fsck.<msg-id>’), and potential security issues like the existence
     of a ‘.GIT’ directory or a malicious ‘.gitmodules’ file (see the
     release notes for v2.2.1 and v2.17.1 for details).  Other sanity
     and security checks may be added in future releases.

     On the receiving side, failing fsckObjects will make those objects
     unreachable, see "QUARANTINE ENVIRONMENT" in git-receive-pack(1).
     On the fetch side, malformed objects will instead be left
     unreferenced in the repository.

     Due to the non-quarantine nature of the ‘fetch.fsckObjects’
     implementation it cannot be relied upon to leave the object store
     clean like ‘receive.fsckObjects’ can.

     As objects are unpacked they’re written to the object store, so
     there can be cases where malicious objects get introduced even
     though the "fetch" failed, only to have a subsequent "fetch"
     succeed because only new incoming objects are checked, not those
     that have already been written to the object store.  That
     difference in behavior should not be relied upon.  In the future,
     such objects may be quarantined for "fetch" as well.

     For now, the paranoid need to find some way to emulate the
     quarantine environment if they’d like the same protection as
     "push".  E.g.  in the case of an internal mirror do the mirroring
     in two steps, one to fetch the untrusted objects, and then do a
     second "push" (which will use the quarantine) to another internal
     repo, and have internal clients consume this pushed-to repository,
     or embargo internal fetches and only allow them once a full "fsck"
     has run (and no new fetches have happened in the meantime).

transfer.hideRefs
     String(s) ‘receive-pack’ and ‘upload-pack’ use to decide which refs
     to omit from their initial advertisements.  Use more than one
     definition to specify multiple prefix strings.  A ref that is under
     the hierarchies listed in the value of this variable is excluded,
     and is hidden when responding to ‘git push’ or ‘git fetch’.  See
     ‘receive.hideRefs’ and ‘uploadpack.hideRefs’ for program-specific
     versions of this config.

     You may also include a ‘!’ in front of the ref name to negate the
     entry, explicitly exposing it, even if an earlier entry marked it
     as hidden.  If you have multiple hideRefs values, later entries
     override earlier ones (and entries in more-specific config files
     override less-specific ones).

     If a namespace is in use, the namespace prefix is stripped from
     each reference before it is matched against ‘transfer.hiderefs’
     patterns.  In order to match refs before stripping, add a ‘^’ in
     front of the ref name.  If you combine ‘!’ and ‘^’, ‘!’ must be
     specified first.

     For example, if ‘refs/heads/master’ is specified in
     ‘transfer.hideRefs’ and the current namespace is ‘foo’, then
     ‘refs/namespaces/foo/refs/heads/master’ is omitted from the
     advertisements.  If ‘uploadpack.allowRefInWant’ is set,
     ‘upload-pack’ will treat ‘want-ref refs/heads/master’ in a protocol
     v2 ‘fetch’ command as if ‘refs/namespaces/foo/refs/heads/master’
     did not exist.  ‘receive-pack’, on the other hand, will still
     advertise the object id the ref is pointing to without mentioning
     its name (a so-called ".have" line).

     Even if you hide refs, a client may still be able to steal the
     target objects via the techniques described in the "SECURITY"
     section of the gitnamespaces(7) man page; it’s best to keep private
     data in a separate repository.

transfer.unpackLimit
     When ‘fetch.unpackLimit’ or ‘receive.unpackLimit’ are not set, the
     value of this variable is used instead.  The default value is 100.

transfer.advertiseSID
     Boolean.  When true, client and server processes will advertise
     their unique session IDs to their remote counterpart.  Defaults to
     false.

uploadarchive.allowUnreachable
     If true, allow clients to use ‘git archive --remote’ to request any
     tree, whether reachable from the ref tips or not.  See the
     discussion in the "SECURITY" section of git-upload-archive(1) for
     more details.  Defaults to ‘false’.

uploadpack.hideRefs
     This variable is the same as ‘transfer.hideRefs’, but applies only
     to ‘upload-pack’ (and so affects only fetches, not pushes).  An
     attempt to fetch a hidden ref by ‘git fetch’ will fail.  See also
     ‘uploadpack.allowTipSHA1InWant’.

uploadpack.allowTipSHA1InWant
     When ‘uploadpack.hideRefs’ is in effect, allow ‘upload-pack’ to
     accept a fetch request that asks for an object at the tip of a
     hidden ref (by default, such a request is rejected).  See also
     ‘uploadpack.hideRefs’.  Even if this is false, a client may be able
     to steal objects via the techniques described in the "SECURITY"
     section of the gitnamespaces(7) man page; it’s best to keep private
     data in a separate repository.

uploadpack.allowReachableSHA1InWant
     Allow ‘upload-pack’ to accept a fetch request that asks for an
     object that is reachable from any ref tip.  However, note that
     calculating object reachability is computationally expensive.
     Defaults to ‘false’.  Even if this is false, a client may be able
     to steal objects via the techniques described in the "SECURITY"
     section of the gitnamespaces(7) man page; it’s best to keep private
     data in a separate repository.

uploadpack.allowAnySHA1InWant
     Allow ‘upload-pack’ to accept a fetch request that asks for any
     object at all.  Defaults to ‘false’.

uploadpack.keepAlive
     When ‘upload-pack’ has started ‘pack-objects’, there may be a quiet
     period while ‘pack-objects’ prepares the pack.  Normally it would
     output progress information, but if ‘--quiet’ was used for the
     fetch, ‘pack-objects’ will output nothing at all until the pack
     data begins.  Some clients and networks may consider the server to
     be hung and give up.  Setting this option instructs ‘upload-pack’
     to send an empty keepalive packet every ‘uploadpack.keepAlive’
     seconds.  Setting this option to 0 disables keepalive packets
     entirely.  The default is 5 seconds.

uploadpack.packObjectsHook
     If this option is set, when ‘upload-pack’ would run ‘git
     pack-objects’ to create a packfile for a client, it will run this
     shell command instead.  The ‘pack-objects’ command and arguments it
     _would_ have run (including the ‘git pack-objects’ at the
     beginning) are appended to the shell command.  The stdin and stdout
     of the hook are treated as if ‘pack-objects’ itself was run.  I.e.,
     ‘upload-pack’ will feed input intended for ‘pack-objects’ to the
     hook, and expects a completed packfile on stdout.

     Note that this configuration variable is ignored if it is seen in
     the repository-level config (this is a safety measure against
     fetching from untrusted repositories).

uploadpack.allowFilter
     If this option is set, ‘upload-pack’ will support partial clone and
     partial fetch object filtering.

uploadpackfilter.allow
     Provides a default value for unspecified object filters (see: the
     below configuration variable).  If set to ‘true’, this will also
     enable all filters which get added in the future.  Defaults to
     ‘true’.

uploadpackfilter.<filter>.allow
     Explicitly allow or ban the object filter corresponding to
     ‘<filter>’, where ‘<filter>’ may be one of: ‘blob:none’,
     ‘blob:limit’, ‘object:type’, ‘tree’, ‘sparse:oid’, or ‘combine’.
     If using combined filters, both ‘combine’ and all of the nested
     filter kinds must be allowed.  Defaults to
     ‘uploadpackfilter.allow’.

uploadpackfilter.tree.maxDepth
     Only allow ‘--filter=tree:<n>’ when ‘<n>’ is no more than the value
     of ‘uploadpackfilter.tree.maxDepth’.  If set, this also implies
     ‘uploadpackfilter.tree.allow=true’, unless this configuration
     variable had already been set.  Has no effect if unset.

uploadpack.allowRefInWant
     If this option is set, ‘upload-pack’ will support the ‘ref-in-want’
     feature of the protocol version 2 ‘fetch’ command.  This feature is
     intended for the benefit of load-balanced servers which may not
     have the same view of what OIDs their refs point to due to
     replication delay.

url.<base>.insteadOf
     Any URL that starts with this value will be rewritten to start,
     instead, with <base>.  In cases where some site serves a large
     number of repositories, and serves them with multiple access
     methods, and some users need to use different access methods, this
     feature allows people to specify any of the equivalent URLs and
     have Git automatically rewrite the URL to the best alternative for
     the particular user, even for a never-before-seen repository on the
     site.  When more than one insteadOf strings match a given URL, the
     longest match is used.

     Note that any protocol restrictions will be applied to the
     rewritten URL. If the rewrite changes the URL to use a custom
     protocol or remote helper, you may need to adjust the
     ‘protocol.*.allow’ config to permit the request.  In particular,
     protocols you expect to use for submodules must be set to ‘always’
     rather than the default of ‘user’.  See the description of
     ‘protocol.allow’ above.

url.<base>.pushInsteadOf
     Any URL that starts with this value will not be pushed to; instead,
     it will be rewritten to start with <base>, and the resulting URL
     will be pushed to.  In cases where some site serves a large number
     of repositories, and serves them with multiple access methods, some
     of which do not allow push, this feature allows people to specify a
     pull-only URL and have Git automatically use an appropriate URL to
     push, even for a never-before-seen repository on the site.  When
     more than one pushInsteadOf strings match a given URL, the longest
     match is used.  If a remote has an explicit pushurl, Git will
     ignore this setting for that remote.

user.name
user.email
author.name
author.email
committer.name
committer.email
     The ‘user.name’ and ‘user.email’ variables determine what ends up
     in the ‘author’ and ‘committer’ field of commit objects.  If you
     need the ‘author’ or ‘committer’ to be different, the
     ‘author.name’, ‘author.email’, ‘committer.name’ or
     ‘committer.email’ variables can be set.  Also, all of these can be
     overridden by the ‘GIT_AUTHOR_NAME’, ‘GIT_AUTHOR_EMAIL’,
     ‘GIT_COMMITTER_NAME’, ‘GIT_COMMITTER_EMAIL’ and ‘EMAIL’ environment
     variables.

     Note that the ‘name’ forms of these variables conventionally refer
     to some form of a personal name.  See git-commit(1) and the
     environment variables section of git(1) for more information on
     these settings and the ‘credential.username’ option if you’re
     looking for authentication credentials instead.

user.useConfigOnly
     Instruct Git to avoid trying to guess defaults for ‘user.email’ and
     ‘user.name’, and instead retrieve the values only from the
     configuration.  For example, if you have multiple email addresses
     and would like to use a different one for each repository, then
     with this configuration option set to ‘true’ in the global config
     along with a name, Git will prompt you to set up an email before
     making new commits in a newly cloned repository.  Defaults to
     ‘false’.

user.signingKey
     If git-tag(1) or git-commit(1) is not selecting the key you want it
     to automatically when creating a signed tag or commit, you can
     override the default selection with this variable.  This option is
     passed unchanged to gpg’s –local-user parameter, so you may specify
     a key using any method that gpg supports.

versionsort.prereleaseSuffix (deprecated)
     Deprecated alias for ‘versionsort.suffix’.  Ignored if
     ‘versionsort.suffix’ is set.

versionsort.suffix
     Even when version sort is used in git-tag(1), tagnames with the
     same base version but different suffixes are still sorted
     lexicographically, resulting e.g.  in prerelease tags appearing
     after the main release (e.g.  "1.0-rc1" after "1.0").  This
     variable can be specified to determine the sorting order of tags
     with different suffixes.

     By specifying a single suffix in this variable, any tagname
     containing that suffix will appear before the corresponding main
     release.  E.g.  if the variable is set to "-rc", then all "1.0-rcX"
     tags will appear before "1.0".  If specified multiple times, once
     per suffix, then the order of suffixes in the configuration will
     determine the sorting order of tagnames with those suffixes.  E.g.
     if "-pre" appears before "-rc" in the configuration, then all
     "1.0-preX" tags will be listed before any "1.0-rcX" tags.  The
     placement of the main release tag relative to tags with various
     suffixes can be determined by specifying the empty suffix among
     those other suffixes.  E.g.  if the suffixes "-rc", "", "-ck" and
     "-bfs" appear in the configuration in this order, then all
     "v4.8-rcX" tags are listed first, followed by "v4.8", then
     "v4.8-ckX" and finally "v4.8-bfsX".

     If more than one suffixes match the same tagname, then that tagname
     will be sorted according to the suffix which starts at the earliest
     position in the tagname.  If more than one different matching
     suffixes start at that earliest position, then that tagname will be
     sorted according to the longest of those suffixes.  The sorting
     order between different suffixes is undefined if they are in
     multiple config files.

web.browser
     Specify a web browser that may be used by some commands.  Currently
     only git-instaweb(1) and git-help(1) may use it.

worktree.guessRemote
     If no branch is specified and neither ‘-b’ nor ‘-B’ nor ‘--detach’
     is used, then ‘git worktree add’ defaults to creating a new branch
     from HEAD. If ‘worktree.guessRemote’ is set to true, ‘worktree add’
     tries to find a remote-tracking branch whose name uniquely matches
     the new branch name.  If such a branch exists, it is checked out
     and set as "upstream" for the new branch.  If no such match can be
     found, it falls back to creating a new branch from the current
     HEAD.


BUGS
****

非推奨の ‘[section.subsection]’ 構文を使用する場合、サブセクションに少な
くとも1つの大文字が指定されていると、値を変更すると、変更ではなく複数行
のキーが追加されます。たとえば、設定が以下のようになっている場合

       [section.subsection]
         key = value1

   ‘git config section.Subsection.key value2’ を実行すると、以下のように
なります。

       [section.subsection]
         key = value1
         key = value2


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-count-objects,  Up: Top

Name
****

git-count-objects — パックされていない(unpack)オブジェクトの数とそのディ
スク消費量を計量します


Synopsis
********

     git count-objects [-v] [-H | –human-readable]


DESCRIPTION
***********

これは、パックされていないオブジェクトファイルの数とそれらによって消費さ
れたディスク領域を計量し、再パックするのに適した時期を判断するのに役立ち
ます。


OPTIONS
*******

‘-v’
‘--verbose’
     より詳細な報告:

     count: 緩いオブジェクト(loose objects;ファイルごとに１つのオブジェ
     クトな形式)の数

     size: 緩いオブジェクトによって消費される、KiB単位のディスク容量(-H
     が指定されていない場合)

     in-pack: パック内にあるオブジェクトの数

     size-pack: パック群によって消費される、KiB単位のディスク容量(-Hが指
     定されていない場合)

     prune-packable: パック内にも同じものが存在する緩いオブジェクトの数
     。これらの緩いオブジェクトは、‘git prune-packed’ を使用して剪定する
     (prune)事ができます。

     garbage: オブジェクトデータベース内の、有効な緩いオブジェクトでも有
     効なパックでもないファイルの数

     size-garbage: garbageファイルによって消費されるKiB単位のディスク容
     量(-Hが指定されていない場合)

     alternate: 代替オブジェクトデータベース群の絶対パス。パスごとに1行
     ずつ、複数回表示される場合があります。パスに印刷不可能な文字が含ま
     れている場合は、二重引用符で囲まれ、C言語スタイルのバックスラッシュ
     エスケープシーケンスが含まれている可能性があることに注意してくださ
     い。

‘-H’
‘--human-readable’
     人間に分かりやすい形式でサイズを出力する


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-credential-cache--daemon,  Up: Top

Name
****

git-credential-cache–daemon — ユーザーの資格情報を一時的にメモリに保存す
る


Synopsis
********

     git credential-cache—daemon [–debug] <socket>


DESCRIPTION
***********

     *Note*

     あなたが、このコマンドを手動で起動したくないなら、
     git-credential-cache(1) を使用すれば自動的に開始されます。

   このコマンドは、 ‘<socket>’ で指定されたUnixドメインソケットで
‘git-credential-cache’ クライアントをリッスンします。クライアントは、資
格情報を保存および取得できます。 各資格情報は、クライアントによって指定
されたタイムアウトまで保持されます。資格情報が保持されなくなると、デーモ
ンは終了します。

   ‘--debug’ オプションが指定されている場合、デーモンはstderrストリーム
を閉じず、クライアントのリッスンを開始した後でも、追加の診断を出力する場
合があります。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-credential-cache,  Up: Top

Name
****

git-credential-cache — パスワードを一時的にメモリに保存するヘルパー


Synopsis
********

     git config credential.helper 'cache [<options>]'


DESCRIPTION
***********

このコマンドは、将来のGitプログラムで使用するために認証情報
(credential)をメモリにキャッシュします。保存された認証情報はディスクに記
録されることはなく、設定可能なタイムアウト後にメモリから削除されます。キ
ャッシュはUnixドメインソケットを介してアクセスでき、ファイルシステムのア
クセス許可によって現在のユーザーに制限されます。

   あなたはこのコマンドを直接呼び出すことは無いでしょう。これは、Gitの他
の部分で認証情報ヘルパーとして使用されることを目的としています。
gitcredentials(7) または 以下の EXAMPLES を参照してください。


OPTIONS
*******

‘--timeout <seconds>’
     認証情報をキャッシュする秒数(デフォルト: 900)。

‘--socket <path>’
     ‘<path>’ を使用して、実行中のキャッシュデーモンに接続します(または
     、新しいキャッシュデーモンが開始されていない場合は開始します)。デフ
     ォルトは ‘$XDG_CACHE_HOME/git/credential/socket’ です
     (‘~/.git-credential-cache/’ が存在しない限り)。
     ‘~/.git-credential-cache/’ が存在する場合は、代わりに
     ‘~/.git-credential-cache/’ が使用されます。あなたのホームディレクト
     リがネットワークにマウントされたファイルシステム上にある場合は、こ
     れをローカルファイルシステムに変更する必要がある場合があります。あ
     なたは絶対パスを指定しなければなりません。


CONTROLLING THE DAEMON
**********************

あなたがデーモンを早期に終了させ、タイムアウトする前にキャッシュされたす
べての認証情報を忘れ去りたい場合は、「exit」アクションを発行できます:

     git credential-cache exit


EXAMPLES
********

このヘルパーの肝は、ユーザー名またはパスワードを入力する必要がある回数を
減らすことです。例えば:

     $ git config credential.helper cache
     $ git push http://example.com/repo.git
     Username: <type your username>
     Password: <type your password>

     [work for 5 more minutes]
     $ git push http://example.com/repo.git
     [your credentials are used automatically]

   credential.helper構成変数を介してオプションを提供できます(この例では
、キャッシュ時間が5分に短縮されます):

     $ git config credential.helper 'cache --timeout=300'


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-credential-store,  Up: Top

Name
****

git-credential-store — 資格情報をディスクに保存するヘルパー


Synopsis
********

     git config credential.helper 'store [<options>]'


DESCRIPTION
***********

     *Note*

     このヘルパーを使用すると、パスワードは暗号化されずにディスクに保存
     され、ファイルシステムのアクセス許可によってのみ保護されます。これ
     が許容できるセキュリティのトレードオフではない場合は
     git-credential-cache(1) を試すか、オペレーティングシステムが提供す
     る安全なストレージと統合するヘルパーを探してください。

   このコマンドは、将来に渡ってGitプログラムで使用できるように、資格情報
をディスクに無期限に保存します。

   このコマンドが直接呼び出されることはありません。これは、gitの他の部分
で資格情報ヘルパーとして使用されることを目的としています。以下の
EXAMPLESまたは gitcredentials(7) を参照してください。


OPTIONS
*******

‘--file=<path>’
     ‘<path>’ を使用して、資格情報を探してして保存します。ファイルには、
     システム上の他のユーザーがファイルを読み取れないようにファイルシス
     テムのアクセス許可が設定されますが、暗号化またはその他の方法で保護
     されることはありません。‘<path>’ 指定がない場合、資格情報は
     ‘~/.git-credentials’ と ‘$XDG_CONFIG_HOME/git/credentials’ から検索
     されます。そして、書き込みは、存在すれば ‘~/.git-credentials’ に書
     き込みますが、‘~/.git-credentials’ に書き込まなかった場合、存在すれ
     ば ‘$XDG_CONFIG_HOME/git/credentials’ に書き込みます。 *note
     FILES:: も参照してください。


FILES
*****

‘--file’ で明示的に設定されていない場合、git-credential-store が優先順位
に従って資格情報を検索する2つのファイルがあります:

~/.git-credentials
     ユーザー毎の資格情報ファイル。

$XDG_CONFIG_HOME/git/credentials
     2番目のユーザー毎の資格情報ファイル。 _$XDG_CONFIG_HOME_ が設定され
     ていないか空の場合、 ‘$HOME/.config/git/credentials’ が使用されます
     。 ‘~/.git-credentials’ に一致する資格情報がある場合、このファイル
     に保存されている資格情報は使用されません。このファイルがサポートさ
     れていない、古いバージョンのGitを使用することがある場合は、このファ
     イルを作成しないことをお勧めします。

   資格情報探索の場合、ファイルは上記の順序で読み取られ、最初に一致した
資格情報が、リストのさらに下のファイルで見つかった資格情報よりも優先され
ます。

   資格情報ストレージは、デフォルトでこのリストの順で最初に見つかった既
存のファイルに書き込みます。これらのファイルが存在しない場合は、
‘~/.git-credentials’ を作成して書き込みます。

   資格情報の消去を行うと、一致するすべての資格情報がすべてのファイルか
ら消去されます。


EXAMPLES
********

このヘルパーの要点は、ユーザー名またはパスワードを入力する必要がある回数
を減らすことです。 例えば:

     $ git config credential.helper store
     $ git push http://example.com/repo.git
     Username: <type your username>
     Password: <type your password>

     [several days later]
     $ git push http://example.com/repo.git
     [your credentials are used automatically]


STORAGE FORMAT
**************

‘.git-credentials’ ファイルはプレーンテキストで保存されます。各資格情報
は、以下のようなURLとしてそれぞれ独自の行に保存されます:

     https://user:pass@example.com

   他の種類の行(空の行やコメント行など)は、一部が黙って無視される場合で
も、ファイル内では許可されません。エディタでファイルを表示または編集しな
いでください。

   Gitが特定のURLコンテキストの認証を必要とする場合、credential-store は
そのコンテキストを、資格情報ファイルの各エントリと照合するパターンと見な
します。 protocolとhostnameと(すでに持っている場合)usernameが一致する場
合、パスワードはGitに返されます。詳細については、 gitcredentials(7) の 「
the discussion of configuration」を参照してください。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-credential,  Up: Top

Name
****

git-credential — Retrieve and store user credentials


Synopsis
********

     git credential <fill|approve|reject>


DESCRIPTION
***********

Git has an internal interface for storing and retrieving credentials
from system-specific helpers, as well as prompting the user for
usernames and passwords.  The git-credential command exposes this
interface to scripts which may want to retrieve, store, or prompt for
credentials in the same manner as Git.  The design of this scriptable
interface models the internal C API; see credential.h for more
background on the concepts.

   git-credential takes an "action" option on the command-line (one of
‘fill’, ‘approve’, or ‘reject’) and reads a credential description on
stdin (see INPUT/OUTPUT FORMAT (*note INPUT/OUTPUT FORMAT::)).

   If the action is ‘fill’, git-credential will attempt to add
"username" and "password" attributes to the description by reading
config files, by contacting any configured credential helpers, or by
prompting the user.  The username and password attributes of the
credential description are then printed to stdout together with the
attributes already provided.

   If the action is ‘approve’, git-credential will send the description
to any configured credential helpers, which may store the credential for
later use.

   If the action is ‘reject’, git-credential will send the description
to any configured credential helpers, which may erase any stored
credential matching the description.

   If the action is ‘approve’ or ‘reject’, no output should be emitted.


TYPICAL USE OF GIT CREDENTIAL
*****************************

An application using git-credential will typically use ‘git credential’
following these steps:

  1. Generate a credential description based on the context.

     For example, if we want a password for
     ‘https://example.com/foo.git’, we might generate the following
     credential description (don’t forget the blank line at the end; it
     tells ‘git credential’ that the application finished feeding all
     the information it has):

          protocol=https
          host=example.com
          path=foo.git

  2. Ask git-credential to give us a username and password for this
     description.  This is done by running ‘git credential fill’,
     feeding the description from step (1) to its standard input.  The
     complete credential description (including the credential per se,
     i.e.  the login and password) will be produced on standard output,
     like:

          protocol=https
          host=example.com
          username=bob
          password=secr3t

     In most cases, this means the attributes given in the input will be
     repeated in the output, but Git may also modify the credential
     description, for example by removing the ‘path’ attribute when the
     protocol is HTTP(s) and ‘credential.useHttpPath’ is false.

     If the ‘git credential’ knew about the password, this step may not
     have involved the user actually typing this password (the user may
     have typed a password to unlock the keychain instead, or no user
     interaction was done if the keychain was already unlocked) before
     it returned ‘password=secr3t’.

  3. Use the credential (e.g., access the URL with the username and
     password from step (2)), and see if it’s accepted.

  4. Report on the success or failure of the password.  If the
     credential allowed the operation to complete successfully, then it
     can be marked with an "approve" action to tell ‘git credential’ to
     reuse it in its next invocation.  If the credential was rejected
     during the operation, use the "reject" action so that ‘git
     credential’ will ask for a new password in its next invocation.  In
     either case, ‘git credential’ should be fed with the credential
     description obtained from step (2) (which also contain the ones
     provided in step (1)).


INPUT/OUTPUT FORMAT
*******************

‘git credential’ reads and/or writes (depending on the action used)
credential information in its standard input/output.  This information
can correspond either to keys for which ‘git credential’ will obtain the
login information (e.g.  host, protocol, path), or to the actual
credential data to be obtained (username/password).

   The credential is split into a set of named attributes, with one
attribute per line.  Each attribute is specified by a key-value pair,
separated by an ‘=’ (equals) sign, followed by a newline.

   The key may contain any bytes except ‘=’, newline, or NUL. The value
may contain any bytes except newline or NUL.

   In both cases, all bytes are treated as-is (i.e., there is no
quoting, and one cannot transmit a value with newline or NUL in it).
The list of attributes is terminated by a blank line or end-of-file.

   Git understands the following attributes:

‘protocol’
     The protocol over which the credential will be used (e.g.,
     ‘https’).

‘host’
     The remote hostname for a network credential.  This includes the
     port number if one was specified (e.g., "example.com:8088").

‘path’
     The path with which the credential will be used.  E.g., for
     accessing a remote https repository, this will be the repository’s
     path on the server.

‘username’
     The credential’s username, if we already have one (e.g., from a
     URL, the configuration, the user, or from a previously run helper).

‘password’
     The credential’s password, if we are asking it to be stored.

‘url’
     When this special attribute is read by ‘git credential’, the value
     is parsed as a URL and treated as if its constituent parts were
     read (e.g., ‘url=https://example.com’ would behave as if
     ‘protocol=https’ and ‘host=example.com’ had been provided).  This
     can help callers avoid parsing URLs themselves.

     Note that specifying a protocol is mandatory and if the URL doesn’t
     specify a hostname (e.g., "cert:///path/to/file") the credential
     will contain a hostname attribute whose value is an empty string.

     Components which are missing from the URL (e.g., there is no
     username in the example above) will be left unset.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-cvsexportcommit,  Up: Top

Name
****

git-cvsexportcommit — 単一のコミットをCVSチェックアウトにエクスポートし
ます


Synopsis
********

     git cvsexportcommit [-h] [-u] [-v] [-c] [-P] [-p] [-a] [-d cvsroot]
             [-w cvsworkdir] [-W] [-f] [-m msgprefix] [PARENTCOMMIT] COMMITID


DESCRIPTION
***********

コミットをGitからCVSチェックアウトにエクスポートし、Gitリポジトリから
CVSリポジトリへのパッチのマージを容易にします。

   ‘-w’ スイッチを使用してCVSチェックアウトの名前を指定するか、CVS作業コ
ピーのルートから実行します。後者の場合、GIT_DIRを定義する必要があります
。以下の例を参照してください。

   安全寄りに最大限振って、CVSチェックアウトでファイルが変更されておらず
、最新であることを確認したら、デフォルトでは自動コミットしません。

   バイナリファイルに影響するファイルの追加、削除、およびコミットをサポ
ートします。

   コミットがマージコミットの場合は、あなたは ‘git cvsexportcommit’ に
changesetの対象となる親を指定する必要があります。


OPTIONS
*******

‘-c’
     パッチが正常に適用された場合、自動的にコミットします。ハンクが適用
     されない場合、またはその他の問題が発生した場合、コミットされません
     。

‘-p’
     パッチを適用するときは、pedantic(衒学的)(paranoid;病的なほど疑り深
     い)にする。 ‘--fuzz=0’ でpatchを呼び出します。

‘-a’
     著者情報を追加します。作者行と(作成者と異なる場合)コミッターをメッ
     セージに追加します。

‘-d’
     使用する代替CVSROOTを設定します。これは、 ‘CVS -d’ パラメーターに対
     応します。 非対称的な方法でCVSを使用する場合を除いて、通常、ユーザ
     ーはこれを設定することは無いと思います。

‘-f’
     ファイルが最新でない場合でも、強制的にマージします。

‘-P’
     直接の親でなくても、親を強制的にコミットします。

‘-m’
     コミットメッセージの前に、指定のプレフィックスを付けます。パッチシ
     リーズなどに便利です。

‘-u’
     エクスポートを試みる前に、影響を受けるファイルをCVSリポジトリから更
     新してください。

‘-k’
     パッチを適用する前に、CVSチェックアウトの動作でCVSキーワード拡張を
     逆にします。 (例: $Revision: 1.2.3.4$ は $Revision$ になります)

‘-w’
     エクスポートに使用するCVSチェックアウトの場所を指定します。現在のデ
     ィレクトリがGitリポジトリ内にある場合、このオプションでは、実行前に
     GIT_DIRを設定する必要はありません。 デフォルトは
     ‘cvsexportcommit.cvsdir’ の値です。

‘-W’
     現在の作業ディレクトリがGitチェックアウトであるだけでなく、CVSチェ
     ックアウトでもあることをcvsexportcommitに伝えます。したがって、
     Gitは続行する前に作業ディレクトリを親コミットにリセットします。

‘-v’
     おしゃべりにします。


CONFIGURATION
*************

cvsexportcommit.cvsdir
     エクスポートに使用するCVSチェックアウトのデフォルトの場所。


EXAMPLES
********

1つのパッチをCVSにマージします
          $ export GIT_DIR=~/project/.git
          $ cd ~/project_cvs_checkout
          $ git cvsexportcommit -v <commit-sha1>
          $ cvs commit -F .msg <files>

1つのパッチをCVSにマージします( ‘-c’ および ‘-w’ オプション)。作業ディレクトリはGitリポジトリ内にあります
                  $ git cvsexportcommit -v -c -w ~/project_cvs_checkout <commit-sha1>

保留中のパッチをCVSに自動的にマージします — 自分が何をしているかを本当に知っている場合だけにしましょう。
          $ export GIT_DIR=~/project/.git
          $ cd ~/project_cvs_checkout
          $ git cherry cvshead myhead | sed -n 's/^+ //p' | xargs -l1 git cvsexportcommit -c -p -v


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-cvsimport,  Up: Top

Name
****

git-cvsimport — Salvage your data out of another SCM people love to hate


Synopsis
********

     git cvsimport [-o <branch-for-HEAD>] [-h] [-v] [-d <CVSROOT>]
                   [-A <author-conv-file>] [-p <options-for-cvsps>] [-P <file>]
                   [-C <git_repository>] [-z <fuzz>] [-i] [-k] [-u] [-s <subst>]
                   [-a] [-m] [-M <regex>] [-S <regex>] [-L <commitlimit>]
                   [-r <remote>] [-R] [<CVS_module>]


DESCRIPTION
***********

*WARNING:* ‘git cvsimport’ uses cvsps version 2, which is considered
deprecated; it does not work with cvsps version 3 and later.  If you are
performing a one-shot import of a CVS repository consider using cvs2git
(http://cvs2svn.tigris.org/cvs2git.html) or cvs-fast-export
(http://www.catb.org/esr/cvs-fast-export/).

   Imports a CVS repository into Git.  It will either create a new
repository, or incrementally import into an existing one.

   Splitting the CVS log into patch sets is done by _cvsps_.  At least
version 2.1 is required.

   *WARNING:* for certain situations the import leads to incorrect
results.  Please see the section ISSUES (*note ISSUES::) for further
reference.

   You should *never* do any work of your own on the branches that are
created by _git cvsimport_.  By default initial import will create and
populate a "master" branch from the CVS repository’s main branch which
you’re free to work with; after that, you need to _git merge_
incremental imports, or any CVS branches, yourself.  It is advisable to
specify a named remote via -r to separate and protect the incoming
branches.

   If you intend to set up a shared public repository that all
developers can read/write, or if you want to use git-cvsserver(1), then
you probably want to make a bare clone of the imported repository, and
use the clone as the shared repository.  See gitcvs-migration(7).


OPTIONS
*******

‘-v’
     Verbosity: let _cvsimport_ report what it is doing.

‘-d <CVSROOT>’
     The root of the CVS archive.  May be local (a simple path) or
     remote; currently, only the :local:, :ext: and :pserver: access
     methods are supported.  If not given, _git cvsimport_ will try to
     read it from ‘CVS/Root’.  If no such file exists, it checks for the
     ‘CVSROOT’ environment variable.

<CVS_module>
     The CVS module you want to import.  Relative to <CVSROOT>.  If not
     given, _git cvsimport_ tries to read it from ‘CVS/Repository’.

‘-C <target-dir>’
     The Git repository to import to.  If the directory doesn’t exist,
     it will be created.  Default is the current directory.

‘-r <remote>’
     The Git remote to import this CVS repository into.  Moves all CVS
     branches into remotes/<remote>/<branch> akin to the way _git clone_
     uses _origin_ by default.

‘-o <branch-for-HEAD>’
     When no remote is specified (via -r) the ‘HEAD’ branch from CVS is
     imported to the _origin_ branch within the Git repository, as
     ‘HEAD’ already has a special meaning for Git.  When a remote is
     specified the ‘HEAD’ branch is named remotes/<remote>/master
     mirroring _git clone_ behaviour.  Use this option if you want to
     import into a different branch.

     Use _-o master_ for continuing an import that was initially done by
     the old cvs2git tool.

‘-i’
     Import-only: don’t perform a checkout after importing.  This option
     ensures the working directory and index remain untouched and will
     not create them if they do not exist.

‘-k’
     Kill keywords: will extract files with _-kk_ from the CVS archive
     to avoid noisy changesets.  Highly recommended, but off by default
     to preserve compatibility with early imported trees.

‘-u’
     Convert underscores in tag and branch names to dots.

‘-s <subst>’
     Substitute the character "/" in branch names with <subst>

‘-p <options-for-cvsps>’
     Additional options for cvsps.  The options ‘-u’ and _-A_ are
     implicit and should not be used here.

     If you need to pass multiple options, separate them with a comma.

‘-z <fuzz>’
     Pass the timestamp fuzz factor to cvsps, in seconds.  If unset,
     cvsps defaults to 300s.

‘-P <cvsps-output-file>’
     Instead of calling cvsps, read the provided cvsps output file.
     Useful for debugging or when cvsps is being handled outside
     cvsimport.

‘-m’
     Attempt to detect merges based on the commit message.  This option
     will enable default regexes that try to capture the source branch
     name from the commit message.

‘-M <regex>’
     Attempt to detect merges based on the commit message with a custom
     regex.  It can be used with ‘-m’ to enable the default regexes as
     well.  You must escape forward slashes.

     The regex must capture the source branch name in $1.

     This option can be used several times to provide several detection
     regexes.

‘-S <regex>’
     Skip paths matching the regex.

‘-a’
     Import all commits, including recent ones.  cvsimport by default
     skips commits that have a timestamp less than 10 minutes ago.

‘-L <limit>’
     Limit the number of commits imported.  Workaround for cases where
     cvsimport leaks memory.

‘-A <author-conv-file>’
     CVS by default uses the Unix username when writing its commit logs.
     Using this option and an author-conv-file maps the name recorded in
     CVS to author name, e-mail and optional time zone:

                  exon=Andreas Ericsson <ae@op5.se>
                  spawn=Simon Pawn <spawn@frog-pond.org> America/Chicago

     _git cvsimport_ will make it appear as those authors had their
     GIT_AUTHOR_NAME and GIT_AUTHOR_EMAIL set properly all along.  If a
     time zone is specified, GIT_AUTHOR_DATE will have the corresponding
     offset applied.

     For convenience, this data is saved to ‘$GIT_DIR/cvs-authors’ each
     time the _-A_ option is provided and read from that same file each
     time _git cvsimport_ is run.

     It is not recommended to use this feature if you intend to export
     changes back to CVS again later with _git cvsexportcommit_.

‘-R’
     Generate a ‘$GIT_DIR/cvs-revisions’ file containing a mapping from
     CVS revision numbers to newly-created Git commit IDs.  The
     generated file will contain one line for each (filename, revision)
     pair imported; each line will look like

          src/widget.c 1.1 1d862f173cdc7325b6fa6d2ae1cfd61fd1b512b7

     The revision data is appended to the file if it already exists, for
     use when doing incremental imports.

     This option may be useful if you have CVS revision numbers stored
     in commit messages, bug-tracking systems, email archives, and the
     like.

‘-h’
     Print a short usage message and exit.


OUTPUT
******

If ‘-v’ is specified, the script reports what it is doing.

   Otherwise, success is indicated the Unix way, i.e.  by simply exiting
with a zero exit status.


ISSUES
******

Problems related to timestamps:

   • If timestamps of commits in the CVS repository are not stable
     enough to be used for ordering commits changes may show up in the
     wrong order.

   • If any files were ever "cvs import"ed more than once (e.g., import
     of more than one vendor release) the HEAD contains the wrong
     content.

   • If the timestamp order of different files cross the revision order
     within the commit matching time window the order of commits may be
     wrong.

   Problems related to branches:

   • Branches on which no commits have been made are not imported.

   • All files from the branching point are added to a branch even if
     never added in CVS.

   • This applies to files added to the source branch *after* a daughter
     branch was created: if previously no commit was made on the
     daughter branch they will erroneously be added to the daughter
     branch in git.

   Problems related to tags:

   • Multiple tags on the same revision are not imported.

   If you suspect that any of these issues may apply to the repository
you want to import, consider using cvs2git:

   • cvs2git (part of cvs2svn), ‘http://subversion.apache.org/’


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-cvsserver,  Up: Top

Name
****

git-cvsserver — A CVS server emulator for Git


Synopsis
********

SSH:

     export CVS_SERVER="git cvsserver"
     cvs -d :ext:user@server/path/repo.git co <HEAD_name>

   pserver (/etc/inetd.conf):

     cvspserver stream tcp nowait nobody /usr/bin/git-cvsserver git-cvsserver pserver

   Usage:

     git-cvsserver [<options>] [pserver|server] [<directory> …]


DESCRIPTION
***********

This application is a CVS emulation layer for Git.

   It is highly functional.  However, not all methods are implemented,
and for those methods that are implemented, not all switches are
implemented.

   Testing has been done using both the CLI CVS client, and the Eclipse
CVS plugin.  Most functionality works fine with both of these clients.


OPTIONS
*******

All these options obviously only make sense if enforced by the server
side.  They have been implemented to resemble the git-daemon(1) options
as closely as possible.

‘--base-path <path>’
     Prepend _path_ to requested CVSROOT

‘--strict-paths’
     Don’t allow recursing into subdirectories

‘--export-all’
     Don’t check for ‘gitcvs.enabled’ in config.  You also have to
     specify a list of allowed directories (see below) if you want to
     use this option.

‘-V’
‘--version’
     Print version information and exit

‘-h’
‘-H’
‘--help’
     Print usage information and exit

<directory>
     You can specify a list of allowed directories.  If no directories
     are given, all are allowed.  This is an additional restriction,
     gitcvs access still needs to be enabled by the ‘gitcvs.enabled’
     config option unless ‘--export-all’ was given, too.


LIMITATIONS
***********

CVS clients cannot tag, branch or perform Git merges.

   _git-cvsserver_ maps Git branches to CVS modules.  This is very
different from what most CVS users would expect since in CVS modules
usually represent one or more directories.


INSTALLATION
************

  1. If you are going to offer CVS access via pserver, add a line in
     /etc/inetd.conf like

             cvspserver stream tcp nowait nobody git-cvsserver pserver

     Note: Some inetd servers let you specify the name of the executable
     independently of the value of argv[0] (i.e.  the name the program
     assumes it was executed with).  In this case the correct line in
     /etc/inetd.conf looks like

             cvspserver stream tcp nowait nobody /usr/bin/git-cvsserver git-cvsserver pserver

     Only anonymous access is provided by pserve by default.  To commit
     you will have to create pserver accounts, simply add a
     gitcvs.authdb setting in the config file of the repositories you
     want the cvsserver to allow writes to, for example:

             [gitcvs]
                  authdb = /etc/cvsserver/passwd

     The format of these files is username followed by the encrypted
     password, for example:

             myuser:$1Oyx5r9mdGZ2
             myuser:$1$BA)@$vbnMJMDym7tA32AamXrm./

     You can use the _htpasswd_ facility that comes with Apache to make
     these files, but Apache’s MD5 crypt method differs from the one
     used by most C library’s crypt() function, so don’t use the -m
     option.

     Alternatively you can produce the password with perl’s crypt()
     operator:

             perl -e 'my ($user, $pass) = @ARGV; printf "%s:%s\n", $user, crypt($user, $pass)' $USER password

     Then provide your password via the pserver method, for example:

             cvs -d:pserver:someuser:somepassword <at> server/path/repo.git co <HEAD_name>

     No special setup is needed for SSH access, other than having Git
     tools in the PATH. If you have clients that do not accept the
     CVS_SERVER environment variable, you can rename _git-cvsserver_ to
     ‘cvs’.

     Note: Newer CVS versions (>= 1.12.11) also support specifying
     CVS_SERVER directly in CVSROOT like

          cvs -d ":ext;CVS_SERVER=git cvsserver:user@server/path/repo.git" co <HEAD_name>

     This has the advantage that it will be saved in your _CVS/Root_
     files and you don’t need to worry about always setting the correct
     environment variable.  SSH users restricted to _git-shell_ don’t
     need to override the default with CVS_SERVER (and shouldn’t) as
     _git-shell_ understands ‘cvs’ to mean _git-cvsserver_ and pretends
     that the other end runs the real _cvs_ better.

  2. For each repo that you want accessible from CVS you need to edit
     config in the repo and add the following section.

             [gitcvs]
                  enabled=1
                  # optional for debugging
                  logFile=/path/to/logfile

     Note: you need to ensure each user that is going to invoke
     _git-cvsserver_ has write access to the log file and to the
     database (see Database Backend (*note DATABASE BACKEND::).  If you
     want to offer write access over SSH, the users of course also need
     write access to the Git repository itself.

     You also need to ensure that each repository is "bare" (without a
     Git index file) for ‘cvs commit’ to work.  See gitcvs-migration(7).

     All configuration variables can also be overridden for a specific
     method of access.  Valid method names are "ext" (for SSH access)
     and "pserver".  The following example configuration would disable
     pserver access while still allowing access over SSH.

             [gitcvs]
                  enabled=0

             [gitcvs "ext"]
                  enabled=1

  3. If you didn’t specify the CVSROOT/CVS_SERVER directly in the
     checkout command, automatically saving it in your _CVS/Root_ files,
     then you need to set them explicitly in your environment.  CVSROOT
     should be set as per normal, but the directory should point at the
     appropriate Git repo.  As above, for SSH clients _not_ restricted
     to _git-shell_, CVS_SERVER should be set to _git-cvsserver_.

               export CVSROOT=:ext:user@server:/var/git/project.git
               export CVS_SERVER="git cvsserver"

  4. For SSH clients that will make commits, make sure their server-side
     .ssh/environment files (or .bashrc, etc., according to their
     specific shell) export appropriate values for GIT_AUTHOR_NAME,
     GIT_AUTHOR_EMAIL, GIT_COMMITTER_NAME, and GIT_COMMITTER_EMAIL. For
     SSH clients whose login shell is bash, .bashrc may be a reasonable
     alternative.

  5. Clients should now be able to check out the project.  Use the CVS
     _module_ name to indicate what Git _head_ you want to check out.
     This also sets the name of your newly checked-out directory, unless
     you tell it otherwise with ‘-d <dir_name>’.  For example, this
     checks out _master_ branch to the ‘project-master’ directory:

               cvs co -d project-master master


DATABASE BACKEND
****************

_git-cvsserver_ uses one database per Git head (i.e.  CVS module) to
store information about the repository to maintain consistent CVS
revision numbers.  The database needs to be updated (i.e.  written to)
after every commit.

   If the commit is done directly by using ‘git’ (as opposed to using
_git-cvsserver_) the update will need to happen on the next repository
access by _git-cvsserver_, independent of access method and requested
operation.

   That means that even if you offer only read access (e.g.  by using
the pserver method), _git-cvsserver_ should have write access to the
database to work reliably (otherwise you need to make sure that the
database is up to date any time _git-cvsserver_ is executed).

   By default it uses SQLite databases in the Git directory, named
‘gitcvs.<module_name>.sqlite’.  Note that the SQLite backend creates
temporary files in the same directory as the database file on write so
it might not be enough to grant the users using _git-cvsserver_ write
access to the database file without granting them write access to the
directory, too.

   The database cannot be reliably regenerated in a consistent form
after the branch it is tracking has changed.  Example: For merged
branches, _git-cvsserver_ only tracks one branch of development, and
after a _git merge_ an incrementally updated database may track a
different branch than a database regenerated from scratch, causing
inconsistent CVS revision numbers.  ‘git-cvsserver’ has no way of
knowing which branch it would have picked if it had been run
incrementally pre-merge.  So if you have to fully or partially (from old
backup) regenerate the database, you should be suspicious of
pre-existing CVS sandboxes.

   You can configure the database backend with the following
configuration variables:


Configuring database backend
============================

_git-cvsserver_ uses the Perl DBI module.  Please also read its
documentation if changing these variables, especially about
‘DBI->connect()’.

gitcvs.dbName
     Database name.  The exact meaning depends on the selected database
     driver, for SQLite this is a filename.  Supports variable
     substitution (see below).  May not contain semicolons (‘;’).
     Default: _%Ggitcvs.%m.sqlite_

gitcvs.dbDriver
     Used DBI driver.  You can specify any available driver for this
     here, but it might not work.  cvsserver is tested with
     _DBD::SQLite_, reported to work with _DBD::Pg_, and reported *not*
     to work with _DBD::mysql_.  Please regard this as an experimental
     feature.  May not contain colons (‘:’).  Default: _SQLite_

gitcvs.dbuser
     Database user.  Only useful if setting ‘dbDriver’, since SQLite has
     no concept of database users.  Supports variable substitution (see
     below).

gitcvs.dbPass
     Database password.  Only useful if setting ‘dbDriver’, since SQLite
     has no concept of database passwords.

gitcvs.dbTableNamePrefix
     Database table name prefix.  Supports variable substitution (see
     below).  Any non-alphabetic characters will be replaced with
     underscores.

   All variables can also be set per access method, see above (*note
configaccessmethod::).


Variable substitution
---------------------

In ‘dbDriver’ and ‘dbUser’ you can use the following variables:

%G
     Git directory name

%g
     Git directory name, where all characters except for alphanumeric
     ones, ‘.’, and ‘-’ are replaced with ‘_’ (this should make it
     easier to use the directory name in a filename if wanted)

%m
     CVS module/Git head name

%a
     access method (one of "ext" or "pserver")

%u
     Name of the user running _git-cvsserver_.  If no name can be
     determined, the numeric uid is used.


ENVIRONMENT
***********

These variables obviate the need for command-line options in some
circumstances, allowing easier restricted usage through git-shell.

   GIT_CVSSERVER_BASE_PATH takes the place of the argument to
–base-path.

   GIT_CVSSERVER_ROOT specifies a single-directory whitelist.  The
repository must still be configured to allow access through
git-cvsserver, as described above.

   When these environment variables are set, the corresponding
command-line arguments may not be used.


ECLIPSE CVS CLIENT NOTES
************************

To get a checkout with the Eclipse CVS client:

  1. Select "Create a new project → From CVS checkout"

  2. Create a new location.  See the notes below for details on how to
     choose the right protocol.

  3. Browse the _modules_ available.  It will give you a list of the
     heads in the repository.  You will not be able to browse the tree
     from there.  Only the heads.

  4. Pick ‘HEAD’ when it asks what branch/tag to check out.  Untick the
     "launch commit wizard" to avoid committing the .project file.

   Protocol notes: If you are using anonymous access via pserver, just
select that.  Those using SSH access should choose the _ext_ protocol,
and configure _ext_ access on the Preferences→Team→CVS→ExtConnection
pane.  Set CVS_SERVER to "‘git cvsserver’".  Note that password support
is not good when using _ext_, you will definitely want to have SSH keys
setup.

   Alternatively, you can just use the non-standard extssh protocol that
Eclipse offer.  In that case CVS_SERVER is ignored, and you will have to
replace the cvs utility on the server with _git-cvsserver_ or manipulate
your ‘.bashrc’ so that calling _cvs_ effectively calls _git-cvsserver_.


CLIENTS KNOWN TO WORK
*********************

   • CVS 1.12.9 on Debian

   • CVS 1.11.17 on MacOSX (from Fink package)

   • Eclipse 3.0, 3.1.2 on MacOSX (see Eclipse CVS Client Notes)

   • TortoiseCVS


OPERATIONS SUPPORTED
********************

All the operations required for normal use are supported, including
checkout, diff, status, update, log, add, remove, commit.

   Most CVS command arguments that read CVS tags or revision numbers
(typically -r) work, and also support any git refspec (tag, branch,
commit ID, etc).  However, CVS revision numbers for non-default branches
are not well emulated, and cvs log does not show tags or branches at
all.  (Non-main-branch CVS revision numbers superficially resemble CVS
revision numbers, but they actually encode a git commit ID directly,
rather than represent the number of revisions since the branch point.)

   Note that there are two ways to checkout a particular branch.  As
described elsewhere on this page, the "module" parameter of cvs checkout
is interpreted as a branch name, and it becomes the main branch.  It
remains the main branch for a given sandbox even if you temporarily make
another branch sticky with cvs update -r.  Alternatively, the -r
argument can indicate some other branch to actually checkout, even
though the module is still the "main" branch.  Tradeoffs (as currently
implemented): Each new "module" creates a new database on disk with a
history for the given module, and after the database is created,
operations against that main branch are fast.  Or alternatively, -r
doesn’t take any extra disk space, but may be significantly slower for
many operations, like cvs update.

   If you want to refer to a git refspec that has characters that are
not allowed by CVS, you have two options.  First, it may just work to
supply the git refspec directly to the appropriate CVS -r argument; some
CVS clients don’t seem to do much sanity checking of the argument.
Second, if that fails, you can use a special character escape mechanism
that only uses characters that are valid in CVS tags.  A sequence of 4
or 5 characters of the form (underscore (‘"_"’), dash (‘"-"’), one or
two characters, and dash (‘"-"’)) can encode various characters based on
the one or two letters: ‘"s"’ for slash (‘"/"’), ‘"p"’ for period
(‘"."’), ‘"u"’ for underscore (‘"_"’), or two hexadecimal digits for any
byte value at all (typically an ASCII number, or perhaps a part of a
UTF-8 encoded character).

   Legacy monitoring operations are not supported (edit, watch and
related).  Exports and tagging (tags and branches) are not supported at
this stage.


CRLF Line Ending Conversions
============================

By default the server leaves the ‘-k’ mode blank for all files, which
causes the CVS client to treat them as a text files, subject to
end-of-line conversion on some platforms.

   You can make the server use the end-of-line conversion attributes to
set the ‘-k’ modes for files by setting the ‘gitcvs.usecrlfattr’ config
variable.  See gitattributes(5) for more information about end-of-line
conversion.

   Alternatively, if ‘gitcvs.usecrlfattr’ config is not enabled or the
attributes do not allow automatic detection for a filename, then the
server uses the ‘gitcvs.allBinary’ config for the default setting.  If
‘gitcvs.allBinary’ is set, then file not otherwise specified will
default to _-kb_ mode.  Otherwise the ‘-k’ mode is left blank.  But if
‘gitcvs.allBinary’ is set to "guess", then the correct ‘-k’ mode will be
guessed based on the contents of the file.

   For best consistency with _cvs_, it is probably best to override the
defaults by setting ‘gitcvs.usecrlfattr’ to true, and ‘gitcvs.allBinary’
to "guess".


DEPENDENCIES
************

_git-cvsserver_ depends on DBD::SQLite.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-daemon,  Up: Top

Name
****

git-daemon — A really simple server for Git repositories


Synopsis
********

     git daemon [–verbose] [–syslog] [–export-all]
                  [–timeout=<n>] [–init-timeout=<n>] [–max-connections=<n>]
                  [–strict-paths] [–base-path=<path>] [–base-path-relaxed]
                  [–user-path | –user-path=<path>]
                  [–interpolated-path=<pathtemplate>]
                  [–reuseaddr] [–detach] [–pid-file=<file>]
                  [–enable=<service>] [–disable=<service>]
                  [–allow-override=<service>] [–forbid-override=<service>]
                  [–access-hook=<path>] [–[no-]informative-errors]
                  [–inetd |
                   [–listen=<host_or_ipaddr>] [–port=<n>]
                   [–user=<user> [–group=<group>]]]
                  [–log-destination=(stderr|syslog|none)]
                  [<directory>…]


DESCRIPTION
***********

A really simple TCP Git daemon that normally listens on port
"DEFAULT_GIT_PORT" aka 9418.  It waits for a connection asking for a
service, and will serve that service if it is enabled.

   It verifies that the directory has the magic file
"git-daemon-export-ok", and it will refuse to export any Git directory
that hasn’t explicitly been marked for export this way (unless the
‘--export-all’ parameter is specified).  If you pass some directory
paths as _git daemon_ arguments, you can further restrict the offers to
a whitelist comprising of those.

   By default, only ‘upload-pack’ service is enabled, which serves _git
fetch-pack_ and _git ls-remote_ clients, which are invoked from _git
fetch_, _git pull_, and _git clone_.

   This is ideally suited for read-only updates, i.e., pulling from Git
repositories.

   An ‘upload-archive’ also exists to serve _git archive_.


OPTIONS
*******

‘--strict-paths’
     Match paths exactly (i.e.  don’t allow "/foo/repo" when the real
     path is "/foo/repo.git" or "/foo/repo/.git") and don’t do
     user-relative paths.  _git daemon_ will refuse to start when this
     option is enabled and no whitelist is specified.

‘--base-path=<path>’
     Remap all the path requests as relative to the given path.  This is
     sort of "Git root" - if you run _git daemon_ with
     _–base-path=/srv/git_ on example.com, then if you later try to pull
     _git://example.com/hello.git_, _git daemon_ will interpret the path
     as ‘/srv/git/hello.git’.

‘--base-path-relaxed’
     If –base-path is enabled and repo lookup fails, with this option
     _git daemon_ will attempt to lookup without prefixing the base
     path.  This is useful for switching to –base-path usage, while
     still allowing the old paths.

‘--interpolated-path=<pathtemplate>’
     To support virtual hosting, an interpolated path template can be
     used to dynamically construct alternate paths.  The template
     supports %H for the target hostname as supplied by the client but
     converted to all lowercase, %CH for the canonical hostname, %IP for
     the server’s IP address, %P for the port number, and %D for the
     absolute path of the named repository.  After interpolation, the
     path is validated against the directory whitelist.

‘--export-all’
     Allow pulling from all directories that look like Git repositories
     (have the _objects_ and _refs_ subdirectories), even if they do not
     have the _git-daemon-export-ok_ file.

‘--inetd’
     Have the server run as an inetd service.  Implies –syslog (may be
     overridden with ‘--log-destination=’).  Incompatible with –detach,
     –port, –listen, –user and –group options.

‘--listen=<host_or_ipaddr>’
     Listen on a specific IP address or hostname.  IP addresses can be
     either an IPv4 address or an IPv6 address if supported.  If IPv6 is
     not supported, then –listen=hostname is also not supported and
     –listen must be given an IPv4 address.  Can be given more than
     once.  Incompatible with ‘--inetd’ option.

‘--port=<n>’
     Listen on an alternative port.  Incompatible with ‘--inetd’ option.

‘--init-timeout=<n>’
     Timeout (in seconds) between the moment the connection is
     established and the client request is received (typically a rather
     low value, since that should be basically immediate).

‘--timeout=<n>’
     Timeout (in seconds) for specific client sub-requests.  This
     includes the time it takes for the server to process the
     sub-request and the time spent waiting for the next client’s
     request.

‘--max-connections=<n>’
     Maximum number of concurrent clients, defaults to 32.  Set it to
     zero for no limit.

‘--syslog’
     Short for ‘--log-destination=syslog’.

‘--log-destination=<destination>’
     Send log messages to the specified destination.  Note that this
     option does not imply –verbose, thus by default only error
     conditions will be logged.  The <destination> must be one of:

     stderr
          Write to standard error.  Note that if ‘--detach’ is
          specified, the process disconnects from the real standard
          error, making this destination effectively equivalent to
          ‘none’.

     syslog
          Write to syslog, using the ‘git-daemon’ identifier.

     none
          Disable all logging.

     The default destination is ‘syslog’ if ‘--inetd’ or ‘--detach’ is
     specified, otherwise ‘stderr’.

‘--user-path’
‘--user-path=<path>’
     Allow ~user notation to be used in requests.  When specified with
     no parameter, requests to git://host/~alice/foo is taken as a
     request to access _foo_ repository in the home directory of user
     ‘alice’.  If ‘--user-path=path’ is specified, the same request is
     taken as a request to access ‘path/foo’ repository in the home
     directory of user ‘alice’.

‘--verbose’
     Log details about the incoming connections and requested files.

‘--reuseaddr’
     Use SO_REUSEADDR when binding the listening socket.  This allows
     the server to restart without waiting for old connections to time
     out.

‘--detach’
     Detach from the shell.  Implies –syslog.

‘--pid-file=<file>’
     Save the process id in _file_.  Ignored when the daemon is run
     under ‘--inetd’.

‘--user=<user>’
‘--group=<group>’
     Change daemon’s uid and gid before entering the service loop.  When
     only ‘--user’ is given without ‘--group’, the primary group ID for
     the user is used.  The values of the option are given to
     ‘getpwnam(3)’ and ‘getgrnam(3)’ and numeric IDs are not supported.

     Giving these options is an error when used with ‘--inetd’; use the
     facility of inet daemon to achieve the same before spawning _git
     daemon_ if needed.

     Like many programs that switch user id, the daemon does not reset
     environment variables such as ‘$HOME’ when it runs git programs,
     e.g.  ‘upload-pack’ and ‘receive-pack’.  When using this option,
     you may also want to set and export ‘HOME’ to point at the home
     directory of ‘<user>’ before starting the daemon, and make sure any
     Git configuration files in that directory are readable by ‘<user>’.

‘--enable=<service>’
‘--disable=<service>’
     Enable/disable the service site-wide per default.  Note that a
     service disabled site-wide can still be enabled per repository if
     it is marked overridable and the repository enables the service
     with a configuration item.

‘--allow-override=<service>’
‘--forbid-override=<service>’
     Allow/forbid overriding the site-wide default with per repository
     configuration.  By default, all the services may be overridden.

‘--[no-]informative-errors’
     When informative errors are turned on, git-daemon will report more
     verbose errors to the client, differentiating conditions like "no
     such repository" from "repository not exported".  This is more
     convenient for clients, but may leak information about the
     existence of unexported repositories.  When informative errors are
     not enabled, all errors report "access denied" to the client.  The
     default is –no-informative-errors.

‘--access-hook=<path>’
     Every time a client connects, first run an external command
     specified by the <path> with service name (e.g.  "upload-pack"),
     path to the repository, hostname (%H), canonical hostname (%CH), IP
     address (%IP), and TCP port (%P) as its command-line arguments.
     The external command can decide to decline the service by exiting
     with a non-zero status (or to allow it by exiting with a zero
     status).  It can also look at the $REMOTE_ADDR and ‘$REMOTE_PORT’
     environment variables to learn about the requestor when making this
     decision.

     The external command can optionally write a single line to its
     standard output to be sent to the requestor as an error message
     when it declines the service.

<directory>
     A directory to add to the whitelist of allowed directories.  Unless
     –strict-paths is specified this will also include subdirectories of
     each named directory.


SERVICES
********

These services can be globally enabled/disabled using the command-line
options of this command.  If finer-grained control is desired (e.g.  to
allow _git archive_ to be run against only in a few selected
repositories the daemon serves), the per-repository configuration file
can be used to enable or disable them.

upload-pack
     This serves _git fetch-pack_ and _git ls-remote_ clients.  It is
     enabled by default, but a repository can disable it by setting
     ‘daemon.uploadpack’ configuration item to ‘false’.

upload-archive
     This serves _git archive –remote_.  It is disabled by default, but
     a repository can enable it by setting ‘daemon.uploadarch’
     configuration item to ‘true’.

receive-pack
     This serves _git send-pack_ clients, allowing anonymous push.  It
     is disabled by default, as there is _no_ authentication in the
     protocol (in other words, anybody can push anything into the
     repository, including removal of refs).  This is solely meant for a
     closed LAN setting where everybody is friendly.  This service can
     be enabled by setting ‘daemon.receivepack’ configuration item to
     ‘true’.


EXAMPLES
********

We assume the following in /etc/services
          $ grep 9418 /etc/services
          git             9418/tcp                # Git Version Control System

_git daemon_ as inetd server
     To set up _git daemon_ as an inetd service that handles any
     repository under the whitelisted set of directories, /pub/foo and
     /pub/bar, place an entry like the following into /etc/inetd all on
     one line:

                  git stream tcp nowait nobody  /usr/bin/git
                          git daemon --inetd --verbose --export-all
                          /pub/foo /pub/bar

_git daemon_ as inetd server for virtual hosts
     To set up _git daemon_ as an inetd service that handles
     repositories for different virtual hosts, ‘www.example.com’ and
     ‘www.example.org’, place an entry like the following into
     ‘/etc/inetd’ all on one line:

                  git stream tcp nowait nobody /usr/bin/git
                          git daemon --inetd --verbose --export-all
                          --interpolated-path=/pub/%H%D
                          /pub/www.example.org/software
                          /pub/www.example.com/software
                          /software

     In this example, the root-level directory ‘/pub’ will contain a
     subdirectory for each virtual host name supported.  Further, both
     hosts advertise repositories simply as
     ‘git://www.example.com/software/repo.git’.  For pre-1.4.0 clients,
     a symlink from ‘/software’ into the appropriate default repository
     could be made as well.

_git daemon_ as regular daemon for virtual hosts
     To set up _git daemon_ as a regular, non-inetd service that handles
     repositories for multiple virtual hosts based on their IP
     addresses, start the daemon like this:

                  git daemon --verbose --export-all
                          --interpolated-path=/pub/%IP/%D
                          /pub/192.168.1.200/software
                          /pub/10.10.220.23/software

     In this example, the root-level directory ‘/pub’ will contain a
     subdirectory for each virtual host IP address supported.
     Repositories can still be accessed by hostname though, assuming
     they correspond to these IP addresses.

selectively enable/disable services per repository
     To enable _git archive –remote_ and disable _git fetch_ against a
     repository, have the following in the configuration file in the
     repository (that is the file _config_ next to ‘HEAD’, _refs_ and
     _objects_).

                  [daemon]
                          uploadpack = false
                          uploadarch = true


ENVIRONMENT
***********

_git daemon_ will set REMOTE_ADDR to the IP address of the client that
connected to it, if the IP address is available.  REMOTE_ADDR will be
available in the environment of hooks called when services are
performed.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-describe,  Up: Top

Name
****

git-describe — Give an object a human readable name based on an
available ref


Synopsis
********

     git describe [–all] [–tags] [–contains] [–abbrev=<n>] [<commit-ish>…]
     git describe [–all] [–tags] [–contains] [–abbrev=<n>] –dirty[=<mark>]
     git describe <blob>


DESCRIPTION
***********

The command finds the most recent tag that is reachable from a commit.
If the tag points to the commit, then only the tag is shown.  Otherwise,
it suffixes the tag name with the number of additional commits on top of
the tagged object and the abbreviated object name of the most recent
commit.  The result is a "human-readable" object name which can also be
used to identify the commit to other git commands.

   By default (without –all or –tags) ‘git describe’ only shows
annotated tags.  For more information about creating annotated tags see
the -a and -s options to git-tag(1).

   If the given object refers to a blob, it will be described as
‘<commit-ish>:<path>’, such that the blob can be found at ‘<path>’ in
the ‘<commit-ish>’, which itself describes the first commit in which
this blob occurs in a reverse revision walk from HEAD.


OPTIONS
*******

<commit-ish>…
     Commit-ish object names to describe.  Defaults to HEAD if omitted.

‘--dirty[=<mark>]’
‘--broken[=<mark>]’
     Describe the state of the working tree.  When the working tree
     matches HEAD, the output is the same as "git describe HEAD". If the
     working tree has local modification "-dirty" is appended to it.  If
     a repository is corrupt and Git cannot determine if there is local
     modification, Git will error out, unless ‘–broken’ is given, which
     appends the suffix "-broken" instead.

‘--all’
     Instead of using only the annotated tags, use any ref found in
     ‘refs/’ namespace.  This option enables matching any known branch,
     remote-tracking branch, or lightweight tag.

‘--tags’
     Instead of using only the annotated tags, use any tag found in
     ‘refs/tags’ namespace.  This option enables matching a lightweight
     (non-annotated) tag.

‘--contains’
     Instead of finding the tag that predates the commit, find the tag
     that comes after the commit, and thus contains it.  Automatically
     implies –tags.

‘--abbrev=<n>’
     Instead of using the default number of hexadecimal digits (which
     will vary according to the number of objects in the repository with
     a default of 7) of the abbreviated object name, use <n> digits, or
     as many digits as needed to form a unique object name.  An <n> of 0
     will suppress long format, only showing the closest tag.

‘--candidates=<n>’
     Instead of considering only the 10 most recent tags as candidates
     to describe the input commit-ish consider up to <n> candidates.
     Increasing <n> above 10 will take slightly longer but may produce a
     more accurate result.  An <n> of 0 will cause only exact matches to
     be output.

‘--exact-match’
     Only output exact matches (a tag directly references the supplied
     commit).  This is a synonym for –candidates=0.

‘--debug’
     Verbosely display information about the searching strategy being
     employed to standard error.  The tag name will still be printed to
     standard out.

‘--long’
     Always output the long format (the tag, the number of commits and
     the abbreviated commit name) even when it matches a tag.  This is
     useful when you want to see parts of the commit object name in
     "describe" output, even when the commit in question happens to be a
     tagged version.  Instead of just emitting the tag name, it will
     describe such a commit as v1.2-0-gdeadbee (0th commit since tag
     v1.2 that points at object deadbee….).

‘--match <pattern>’
     Only consider tags matching the given ‘glob(7)’ pattern, excluding
     the "refs/tags/" prefix.  If used with ‘--all’, it also considers
     local branches and remote-tracking references matching the pattern,
     excluding respectively "refs/heads/" and "refs/remotes/" prefix;
     references of other types are never considered.  If given multiple
     times, a list of patterns will be accumulated, and tags matching
     any of the patterns will be considered.  Use ‘--no-match’ to clear
     and reset the list of patterns.

‘--exclude <pattern>’
     Do not consider tags matching the given ‘glob(7)’ pattern,
     excluding the "refs/tags/" prefix.  If used with ‘--all’, it also
     does not consider local branches and remote-tracking references
     matching the pattern, excluding respectively "refs/heads/" and
     "refs/remotes/" prefix; references of other types are never
     considered.  If given multiple times, a list of patterns will be
     accumulated and tags matching any of the patterns will be excluded.
     When combined with –match a tag will be considered when it matches
     at least one –match pattern and does not match any of the –exclude
     patterns.  Use ‘--no-exclude’ to clear and reset the list of
     patterns.

‘--always’
     Show uniquely abbreviated commit object as fallback.

‘--first-parent’
     Follow only the first parent commit upon seeing a merge commit.
     This is useful when you wish to not match tags on branches merged
     in the history of the target commit.


EXAMPLES
********

With something like git.git current tree, I get:

     [torvalds@g5 git]$ git describe parent
     v1.0.4-14-g2414721

   i.e.  the current head of my "parent" branch is based on v1.0.4, but
since it has a few commits on top of that, describe has added the number
of additional commits ("14") and an abbreviated object name for the
commit itself ("2414721") at the end.

   The number of additional commits is the number of commits which would
be displayed by "git log v1.0.4..parent".  The hash suffix is "-g" + an
unambigous abbreviation for the tip commit of parent (which was
‘2414721b194453f058079d897d13c4e377f92dc6’).  The length of the
abbreviation scales as the repository grows, using the approximate
number of objects in the repository and a bit of math around the
birthday paradox, and defaults to a minimum of 7.  The "g" prefix stands
for "git" and is used to allow describing the version of a software
depending on the SCM the software is managed with.  This is useful in an
environment where people may use different SCMs.

   Doing a _git describe_ on a tag-name will just show the tag name:

     [torvalds@g5 git]$ git describe v1.0.4
     v1.0.4

   With –all, the command can use branch heads as references, so the
output shows the reference path as well:

     [torvalds@g5 git]$ git describe --all --abbrev=4 v1.0.5^2
     tags/v1.0.0-21-g975b

     [torvalds@g5 git]$ git describe --all --abbrev=4 HEAD^
     heads/lt/describe-7-g975b

   With –abbrev set to 0, the command can be used to find the closest
tagname without any suffix:

     [torvalds@g5 git]$ git describe --abbrev=0 v1.0.5^2
     tags/v1.0.0

   Note that the suffix you get if you type these commands today may be
longer than what Linus saw above when he ran these commands, as your Git
repository may have new commits whose object names begin with 975b that
did not exist back then, and "-g975b" suffix alone may not be sufficient
to disambiguate these commits.


SEARCH STRATEGY
***************

For each commit-ish supplied, _git describe_ will first look for a tag
which tags exactly that commit.  Annotated tags will always be preferred
over lightweight tags, and tags with newer dates will always be
preferred over tags with older dates.  If an exact match is found, its
name will be output and searching will stop.

   If an exact match was not found, _git describe_ will walk back
through the commit history to locate an ancestor commit which has been
tagged.  The ancestor’s tag will be output along with an abbreviation of
the input commit-ish’s SHA-1.  If ‘--first-parent’ was specified then
the walk will only consider the first parent of each commit.

   If multiple tags were found during the walk then the tag which has
the fewest commits different from the input commit-ish will be selected
and output.  Here fewest commits different is defined as the number of
commits which would be shown by ‘git log tag..input’ will be the
smallest number of commits possible.


BUGS
****

Tree objects as well as tag objects not pointing at commits, cannot be
described.  When describing blobs, the lightweight tags pointing at
blobs are ignored, but the blob is still described as
<committ-ish>:<path> despite the lightweight tag being favorable.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-diff-files,  Up: Top

Name
****

git-diff-files — 作業ツリーとインデックス内のファイルを比較します


Synopsis
********

     git diff-files [-q] [-0|-1|-2|-3|-c|–cc] [<common diff options>] [<path>…]


DESCRIPTION
***********

作業ツリーとインデックス内のファイルを比較します。パスが指定されている場
合、それらの名前付きパスのみを比較します。それ以外の場合は、インデックス
内のすべてのエントリが比較されます。出力形式は、 _git diff-index_ や
_git diff-tree_ の場合と同じです。


OPTIONS
*******

‘-p’
‘-u’
‘--patch’
     パッチを生成します(generating patches に関するセクションを参照)。

‘-s’
‘--no-patch’
     diff出力を抑制します。デフォルトでパッチを表示する ‘git show’ のよ
     うなコマンド、または ‘--patch’ の効果をキャンセルする場合に便利です
     。

‘-U<n>’
‘--unified=<n>’
     通常の3行ではなく、<n> 行の内容でdiffを生成します。 ‘--patch’ の機
     能を含んでいます。

‘--output=<file>’
     stdout ではなく指定のファイルに出力します。

‘--output-indicator-new=<char>’
‘--output-indicator-old=<char>’
‘--output-indicator-context=<char>’
     生成されたパッチの新しい行、古い行、またはコンテキスト行を示すため
     に使用される文字を指定します。 通常、それらはそれぞれ _+_ 、 _-_ 、
     ’ ’ です。

‘--raw’
     生形式(raw format)でdiffを生成します。 これがデフォルトです。

‘--patch-with-raw’
     ‘-p --raw’ の同義語。

‘--indent-heuristic’
     diffハンクの境界をずらす(shift)ヒューリスティックを有効にして、パッ
     チを読みやすくします。 これがデフォルトです。

‘--no-indent-heuristic’
     インデントヒューリスティック(indent heuristic)を無効にします。

‘--minimal’
     より多くの時間を費やして、可能な限り最小のdiffが生成されるようにし
     ます。

‘--patience’
     "patience diff" アルゴリズムを使用してdiffを生成します。

‘--histogram’
     "histogram diff" アルゴリズムを使用してdiffを生成します。

‘--anchored=<text>’
     "anchored diff" アルゴリズムを使用してdiffを生成します。

     このオプションは複数回指定できます。

     行がソースと宛先の両方に存在し、1回だけ存在し、このテキストで始まる
     場合、このアルゴリズムは、その行が出力に削除または追加として表示さ
     れないようにします。内部で "patience diff" アルゴリズムを使用します
     。

‘--diff-algorithm={patience|minimal|histogram|myers}’
     diffアルゴリズムを選択します。その派生(variants)は以下のとおりです:

     ‘default’, ‘myers’
          基本的な貪欲な差分アルゴリズム(greedy diff algorithm)。現在、
          これがデフォルトです。

     ‘minimal’
          より多くの時間を費やして、可能な限り最小のdiffが生成されるよう
          にします。

     ‘patience’
          パッチを生成する時に "patience diff" アルゴリズムを使います。

     ‘histogram’
          このアルゴリズムは、忍耐アルゴリズム(patience algorithm)を拡張
          して、「発生率の低い共通要素をサポート」(support
          low-occurrence common elements)します。

     たとえば、 あなたが ‘diff.algorithm’ 変数をデフォルト以外の値に設定
     した上で、それでもデフォルト値を使用する場合は、
     ‘--diff-algorithm=default’ オプションを使用する必要があります。

‘--stat[=<width>[,<name-width>[,<count>]]]’
     diffstatを生成します。 デフォルトでは、必要なだけのスペースがファイ
     ル名部分に使用され、残りはグラフ部分に使用されます。最大幅はデフォ
     ルトで端末幅、または端末に接続されていない場合は80桁であり、
     ‘<width>’ で上書きできます。ファイル名部分の幅は、コンマの後に別の
     幅 ‘<name-width>’ を指定することで制限できます。グラフ部分の幅は、
     ‘--stat-graph-width=<width>’ (統計グラフを生成するすべてのコマンド
     に影響します)を使用するか、 ‘diff.statGraphWidth=<width>’ ( ‘git
     format-patch’ に影響しません)を設定することによって制限できます。
     3番目のパラメータ ‘<count>’ を指定することにより、出力を最初の
     ‘<count>’ 行に制限し、それに ‘...’ が続く形にできます。

     これらのパラメータは、 ‘--stat-width=<width>’ と
     ‘--stat-name-width=<name-width>’ と ‘--stat-count=<count>’ を使用し
     て個別に設定することもできます。

‘--compact-summary’
     ファイルの作成や削除( "new" または "gone" 。オプションでシンボリッ
     クリンクの場合は "+l" )、diffstatのモード変更(実行可能ビットを追加
     または削除する場合は、それぞれ "+x" または "-x" )など、拡張ヘッダー
     情報の要約を出力します。情報はファイル名部分とグラフ部分の間に置か
     れます。本機能は ‘--stat’ の機能を含んでいます。

‘--numstat’
     ‘--stat`に似ていますが、プログラムで処理しやすい(machine friendly)よ
     うに、追加および削除された行数を10進表記とパス名で省略形なしで表示
     します。バイナリファイルの場合、 `0 0’ の代わりに2つの ‘-’ を出力し
     ます。

‘--shortstat’
     変更されたファイルの総数と、追加および削除された行の数を含む
     ‘--stat’ 形式の最後の行のみを出力します。

‘-X[<param1,param2,...>]’
‘--dirstat[=<param1,param2,...>]’
     各サブディレクトリの相対的な変更量の分布を出力します。 ‘--dirstat’
     の動作は、パラメータのコンマ区切りリストを渡すことでカスタマイズで
     きます。デフォルトは、 ‘diff.dirstat’ 構成変数によって制御されます
     (git-config(1) 参照)。以下のパラメータを使用できます:

     ‘changes’
          ソースから削除された、または宛先に追加された行をカウントして、
          dirstat数を計算します。これは、ファイル内の純粋なコード移動の
          量を無視します。つまり、ファイル内の行の再配置は、他の変更ほど
          カウントされません。これは、パラメーターが指定されていない場合
          のデフォルトの動作です。

     ‘lines’
          通常の行ベースのdiff分析を実行し、削除/追加された行数を合計し
          て、dirstat数を計算します。 (バイナリファイルの場合、バイナリ
          ファイルには行の概念がないため、代わりに64バイトのチャンクをカ
          ウントします)。 これは ‘changes’ 動作よりも高価な ‘--dirstat’
          動作ですが、他の変更と同じようにファイル内の再配置された行をカ
          ウントします。結果の出力は、他の ‘--*stat’ オプションから得ら
          れるものと一致しています。

     ‘files’
          変更されたファイルの数を数えて、dirstat数を計算します。変更さ
          れた各ファイルは、dirstat分析で等しくカウントされます。これは
          、ファイルの内容をまったく調べる必要がないため、計算コストが最
          もかからない ‘--dirstat’ の動作です。

     ‘cumulative’
          親ディレクトリの子ディレクトリの変更も同様にカウントします。
          ‘cumulative’(累積的) を使用する場合、報告されるパーセンテージ
          の合計が100%を超える場合があることに注意してください。デフォル
          トの(非累積的な)動作は、‘noncumulative’ パラメーターで指定でき
          ます。

     <limit>
          整数パラメーターは、カットオフパーセント(デフォルトでは3%)を指
          定します。指定の割合より少ないディレクトリは、出力に表示されま
          せん。

     例: 変更されたファイルの総数の10%未満のディレクトリを無視し、親ディ
     レクトリに子ディレクトリの数を累積しながら、変更されたファイルをカ
     ウント: ‘--dirstat=files,10,cumulative’

‘--cumulative’
     ‘--dirstat=cumulative’ と同義語

‘--dirstat-by-file[=<param1,param2>...]’
     ‘--dirstat=files,param1,param2...’ と同義語

‘--summary’
     作成、名前変更、モード変更などの拡張ヘッダー情報の短い要約
     (condensed summary)を出力します。

‘--patch-with-stat’
     ‘-p --stat’ と同義語。

‘-z’
     ‘--raw’ または ‘--numstat’ または ‘--name-only’ または
     ‘--name-status’ が指定されている場合は パス名を変更せず、出力フィー
     ルドターミネータとしてNULLを使用してください。

     このオプションがないと、構成変数 ‘core.quotePath’ で説明されている
     ように、 通常の文字以外(unusual characters)を含むパス名が引用符で囲
     まれます(git-config(1) 参照)。

‘--name-only’
     変更されたファイルの名前のみを表示します。 多くの場合、ファイル名は
     UTF-8でエンコードされます。 詳細については、 git-log(1) のマニュア
     ルページにあるエンコーディングに関する議論(the discussion about
     encoding)を参照してください。

‘--name-status’
     変更されたファイルの名前とステータスのみを表示します。ステータス文
     字の意味については、 ‘--diff-filter’ オプションの説明を参照してくだ
     さい。 ‘--name-only’ と同じように、ファイル名はしばしばUTF-8でエン
     コードされます。

‘--submodule[=<format>]’
     サブモジュールの違いをどのように表示するかを指定します。
     ‘--submodule=short’ を指定する場合、 _short_ 形式が使用されます。こ
     の形式は、範囲の最初と最後にコミットの名前を表示するだけです。
     ‘--submodule’ または ‘--submodule=log’ が指定されている場合、 _log_
     形式が使用されます。この形式では、 git-submodule(1) ‘summary’ のよ
     うに範囲内のコミットが一覧表示されます。 ‘--submodule=diff’ が指定
     されている場合、 _diff_ 形式が使用されます。この形式は、コミット範
     囲間のサブモジュールの内容の変更のインラインdiffを示します。
     configオプションが設定されていない場合、デフォルトは
     ‘diff.submodule’ または _short_ 形式です。

‘--color[=<when>]’
     色付きのdiffを表示します。 ‘--color’ (つまり、 _=<when>_ ) は
     ‘--color=always’ と同じです。 _<when>_ は、 ‘always’ または ‘never’
     または ‘auto’ のいずれかになります。

‘--no-color’
     カラーdiffをオフにします。 ‘--color=never’ と同じです。

‘--color-moved[=<mode>]’
     ソースコードの移動した行を別の色にします。 <mode>は、オプションが指
     定されていない場合はデフォルトで _no_ になり、 モードが指定されてい
     ないオプションが指定されている場合は _zebra_ になります。 モードは
     以下のいずれかでなければなりません:

     no
          移動行をハイライトしません。

     default
          ‘zebra’ の同義語です。これは、将来、より賢明なモードに変更され
          る可能性があります。

     plain
          ある場所で追加され、別の場所で削除された行は、
          _color.diff.newMoved_ で色付けされます。 同様に、
          _color.diff.oldMoved_ は、差分の別の場所に追加された削除された
          行に使用されます。このモードは移動された行をピックアップします
          が、コードのブロックが順列なしで移動されたかどうかを判断するこ
          とはレビューではあまり役に立ちません。

     blocks
          少なくとも20文字の英数字の移動テキストのブロックが貪欲に検出さ
          れます。検出されたブロックは、 _color.diff.{old,new}Moved_ 色
          のいずれかを使用して色付けされます。隣接するブロックを区別する
          ことはできません。

     zebra
          移動されたテキストのブロックは、 _blocks_ モードの場合と同様に
          検出されます。 ブロックは、 _color.diff.{old,new}Moved_ 色また
          は _color.diff.{old,new}MovedAlternative_ 色のいずれかを使用し
          て色付けされます。2つの色の間の変化は、新しいブロックが検出さ
          れたことを示します。

     dimmed-zebra
          _zebra_ に似ていますが、移動されたコードの重要でない部分の追加
          の調光(dimmed)が実行されます。隣接する2つのブロックの境界線は
          興味深いと見なされ、残りは興味深いものではありません。
          ‘dimmed_zebra’ は非推奨の同義語です。

‘--no-color-moved’
     移動検出をオフにします。 これは、構成設定を上書きするために使用でき
     ます。 ‘--color-moved=no’ と同じです。

‘--color-moved-ws=<modes>’
     これは、 ‘--color-moved’ の移動検出を実行するときに空白を無視する方
     法を設定します。 これらのモードは、コンマ区切りのリストとして指定で
     きます:

     no
          移動行検出を実行するときに、空白(whitespace)を無視しない。

     ignore-space-at-eol
          行末(EOL)での空白(whitespace)の変更を無視します。

     ignore-space-change
          空白(whitespace)の数の変更は無視してください。これは、行末の空
          白(whitespace)を無視し、1つ以上の空白文字(whitespace
          characters)の他のすべてのシーケンスを同等と見なします。

     ignore-all-space
          行を比較するときは空白(whitespace)を無視します。これにより、一
          方の行に空白があり、もう一方の行に空白がない場合でも、違いは無
          視されます。

     allow-indentation-change
          最初に移動検出で空白(whitespace)を無視し、空白(whitespace)の変
          更が行ごとに同じである場合にのみ、移動されたコードブロックをブ
          ロックにグループ化します。 これは他のモードと互換性がありませ
          ん。

‘--no-color-moved-ws’
     移動検出を実行するときは、空白(whitespace)を無視しないでください。
     これは、構成設定を上書きするために使用できます。
     ‘--color-moved-ws=no’ と同じです。

‘--word-diff[=<mode>]’
     <mode> を使用して変更された単語を区切ることにより、単語のdiffを表示
     します。デフォルトでは、単語は空白で区切られます。 以下の
     ‘--word-diff-regex’ を参照してください。 <mode> のデフォルトは
     ’plain’です。 <mode> は以下のいずれかである必要があります:

     color
          変更された単語(word)を色のみを使用して強調表示します。
          ‘--color’ を意味します。

     plain
          単語を ‘[-removed-]’ および ‘{+added+}’ として表示します。 区
          切り文字が入力に表示されている場合、区切り文字をエスケープしよ
          うとしないため、出力があいまいになる可能性があります。

     porcelain
          スクリプトの使用を目的とした特別な行ベースの形式を使用します。
          追加/削除/無変更については、通常の統一されたdiff形式で印刷され
          、行の先頭の ‘+’/‘-’/‘ ‘ 文字で始まり、行の終わりまで続きます
          。入力の改行は、それ自体の行のチルダ ‘~’ で表されます。

     none
          単語(word)のdiffを再度無効にします。

     注意: 最初のモードの名前にもかかわらず、有効になっている場合、すべ
     てのモードで変更された部分を強調するために色が使用されることに注意
     してください。

‘--word-diff-regex=<regex>’
     空白以外を単語と見なす代わりに、 <regex> を使用して単語が何であるか
     を決定します。また、すでに有効になっていない限り、この機能は
     ‘--word-diff’ の機能を含んでいます。

     <regex> の重複しないマッチはすべて、単語と見なされます。これらのマ
     ッチの間のすべては空白と見なされ、違いを見つけるためとしては無視さ
     れます！ 正規表現に ‘|[^[:space:]]’ を追加して、空白以外のすべての
     文字とマッチすることを確認することをお勧めします。改行を含むマッチ
     は、改行で黙って切り捨てられます！

     たとえば、 ‘--word-diff-regex=.’ は各文字を単語として扱い、それに応
     じて文字ごとの違いを表示します。

     正規表現は、diffドライバーまたは構成オプション(configuration
     option)を介して設定することもできます。 gitattributes(5) または
     git-config(1) を参照してください。これを指定すると、diffドライバー
     または構成設定(configuration settings)が明示的にオーバーライドされ
     ます。diffドライバーは構成設定を上書きします。

‘--color-words[=<regex>]’
     ‘--word-diff=color’ に ‘--word-diff-regex=<regex>’ を加えたものに相
     当します(正規表現が指定されている場合)。

‘--no-renames’
     構成ファイルにデフォルトで指定されている場合でも、名前変更の検出を
     オフにします。

‘--[no-]rename-empty’
     名前変更ソースとして空のブロブを使用するかどうか。

‘--check’
     変更によって競合マーカーまたは空白エラーが発生した場合に警告します
     。空白エラーと見なされるものは、 ‘core.whitespace’ 構成によって制御
     されます。 デフォルトでは、末尾の空白(空白のみで構成される行を含む
     )と、行の最初のインデント内で直後にタブ文字が続くスペース文字は、空
     白エラーと見なされます。問題が見つかった場合は、ゼロ以外のステータ
     スで終了します。なお、 –exit-code とは互換性がありません。

‘--ws-error-highlight=<kind>’
     diffの ‘context’ または ‘old’ または ‘new’ 行の空白エラーを強調表示
     します。複数の値はコンマで区切られ、 ‘none’ は前の値をリセットし、
     ‘default’ はリストを ‘new’ にリセットし、 ‘all’ は old、new、
     context の省略形です。このオプションが指定されておらず、構成変数
     ‘diff.wsErrorHighlight’ が設定されていない場合、 ‘new’ 行の空白エラ
     ーのみが強調表示されます。空白エラーは ‘color.diff.whitespace’ で色
     分けされています。

‘--full-index’
     パッチ形式の出力を生成するときは、最初の一握りの文字(first handful
     of characters)の代わりに、「インデックス」行にイメージ前およびイメ
     ージ後の完全ブロブオブジェクト名を表示します。

‘--binary’
     ‘--full-index’ に加えて、 ‘git-apply’ で適用できるバイナリ差分を出
     力します。 ‘--patch’ の機能を含んでいます。

‘--abbrev[=<n>]’
     完全な40バイトの16進オブジェクト名をdiff-raw形式の出力とdiff-treeヘ
     ッダー行に表示する代わりに、オブジェクトを一意に参照する、少なくと
     も _<n>_ 桁の16進数の長さの最短のプレフィックスを表示します。diffパ
     ッチ出力形式では、 ‘--full-index’ が優先されます。つまり、
     ‘--full-index’ が指定されている場合、 ‘--abbrev’ に関係なく、完全な
     ブロブ名が表示されます。デフォルト以外の桁数は、 ‘--abbrev=<n>’ で
     指定できます。

‘-B[<n>][/<m>]’
‘--break-rewrites[=[<n>][/<m>]]’
     完全な書き換えの変更を削除と作成のペアに分割します。これには以下の
     2つの目的があります:

     これは、ファイルの完全な書き換えに相当する変更が、コンテキストとし
     てテキストで一致する非常に少数の行と混合された一連の削除と挿入とし
     てではなく、古いものすべての単一の削除とそれに続く すべての新しいも
     のを1回挿入し、数値 ‘m’ が -B オプションのこの側面を制御します(デフ
     ォルトは60%)。 ‘-B/70%’ は、Gitがそれを完全な書き換えと見なすために
     、元の30%未満が結果に残る必要があることを指定します(つまり、結果の
     パッチは、コンテキスト行と混合された一連の削除と挿入になります)。

     -M と一緒に使用すると、完全に書き換えられたファイルも名前変更のソー
     スと見なされ(通常、 -M は、消えたファイルのみを名前変更のソースと見
     なします)、数 ‘n’ が -Bオプションのこの側面を制御します(デフォルト
     は50%)。 ‘-B20%’ は、ファイルのサイズの20%以上と比較して、追加およ
     び削除を伴う変更が、別のファイルへの名前変更の可能なソースとして取
     得される資格があることを指定します。

‘-M[<n>]’
‘--find-renames[=<n>]’
     名前の変更(renames)を検知する。 ‘n’ が指定されている場合、それは類
     似性インデックスのしきい値です (つまり、ファイルのサイズと比較した
     追加/削除の量)。 たとえば、 ‘-M90%’ は、ファイルの90%以上が変更され
     ていない場合、 Gitが削除/追加のペアを名前変更と見なす必要があること
     を意味します。 ‘%’ 記号がない場合、数値は小数として読み取られ、その
     前に小数点が付きます。 つまり、 ‘-M5’ は0.5になるため、‘-M50%’ と同
     じになります。 同様に、 ‘-M05’ は ‘-M5%’ と同じです。 検出を正確な
     名前変更に制限するには、 ‘-M100%’ を使用します。 デフォルトの類似性
     インデックスは50%です。

‘-C[<n>]’
‘--find-copies[=<n>]’
     名前と同様コピーを検出します。 ‘--find-copies-harder’ ‘も参照してく
     ださい。 `n’ を指定すると、 ‘-M<n>’ と同じ意味になります。

‘--find-copies-harder’
     パフォーマンス上の理由から、デフォルトでは、 ‘-C’ オプションは、コ
     ピーの元のファイルが同じ変更組(changeset)で変更された場合にのみコピ
     ーを検索します。このフラグにより、コマンドは変更されていないファイ
     ルをコピー元の候補として検査します。これは大規模なプロジェクトでは
     非常にコストのかかる操作であるため、注意して使用してください。 複数
     の ‘-C’ オプションを指定しても同じ効果があります。

‘-D’
‘--irreversible-delete’
     削除するプレイメージ(preimage)を省略します。つまり、ヘッダーのみを
     出力し、プレイメージと ‘/dev/null’ の差分は出力しません。結果のパッ
     チは、 ‘patch’ または ‘git apply’ で適用されることを意図していませ
     ん。これは、変更後にテキストを確認することに集中したい人のためだけ
     のものです。さらに、出力には明らかに、そのようなパッチを手動でも逆
     に適用するのに十分な情報が不足しているため、オプションの名前が付け
     られています。

     ‘-B’ と併用する場合は、削除/作成ペアの削除部分のプリイメージ
     (preimage)も省略してください。

‘-l<num>’
     ‘-M’ および ‘-C’ オプションには、名前変更/コピーのサブセットを安価
     に検出できるいくつかの準備手順が含まれ、その後に、残りのすべてのペ
     アになっていない宛先をすべての関連ソースと比較する徹底的なフォール
     バック部分が続きます。(名前の変更の場合、残りのペアになっていないソ
     ースのみが関係します。コピーの場合、すべての元のソースが関係します
     )。Nのソースと宛先の場合、この徹底的なチェックのコストは O(N^2) で
     す。このオプションは、関係するソース/宛先ファイルの数が指定された数
     を超えた場合に、名前変更/コピー検出の完全な部分が実行されないように
     します。デフォルトは diff.renameLimit です。 値0は無制限として扱わ
     れることに注意してください。

‘--diff-filter=[(A|C|D|M|R|T|U|X|B)...[*]]’
     追加(Add)・コピー(Copy)・削除(Delete)・変更(Modify)・名前変更
     (Rename)されたファイル、タイプが変更されたファイル(T)、マージされて
     いないファイル(U)、不明なファイル(X)、またはペアリングが壊れている
     ファイル(B)のみを選択します。フィルタ文字(無しも含む)の任意の組み合
     わせを使用できます。 組み合わせに ‘*’ (全てまたは無し)が追加される
     と、比較で他の基準に一致するファイルがある場合、すべてのパスが選択
     されます。 他の基準に一致するファイルがない場合、何も選択されません
     。

     また、逆に、除外したい時はこれらの各大文字指定を小文字にして指定し
     ます。例えば ‘--diff-filter=ad’ は、追加および削除されたパスを除外
     します。

     注意:すべてのdiffがすべてのタイプを特徴とするわけではないことに注意
     してください。 たとえば、インデックスから作業ツリーへのdiffにエント
     リを追加することはできません(diffに含まれるパスのセットは、インデッ
     クスの内容によって制限されるため)。 同様に、これらのタイプの検出が
     無効になっている場合、コピーおよび名前変更されたエントリは表示され
     ません。

‘-S<string>’
     ファイル内の指定の文字列(つまり、 addition 、deletion)の出現回数の
     差分を調べます。スクリプターが使用することを目的としています。

     (構造体など)コードの正確なブロックを探していて、そのブロックが最初
     に作成されてからの履歴を知りたい場合に便利です。この機能を繰り返し
     使用して、プリイメージ(preimage)内の興味深いブロックを ‘-S’ にフィ
     ードバックし、そしてあなたはそれをブロックの最初のバージョンを取得
     するまで続けます。

     バイナリファイルも検索されます。

‘-G<regex>’
     パッチテキストに <regex> にマッチする 追加/削除 された行が含まれて
     いる差分を探します。

     ‘-S<regex>-pickaxe-regex’ と ‘-G<regex>’ の違いを説明するために、同
     じファイル内で以下のdiffを使用してコミットすることを検討してくださ
     い:

          +    return frotz(nitfol, two->ptr, 1, 0);
          ...
          -    hit = frotz(nitfol, mf2.ptr, 1, 0);

     ‘git log -G"frotz\(nitfol"’ はこのコミットを表示しますが、 ‘git log
     -S"frotz\(nitfol" --pickaxe-regex’ は表示しません(その文字列の出現
     回数が変更されなかったため)。

     ‘--text’ が提供されていない限り、 textconv フィルターのないバイナリ
     ファイルのパッチは無視されます。

     詳細については gitdiffcore(7) の _pickaxe_ エントリを参照してくださ
     い。

‘--find-object=<object-id>’
     指定されたオブジェクトの出現回数を変更する違いを探します。 ‘-S’ と
     同様に、引数だけが異なり、特定の文字列ではなく特定のオブジェクト
     IDを検索します。

     オブジェクトは、ブロブまたはサブモジュールのコミットにすることがで
     きます。 これは、 ‘git-log’ の ‘-t’ オプションがツリーも探すことを
     意味します。

‘--pickaxe-all’
     ‘-S’ または ‘-G’ が変更を見つけたら、 <string> の変更を含むファイル
     だけでなく、その変更セット(changeset)のすべての変更を表示します。

‘--pickaxe-regex’
     ‘-S’ に指定した <string> を拡張POSIX正規表現として扱います。

‘-O<orderfile>’
     ファイルが出力に表示される順序を制御します。これは ‘diff.orderFile’
     構成変数をオーバーライドします(git-config(1) 参照)。
     ‘diff.orderFile’ をキャンセルするには、 ‘-O/dev/null’ を使用します
     。

     出力順序は、 <orderfile> 内のglobパターンの順序によって決定されます
     。最初のパターンに一致するパス名を持つすべてのファイルが最初に出力
     され、2番目のパターンに一致する(ただし最初のパターンには一致しない
     )パス名を持つすべてのファイルが次に出力されます。パス名がどのパター
     ンとも一致しないすべてのファイルは、ファイルの最後に暗黙のすべて一
     致パターンがあるかのように、最後に出力されます。複数のパス名のラン
     クが同じである場合(同じパターンに一致するが、以前のパターンには一致
     しない)、相互の出力順序は通常の順序です。

     <orderfile> は以下のとおりパースされます:

        • 空白行は無視されるため、読みやすくするための区切りとして使用で
          きます。

        • ハッシュ ("‘#’") で始まる行は無視されるため、コメントに使用で
          きます。 パターンがハッシュで始まる場合は、パターンの先頭にバ
          ックスラッシュ(訳注:日本では環境により円記号)("‘\’") を追加し
          ます。

        • 他の各行には、単一のパターンが含まれています。

     パターンは、 FNM_PATHNAME フラグなしで fnmatch(3) に使用されるパタ
     ーンと同じ構文とセマンティクスを持ちますが、最終的なパス名コンポー
     ネントをいくつも削除するとパターンと一致する場合、パス名もパターン
     と一致する点が異なります。 たとえば、パターン "‘foo*bar’" は、
     "‘fooasdfbar’" および "‘foo/bar/baz/asdf’" と一致しますが、
     "‘foobarx’" とは一致しません。

‘--skip-to=<file>’
‘--rotate-to=<file>’
     名前付き <file> の前のファイルを出力から破棄するか(スキップして)、
     出力の最後に移動させます(ローテーションさせます)。 これらは主に
     ‘git difftool’ コマンドを使用するために考案されたものであり、それ以
     外の場合はあまり役に立たない可能性があります。

‘-R’
     2つの入力を交換します。 つまり、インデックスまたはディスク上のファ
     イルとツリーの内容の違いを表示します。

‘--relative[=<path>]’
‘--no-relative’
     プロジェクトのサブディレクトリから実行する場合、このオプションを使
     用して、ディレクトリ外の変更を除外し、それに関連するパス名を表示す
     るように指示できます。サブディレクトリ(ベアリポジトリなど)にいない
     場合は、引数として <path> を指定することで、出力を作成するサブディ
     レクトリに名前を付けることができます。 ‘--no-relative`は、
     `diff.relative’ 設定オプションと以前の ‘--relative’ の両方を打ち消
     すために使用できます。

‘-a’
‘--text’
     すべてのファイルをテキストとして扱います。

‘--ignore-cr-at-eol’
     比較を行うときは、行末のキャリッジリターン(carriage-return)を無視し
     ます。

‘--ignore-space-at-eol’
     行末(EOL)での空白(whitespace)の変更を無視します。

‘-b’
‘--ignore-space-change’
     空白(whitespace)の数の変更は無視してください。これは、行末の空白
     (whitespace)を無視し、1つ以上の空白文字(whitespace characters)の他
     のすべてのシーケンスを同等と見なします。

‘-w’
‘--ignore-all-space’
     行を比較するときは空白を無視します。 これにより、一方の行に空白があ
     り、もう一方の行に空白がない場合でも、違いは無視されます。

‘--ignore-blank-lines’
     全て空白の行の変更は無視します。

‘-I<regex>’
‘--ignore-matching-lines=<regex>’
     すべての行が <regex> にマッチする変更を無視します。このオプションは
     複数回指定できます。

‘--inter-hunk-context=<lines>’
     指定された行数までの差分ハンク間のコンテキストを表示し、それによっ
     て互いに近いハンクを融合します。デフォルトは
     ‘diff.interHunkContext’ で、設定オプションが設定されていない場合は
     0です。

‘-W’
‘--function-context’
     関数全体を各変更のコンテキスト行として表示します。関数名は、 ‘git
     diff’ がパッチハンクヘッダーを処理するのと同じ方法で決定されます
     (gitattributes(5) の _Defining a custom hunk-header_ を参照)。

‘--exit-code’
     diff(1）と同様のコードでプログラムを終了させます。つまり、違いがあ
     った場合は 1 で終了し、 0 は違いがないことを意味します。

‘--quiet’
     プログラムのすべての出力を無効にします。 ‘--exit-code’ を意味します
     。

‘--ext-diff’
     外部diffヘルパーの実行を許可します。 gitattributes(5) を使用して外
     部diffドライバーを設定する場合は、 git-log(1) およびその仲間と一緒
     にこのオプションを使用する必要があります。

‘--no-ext-diff’
     外部diffドライバーを禁止します。

‘--textconv’
‘--no-textconv’
     バイナリファイルを比較するときに、外部テキスト変換フィルターの実行
     を許可(または禁止)します。 詳細については、 gitattributes(5) を参照
     してください。textconvフィルターは通常、一方向の変換であるため、結
     果のdiffは人間の消費に適していますが、適用(apply)することはできませ
     ん。このため、textconvフィルターは、 git-diff(1) および git-log(1)
     に対してのみデフォルトで有効になりますが、 git-format-patch(1) また
     はdiff配管コマンドに対しては有効になりません。

‘--ignore-submodules[=<when>]’
     diff生成のサブモジュールへの変更を無視します。 <when> は、 none・
     untracked・dirty・allのいずれかになります。これがデフォルトです。
     noneを使用すると、追跡されていないファイルまたは変更されたファイル
     が含まれている場合、またはそのHEADがスーパープロジェクトに記録され
     ているコミットと異なる場合にサブモジュールが変更されたと見なされ、
     git-config(1) または gitmodules(5) の ignoreオプションの設定をオー
     バーライドするために使用できます。untrackedが使用されている場合、サ
     ブモジュールには追跡されていないコンテンツのみが含まれている場合、
     サブモジュールはダーティとは見なされません(ただし、変更されたコンテ
     ンツはスキャンされます)。「dirty」を使用すると、サブモジュールの作
     業ツリーへのすべての変更が無視され、スーパープロジェクトに格納され
     ているコミットへの変更のみが表示されます(これは1.7.0までの動作でし
     た)。「all」を使用すると、サブモジュールへのすべての変更が非表示に
     なります。

‘--src-prefix=<prefix>’
     "a/" の代わりに、与えられたソースプレフィックス(source prefix)を表
     示します。

‘--dst-prefix=<prefix>’
     "b/" の代わりに、指定された宛先プレフィックス(destination prefix)を
     表示します。

‘--no-prefix’
     送信元(source)または宛先(destination)のプレフィックスを表示しません
     。

‘--line-prefix=<prefix>’
     出力のすべての行に追加のプレフィックスを付加します。

‘--ita-invisible-in-index’
     デフォルトでは、 "git add -N" によって追加されたエントリは、 "git
     diff" に既存の空のファイルとして表示され、 "git diff –cached" に新
     しいファイルとして表示されます。このオプションを使用すると、エント
     リは "git diff" では新しいファイルとして表示され、 "git diff
     –cached" では存在しません。このオプションは、
     ‘--ita-visible-in-index’ で元に戻すことができます。どちらのオプショ
     ンも実験的なものであり、将来削除される可能性があります。

   これらの一般的なオプションの詳細については、 gitdiffcore(7) も参照し
てください。

‘-1 --base’
‘-2 --ours’
‘-3 --theirs’
‘-0’
     "base" バージョン または "our branch" または "their branch" とそれ
     ぞれ異なります。これらのオプションを使用すると、マージされたエント
     リのdiffは表示されません。

     デフォルトでは、 our branch (-2) とクリーンに解決されたパスに対して
     diffを取ります。オプション -0 を指定すると、マージされていないエン
     トリのdiff出力を省略し、 "Unmerged" と表示することができます。

‘-c’
‘--cc’
     これは、ステージ2（ブランチ）、ステージ3（ブランチ）、および作業ツ
     リーファイルを比較し、 _diff-tree_ がこれらのフラグを使用してマージ
     コミットを示すのと同様に、結合された差分を出力します。

‘-q’
     存在しないファイルでも黙っています


Raw output format
*****************

‘git-diff-index’ と ‘git-diff-tree’ と ‘git-diff-files’ と ‘git diff
--raw’ からの生の出力形式は非常に似ています。

   これらのコマンドはすべて、2つのセットを比較します。なお、比較されるも
のは異なります:

git-diff-index <tree-ish>
     <tree-ish> とファイルシステム上のファイルを比較します。

git-diff-index –cached <tree-ish>
     <tree-ish> とインデックスを比較します。

git-diff-tree [-r] <tree-ish-1> <tree-ish-2> [<pattern>…]
     2つの引数で指定されたツリーを比較します。

git-diff-files [<pattern>…]
     インデックスとファイルシステム上のファイルを比較します。

   "git-diff-tree" コマンドは、比較対象のハッシュ値を出力することで出力
を開始します。その後、すべてのコマンドは、変更されたファイルごとに1つの
出力行を出力します。

   出力行は以下のようにフォーマットされます:

     in-place edit  :100644 100644 bcd1234 0123456 M file0
     copy-edit      :100644 100644 abcd123 1234567 C68 file1 file2
     rename-edit    :100644 100644 abcd123 1234567 R86 file1 file3
     create         :000000 100644 0000000 1234567 A file4
     delete         :100644 000000 1234567 0000000 D file5
     unmerged       :000000 000000 0000000 0000000 U file6

   つまり、左から右へ:

  1. コロン(:)

  2. "src" のモード。作成(creation)またはマージされていない(unmerged)場
     合は 000000

  3. 空白

  4. "dst" のモード。作成(creation)またはマージされていない(unmerged)場
     合は 000000

  5. 空白

  6. "src" のsha1。作成(creation)またはマージされていない(unmerged)場合
     は 0{40}

  7. 空白

  8. "dst" のsha1。作成(creation)またはマージされていない(unmerged)また
     は作業ツリーにある場合は 0{40}

  9. 空白

  10. ステータスの後に、オプションの「スコア数」("score" number)が続きま
     す

  11. ‘-z’ オプションが使用されている場合はタブまたはNUL

  12. "src" のパス

  13. ‘-z’ オプションが使用されている場合タブまたはNUL。ステータスCまた
     はRにのみ存在します

  14. "dst" のパス。ステータスCまたはRにのみ存在します

  15. LFでレコードを終了します。 ‘-z’ オプションが使用されている場合は
     NULでレコードを終了します。

   ステータス文字の種類は以下のとおり:

   • A: ファイルの追加

   • C: ファイルを新しいファイルにコピー

   • D: ファイルの削除

   • M: ファイルの内容やモードの変更

   • R: ファイル名の名前変更

   • T: ファイルのタイプを変更

   • U: ファイルはマージされていません(コミットする前にマージを完了する
     必要があります)

   • X: 「不明な」変更タイプ(おそらくバグです。報告してください)

   ステータス文字CとRの後には常にスコアが続きます(移動またはコピーのソー
スとターゲットの間の類似性のパーセンテージを示します)。ステータス文字Mの
後には、ファイルの書き換えのスコア(非類似度のパーセンテージを示す)が続く
場合があります。

   <sha1> は、ファイルがファイルシステム上で新規で、インデックスと同期し
ていない場合、すべて0として表示されます。

   例:

     :100644 100644 5be4a4a 0000000 M file.c

   ‘-z`オプションを指定しない場合、構成変数 `core.quotePath’ で説明され
ているように、通常の文字以外(unusual characters)を含むパス名が引用符で囲
まれます(git-config(1) 参照)。 ‘-z’ を使用すると、ファイル名がそのまま出
力され、行はNULバイトで終了します。


diff format for merges
**********************

"git-diff-tree" と "git-diff-files" と "git-diff –raw" は、 ‘-c’ または
‘--cc’ オプションを使用して、マージコミットに対してもdiff出力を生成でき
ます。出力は、以下の点で上記の形式とは異なります:

  1. 親ごとにコロン(:)があります

  2. より多くの "src" モードと "src" sha1があります

  3. statusは、各親のステータス文字を連結したものです

  4. オプションの「スコア数」はありません

  5. ファイルのタブ区切りのパス名

   ‘-c’ および ‘ -cc‘ の場合、履歴のいずれかの側でファイルの名前が変更さ
れた場合でも、宛先(dst)または最終パスのみが表示されます。
‘--combined-all-paths’ を使用すると、各親のパスの名前が表示され、それに
続いてマージコミットのパスの名前が表示されます。

   例: ‘--combined-all-paths’ を使用しない ‘-c’ および ‘--cc’ の場合:

     ::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c
     ::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       bar.sh
     ::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       phooey.c

   例: ‘-c’ または ‘--cc’ のいずれかに ‘--combined-all-paths’ が追加され
た場合:

     ::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c  desc.c  desc.c
     ::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       foo.sh  bar.sh  bar.sh
     ::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       fooey.c fuey.c  phooey.c

   注意: ’combined diff’は、すべての親から変更されたファイルのみをリスト
することに注意してください。


Generating patch text with -p
*****************************

git-diff(1) 、 git-log(1) 、 git-show(1) 、 git-diff-index(1) 、
git-diff-tree(1) 、 git-diff-files(1) に ‘-p’ オプションを付けて実行する
とパッチテキストを生成します。パッチテキストの作成は、
‘GIT_EXTERNAL_DIFF’ と ‘GIT_DIFF_OPTS’ 環境変数( git(1) 参照)、および
‘diff’ 属性( gitattributes(5) 参照)を介してカスタマイズできます。

   -pオプションが生成するものは、従来のdiff形式とは少々異なります:

  1. 先行して、以下のような "git diff" ヘッダーがあります:

          diff --git a/file1 b/file2

     名前の変更/コピーが含まれない限り、 ‘a/’ と ‘b/’ のファイル名は同じ
     です。 特に、作成または削除の場合でも、 ‘a/’ または ‘b/’ ファイル名
     の代わりに ‘/dev/ null’ が使用されることはありません。

     名前変更/コピーが含まれる場合、 ‘file1’ と‘file2‘ は、それぞれ名前
     変更/コピーのソースファイルの名前と、名前変更/コピーが生成するファ
     イルの名前を示します。

  2. その後に、1つ以上の拡張ヘッダー行達が続きます:

          old mode <mode>
          new mode <mode>
          deleted file mode <mode>
          new file mode <mode>
          copy from <path>
          copy to <path>
          rename from <path>
          rename to <path>
          similarity index <number>
          dissimilarity index <number>
          index <hash>..<hash> <mode>

     ファイルモードは、ファイルタイプとファイル許可ビットを含む6桁の8進
     数として出力されます。

     拡張ヘッダーのパス名には、 ‘a/’ および ‘b/’ プレフィックスは含まれ
     ません。

     類似インデックス(similarity index)は変更されていない行のパーセンテ
     ージであり、非類似インデックス(dissimilarity index)は変更された行の
     パーセンテージです。これは切り捨てられた整数であり、その後にパーセ
     ント記号が続きます。したがって、100％の類似インデックス値は2つの等
     しいファイルを表し、100％の非類似性は古いファイルから新しいファイル
     に移行された行がないことを意味します。

     インデックス行には、変更前後のブロブオブジェクト名が含まれます。
     <mode> は、ファイルモードが変更されない場合に含まれます。それ以外の
     場合、別々の行は古いモードと新しいモードを示します。

  3. 通常の文字でないキャラクタ(\"unusual\" characters)を含むパス名は、
     構成変数 ‘core.quotePath’ で説明されているように引用符で囲まれてい
     ます( git-config(1)参照)。

  4. 出力内のすべての ‘file1’ ファイルはコミット前のファイルを参照し、す
     べての ‘file2’ ファイルはコミット後のファイルを参照します。各変更を
     各ファイルに順番に適用するのは誤りです。たとえば、以下のパッチはaと
     bを交換します:

          diff --git a/a b/b
          rename from a
          rename to b
          diff --git a/b b/a
          rename from b
          rename to a

  5. ハンクのヘッダーには、ハンクが適用される関数の名前が記載されていま
     す。特定の言語に合わせてこれを調整する方法の詳細については、
     gitattributes(5) の "Defining a custom hunk-header" を参照してくだ
     さい。


Combined diff format
********************

diffを生成するコマンドは、マージを表示するときに ‘-c’ または ‘--cc’ オプ
ションを使用して「合成diff」(combined diff)を生成できます。これは
git-diff(1) または git-show(1) でのマージを表示するときのデフォルトの形
式です。 注意: これらのコマンドのいずれかに適切な ‘--diff-merges’ オプシ
ョンを指定して、特定の形式で差分を強制的に生成できることにも注意してくだ
さい。

   合成diff形式は以下のようになります:

     diff --combined describe.c
     index fabadb8,cc95eb0..4866510
     --- a/describe.c
     +++ b/describe.c
     @@@ -98,20 -98,12 +98,20 @@@
             return (a_date > b_date) ? -1 : (a_date == b_date) ? 0 : 1;
       }

     - static void describe(char *arg)
      -static void describe(struct commit *cmit, int last_one)
     ++static void describe(char *arg, int last_one)
       {
      +      unsigned char sha1[20];
      +      struct commit *cmit;
             struct commit_list *list;
             static int initialized = 0;
             struct commit_name *n;

      +      if (get_sha1(arg, sha1) < 0)
      +              usage(describe_usage);
      +      cmit = lookup_commit_reference(sha1);
      +      if (!cmit)
      +              usage(describe_usage);
      +
             if (!initialized) {
                     initialized = 1;
                     for_each_ref(get_name);

  1. まず "git diff" ヘッダーがあり、以下のようになります( ‘-c’ オプショ
     ンが使用されている場合):

          diff --combined file

     または、以下のようになります( ‘--cc’ オプションが使用されている場合
     ):

          diff --cc file

  2. その後に1つ以上の拡張ヘッダー行が続きます(以下の例は、2つの親とのマ
     ージを示しています):

          index <hash>,<hash>..<hash>
          mode <mode>,<mode>..<mode>
          new file mode <mode>
          deleted file mode <mode>,<mode>

     ‘mode <mode>,<mode>..<mode>’ 行は、<mode> の少なくとも1つが他の
     <mode> と異なる場合にのみ表示されます。検出されたコンテンツの移動
     (名前の変更とコピーの検出)に関する情報を含む拡張ヘッダーは、2つの
     <tree-ish> のdiffで機能するように設計されており、合成diff形式では使
     用されません。

  3. その後に2行の from-file/to-file ヘッダーが続きます

          --- a/file
          +++ b/file

     従来の統一diff形式の2行ヘッダーと同様に、 ‘/dev/null’ は、作成また
     は削除されたファイルを通知するために使用されます。

     ただし、 –combined-all-paths オプションが指定されている場合、2行の
     from-file/to-file の代わりに、 N+1 行の from-file/to-file ヘッダー
     が取得されます。ここで、 N はマージコミットの親の数です。

          --- a/file
          --- a/file
          --- a/file
          +++ b/file

     この拡張形式は、名前変更またはコピー検出がアクティブな場合に役立ち
     、別の親のファイルの元の名前を確認できます。

  4. チャンクヘッダーの形式が変更され、誤って ‘patch-p1’ にフィードされ
     るのを防ぎます。合成差分形式は、マージコミットの変更を確認するため
     に作成されたものであり、適用されることを意図したものではありません
     。この変更は、拡張された「インデックス」ヘッダーの変更に似ています:

          @@@ <from-file-range> <from-file-range> <to-file-range> @@@

     合成diff形式のチャンクヘッダーには親の数+1の ‘@’ 文字があります。

   従来の統一diff形式とは異なり、2つのファイルAとBが、 ‘-’ (マイナスは
Aに表示されますが、Bでは削除されます) または ‘+’ (プラスはAにはありませ
んが、Bには追加されます)、または ‘" "’（スペースは変更なし) プレフィック
スを持つ単一の列で表示される場合、この形式は2つ以上のファイル file1,
file2,… を1つのファイルXと比較し、Xが各 fileN とどのように異なるかを示し
ます。ファイルNごとに1つの列が出力行の前に追加され、Xの行が出力行とどの
ように異なるかを示します。

   列Nの ‘-’ 文字は、その行が fileN に表示されているが、結果には表示され
ていないことを意味します。 列Nの ‘+’ 文字は、結果に行が表示され、 fileN
にその行がないことを意味します(つまり、その親の観点から見て行が追加され
たことを示す)。

   上記の出力例では、関数のシグネチャが両方のファイルから見て変更されて
います(したがって、 file1 と file2 の両方から2つの ‘-’ が削除され、さら
に ‘++’ が追加されたため、 file1 と file2 のどちらにも表示されません)。
また、他の8行は file1 と同じですが、 file2 には表示されません(したがって
、接頭辞として ‘+’ が付けられます)。

   ‘git diff-tree -c’ で表示される場合、マージコミットの親をマージ結果と
比較します(つまり、 file1..fileN が親です)。 ‘git diff-files -c’ で表示
される場合、2つの未解決のマージ親を作業ツリーファイルと比較します(つまり
、 file1 はステージ2、別名「私たちのバージョン」、 file2 はステージ3、別
名「彼らのバージョン」です)。


other diff formats
******************

‘--summary’ オプションは、新しく追加、削除、名前変更、およびコピーされた
ファイルを説明します。‘--stat’ オプションは、 diffstat(1) グラフ を出力
に追加します。これらのオプションは、 ‘-p’ などの他のオプションと組み合わ
せることができ、人間が読むことを目的としています。

   名前の変更またはコピーを伴う変更を表示する場合、 ‘--stat’ 出力は、パ
ス名の共通のプレフィックスとサフィックスを組み合わせることにより、パス名
をコンパクトにフォーマットします。 たとえば、4行を変更(modify)しながら
‘arch/i386/Makefile’ を ‘arch/x86/Makefile’ に移動(move)する変更
(change)は、次のように表示されます:

     arch/{i386 => x86}/Makefile    |   4 +--

   ‘--numstat’ オプションは diffstat(1) 情報を提供しますが、人間ではなく
ソフトウェアで読むのを容易にするように設計されています。 ‘--numstat’ 出
力のエントリは以下のようになります:

     1       2       README
     3       1       arch/{i386 => x86}/Makefile

   この形式は、左から右へ:

  1. 追加行数

  2. タブ

  3. 削除行数

  4. タブ

  5. パス名(おそらく rename/copy 情報を含む)

  6. 改行

   ‘-z’ 出力オプションが有効な場合、出力は以下のようにフォーマットされま
す:

     1       2       README NUL
     3       1       NUL arch/i386/Makefile NUL arch/x86/Makefile NUL

   これは:

  1. 追加行数

  2. タブ

  3. 削除行数

  4. タブ

  5. NUL(rename/copy された場合のみ存在します)

  6. プリイメージのパス名

  7. NUL(rename/copy された場合のみ存在します)

  8. ポストイメージのパス名(rename/copy された場合のみ存在します)

  9. NUL

   名前が変更された場合のプリイメージパスの前の追加の ‘NUL’ は、出力を読
み取るスクリプトが、先読みせずに、読み取られている現在のレコードがシング
ルパスレコードであるか、名前変更/コピーレコードであるか、を判断できるよ
うにするためです。追加および削除された行を読み取った後、 ‘NUL’ まで読み
取るとパス名が生成されますが、それが ‘NUL’ の場合、レコードには2つのパス
が表示されます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-diff-index,  Up: Top

Name
****

git-diff-index — Compare a tree to the working tree or index


Synopsis
********

     git diff-index [-m] [–cached] [–merge-base] [<common diff options>] <tree-ish> [<path>…]


DESCRIPTION
***********

Compares the content and mode of the blobs found in a tree object with
the corresponding tracked files in the working tree, or with the
corresponding paths in the index.  When <path> arguments are present,
compares only paths matching those patterns.  Otherwise all tracked
files are compared.


OPTIONS
*******

‘-p’
‘-u’
‘--patch’
     パッチを生成します(generating patches に関するセクションを参照)。

‘-s’
‘--no-patch’
     diff出力を抑制します。デフォルトでパッチを表示する ‘git show’ のよ
     うなコマンド、または ‘--patch’ の効果をキャンセルする場合に便利です
     。

‘-U<n>’
‘--unified=<n>’
     通常の3行ではなく、<n> 行の内容でdiffを生成します。 ‘--patch’ の機
     能を含んでいます。

‘--output=<file>’
     stdout ではなく指定のファイルに出力します。

‘--output-indicator-new=<char>’
‘--output-indicator-old=<char>’
‘--output-indicator-context=<char>’
     生成されたパッチの新しい行、古い行、またはコンテキスト行を示すため
     に使用される文字を指定します。 通常、それらはそれぞれ _+_ 、 _-_ 、
     ’ ’ です。

‘--raw’
     生形式(raw format)でdiffを生成します。 これがデフォルトです。

‘--patch-with-raw’
     ‘-p --raw’ の同義語。

‘--indent-heuristic’
     diffハンクの境界をずらす(shift)ヒューリスティックを有効にして、パッ
     チを読みやすくします。 これがデフォルトです。

‘--no-indent-heuristic’
     インデントヒューリスティック(indent heuristic)を無効にします。

‘--minimal’
     より多くの時間を費やして、可能な限り最小のdiffが生成されるようにし
     ます。

‘--patience’
     "patience diff" アルゴリズムを使用してdiffを生成します。

‘--histogram’
     "histogram diff" アルゴリズムを使用してdiffを生成します。

‘--anchored=<text>’
     "anchored diff" アルゴリズムを使用してdiffを生成します。

     このオプションは複数回指定できます。

     行がソースと宛先の両方に存在し、1回だけ存在し、このテキストで始まる
     場合、このアルゴリズムは、その行が出力に削除または追加として表示さ
     れないようにします。内部で "patience diff" アルゴリズムを使用します
     。

‘--diff-algorithm={patience|minimal|histogram|myers}’
     diffアルゴリズムを選択します。その派生(variants)は以下のとおりです:

     ‘default’, ‘myers’
          基本的な貪欲な差分アルゴリズム(greedy diff algorithm)。現在、
          これがデフォルトです。

     ‘minimal’
          より多くの時間を費やして、可能な限り最小のdiffが生成されるよう
          にします。

     ‘patience’
          パッチを生成する時に "patience diff" アルゴリズムを使います。

     ‘histogram’
          このアルゴリズムは、忍耐アルゴリズム(patience algorithm)を拡張
          して、「発生率の低い共通要素をサポート」(support
          low-occurrence common elements)します。

     たとえば、 あなたが ‘diff.algorithm’ 変数をデフォルト以外の値に設定
     した上で、それでもデフォルト値を使用する場合は、
     ‘--diff-algorithm=default’ オプションを使用する必要があります。

‘--stat[=<width>[,<name-width>[,<count>]]]’
     diffstatを生成します。 デフォルトでは、必要なだけのスペースがファイ
     ル名部分に使用され、残りはグラフ部分に使用されます。最大幅はデフォ
     ルトで端末幅、または端末に接続されていない場合は80桁であり、
     ‘<width>’ で上書きできます。ファイル名部分の幅は、コンマの後に別の
     幅 ‘<name-width>’ を指定することで制限できます。グラフ部分の幅は、
     ‘--stat-graph-width=<width>’ (統計グラフを生成するすべてのコマンド
     に影響します)を使用するか、 ‘diff.statGraphWidth=<width>’ ( ‘git
     format-patch’ に影響しません)を設定することによって制限できます。
     3番目のパラメータ ‘<count>’ を指定することにより、出力を最初の
     ‘<count>’ 行に制限し、それに ‘...’ が続く形にできます。

     これらのパラメータは、 ‘--stat-width=<width>’ と
     ‘--stat-name-width=<name-width>’ と ‘--stat-count=<count>’ を使用し
     て個別に設定することもできます。

‘--compact-summary’
     ファイルの作成や削除( "new" または "gone" 。オプションでシンボリッ
     クリンクの場合は "+l" )、diffstatのモード変更(実行可能ビットを追加
     または削除する場合は、それぞれ "+x" または "-x" )など、拡張ヘッダー
     情報の要約を出力します。情報はファイル名部分とグラフ部分の間に置か
     れます。本機能は ‘--stat’ の機能を含んでいます。

‘--numstat’
     ‘--stat`に似ていますが、プログラムで処理しやすい(machine friendly)よ
     うに、追加および削除された行数を10進表記とパス名で省略形なしで表示
     します。バイナリファイルの場合、 `0 0’ の代わりに2つの ‘-’ を出力し
     ます。

‘--shortstat’
     変更されたファイルの総数と、追加および削除された行の数を含む
     ‘--stat’ 形式の最後の行のみを出力します。

‘-X[<param1,param2,...>]’
‘--dirstat[=<param1,param2,...>]’
     各サブディレクトリの相対的な変更量の分布を出力します。 ‘--dirstat’
     の動作は、パラメータのコンマ区切りリストを渡すことでカスタマイズで
     きます。デフォルトは、 ‘diff.dirstat’ 構成変数によって制御されます
     (git-config(1) 参照)。以下のパラメータを使用できます:

     ‘changes’
          ソースから削除された、または宛先に追加された行をカウントして、
          dirstat数を計算します。これは、ファイル内の純粋なコード移動の
          量を無視します。つまり、ファイル内の行の再配置は、他の変更ほど
          カウントされません。これは、パラメーターが指定されていない場合
          のデフォルトの動作です。

     ‘lines’
          通常の行ベースのdiff分析を実行し、削除/追加された行数を合計し
          て、dirstat数を計算します。 (バイナリファイルの場合、バイナリ
          ファイルには行の概念がないため、代わりに64バイトのチャンクをカ
          ウントします)。 これは ‘changes’ 動作よりも高価な ‘--dirstat’
          動作ですが、他の変更と同じようにファイル内の再配置された行をカ
          ウントします。結果の出力は、他の ‘--*stat’ オプションから得ら
          れるものと一致しています。

     ‘files’
          変更されたファイルの数を数えて、dirstat数を計算します。変更さ
          れた各ファイルは、dirstat分析で等しくカウントされます。これは
          、ファイルの内容をまったく調べる必要がないため、計算コストが最
          もかからない ‘--dirstat’ の動作です。

     ‘cumulative’
          親ディレクトリの子ディレクトリの変更も同様にカウントします。
          ‘cumulative’(累積的) を使用する場合、報告されるパーセンテージ
          の合計が100%を超える場合があることに注意してください。デフォル
          トの(非累積的な)動作は、‘noncumulative’ パラメーターで指定でき
          ます。

     <limit>
          整数パラメーターは、カットオフパーセント(デフォルトでは3%)を指
          定します。指定の割合より少ないディレクトリは、出力に表示されま
          せん。

     例: 変更されたファイルの総数の10%未満のディレクトリを無視し、親ディ
     レクトリに子ディレクトリの数を累積しながら、変更されたファイルをカ
     ウント: ‘--dirstat=files,10,cumulative’

‘--cumulative’
     ‘--dirstat=cumulative’ と同義語

‘--dirstat-by-file[=<param1,param2>...]’
     ‘--dirstat=files,param1,param2...’ と同義語

‘--summary’
     作成、名前変更、モード変更などの拡張ヘッダー情報の短い要約
     (condensed summary)を出力します。

‘--patch-with-stat’
     ‘-p --stat’ と同義語。

‘-z’
     ‘--raw’ または ‘--numstat’ または ‘--name-only’ または
     ‘--name-status’ が指定されている場合は パス名を変更せず、出力フィー
     ルドターミネータとしてNULLを使用してください。

     このオプションがないと、構成変数 ‘core.quotePath’ で説明されている
     ように、 通常の文字以外(unusual characters)を含むパス名が引用符で囲
     まれます(git-config(1) 参照)。

‘--name-only’
     変更されたファイルの名前のみを表示します。 多くの場合、ファイル名は
     UTF-8でエンコードされます。 詳細については、 git-log(1) のマニュア
     ルページにあるエンコーディングに関する議論(the discussion about
     encoding)を参照してください。

‘--name-status’
     変更されたファイルの名前とステータスのみを表示します。ステータス文
     字の意味については、 ‘--diff-filter’ オプションの説明を参照してくだ
     さい。 ‘--name-only’ と同じように、ファイル名はしばしばUTF-8でエン
     コードされます。

‘--submodule[=<format>]’
     サブモジュールの違いをどのように表示するかを指定します。
     ‘--submodule=short’ を指定する場合、 _short_ 形式が使用されます。こ
     の形式は、範囲の最初と最後にコミットの名前を表示するだけです。
     ‘--submodule’ または ‘--submodule=log’ が指定されている場合、 _log_
     形式が使用されます。この形式では、 git-submodule(1) ‘summary’ のよ
     うに範囲内のコミットが一覧表示されます。 ‘--submodule=diff’ が指定
     されている場合、 _diff_ 形式が使用されます。この形式は、コミット範
     囲間のサブモジュールの内容の変更のインラインdiffを示します。
     configオプションが設定されていない場合、デフォルトは
     ‘diff.submodule’ または _short_ 形式です。

‘--color[=<when>]’
     色付きのdiffを表示します。 ‘--color’ (つまり、 _=<when>_ ) は
     ‘--color=always’ と同じです。 _<when>_ は、 ‘always’ または ‘never’
     または ‘auto’ のいずれかになります。

‘--no-color’
     カラーdiffをオフにします。 ‘--color=never’ と同じです。

‘--color-moved[=<mode>]’
     ソースコードの移動した行を別の色にします。 <mode>は、オプションが指
     定されていない場合はデフォルトで _no_ になり、 モードが指定されてい
     ないオプションが指定されている場合は _zebra_ になります。 モードは
     以下のいずれかでなければなりません:

     no
          移動行をハイライトしません。

     default
          ‘zebra’ の同義語です。これは、将来、より賢明なモードに変更され
          る可能性があります。

     plain
          ある場所で追加され、別の場所で削除された行は、
          _color.diff.newMoved_ で色付けされます。 同様に、
          _color.diff.oldMoved_ は、差分の別の場所に追加された削除された
          行に使用されます。このモードは移動された行をピックアップします
          が、コードのブロックが順列なしで移動されたかどうかを判断するこ
          とはレビューではあまり役に立ちません。

     blocks
          少なくとも20文字の英数字の移動テキストのブロックが貪欲に検出さ
          れます。検出されたブロックは、 _color.diff.{old,new}Moved_ 色
          のいずれかを使用して色付けされます。隣接するブロックを区別する
          ことはできません。

     zebra
          移動されたテキストのブロックは、 _blocks_ モードの場合と同様に
          検出されます。 ブロックは、 _color.diff.{old,new}Moved_ 色また
          は _color.diff.{old,new}MovedAlternative_ 色のいずれかを使用し
          て色付けされます。2つの色の間の変化は、新しいブロックが検出さ
          れたことを示します。

     dimmed-zebra
          _zebra_ に似ていますが、移動されたコードの重要でない部分の追加
          の調光(dimmed)が実行されます。隣接する2つのブロックの境界線は
          興味深いと見なされ、残りは興味深いものではありません。
          ‘dimmed_zebra’ は非推奨の同義語です。

‘--no-color-moved’
     移動検出をオフにします。 これは、構成設定を上書きするために使用でき
     ます。 ‘--color-moved=no’ と同じです。

‘--color-moved-ws=<modes>’
     これは、 ‘--color-moved’ の移動検出を実行するときに空白を無視する方
     法を設定します。 これらのモードは、コンマ区切りのリストとして指定で
     きます:

     no
          移動行検出を実行するときに、空白(whitespace)を無視しない。

     ignore-space-at-eol
          行末(EOL)での空白(whitespace)の変更を無視します。

     ignore-space-change
          空白(whitespace)の数の変更は無視してください。これは、行末の空
          白(whitespace)を無視し、1つ以上の空白文字(whitespace
          characters)の他のすべてのシーケンスを同等と見なします。

     ignore-all-space
          行を比較するときは空白(whitespace)を無視します。これにより、一
          方の行に空白があり、もう一方の行に空白がない場合でも、違いは無
          視されます。

     allow-indentation-change
          最初に移動検出で空白(whitespace)を無視し、空白(whitespace)の変
          更が行ごとに同じである場合にのみ、移動されたコードブロックをブ
          ロックにグループ化します。 これは他のモードと互換性がありませ
          ん。

‘--no-color-moved-ws’
     移動検出を実行するときは、空白(whitespace)を無視しないでください。
     これは、構成設定を上書きするために使用できます。
     ‘--color-moved-ws=no’ と同じです。

‘--word-diff[=<mode>]’
     <mode> を使用して変更された単語を区切ることにより、単語のdiffを表示
     します。デフォルトでは、単語は空白で区切られます。 以下の
     ‘--word-diff-regex’ を参照してください。 <mode> のデフォルトは
     ’plain’です。 <mode> は以下のいずれかである必要があります:

     color
          変更された単語(word)を色のみを使用して強調表示します。
          ‘--color’ を意味します。

     plain
          単語を ‘[-removed-]’ および ‘{+added+}’ として表示します。 区
          切り文字が入力に表示されている場合、区切り文字をエスケープしよ
          うとしないため、出力があいまいになる可能性があります。

     porcelain
          スクリプトの使用を目的とした特別な行ベースの形式を使用します。
          追加/削除/無変更については、通常の統一されたdiff形式で印刷され
          、行の先頭の ‘+’/‘-’/‘ ‘ 文字で始まり、行の終わりまで続きます
          。入力の改行は、それ自体の行のチルダ ‘~’ で表されます。

     none
          単語(word)のdiffを再度無効にします。

     注意: 最初のモードの名前にもかかわらず、有効になっている場合、すべ
     てのモードで変更された部分を強調するために色が使用されることに注意
     してください。

‘--word-diff-regex=<regex>’
     空白以外を単語と見なす代わりに、 <regex> を使用して単語が何であるか
     を決定します。また、すでに有効になっていない限り、この機能は
     ‘--word-diff’ の機能を含んでいます。

     <regex> の重複しないマッチはすべて、単語と見なされます。これらのマ
     ッチの間のすべては空白と見なされ、違いを見つけるためとしては無視さ
     れます！ 正規表現に ‘|[^[:space:]]’ を追加して、空白以外のすべての
     文字とマッチすることを確認することをお勧めします。改行を含むマッチ
     は、改行で黙って切り捨てられます！

     たとえば、 ‘--word-diff-regex=.’ は各文字を単語として扱い、それに応
     じて文字ごとの違いを表示します。

     正規表現は、diffドライバーまたは構成オプション(configuration
     option)を介して設定することもできます。 gitattributes(5) または
     git-config(1) を参照してください。これを指定すると、diffドライバー
     または構成設定(configuration settings)が明示的にオーバーライドされ
     ます。diffドライバーは構成設定を上書きします。

‘--color-words[=<regex>]’
     ‘--word-diff=color’ に ‘--word-diff-regex=<regex>’ を加えたものに相
     当します(正規表現が指定されている場合)。

‘--no-renames’
     構成ファイルにデフォルトで指定されている場合でも、名前変更の検出を
     オフにします。

‘--[no-]rename-empty’
     名前変更ソースとして空のブロブを使用するかどうか。

‘--check’
     変更によって競合マーカーまたは空白エラーが発生した場合に警告します
     。空白エラーと見なされるものは、 ‘core.whitespace’ 構成によって制御
     されます。 デフォルトでは、末尾の空白(空白のみで構成される行を含む
     )と、行の最初のインデント内で直後にタブ文字が続くスペース文字は、空
     白エラーと見なされます。問題が見つかった場合は、ゼロ以外のステータ
     スで終了します。なお、 –exit-code とは互換性がありません。

‘--ws-error-highlight=<kind>’
     diffの ‘context’ または ‘old’ または ‘new’ 行の空白エラーを強調表示
     します。複数の値はコンマで区切られ、 ‘none’ は前の値をリセットし、
     ‘default’ はリストを ‘new’ にリセットし、 ‘all’ は old、new、
     context の省略形です。このオプションが指定されておらず、構成変数
     ‘diff.wsErrorHighlight’ が設定されていない場合、 ‘new’ 行の空白エラ
     ーのみが強調表示されます。空白エラーは ‘color.diff.whitespace’ で色
     分けされています。

‘--full-index’
     パッチ形式の出力を生成するときは、最初の一握りの文字(first handful
     of characters)の代わりに、「インデックス」行にイメージ前およびイメ
     ージ後の完全ブロブオブジェクト名を表示します。

‘--binary’
     ‘--full-index’ に加えて、 ‘git-apply’ で適用できるバイナリ差分を出
     力します。 ‘--patch’ の機能を含んでいます。

‘--abbrev[=<n>]’
     完全な40バイトの16進オブジェクト名をdiff-raw形式の出力とdiff-treeヘ
     ッダー行に表示する代わりに、オブジェクトを一意に参照する、少なくと
     も _<n>_ 桁の16進数の長さの最短のプレフィックスを表示します。diffパ
     ッチ出力形式では、 ‘--full-index’ が優先されます。つまり、
     ‘--full-index’ が指定されている場合、 ‘--abbrev’ に関係なく、完全な
     ブロブ名が表示されます。デフォルト以外の桁数は、 ‘--abbrev=<n>’ で
     指定できます。

‘-B[<n>][/<m>]’
‘--break-rewrites[=[<n>][/<m>]]’
     完全な書き換えの変更を削除と作成のペアに分割します。これには以下の
     2つの目的があります:

     これは、ファイルの完全な書き換えに相当する変更が、コンテキストとし
     てテキストで一致する非常に少数の行と混合された一連の削除と挿入とし
     てではなく、古いものすべての単一の削除とそれに続く すべての新しいも
     のを1回挿入し、数値 ‘m’ が -B オプションのこの側面を制御します(デフ
     ォルトは60%)。 ‘-B/70%’ は、Gitがそれを完全な書き換えと見なすために
     、元の30%未満が結果に残る必要があることを指定します(つまり、結果の
     パッチは、コンテキスト行と混合された一連の削除と挿入になります)。

     -M と一緒に使用すると、完全に書き換えられたファイルも名前変更のソー
     スと見なされ(通常、 -M は、消えたファイルのみを名前変更のソースと見
     なします)、数 ‘n’ が -Bオプションのこの側面を制御します(デフォルト
     は50%)。 ‘-B20%’ は、ファイルのサイズの20%以上と比較して、追加およ
     び削除を伴う変更が、別のファイルへの名前変更の可能なソースとして取
     得される資格があることを指定します。

‘-M[<n>]’
‘--find-renames[=<n>]’
     名前の変更(renames)を検知する。 ‘n’ が指定されている場合、それは類
     似性インデックスのしきい値です (つまり、ファイルのサイズと比較した
     追加/削除の量)。 たとえば、 ‘-M90%’ は、ファイルの90%以上が変更され
     ていない場合、 Gitが削除/追加のペアを名前変更と見なす必要があること
     を意味します。 ‘%’ 記号がない場合、数値は小数として読み取られ、その
     前に小数点が付きます。 つまり、 ‘-M5’ は0.5になるため、‘-M50%’ と同
     じになります。 同様に、 ‘-M05’ は ‘-M5%’ と同じです。 検出を正確な
     名前変更に制限するには、 ‘-M100%’ を使用します。 デフォルトの類似性
     インデックスは50%です。

‘-C[<n>]’
‘--find-copies[=<n>]’
     名前と同様コピーを検出します。 ‘--find-copies-harder’ ‘も参照してく
     ださい。 `n’ を指定すると、 ‘-M<n>’ と同じ意味になります。

‘--find-copies-harder’
     パフォーマンス上の理由から、デフォルトでは、 ‘-C’ オプションは、コ
     ピーの元のファイルが同じ変更組(changeset)で変更された場合にのみコピ
     ーを検索します。このフラグにより、コマンドは変更されていないファイ
     ルをコピー元の候補として検査します。これは大規模なプロジェクトでは
     非常にコストのかかる操作であるため、注意して使用してください。 複数
     の ‘-C’ オプションを指定しても同じ効果があります。

‘-D’
‘--irreversible-delete’
     削除するプレイメージ(preimage)を省略します。つまり、ヘッダーのみを
     出力し、プレイメージと ‘/dev/null’ の差分は出力しません。結果のパッ
     チは、 ‘patch’ または ‘git apply’ で適用されることを意図していませ
     ん。これは、変更後にテキストを確認することに集中したい人のためだけ
     のものです。さらに、出力には明らかに、そのようなパッチを手動でも逆
     に適用するのに十分な情報が不足しているため、オプションの名前が付け
     られています。

     ‘-B’ と併用する場合は、削除/作成ペアの削除部分のプリイメージ
     (preimage)も省略してください。

‘-l<num>’
     ‘-M’ および ‘-C’ オプションには、名前変更/コピーのサブセットを安価
     に検出できるいくつかの準備手順が含まれ、その後に、残りのすべてのペ
     アになっていない宛先をすべての関連ソースと比較する徹底的なフォール
     バック部分が続きます。(名前の変更の場合、残りのペアになっていないソ
     ースのみが関係します。コピーの場合、すべての元のソースが関係します
     )。Nのソースと宛先の場合、この徹底的なチェックのコストは O(N^2) で
     す。このオプションは、関係するソース/宛先ファイルの数が指定された数
     を超えた場合に、名前変更/コピー検出の完全な部分が実行されないように
     します。デフォルトは diff.renameLimit です。 値0は無制限として扱わ
     れることに注意してください。

‘--diff-filter=[(A|C|D|M|R|T|U|X|B)...[*]]’
     追加(Add)・コピー(Copy)・削除(Delete)・変更(Modify)・名前変更
     (Rename)されたファイル、タイプが変更されたファイル(T)、マージされて
     いないファイル(U)、不明なファイル(X)、またはペアリングが壊れている
     ファイル(B)のみを選択します。フィルタ文字(無しも含む)の任意の組み合
     わせを使用できます。 組み合わせに ‘*’ (全てまたは無し)が追加される
     と、比較で他の基準に一致するファイルがある場合、すべてのパスが選択
     されます。 他の基準に一致するファイルがない場合、何も選択されません
     。

     また、逆に、除外したい時はこれらの各大文字指定を小文字にして指定し
     ます。例えば ‘--diff-filter=ad’ は、追加および削除されたパスを除外
     します。

     注意:すべてのdiffがすべてのタイプを特徴とするわけではないことに注意
     してください。 たとえば、インデックスから作業ツリーへのdiffにエント
     リを追加することはできません(diffに含まれるパスのセットは、インデッ
     クスの内容によって制限されるため)。 同様に、これらのタイプの検出が
     無効になっている場合、コピーおよび名前変更されたエントリは表示され
     ません。

‘-S<string>’
     ファイル内の指定の文字列(つまり、 addition 、deletion)の出現回数の
     差分を調べます。スクリプターが使用することを目的としています。

     (構造体など)コードの正確なブロックを探していて、そのブロックが最初
     に作成されてからの履歴を知りたい場合に便利です。この機能を繰り返し
     使用して、プリイメージ(preimage)内の興味深いブロックを ‘-S’ にフィ
     ードバックし、そしてあなたはそれをブロックの最初のバージョンを取得
     するまで続けます。

     バイナリファイルも検索されます。

‘-G<regex>’
     パッチテキストに <regex> にマッチする 追加/削除 された行が含まれて
     いる差分を探します。

     ‘-S<regex>-pickaxe-regex’ と ‘-G<regex>’ の違いを説明するために、同
     じファイル内で以下のdiffを使用してコミットすることを検討してくださ
     い:

          +    return frotz(nitfol, two->ptr, 1, 0);
          ...
          -    hit = frotz(nitfol, mf2.ptr, 1, 0);

     ‘git log -G"frotz\(nitfol"’ はこのコミットを表示しますが、 ‘git log
     -S"frotz\(nitfol" --pickaxe-regex’ は表示しません(その文字列の出現
     回数が変更されなかったため)。

     ‘--text’ が提供されていない限り、 textconv フィルターのないバイナリ
     ファイルのパッチは無視されます。

     詳細については gitdiffcore(7) の _pickaxe_ エントリを参照してくださ
     い。

‘--find-object=<object-id>’
     指定されたオブジェクトの出現回数を変更する違いを探します。 ‘-S’ と
     同様に、引数だけが異なり、特定の文字列ではなく特定のオブジェクト
     IDを検索します。

     オブジェクトは、ブロブまたはサブモジュールのコミットにすることがで
     きます。 これは、 ‘git-log’ の ‘-t’ オプションがツリーも探すことを
     意味します。

‘--pickaxe-all’
     ‘-S’ または ‘-G’ が変更を見つけたら、 <string> の変更を含むファイル
     だけでなく、その変更セット(changeset)のすべての変更を表示します。

‘--pickaxe-regex’
     ‘-S’ に指定した <string> を拡張POSIX正規表現として扱います。

‘-O<orderfile>’
     ファイルが出力に表示される順序を制御します。これは ‘diff.orderFile’
     構成変数をオーバーライドします(git-config(1) 参照)。
     ‘diff.orderFile’ をキャンセルするには、 ‘-O/dev/null’ を使用します
     。

     出力順序は、 <orderfile> 内のglobパターンの順序によって決定されます
     。最初のパターンに一致するパス名を持つすべてのファイルが最初に出力
     され、2番目のパターンに一致する(ただし最初のパターンには一致しない
     )パス名を持つすべてのファイルが次に出力されます。パス名がどのパター
     ンとも一致しないすべてのファイルは、ファイルの最後に暗黙のすべて一
     致パターンがあるかのように、最後に出力されます。複数のパス名のラン
     クが同じである場合(同じパターンに一致するが、以前のパターンには一致
     しない)、相互の出力順序は通常の順序です。

     <orderfile> は以下のとおりパースされます:

        • 空白行は無視されるため、読みやすくするための区切りとして使用で
          きます。

        • ハッシュ ("‘#’") で始まる行は無視されるため、コメントに使用で
          きます。 パターンがハッシュで始まる場合は、パターンの先頭にバ
          ックスラッシュ(訳注:日本では環境により円記号)("‘\’") を追加し
          ます。

        • 他の各行には、単一のパターンが含まれています。

     パターンは、 FNM_PATHNAME フラグなしで fnmatch(3) に使用されるパタ
     ーンと同じ構文とセマンティクスを持ちますが、最終的なパス名コンポー
     ネントをいくつも削除するとパターンと一致する場合、パス名もパターン
     と一致する点が異なります。 たとえば、パターン "‘foo*bar’" は、
     "‘fooasdfbar’" および "‘foo/bar/baz/asdf’" と一致しますが、
     "‘foobarx’" とは一致しません。

‘--skip-to=<file>’
‘--rotate-to=<file>’
     名前付き <file> の前のファイルを出力から破棄するか(スキップして)、
     出力の最後に移動させます(ローテーションさせます)。 これらは主に
     ‘git difftool’ コマンドを使用するために考案されたものであり、それ以
     外の場合はあまり役に立たない可能性があります。

‘-R’
     2つの入力を交換します。 つまり、インデックスまたはディスク上のファ
     イルとツリーの内容の違いを表示します。

‘--relative[=<path>]’
‘--no-relative’
     プロジェクトのサブディレクトリから実行する場合、このオプションを使
     用して、ディレクトリ外の変更を除外し、それに関連するパス名を表示す
     るように指示できます。サブディレクトリ(ベアリポジトリなど)にいない
     場合は、引数として <path> を指定することで、出力を作成するサブディ
     レクトリに名前を付けることができます。 ‘--no-relative`は、
     `diff.relative’ 設定オプションと以前の ‘--relative’ の両方を打ち消
     すために使用できます。

‘-a’
‘--text’
     すべてのファイルをテキストとして扱います。

‘--ignore-cr-at-eol’
     比較を行うときは、行末のキャリッジリターン(carriage-return)を無視し
     ます。

‘--ignore-space-at-eol’
     行末(EOL)での空白(whitespace)の変更を無視します。

‘-b’
‘--ignore-space-change’
     空白(whitespace)の数の変更は無視してください。これは、行末の空白
     (whitespace)を無視し、1つ以上の空白文字(whitespace characters)の他
     のすべてのシーケンスを同等と見なします。

‘-w’
‘--ignore-all-space’
     行を比較するときは空白を無視します。 これにより、一方の行に空白があ
     り、もう一方の行に空白がない場合でも、違いは無視されます。

‘--ignore-blank-lines’
     全て空白の行の変更は無視します。

‘-I<regex>’
‘--ignore-matching-lines=<regex>’
     すべての行が <regex> にマッチする変更を無視します。このオプションは
     複数回指定できます。

‘--inter-hunk-context=<lines>’
     指定された行数までの差分ハンク間のコンテキストを表示し、それによっ
     て互いに近いハンクを融合します。デフォルトは
     ‘diff.interHunkContext’ で、設定オプションが設定されていない場合は
     0です。

‘-W’
‘--function-context’
     関数全体を各変更のコンテキスト行として表示します。関数名は、 ‘git
     diff’ がパッチハンクヘッダーを処理するのと同じ方法で決定されます
     (gitattributes(5) の _Defining a custom hunk-header_ を参照)。

‘--exit-code’
     diff(1）と同様のコードでプログラムを終了させます。つまり、違いがあ
     った場合は 1 で終了し、 0 は違いがないことを意味します。

‘--quiet’
     プログラムのすべての出力を無効にします。 ‘--exit-code’ を意味します
     。

‘--ext-diff’
     外部diffヘルパーの実行を許可します。 gitattributes(5) を使用して外
     部diffドライバーを設定する場合は、 git-log(1) およびその仲間と一緒
     にこのオプションを使用する必要があります。

‘--no-ext-diff’
     外部diffドライバーを禁止します。

‘--textconv’
‘--no-textconv’
     バイナリファイルを比較するときに、外部テキスト変換フィルターの実行
     を許可(または禁止)します。 詳細については、 gitattributes(5) を参照
     してください。textconvフィルターは通常、一方向の変換であるため、結
     果のdiffは人間の消費に適していますが、適用(apply)することはできませ
     ん。このため、textconvフィルターは、 git-diff(1) および git-log(1)
     に対してのみデフォルトで有効になりますが、 git-format-patch(1) また
     はdiff配管コマンドに対しては有効になりません。

‘--ignore-submodules[=<when>]’
     diff生成のサブモジュールへの変更を無視します。 <when> は、 none・
     untracked・dirty・allのいずれかになります。これがデフォルトです。
     noneを使用すると、追跡されていないファイルまたは変更されたファイル
     が含まれている場合、またはそのHEADがスーパープロジェクトに記録され
     ているコミットと異なる場合にサブモジュールが変更されたと見なされ、
     git-config(1) または gitmodules(5) の ignoreオプションの設定をオー
     バーライドするために使用できます。untrackedが使用されている場合、サ
     ブモジュールには追跡されていないコンテンツのみが含まれている場合、
     サブモジュールはダーティとは見なされません(ただし、変更されたコンテ
     ンツはスキャンされます)。「dirty」を使用すると、サブモジュールの作
     業ツリーへのすべての変更が無視され、スーパープロジェクトに格納され
     ているコミットへの変更のみが表示されます(これは1.7.0までの動作でし
     た)。「all」を使用すると、サブモジュールへのすべての変更が非表示に
     なります。

‘--src-prefix=<prefix>’
     "a/" の代わりに、与えられたソースプレフィックス(source prefix)を表
     示します。

‘--dst-prefix=<prefix>’
     "b/" の代わりに、指定された宛先プレフィックス(destination prefix)を
     表示します。

‘--no-prefix’
     送信元(source)または宛先(destination)のプレフィックスを表示しません
     。

‘--line-prefix=<prefix>’
     出力のすべての行に追加のプレフィックスを付加します。

‘--ita-invisible-in-index’
     デフォルトでは、 "git add -N" によって追加されたエントリは、 "git
     diff" に既存の空のファイルとして表示され、 "git diff –cached" に新
     しいファイルとして表示されます。このオプションを使用すると、エント
     リは "git diff" では新しいファイルとして表示され、 "git diff
     –cached" では存在しません。このオプションは、
     ‘--ita-visible-in-index’ で元に戻すことができます。どちらのオプショ
     ンも実験的なものであり、将来削除される可能性があります。

   これらの一般的なオプションの詳細については、 gitdiffcore(7) も参照し
てください。

<tree-ish>
     The id of a tree object to diff against.

‘--cached’
     Do not consider the on-disk file at all.

‘--merge-base’
     Instead of comparing <tree-ish> directly, use the merge base
     between <tree-ish> and HEAD instead.  <tree-ish> must be a commit.

‘-m’
     By default, files recorded in the index but not checked out are
     reported as deleted.  This flag makes _git diff-index_ say that all
     non-checked-out files are up to date.


Raw output format
*****************

‘git-diff-index’ と ‘git-diff-tree’ と ‘git-diff-files’ と ‘git diff
--raw’ からの生の出力形式は非常に似ています。

   これらのコマンドはすべて、2つのセットを比較します。なお、比較されるも
のは異なります:

git-diff-index <tree-ish>
     <tree-ish> とファイルシステム上のファイルを比較します。

git-diff-index –cached <tree-ish>
     <tree-ish> とインデックスを比較します。

git-diff-tree [-r] <tree-ish-1> <tree-ish-2> [<pattern>…]
     2つの引数で指定されたツリーを比較します。

git-diff-files [<pattern>…]
     インデックスとファイルシステム上のファイルを比較します。

   "git-diff-tree" コマンドは、比較対象のハッシュ値を出力することで出力
を開始します。その後、すべてのコマンドは、変更されたファイルごとに1つの
出力行を出力します。

   出力行は以下のようにフォーマットされます:

     in-place edit  :100644 100644 bcd1234 0123456 M file0
     copy-edit      :100644 100644 abcd123 1234567 C68 file1 file2
     rename-edit    :100644 100644 abcd123 1234567 R86 file1 file3
     create         :000000 100644 0000000 1234567 A file4
     delete         :100644 000000 1234567 0000000 D file5
     unmerged       :000000 000000 0000000 0000000 U file6

   つまり、左から右へ:

  1. コロン(:)

  2. "src" のモード。作成(creation)またはマージされていない(unmerged)場
     合は 000000

  3. 空白

  4. "dst" のモード。作成(creation)またはマージされていない(unmerged)場
     合は 000000

  5. 空白

  6. "src" のsha1。作成(creation)またはマージされていない(unmerged)場合
     は 0{40}

  7. 空白

  8. "dst" のsha1。作成(creation)またはマージされていない(unmerged)また
     は作業ツリーにある場合は 0{40}

  9. 空白

  10. ステータスの後に、オプションの「スコア数」("score" number)が続きま
     す

  11. ‘-z’ オプションが使用されている場合はタブまたはNUL

  12. "src" のパス

  13. ‘-z’ オプションが使用されている場合タブまたはNUL。ステータスCまた
     はRにのみ存在します

  14. "dst" のパス。ステータスCまたはRにのみ存在します

  15. LFでレコードを終了します。 ‘-z’ オプションが使用されている場合は
     NULでレコードを終了します。

   ステータス文字の種類は以下のとおり:

   • A: ファイルの追加

   • C: ファイルを新しいファイルにコピー

   • D: ファイルの削除

   • M: ファイルの内容やモードの変更

   • R: ファイル名の名前変更

   • T: ファイルのタイプを変更

   • U: ファイルはマージされていません(コミットする前にマージを完了する
     必要があります)

   • X: 「不明な」変更タイプ(おそらくバグです。報告してください)

   ステータス文字CとRの後には常にスコアが続きます(移動またはコピーのソー
スとターゲットの間の類似性のパーセンテージを示します)。ステータス文字Mの
後には、ファイルの書き換えのスコア(非類似度のパーセンテージを示す)が続く
場合があります。

   <sha1> は、ファイルがファイルシステム上で新規で、インデックスと同期し
ていない場合、すべて0として表示されます。

   例:

     :100644 100644 5be4a4a 0000000 M file.c

   ‘-z`オプションを指定しない場合、構成変数 `core.quotePath’ で説明され
ているように、通常の文字以外(unusual characters)を含むパス名が引用符で囲
まれます(git-config(1) 参照)。 ‘-z’ を使用すると、ファイル名がそのまま出
力され、行はNULバイトで終了します。


diff format for merges
**********************

"git-diff-tree" と "git-diff-files" と "git-diff –raw" は、 ‘-c’ または
‘--cc’ オプションを使用して、マージコミットに対してもdiff出力を生成でき
ます。出力は、以下の点で上記の形式とは異なります:

  1. 親ごとにコロン(:)があります

  2. より多くの "src" モードと "src" sha1があります

  3. statusは、各親のステータス文字を連結したものです

  4. オプションの「スコア数」はありません

  5. ファイルのタブ区切りのパス名

   ‘-c’ および ‘ -cc‘ の場合、履歴のいずれかの側でファイルの名前が変更さ
れた場合でも、宛先(dst)または最終パスのみが表示されます。
‘--combined-all-paths’ を使用すると、各親のパスの名前が表示され、それに
続いてマージコミットのパスの名前が表示されます。

   例: ‘--combined-all-paths’ を使用しない ‘-c’ および ‘--cc’ の場合:

     ::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c
     ::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       bar.sh
     ::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       phooey.c

   例: ‘-c’ または ‘--cc’ のいずれかに ‘--combined-all-paths’ が追加され
た場合:

     ::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c  desc.c  desc.c
     ::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       foo.sh  bar.sh  bar.sh
     ::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       fooey.c fuey.c  phooey.c

   注意: ’combined diff’は、すべての親から変更されたファイルのみをリスト
することに注意してください。


Generating patch text with -p
*****************************

git-diff(1) 、 git-log(1) 、 git-show(1) 、 git-diff-index(1) 、
git-diff-tree(1) 、 git-diff-files(1) に ‘-p’ オプションを付けて実行する
とパッチテキストを生成します。パッチテキストの作成は、
‘GIT_EXTERNAL_DIFF’ と ‘GIT_DIFF_OPTS’ 環境変数( git(1) 参照)、および
‘diff’ 属性( gitattributes(5) 参照)を介してカスタマイズできます。

   -pオプションが生成するものは、従来のdiff形式とは少々異なります:

  1. 先行して、以下のような "git diff" ヘッダーがあります:

          diff --git a/file1 b/file2

     名前の変更/コピーが含まれない限り、 ‘a/’ と ‘b/’ のファイル名は同じ
     です。 特に、作成または削除の場合でも、 ‘a/’ または ‘b/’ ファイル名
     の代わりに ‘/dev/ null’ が使用されることはありません。

     名前変更/コピーが含まれる場合、 ‘file1’ と‘file2‘ は、それぞれ名前
     変更/コピーのソースファイルの名前と、名前変更/コピーが生成するファ
     イルの名前を示します。

  2. その後に、1つ以上の拡張ヘッダー行達が続きます:

          old mode <mode>
          new mode <mode>
          deleted file mode <mode>
          new file mode <mode>
          copy from <path>
          copy to <path>
          rename from <path>
          rename to <path>
          similarity index <number>
          dissimilarity index <number>
          index <hash>..<hash> <mode>

     ファイルモードは、ファイルタイプとファイル許可ビットを含む6桁の8進
     数として出力されます。

     拡張ヘッダーのパス名には、 ‘a/’ および ‘b/’ プレフィックスは含まれ
     ません。

     類似インデックス(similarity index)は変更されていない行のパーセンテ
     ージであり、非類似インデックス(dissimilarity index)は変更された行の
     パーセンテージです。これは切り捨てられた整数であり、その後にパーセ
     ント記号が続きます。したがって、100％の類似インデックス値は2つの等
     しいファイルを表し、100％の非類似性は古いファイルから新しいファイル
     に移行された行がないことを意味します。

     インデックス行には、変更前後のブロブオブジェクト名が含まれます。
     <mode> は、ファイルモードが変更されない場合に含まれます。それ以外の
     場合、別々の行は古いモードと新しいモードを示します。

  3. 通常の文字でないキャラクタ(\"unusual\" characters)を含むパス名は、
     構成変数 ‘core.quotePath’ で説明されているように引用符で囲まれてい
     ます( git-config(1)参照)。

  4. 出力内のすべての ‘file1’ ファイルはコミット前のファイルを参照し、す
     べての ‘file2’ ファイルはコミット後のファイルを参照します。各変更を
     各ファイルに順番に適用するのは誤りです。たとえば、以下のパッチはaと
     bを交換します:

          diff --git a/a b/b
          rename from a
          rename to b
          diff --git a/b b/a
          rename from b
          rename to a

  5. ハンクのヘッダーには、ハンクが適用される関数の名前が記載されていま
     す。特定の言語に合わせてこれを調整する方法の詳細については、
     gitattributes(5) の "Defining a custom hunk-header" を参照してくだ
     さい。


Combined diff format
********************

diffを生成するコマンドは、マージを表示するときに ‘-c’ または ‘--cc’ オプ
ションを使用して「合成diff」(combined diff)を生成できます。これは
git-diff(1) または git-show(1) でのマージを表示するときのデフォルトの形
式です。 注意: これらのコマンドのいずれかに適切な ‘--diff-merges’ オプシ
ョンを指定して、特定の形式で差分を強制的に生成できることにも注意してくだ
さい。

   合成diff形式は以下のようになります:

     diff --combined describe.c
     index fabadb8,cc95eb0..4866510
     --- a/describe.c
     +++ b/describe.c
     @@@ -98,20 -98,12 +98,20 @@@
             return (a_date > b_date) ? -1 : (a_date == b_date) ? 0 : 1;
       }

     - static void describe(char *arg)
      -static void describe(struct commit *cmit, int last_one)
     ++static void describe(char *arg, int last_one)
       {
      +      unsigned char sha1[20];
      +      struct commit *cmit;
             struct commit_list *list;
             static int initialized = 0;
             struct commit_name *n;

      +      if (get_sha1(arg, sha1) < 0)
      +              usage(describe_usage);
      +      cmit = lookup_commit_reference(sha1);
      +      if (!cmit)
      +              usage(describe_usage);
      +
             if (!initialized) {
                     initialized = 1;
                     for_each_ref(get_name);

  1. まず "git diff" ヘッダーがあり、以下のようになります( ‘-c’ オプショ
     ンが使用されている場合):

          diff --combined file

     または、以下のようになります( ‘--cc’ オプションが使用されている場合
     ):

          diff --cc file

  2. その後に1つ以上の拡張ヘッダー行が続きます(以下の例は、2つの親とのマ
     ージを示しています):

          index <hash>,<hash>..<hash>
          mode <mode>,<mode>..<mode>
          new file mode <mode>
          deleted file mode <mode>,<mode>

     ‘mode <mode>,<mode>..<mode>’ 行は、<mode> の少なくとも1つが他の
     <mode> と異なる場合にのみ表示されます。検出されたコンテンツの移動
     (名前の変更とコピーの検出)に関する情報を含む拡張ヘッダーは、2つの
     <tree-ish> のdiffで機能するように設計されており、合成diff形式では使
     用されません。

  3. その後に2行の from-file/to-file ヘッダーが続きます

          --- a/file
          +++ b/file

     従来の統一diff形式の2行ヘッダーと同様に、 ‘/dev/null’ は、作成また
     は削除されたファイルを通知するために使用されます。

     ただし、 –combined-all-paths オプションが指定されている場合、2行の
     from-file/to-file の代わりに、 N+1 行の from-file/to-file ヘッダー
     が取得されます。ここで、 N はマージコミットの親の数です。

          --- a/file
          --- a/file
          --- a/file
          +++ b/file

     この拡張形式は、名前変更またはコピー検出がアクティブな場合に役立ち
     、別の親のファイルの元の名前を確認できます。

  4. チャンクヘッダーの形式が変更され、誤って ‘patch-p1’ にフィードされ
     るのを防ぎます。合成差分形式は、マージコミットの変更を確認するため
     に作成されたものであり、適用されることを意図したものではありません
     。この変更は、拡張された「インデックス」ヘッダーの変更に似ています:

          @@@ <from-file-range> <from-file-range> <to-file-range> @@@

     合成diff形式のチャンクヘッダーには親の数+1の ‘@’ 文字があります。

   従来の統一diff形式とは異なり、2つのファイルAとBが、 ‘-’ (マイナスは
Aに表示されますが、Bでは削除されます) または ‘+’ (プラスはAにはありませ
んが、Bには追加されます)、または ‘" "’（スペースは変更なし) プレフィック
スを持つ単一の列で表示される場合、この形式は2つ以上のファイル file1,
file2,… を1つのファイルXと比較し、Xが各 fileN とどのように異なるかを示し
ます。ファイルNごとに1つの列が出力行の前に追加され、Xの行が出力行とどの
ように異なるかを示します。

   列Nの ‘-’ 文字は、その行が fileN に表示されているが、結果には表示され
ていないことを意味します。 列Nの ‘+’ 文字は、結果に行が表示され、 fileN
にその行がないことを意味します(つまり、その親の観点から見て行が追加され
たことを示す)。

   上記の出力例では、関数のシグネチャが両方のファイルから見て変更されて
います(したがって、 file1 と file2 の両方から2つの ‘-’ が削除され、さら
に ‘++’ が追加されたため、 file1 と file2 のどちらにも表示されません)。
また、他の8行は file1 と同じですが、 file2 には表示されません(したがって
、接頭辞として ‘+’ が付けられます)。

   ‘git diff-tree -c’ で表示される場合、マージコミットの親をマージ結果と
比較します(つまり、 file1..fileN が親です)。 ‘git diff-files -c’ で表示
される場合、2つの未解決のマージ親を作業ツリーファイルと比較します(つまり
、 file1 はステージ2、別名「私たちのバージョン」、 file2 はステージ3、別
名「彼らのバージョン」です)。


other diff formats
******************

‘--summary’ オプションは、新しく追加、削除、名前変更、およびコピーされた
ファイルを説明します。‘--stat’ オプションは、 diffstat(1) グラフ を出力
に追加します。これらのオプションは、 ‘-p’ などの他のオプションと組み合わ
せることができ、人間が読むことを目的としています。

   名前の変更またはコピーを伴う変更を表示する場合、 ‘--stat’ 出力は、パ
ス名の共通のプレフィックスとサフィックスを組み合わせることにより、パス名
をコンパクトにフォーマットします。 たとえば、4行を変更(modify)しながら
‘arch/i386/Makefile’ を ‘arch/x86/Makefile’ に移動(move)する変更
(change)は、次のように表示されます:

     arch/{i386 => x86}/Makefile    |   4 +--

   ‘--numstat’ オプションは diffstat(1) 情報を提供しますが、人間ではなく
ソフトウェアで読むのを容易にするように設計されています。 ‘--numstat’ 出
力のエントリは以下のようになります:

     1       2       README
     3       1       arch/{i386 => x86}/Makefile

   この形式は、左から右へ:

  1. 追加行数

  2. タブ

  3. 削除行数

  4. タブ

  5. パス名(おそらく rename/copy 情報を含む)

  6. 改行

   ‘-z’ 出力オプションが有効な場合、出力は以下のようにフォーマットされま
す:

     1       2       README NUL
     3       1       NUL arch/i386/Makefile NUL arch/x86/Makefile NUL

   これは:

  1. 追加行数

  2. タブ

  3. 削除行数

  4. タブ

  5. NUL(rename/copy された場合のみ存在します)

  6. プリイメージのパス名

  7. NUL(rename/copy された場合のみ存在します)

  8. ポストイメージのパス名(rename/copy された場合のみ存在します)

  9. NUL

   名前が変更された場合のプリイメージパスの前の追加の ‘NUL’ は、出力を読
み取るスクリプトが、先読みせずに、読み取られている現在のレコードがシング
ルパスレコードであるか、名前変更/コピーレコードであるか、を判断できるよ
うにするためです。追加および削除された行を読み取った後、 ‘NUL’ まで読み
取るとパス名が生成されますが、それが ‘NUL’ の場合、レコードには2つのパス
が表示されます。


OPERATING MODES
***************

You can choose whether you want to trust the index file entirely (using
the ‘--cached’ flag) or ask the diff logic to show any files that don’t
match the stat state as being "tentatively changed".  Both of these
operations are very useful indeed.


CACHED MODE
***********

If ‘--cached’ is specified, it allows you to ask:

     show me the differences between HEAD and the current index
     contents (the ones I'd write using 'git write-tree')

   For example, let’s say that you have worked on your working
directory, updated some files in the index and are ready to commit.  You
want to see exactly *what* you are going to commit, without having to
write a new tree object and compare it that way, and to do that, you
just do

     git diff-index --cached HEAD

   Example: let’s say I had renamed ‘commit.c’ to ‘git-commit.c’, and I
had done an ‘update-index’ to make that effective in the index file.
‘git diff-files’ wouldn’t show anything at all, since the index file
matches my working directory.  But doing a _git diff-index_ does:

     torvalds@ppc970:~/git> git diff-index --cached HEAD
     -100644 blob    4161aecc6700a2eb579e842af0b7f22b98443f74        commit.c
     +100644 blob    4161aecc6700a2eb579e842af0b7f22b98443f74        git-commit.c

   You can see easily that the above is a rename.

   In fact, ‘git diff-index --cached’ *should* always be entirely
equivalent to actually doing a _git write-tree_ and comparing that.
Except this one is much nicer for the case where you just want to check
where you are.

   So doing a ‘git diff-index --cached’ is basically very useful when
you are asking yourself "what have I already marked for being committed,
and what’s the difference to a previous tree".


NON-CACHED MODE
***************

The "non-cached" mode takes a different approach, and is potentially the
more useful of the two in that what it does can’t be emulated with a
_git write-tree_ + _git diff-tree_.  Thus that’s the default mode.  The
non-cached version asks the question:

     show me the differences between HEAD and the currently checked out
     tree - index contents _and_ files that aren't up to date

   which is obviously a very useful question too, since that tells you
what you *could* commit.  Again, the output matches the _git diff-tree
-r_ output to a tee, but with a twist.

   The twist is that if some file doesn’t match the index, we don’t have
a backing store thing for it, and we use the magic "all-zero" sha1 to
show that.  So let’s say that you have edited ‘kernel/sched.c’, but have
not actually done a _git update-index_ on it yet - there is no "object"
associated with the new state, and you get:

     torvalds@ppc970:~/v2.6/linux> git diff-index --abbrev HEAD
     :100644 100664 7476bb... 000000...      kernel/sched.c

   i.e., it shows that the tree has changed, and that ‘kernel/sched.c’
is not up to date and may contain new stuff.  The all-zero sha1 means
that to get the real diff, you need to look at the object in the working
directory directly rather than do an object-to-object diff.

     *Note*

     As with other commands of this type, _git diff-index_ does not
     actually look at the contents of the file at all.  So maybe
     ‘kernel/sched.c’ hasn’t actually changed, and it’s just that you
     touched it.  In either case, it’s a note that you need to _git
     update-index_ it to make the index be in sync.

     *Note*

     You can have a mixture of files show up as "has been updated" and
     "is still dirty in the working directory" together.  You can always
     tell which file is in which state, since the "has been updated"
     ones show a valid sha1, and the "not in sync with the index" ones
     will always have the special all-zero sha1.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-diff-tree,  Up: Top

Name
****

git-diff-tree — Compares the content and mode of blobs found via two
tree objects


Synopsis
********

     git diff-tree [–stdin] [-m] [-s] [-v] [–no-commit-id] [–pretty]
                   [-t] [-r] [-c | –cc] [–combined-all-paths] [–root] [–merge-base]
                   [<common diff options>] <tree-ish> [<tree-ish>] [<path>…]


DESCRIPTION
***********

Compares the content and mode of the blobs found via two tree objects.

   If there is only one <tree-ish> given, the commit is compared with
its parents (see –stdin below).

   Note that _git diff-tree_ can use the tree encapsulated in a commit
object.


OPTIONS
*******

‘-p’
‘-u’
‘--patch’
     パッチを生成します(generating patches に関するセクションを参照)。

‘-s’
‘--no-patch’
     diff出力を抑制します。デフォルトでパッチを表示する ‘git show’ のよ
     うなコマンド、または ‘--patch’ の効果をキャンセルする場合に便利です
     。

‘-U<n>’
‘--unified=<n>’
     通常の3行ではなく、<n> 行の内容でdiffを生成します。 ‘--patch’ の機
     能を含んでいます。

‘--output=<file>’
     stdout ではなく指定のファイルに出力します。

‘--output-indicator-new=<char>’
‘--output-indicator-old=<char>’
‘--output-indicator-context=<char>’
     生成されたパッチの新しい行、古い行、またはコンテキスト行を示すため
     に使用される文字を指定します。 通常、それらはそれぞれ _+_ 、 _-_ 、
     ’ ’ です。

‘--raw’
     生形式(raw format)でdiffを生成します。 これがデフォルトです。

‘--patch-with-raw’
     ‘-p --raw’ の同義語。

‘--indent-heuristic’
     diffハンクの境界をずらす(shift)ヒューリスティックを有効にして、パッ
     チを読みやすくします。 これがデフォルトです。

‘--no-indent-heuristic’
     インデントヒューリスティック(indent heuristic)を無効にします。

‘--minimal’
     より多くの時間を費やして、可能な限り最小のdiffが生成されるようにし
     ます。

‘--patience’
     "patience diff" アルゴリズムを使用してdiffを生成します。

‘--histogram’
     "histogram diff" アルゴリズムを使用してdiffを生成します。

‘--anchored=<text>’
     "anchored diff" アルゴリズムを使用してdiffを生成します。

     このオプションは複数回指定できます。

     行がソースと宛先の両方に存在し、1回だけ存在し、このテキストで始まる
     場合、このアルゴリズムは、その行が出力に削除または追加として表示さ
     れないようにします。内部で "patience diff" アルゴリズムを使用します
     。

‘--diff-algorithm={patience|minimal|histogram|myers}’
     diffアルゴリズムを選択します。その派生(variants)は以下のとおりです:

     ‘default’, ‘myers’
          基本的な貪欲な差分アルゴリズム(greedy diff algorithm)。現在、
          これがデフォルトです。

     ‘minimal’
          より多くの時間を費やして、可能な限り最小のdiffが生成されるよう
          にします。

     ‘patience’
          パッチを生成する時に "patience diff" アルゴリズムを使います。

     ‘histogram’
          このアルゴリズムは、忍耐アルゴリズム(patience algorithm)を拡張
          して、「発生率の低い共通要素をサポート」(support
          low-occurrence common elements)します。

     たとえば、 あなたが ‘diff.algorithm’ 変数をデフォルト以外の値に設定
     した上で、それでもデフォルト値を使用する場合は、
     ‘--diff-algorithm=default’ オプションを使用する必要があります。

‘--stat[=<width>[,<name-width>[,<count>]]]’
     diffstatを生成します。 デフォルトでは、必要なだけのスペースがファイ
     ル名部分に使用され、残りはグラフ部分に使用されます。最大幅はデフォ
     ルトで端末幅、または端末に接続されていない場合は80桁であり、
     ‘<width>’ で上書きできます。ファイル名部分の幅は、コンマの後に別の
     幅 ‘<name-width>’ を指定することで制限できます。グラフ部分の幅は、
     ‘--stat-graph-width=<width>’ (統計グラフを生成するすべてのコマンド
     に影響します)を使用するか、 ‘diff.statGraphWidth=<width>’ ( ‘git
     format-patch’ に影響しません)を設定することによって制限できます。
     3番目のパラメータ ‘<count>’ を指定することにより、出力を最初の
     ‘<count>’ 行に制限し、それに ‘...’ が続く形にできます。

     これらのパラメータは、 ‘--stat-width=<width>’ と
     ‘--stat-name-width=<name-width>’ と ‘--stat-count=<count>’ を使用し
     て個別に設定することもできます。

‘--compact-summary’
     ファイルの作成や削除( "new" または "gone" 。オプションでシンボリッ
     クリンクの場合は "+l" )、diffstatのモード変更(実行可能ビットを追加
     または削除する場合は、それぞれ "+x" または "-x" )など、拡張ヘッダー
     情報の要約を出力します。情報はファイル名部分とグラフ部分の間に置か
     れます。本機能は ‘--stat’ の機能を含んでいます。

‘--numstat’
     ‘--stat`に似ていますが、プログラムで処理しやすい(machine friendly)よ
     うに、追加および削除された行数を10進表記とパス名で省略形なしで表示
     します。バイナリファイルの場合、 `0 0’ の代わりに2つの ‘-’ を出力し
     ます。

‘--shortstat’
     変更されたファイルの総数と、追加および削除された行の数を含む
     ‘--stat’ 形式の最後の行のみを出力します。

‘-X[<param1,param2,...>]’
‘--dirstat[=<param1,param2,...>]’
     各サブディレクトリの相対的な変更量の分布を出力します。 ‘--dirstat’
     の動作は、パラメータのコンマ区切りリストを渡すことでカスタマイズで
     きます。デフォルトは、 ‘diff.dirstat’ 構成変数によって制御されます
     (git-config(1) 参照)。以下のパラメータを使用できます:

     ‘changes’
          ソースから削除された、または宛先に追加された行をカウントして、
          dirstat数を計算します。これは、ファイル内の純粋なコード移動の
          量を無視します。つまり、ファイル内の行の再配置は、他の変更ほど
          カウントされません。これは、パラメーターが指定されていない場合
          のデフォルトの動作です。

     ‘lines’
          通常の行ベースのdiff分析を実行し、削除/追加された行数を合計し
          て、dirstat数を計算します。 (バイナリファイルの場合、バイナリ
          ファイルには行の概念がないため、代わりに64バイトのチャンクをカ
          ウントします)。 これは ‘changes’ 動作よりも高価な ‘--dirstat’
          動作ですが、他の変更と同じようにファイル内の再配置された行をカ
          ウントします。結果の出力は、他の ‘--*stat’ オプションから得ら
          れるものと一致しています。

     ‘files’
          変更されたファイルの数を数えて、dirstat数を計算します。変更さ
          れた各ファイルは、dirstat分析で等しくカウントされます。これは
          、ファイルの内容をまったく調べる必要がないため、計算コストが最
          もかからない ‘--dirstat’ の動作です。

     ‘cumulative’
          親ディレクトリの子ディレクトリの変更も同様にカウントします。
          ‘cumulative’(累積的) を使用する場合、報告されるパーセンテージ
          の合計が100%を超える場合があることに注意してください。デフォル
          トの(非累積的な)動作は、‘noncumulative’ パラメーターで指定でき
          ます。

     <limit>
          整数パラメーターは、カットオフパーセント(デフォルトでは3%)を指
          定します。指定の割合より少ないディレクトリは、出力に表示されま
          せん。

     例: 変更されたファイルの総数の10%未満のディレクトリを無視し、親ディ
     レクトリに子ディレクトリの数を累積しながら、変更されたファイルをカ
     ウント: ‘--dirstat=files,10,cumulative’

‘--cumulative’
     ‘--dirstat=cumulative’ と同義語

‘--dirstat-by-file[=<param1,param2>...]’
     ‘--dirstat=files,param1,param2...’ と同義語

‘--summary’
     作成、名前変更、モード変更などの拡張ヘッダー情報の短い要約
     (condensed summary)を出力します。

‘--patch-with-stat’
     ‘-p --stat’ と同義語。

‘-z’
     ‘--raw’ または ‘--numstat’ または ‘--name-only’ または
     ‘--name-status’ が指定されている場合は パス名を変更せず、出力フィー
     ルドターミネータとしてNULLを使用してください。

     このオプションがないと、構成変数 ‘core.quotePath’ で説明されている
     ように、 通常の文字以外(unusual characters)を含むパス名が引用符で囲
     まれます(git-config(1) 参照)。

‘--name-only’
     変更されたファイルの名前のみを表示します。 多くの場合、ファイル名は
     UTF-8でエンコードされます。 詳細については、 git-log(1) のマニュア
     ルページにあるエンコーディングに関する議論(the discussion about
     encoding)を参照してください。

‘--name-status’
     変更されたファイルの名前とステータスのみを表示します。ステータス文
     字の意味については、 ‘--diff-filter’ オプションの説明を参照してくだ
     さい。 ‘--name-only’ と同じように、ファイル名はしばしばUTF-8でエン
     コードされます。

‘--submodule[=<format>]’
     サブモジュールの違いをどのように表示するかを指定します。
     ‘--submodule=short’ を指定する場合、 _short_ 形式が使用されます。こ
     の形式は、範囲の最初と最後にコミットの名前を表示するだけです。
     ‘--submodule’ または ‘--submodule=log’ が指定されている場合、 _log_
     形式が使用されます。この形式では、 git-submodule(1) ‘summary’ のよ
     うに範囲内のコミットが一覧表示されます。 ‘--submodule=diff’ が指定
     されている場合、 _diff_ 形式が使用されます。この形式は、コミット範
     囲間のサブモジュールの内容の変更のインラインdiffを示します。
     configオプションが設定されていない場合、デフォルトは
     ‘diff.submodule’ または _short_ 形式です。

‘--color[=<when>]’
     色付きのdiffを表示します。 ‘--color’ (つまり、 _=<when>_ ) は
     ‘--color=always’ と同じです。 _<when>_ は、 ‘always’ または ‘never’
     または ‘auto’ のいずれかになります。

‘--no-color’
     カラーdiffをオフにします。 ‘--color=never’ と同じです。

‘--color-moved[=<mode>]’
     ソースコードの移動した行を別の色にします。 <mode>は、オプションが指
     定されていない場合はデフォルトで _no_ になり、 モードが指定されてい
     ないオプションが指定されている場合は _zebra_ になります。 モードは
     以下のいずれかでなければなりません:

     no
          移動行をハイライトしません。

     default
          ‘zebra’ の同義語です。これは、将来、より賢明なモードに変更され
          る可能性があります。

     plain
          ある場所で追加され、別の場所で削除された行は、
          _color.diff.newMoved_ で色付けされます。 同様に、
          _color.diff.oldMoved_ は、差分の別の場所に追加された削除された
          行に使用されます。このモードは移動された行をピックアップします
          が、コードのブロックが順列なしで移動されたかどうかを判断するこ
          とはレビューではあまり役に立ちません。

     blocks
          少なくとも20文字の英数字の移動テキストのブロックが貪欲に検出さ
          れます。検出されたブロックは、 _color.diff.{old,new}Moved_ 色
          のいずれかを使用して色付けされます。隣接するブロックを区別する
          ことはできません。

     zebra
          移動されたテキストのブロックは、 _blocks_ モードの場合と同様に
          検出されます。 ブロックは、 _color.diff.{old,new}Moved_ 色また
          は _color.diff.{old,new}MovedAlternative_ 色のいずれかを使用し
          て色付けされます。2つの色の間の変化は、新しいブロックが検出さ
          れたことを示します。

     dimmed-zebra
          _zebra_ に似ていますが、移動されたコードの重要でない部分の追加
          の調光(dimmed)が実行されます。隣接する2つのブロックの境界線は
          興味深いと見なされ、残りは興味深いものではありません。
          ‘dimmed_zebra’ は非推奨の同義語です。

‘--no-color-moved’
     移動検出をオフにします。 これは、構成設定を上書きするために使用でき
     ます。 ‘--color-moved=no’ と同じです。

‘--color-moved-ws=<modes>’
     これは、 ‘--color-moved’ の移動検出を実行するときに空白を無視する方
     法を設定します。 これらのモードは、コンマ区切りのリストとして指定で
     きます:

     no
          移動行検出を実行するときに、空白(whitespace)を無視しない。

     ignore-space-at-eol
          行末(EOL)での空白(whitespace)の変更を無視します。

     ignore-space-change
          空白(whitespace)の数の変更は無視してください。これは、行末の空
          白(whitespace)を無視し、1つ以上の空白文字(whitespace
          characters)の他のすべてのシーケンスを同等と見なします。

     ignore-all-space
          行を比較するときは空白(whitespace)を無視します。これにより、一
          方の行に空白があり、もう一方の行に空白がない場合でも、違いは無
          視されます。

     allow-indentation-change
          最初に移動検出で空白(whitespace)を無視し、空白(whitespace)の変
          更が行ごとに同じである場合にのみ、移動されたコードブロックをブ
          ロックにグループ化します。 これは他のモードと互換性がありませ
          ん。

‘--no-color-moved-ws’
     移動検出を実行するときは、空白(whitespace)を無視しないでください。
     これは、構成設定を上書きするために使用できます。
     ‘--color-moved-ws=no’ と同じです。

‘--word-diff[=<mode>]’
     <mode> を使用して変更された単語を区切ることにより、単語のdiffを表示
     します。デフォルトでは、単語は空白で区切られます。 以下の
     ‘--word-diff-regex’ を参照してください。 <mode> のデフォルトは
     ’plain’です。 <mode> は以下のいずれかである必要があります:

     color
          変更された単語(word)を色のみを使用して強調表示します。
          ‘--color’ を意味します。

     plain
          単語を ‘[-removed-]’ および ‘{+added+}’ として表示します。 区
          切り文字が入力に表示されている場合、区切り文字をエスケープしよ
          うとしないため、出力があいまいになる可能性があります。

     porcelain
          スクリプトの使用を目的とした特別な行ベースの形式を使用します。
          追加/削除/無変更については、通常の統一されたdiff形式で印刷され
          、行の先頭の ‘+’/‘-’/‘ ‘ 文字で始まり、行の終わりまで続きます
          。入力の改行は、それ自体の行のチルダ ‘~’ で表されます。

     none
          単語(word)のdiffを再度無効にします。

     注意: 最初のモードの名前にもかかわらず、有効になっている場合、すべ
     てのモードで変更された部分を強調するために色が使用されることに注意
     してください。

‘--word-diff-regex=<regex>’
     空白以外を単語と見なす代わりに、 <regex> を使用して単語が何であるか
     を決定します。また、すでに有効になっていない限り、この機能は
     ‘--word-diff’ の機能を含んでいます。

     <regex> の重複しないマッチはすべて、単語と見なされます。これらのマ
     ッチの間のすべては空白と見なされ、違いを見つけるためとしては無視さ
     れます！ 正規表現に ‘|[^[:space:]]’ を追加して、空白以外のすべての
     文字とマッチすることを確認することをお勧めします。改行を含むマッチ
     は、改行で黙って切り捨てられます！

     たとえば、 ‘--word-diff-regex=.’ は各文字を単語として扱い、それに応
     じて文字ごとの違いを表示します。

     正規表現は、diffドライバーまたは構成オプション(configuration
     option)を介して設定することもできます。 gitattributes(5) または
     git-config(1) を参照してください。これを指定すると、diffドライバー
     または構成設定(configuration settings)が明示的にオーバーライドされ
     ます。diffドライバーは構成設定を上書きします。

‘--color-words[=<regex>]’
     ‘--word-diff=color’ に ‘--word-diff-regex=<regex>’ を加えたものに相
     当します(正規表現が指定されている場合)。

‘--no-renames’
     構成ファイルにデフォルトで指定されている場合でも、名前変更の検出を
     オフにします。

‘--[no-]rename-empty’
     名前変更ソースとして空のブロブを使用するかどうか。

‘--check’
     変更によって競合マーカーまたは空白エラーが発生した場合に警告します
     。空白エラーと見なされるものは、 ‘core.whitespace’ 構成によって制御
     されます。 デフォルトでは、末尾の空白(空白のみで構成される行を含む
     )と、行の最初のインデント内で直後にタブ文字が続くスペース文字は、空
     白エラーと見なされます。問題が見つかった場合は、ゼロ以外のステータ
     スで終了します。なお、 –exit-code とは互換性がありません。

‘--ws-error-highlight=<kind>’
     diffの ‘context’ または ‘old’ または ‘new’ 行の空白エラーを強調表示
     します。複数の値はコンマで区切られ、 ‘none’ は前の値をリセットし、
     ‘default’ はリストを ‘new’ にリセットし、 ‘all’ は old、new、
     context の省略形です。このオプションが指定されておらず、構成変数
     ‘diff.wsErrorHighlight’ が設定されていない場合、 ‘new’ 行の空白エラ
     ーのみが強調表示されます。空白エラーは ‘color.diff.whitespace’ で色
     分けされています。

‘--full-index’
     パッチ形式の出力を生成するときは、最初の一握りの文字(first handful
     of characters)の代わりに、「インデックス」行にイメージ前およびイメ
     ージ後の完全ブロブオブジェクト名を表示します。

‘--binary’
     ‘--full-index’ に加えて、 ‘git-apply’ で適用できるバイナリ差分を出
     力します。 ‘--patch’ の機能を含んでいます。

‘--abbrev[=<n>]’
     完全な40バイトの16進オブジェクト名をdiff-raw形式の出力とdiff-treeヘ
     ッダー行に表示する代わりに、オブジェクトを一意に参照する、少なくと
     も _<n>_ 桁の16進数の長さの最短のプレフィックスを表示します。diffパ
     ッチ出力形式では、 ‘--full-index’ が優先されます。つまり、
     ‘--full-index’ が指定されている場合、 ‘--abbrev’ に関係なく、完全な
     ブロブ名が表示されます。デフォルト以外の桁数は、 ‘--abbrev=<n>’ で
     指定できます。

‘-B[<n>][/<m>]’
‘--break-rewrites[=[<n>][/<m>]]’
     完全な書き換えの変更を削除と作成のペアに分割します。これには以下の
     2つの目的があります:

     これは、ファイルの完全な書き換えに相当する変更が、コンテキストとし
     てテキストで一致する非常に少数の行と混合された一連の削除と挿入とし
     てではなく、古いものすべての単一の削除とそれに続く すべての新しいも
     のを1回挿入し、数値 ‘m’ が -B オプションのこの側面を制御します(デフ
     ォルトは60%)。 ‘-B/70%’ は、Gitがそれを完全な書き換えと見なすために
     、元の30%未満が結果に残る必要があることを指定します(つまり、結果の
     パッチは、コンテキスト行と混合された一連の削除と挿入になります)。

     -M と一緒に使用すると、完全に書き換えられたファイルも名前変更のソー
     スと見なされ(通常、 -M は、消えたファイルのみを名前変更のソースと見
     なします)、数 ‘n’ が -Bオプションのこの側面を制御します(デフォルト
     は50%)。 ‘-B20%’ は、ファイルのサイズの20%以上と比較して、追加およ
     び削除を伴う変更が、別のファイルへの名前変更の可能なソースとして取
     得される資格があることを指定します。

‘-M[<n>]’
‘--find-renames[=<n>]’
     名前の変更(renames)を検知する。 ‘n’ が指定されている場合、それは類
     似性インデックスのしきい値です (つまり、ファイルのサイズと比較した
     追加/削除の量)。 たとえば、 ‘-M90%’ は、ファイルの90%以上が変更され
     ていない場合、 Gitが削除/追加のペアを名前変更と見なす必要があること
     を意味します。 ‘%’ 記号がない場合、数値は小数として読み取られ、その
     前に小数点が付きます。 つまり、 ‘-M5’ は0.5になるため、‘-M50%’ と同
     じになります。 同様に、 ‘-M05’ は ‘-M5%’ と同じです。 検出を正確な
     名前変更に制限するには、 ‘-M100%’ を使用します。 デフォルトの類似性
     インデックスは50%です。

‘-C[<n>]’
‘--find-copies[=<n>]’
     名前と同様コピーを検出します。 ‘--find-copies-harder’ ‘も参照してく
     ださい。 `n’ を指定すると、 ‘-M<n>’ と同じ意味になります。

‘--find-copies-harder’
     パフォーマンス上の理由から、デフォルトでは、 ‘-C’ オプションは、コ
     ピーの元のファイルが同じ変更組(changeset)で変更された場合にのみコピ
     ーを検索します。このフラグにより、コマンドは変更されていないファイ
     ルをコピー元の候補として検査します。これは大規模なプロジェクトでは
     非常にコストのかかる操作であるため、注意して使用してください。 複数
     の ‘-C’ オプションを指定しても同じ効果があります。

‘-D’
‘--irreversible-delete’
     削除するプレイメージ(preimage)を省略します。つまり、ヘッダーのみを
     出力し、プレイメージと ‘/dev/null’ の差分は出力しません。結果のパッ
     チは、 ‘patch’ または ‘git apply’ で適用されることを意図していませ
     ん。これは、変更後にテキストを確認することに集中したい人のためだけ
     のものです。さらに、出力には明らかに、そのようなパッチを手動でも逆
     に適用するのに十分な情報が不足しているため、オプションの名前が付け
     られています。

     ‘-B’ と併用する場合は、削除/作成ペアの削除部分のプリイメージ
     (preimage)も省略してください。

‘-l<num>’
     ‘-M’ および ‘-C’ オプションには、名前変更/コピーのサブセットを安価
     に検出できるいくつかの準備手順が含まれ、その後に、残りのすべてのペ
     アになっていない宛先をすべての関連ソースと比較する徹底的なフォール
     バック部分が続きます。(名前の変更の場合、残りのペアになっていないソ
     ースのみが関係します。コピーの場合、すべての元のソースが関係します
     )。Nのソースと宛先の場合、この徹底的なチェックのコストは O(N^2) で
     す。このオプションは、関係するソース/宛先ファイルの数が指定された数
     を超えた場合に、名前変更/コピー検出の完全な部分が実行されないように
     します。デフォルトは diff.renameLimit です。 値0は無制限として扱わ
     れることに注意してください。

‘--diff-filter=[(A|C|D|M|R|T|U|X|B)...[*]]’
     追加(Add)・コピー(Copy)・削除(Delete)・変更(Modify)・名前変更
     (Rename)されたファイル、タイプが変更されたファイル(T)、マージされて
     いないファイル(U)、不明なファイル(X)、またはペアリングが壊れている
     ファイル(B)のみを選択します。フィルタ文字(無しも含む)の任意の組み合
     わせを使用できます。 組み合わせに ‘*’ (全てまたは無し)が追加される
     と、比較で他の基準に一致するファイルがある場合、すべてのパスが選択
     されます。 他の基準に一致するファイルがない場合、何も選択されません
     。

     また、逆に、除外したい時はこれらの各大文字指定を小文字にして指定し
     ます。例えば ‘--diff-filter=ad’ は、追加および削除されたパスを除外
     します。

     注意:すべてのdiffがすべてのタイプを特徴とするわけではないことに注意
     してください。 たとえば、インデックスから作業ツリーへのdiffにエント
     リを追加することはできません(diffに含まれるパスのセットは、インデッ
     クスの内容によって制限されるため)。 同様に、これらのタイプの検出が
     無効になっている場合、コピーおよび名前変更されたエントリは表示され
     ません。

‘-S<string>’
     ファイル内の指定の文字列(つまり、 addition 、deletion)の出現回数の
     差分を調べます。スクリプターが使用することを目的としています。

     (構造体など)コードの正確なブロックを探していて、そのブロックが最初
     に作成されてからの履歴を知りたい場合に便利です。この機能を繰り返し
     使用して、プリイメージ(preimage)内の興味深いブロックを ‘-S’ にフィ
     ードバックし、そしてあなたはそれをブロックの最初のバージョンを取得
     するまで続けます。

     バイナリファイルも検索されます。

‘-G<regex>’
     パッチテキストに <regex> にマッチする 追加/削除 された行が含まれて
     いる差分を探します。

     ‘-S<regex>-pickaxe-regex’ と ‘-G<regex>’ の違いを説明するために、同
     じファイル内で以下のdiffを使用してコミットすることを検討してくださ
     い:

          +    return frotz(nitfol, two->ptr, 1, 0);
          ...
          -    hit = frotz(nitfol, mf2.ptr, 1, 0);

     ‘git log -G"frotz\(nitfol"’ はこのコミットを表示しますが、 ‘git log
     -S"frotz\(nitfol" --pickaxe-regex’ は表示しません(その文字列の出現
     回数が変更されなかったため)。

     ‘--text’ が提供されていない限り、 textconv フィルターのないバイナリ
     ファイルのパッチは無視されます。

     詳細については gitdiffcore(7) の _pickaxe_ エントリを参照してくださ
     い。

‘--find-object=<object-id>’
     指定されたオブジェクトの出現回数を変更する違いを探します。 ‘-S’ と
     同様に、引数だけが異なり、特定の文字列ではなく特定のオブジェクト
     IDを検索します。

     オブジェクトは、ブロブまたはサブモジュールのコミットにすることがで
     きます。 これは、 ‘git-log’ の ‘-t’ オプションがツリーも探すことを
     意味します。

‘--pickaxe-all’
     ‘-S’ または ‘-G’ が変更を見つけたら、 <string> の変更を含むファイル
     だけでなく、その変更セット(changeset)のすべての変更を表示します。

‘--pickaxe-regex’
     ‘-S’ に指定した <string> を拡張POSIX正規表現として扱います。

‘-O<orderfile>’
     ファイルが出力に表示される順序を制御します。これは ‘diff.orderFile’
     構成変数をオーバーライドします(git-config(1) 参照)。
     ‘diff.orderFile’ をキャンセルするには、 ‘-O/dev/null’ を使用します
     。

     出力順序は、 <orderfile> 内のglobパターンの順序によって決定されます
     。最初のパターンに一致するパス名を持つすべてのファイルが最初に出力
     され、2番目のパターンに一致する(ただし最初のパターンには一致しない
     )パス名を持つすべてのファイルが次に出力されます。パス名がどのパター
     ンとも一致しないすべてのファイルは、ファイルの最後に暗黙のすべて一
     致パターンがあるかのように、最後に出力されます。複数のパス名のラン
     クが同じである場合(同じパターンに一致するが、以前のパターンには一致
     しない)、相互の出力順序は通常の順序です。

     <orderfile> は以下のとおりパースされます:

        • 空白行は無視されるため、読みやすくするための区切りとして使用で
          きます。

        • ハッシュ ("‘#’") で始まる行は無視されるため、コメントに使用で
          きます。 パターンがハッシュで始まる場合は、パターンの先頭にバ
          ックスラッシュ(訳注:日本では環境により円記号)("‘\’") を追加し
          ます。

        • 他の各行には、単一のパターンが含まれています。

     パターンは、 FNM_PATHNAME フラグなしで fnmatch(3) に使用されるパタ
     ーンと同じ構文とセマンティクスを持ちますが、最終的なパス名コンポー
     ネントをいくつも削除するとパターンと一致する場合、パス名もパターン
     と一致する点が異なります。 たとえば、パターン "‘foo*bar’" は、
     "‘fooasdfbar’" および "‘foo/bar/baz/asdf’" と一致しますが、
     "‘foobarx’" とは一致しません。

‘--skip-to=<file>’
‘--rotate-to=<file>’
     名前付き <file> の前のファイルを出力から破棄するか(スキップして)、
     出力の最後に移動させます(ローテーションさせます)。 これらは主に
     ‘git difftool’ コマンドを使用するために考案されたものであり、それ以
     外の場合はあまり役に立たない可能性があります。

‘-R’
     2つの入力を交換します。 つまり、インデックスまたはディスク上のファ
     イルとツリーの内容の違いを表示します。

‘--relative[=<path>]’
‘--no-relative’
     プロジェクトのサブディレクトリから実行する場合、このオプションを使
     用して、ディレクトリ外の変更を除外し、それに関連するパス名を表示す
     るように指示できます。サブディレクトリ(ベアリポジトリなど)にいない
     場合は、引数として <path> を指定することで、出力を作成するサブディ
     レクトリに名前を付けることができます。 ‘--no-relative`は、
     `diff.relative’ 設定オプションと以前の ‘--relative’ の両方を打ち消
     すために使用できます。

‘-a’
‘--text’
     すべてのファイルをテキストとして扱います。

‘--ignore-cr-at-eol’
     比較を行うときは、行末のキャリッジリターン(carriage-return)を無視し
     ます。

‘--ignore-space-at-eol’
     行末(EOL)での空白(whitespace)の変更を無視します。

‘-b’
‘--ignore-space-change’
     空白(whitespace)の数の変更は無視してください。これは、行末の空白
     (whitespace)を無視し、1つ以上の空白文字(whitespace characters)の他
     のすべてのシーケンスを同等と見なします。

‘-w’
‘--ignore-all-space’
     行を比較するときは空白を無視します。 これにより、一方の行に空白があ
     り、もう一方の行に空白がない場合でも、違いは無視されます。

‘--ignore-blank-lines’
     全て空白の行の変更は無視します。

‘-I<regex>’
‘--ignore-matching-lines=<regex>’
     すべての行が <regex> にマッチする変更を無視します。このオプションは
     複数回指定できます。

‘--inter-hunk-context=<lines>’
     指定された行数までの差分ハンク間のコンテキストを表示し、それによっ
     て互いに近いハンクを融合します。デフォルトは
     ‘diff.interHunkContext’ で、設定オプションが設定されていない場合は
     0です。

‘-W’
‘--function-context’
     関数全体を各変更のコンテキスト行として表示します。関数名は、 ‘git
     diff’ がパッチハンクヘッダーを処理するのと同じ方法で決定されます
     (gitattributes(5) の _Defining a custom hunk-header_ を参照)。

‘--exit-code’
     diff(1）と同様のコードでプログラムを終了させます。つまり、違いがあ
     った場合は 1 で終了し、 0 は違いがないことを意味します。

‘--quiet’
     プログラムのすべての出力を無効にします。 ‘--exit-code’ を意味します
     。

‘--ext-diff’
     外部diffヘルパーの実行を許可します。 gitattributes(5) を使用して外
     部diffドライバーを設定する場合は、 git-log(1) およびその仲間と一緒
     にこのオプションを使用する必要があります。

‘--no-ext-diff’
     外部diffドライバーを禁止します。

‘--textconv’
‘--no-textconv’
     バイナリファイルを比較するときに、外部テキスト変換フィルターの実行
     を許可(または禁止)します。 詳細については、 gitattributes(5) を参照
     してください。textconvフィルターは通常、一方向の変換であるため、結
     果のdiffは人間の消費に適していますが、適用(apply)することはできませ
     ん。このため、textconvフィルターは、 git-diff(1) および git-log(1)
     に対してのみデフォルトで有効になりますが、 git-format-patch(1) また
     はdiff配管コマンドに対しては有効になりません。

‘--ignore-submodules[=<when>]’
     diff生成のサブモジュールへの変更を無視します。 <when> は、 none・
     untracked・dirty・allのいずれかになります。これがデフォルトです。
     noneを使用すると、追跡されていないファイルまたは変更されたファイル
     が含まれている場合、またはそのHEADがスーパープロジェクトに記録され
     ているコミットと異なる場合にサブモジュールが変更されたと見なされ、
     git-config(1) または gitmodules(5) の ignoreオプションの設定をオー
     バーライドするために使用できます。untrackedが使用されている場合、サ
     ブモジュールには追跡されていないコンテンツのみが含まれている場合、
     サブモジュールはダーティとは見なされません(ただし、変更されたコンテ
     ンツはスキャンされます)。「dirty」を使用すると、サブモジュールの作
     業ツリーへのすべての変更が無視され、スーパープロジェクトに格納され
     ているコミットへの変更のみが表示されます(これは1.7.0までの動作でし
     た)。「all」を使用すると、サブモジュールへのすべての変更が非表示に
     なります。

‘--src-prefix=<prefix>’
     "a/" の代わりに、与えられたソースプレフィックス(source prefix)を表
     示します。

‘--dst-prefix=<prefix>’
     "b/" の代わりに、指定された宛先プレフィックス(destination prefix)を
     表示します。

‘--no-prefix’
     送信元(source)または宛先(destination)のプレフィックスを表示しません
     。

‘--line-prefix=<prefix>’
     出力のすべての行に追加のプレフィックスを付加します。

‘--ita-invisible-in-index’
     デフォルトでは、 "git add -N" によって追加されたエントリは、 "git
     diff" に既存の空のファイルとして表示され、 "git diff –cached" に新
     しいファイルとして表示されます。このオプションを使用すると、エント
     リは "git diff" では新しいファイルとして表示され、 "git diff
     –cached" では存在しません。このオプションは、
     ‘--ita-visible-in-index’ で元に戻すことができます。どちらのオプショ
     ンも実験的なものであり、将来削除される可能性があります。

   これらの一般的なオプションの詳細については、 gitdiffcore(7) も参照し
てください。

<tree-ish>
     The id of a tree object.

<path>…
     If provided, the results are limited to a subset of files matching
     one of the provided pathspecs.

‘-r’
     recurse into sub-trees

‘-t’
     show tree entry itself as well as subtrees.  Implies -r.

‘--root’
     When ‘--root’ is specified the initial commit will be shown as a
     big creation event.  This is equivalent to a diff against the NULL
     tree.

‘--merge-base’
     Instead of comparing the <tree-ish>s directly, use the merge base
     between the two <tree-ish>s as the "before" side.  There must be
     two <tree-ish>s given and they must both be commits.

‘--stdin’
     When ‘--stdin’ is specified, the command does not take <tree-ish>
     arguments from the command line.  Instead, it reads lines
     containing either two <tree>, one <commit>, or a list of <commit>
     from its standard input.  (Use a single space as separator.)

     When two trees are given, it compares the first tree with the
     second.  When a single commit is given, it compares the commit with
     its parents.  The remaining commits, when given, are used as if
     they are parents of the first commit.

     When comparing two trees, the ID of both trees (separated by a
     space and terminated by a newline) is printed before the
     difference.  When comparing commits, the ID of the first (or only)
     commit, followed by a newline, is printed.

     The following flags further affect the behavior when comparing
     commits (but not trees).

‘-m’
     By default, _git diff-tree –stdin_ does not show differences for
     merge commits.  With this flag, it shows differences to that commit
     from all of its parents.  See also ‘-c’.

‘-s’
     By default, _git diff-tree –stdin_ shows differences, either in
     machine-readable form (without ‘-p’) or in patch form (with ‘-p’).
     This output can be suppressed.  It is only useful with ‘-v’ flag.

‘-v’
     This flag causes _git diff-tree –stdin_ to also show the commit
     message before the differences.

‘--pretty[=<format>]’
‘--format=<format>’
     コミットログの内容を指定された形式できれいに印刷(pretty-print)しま
     す。 _<format>_ は oneline・short・medium・full・fuller・
     reference・email・raw・format:<string>・tformat:<string> のいずれか
     になります。 _<format>_ が上記のいずれでもなく、 _%placeholder_ が
     含まれている場合、 _–pretty=tformat:<format>_ が指定されたかのよう
     に動作します。

     各フォーマットの詳細については、 "PRETTY FORMATS" セクションを参照
     してください。 _=<format>_ の部分を省略すると、デフォルトで
     _medium_ になります。

     注意: リポジトリー構成でデフォルトのpretty formatを指定できます
     (git-config(1) 参照)。

‘--abbrev-commit’
     40バイトの16進コミットオブジェクト名全体を表示する代わりに、オブジ
     ェクトに一意の名前を付けるプレフィックスを表示します。
     "–abbrev=<n>" (表示されている場合はdiff出力も変更します)オプション
     を使用して、プレフィックスの最小長を指定できます。

     これにより、80桁幅の端末を使用している人にとって "–pretty=oneline"
     がずっと読みやすくなるはずです。

‘--no-abbrev-commit’
     完全な40バイトの16進コミットオブジェクト名を表示します。 これにより
     、明示的または "–oneline" などの他のオプションによって暗黙的に示さ
     れる ‘--abbrev-commit’ が無効になります。また、 ‘log.abbrevCommit’
     変数をオーバーライドします。

‘--oneline’
     これは、 "–pretty=oneline –abbrev-commit" を一緒に使用するための省
     略形です。

‘--encoding=<encoding>’
     コミットオブジェクトは、ログメッセージに使用される文字エンコードを
     エンコードヘッダーに記録します。このオプションを使用して、ユーザー
     が好むエンコーディングでコミットログメッセージを再コーディングする
     ようにコマンドに指示できます。配管以外のコマンドの場合、これはデフ
     ォルトでUTF-8になります。オブジェクトが ‘X’ でエンコードされている
     と主張し、 ‘X’ で出力している場合、オブジェクトをそのまま出力するこ
     とに注意してください。これは、元のコミットの無効なシーケンスが出力
     にコピーされる可能性があることを意味します。同様に、 iconv(3) コミ
     ットの変換に失敗した場合、警告とともに元のオブジェクトをそのまま出
     力します。

‘--expand-tabs=<n>’
‘--expand-tabs’
‘--no-expand-tabs’
     出力に表示する前に、ログメッセージでタブ展開を実行します(タブ幅を
     <n> とみなして <n> 境界に揃うように空白で調整する)。
     ‘--expand-tabs’ は ‘--expand-tabs=8’ の省略形であり、
     ‘--no-expand-tabs’ は ‘--expand-tabs=0’ の省略形です。タブの展開を
     無効にします。

     デフォルトでは、タブはログメッセージを4つのスペースでインデントする
     きれいな形式(pretty formats)で展開されます(つまり、デフォルトの
     _medium_ と’full’ と _fuller_)。

‘--notes[=<ref>]’
     コミットログメッセージを表示するときに、コミットに注釈を付ける
     notes(git-notes(1) 参照)を表示します。これは、コマンドラインに
     ‘--pretty’ 、‘--format’ または ‘--oneline’ オプションが指定されてい
     ない場合の、 ‘git log’ と ‘git show’ と ‘ git whatchanged‘ コマンド
     のデフォルトです。

     デフォルトでは、表示されるnotesは、 ‘core.notesRef’ および
     ‘notes.displayRef’ 変数(または対応する環境変数オーバーライド)にリス
     トされているnote refからのものです。詳細については git-config(1) を
     参照してください。

     オプションの _<ref>_ 引数を使用して、refを使用して表示するnotesを検
     索します。 refは、 ‘refs/notes/’ で始まる完全なrefnameを指定できま
     す。 ‘notes/’ で始まるか、 ‘refs/’ で始まるか、それ以外で始まる場合
     、 ‘refs/notes/’ が接頭辞として付けられ、refのフルネームを形成しま
     す。

     複数の –notes オプションを組み合わせて、表示するノートを制御できま
     す。 例: "–notes=foo" は "refs/notes/foo" からのnotesのみを表示しま
     す。 "–notes=foo –notes" は、 "refs/notes/foo" とデフォルトのnotes
     ref(s) の両方のnotesを表示します。

‘--no-notes’
     notesを表示しないでください。 これは、notesが表示されるnotes refの
     リストをリセットすることにより、上記の ‘--notes’ オプションを無効に
     します。 オプションは、コマンドラインで指定された順序で解析されます
     。 "–notes –notes=foo –no-notes –notes=bar" は、 "refs/notes/bar" か
     らのnotesのみを表示します。

‘--show-notes[=<ref>]’
‘--[no-]standard-notes’
     これらのオプションは非推奨です。 代わりに、上記の –notes/–no-notes
     オプションを使用してください。

‘--show-signature’
     署名を ‘gpg --verify’ に渡して、署名されたコミットオブジェクトの有
     効性を確認し、出力を表示します。

‘--no-commit-id’
     _git diff-tree_ outputs a line with the commit ID when applicable.
     This flag suppressed the commit ID output.

‘-c’
     This flag changes the way a merge commit is displayed (which means
     it is useful only when the command is given one <tree-ish>, or
     ‘--stdin’).  It shows the differences from each of the parents to
     the merge result simultaneously instead of showing pairwise diff
     between a parent and the result one at a time (which is what the
     ‘-m’ option does).  Furthermore, it lists only files which were
     modified from all parents.

‘--cc’
     This flag changes the way a merge commit patch is displayed, in a
     similar way to the ‘-c’ option.  It implies the ‘-c’ and ‘-p’
     options and further compresses the patch output by omitting
     uninteresting hunks whose the contents in the parents have only two
     variants and the merge result picks one of them without
     modification.  When all hunks are uninteresting, the commit itself
     and the commit log message is not shown, just like in any other
     "empty diff" case.

‘--combined-all-paths’
     This flag causes combined diffs (used for merge commits) to list
     the name of the file from all parents.  It thus only has effect
     when -c or –cc are specified, and is likely only useful if filename
     changes are detected (i.e.  when either rename or copy detection
     have been requested).

‘--always’
     Show the commit itself and the commit log message even if the diff
     itself is empty.


PRETTY FORMATS
**************

コミットがマージであり、 pretty-format が _oneline_ または _email_ また
は _raw_ でない場合、 _Author:_ 行の前に追加の行が挿入されます。この行は
"Merge: " で始まり、先祖のコミットのハッシュがスペースで区切られて出力さ
れます。履歴の表示を制限している場合、たとえば、特定のディレクトリまたは
ファイルに関連する変更のみに関心がある場合、リストされたコミットは必ずし
も *直接* の親コミットのリストではない可能性があることに注意してください
。

   いくつかの組み込みフォーマットがあります。そして以下で説明するように
、 pretty.<name> 構成オプション(config option)を別のフォーマット名または
_format:_ 文字列に設定することで、追加のフォーマットを定義できます
(git-config(1) 参照)。組み込みフォーマットの詳細は以下のとおりです:

   • _oneline_

          <hash> <title line>

     これは、可能な限りコンパクトになるように設計されています。

   • _short_

          commit <hash>
          Author: <author>

          <title line>

   • _medium_

          commit <hash>
          Author: <author>
          Date:   <author date>

          <title line>

          <full commit message>

   • _full_

          commit <hash>
          Author: <author>
          Commit: <committer>

          <title line>

          <full commit message>

   • _fuller_

          commit <hash>
          Author:     <author>
          AuthorDate: <author date>
          Commit:     <committer>
          CommitDate: <committer date>

          <title line>

          <full commit message>

   • _reference_

          <abbrev hash> (<title line>, <short author date>)

     この形式は、コミットメッセージ内の別のコミットを参照するために使用
     され、 ‘--pretty='format:%C(auto)%h (%s, %ad)'’ と同じです。 デフォ
     ルトでは、別の ‘--date’ オプションが明示的に指定されていない限り、
     日付は ‘--date=short’ でフォーマットされます。formatプレースホルダ
     ーを使用する他の ‘format:’ と同様に、その出力は、 ‘--decorate’ や
     ‘--walk-reflogs’ などの他のオプションの影響を受けません。

   • _email_

          From <hash> <date>
          From: <author>
          Date: <author date>
          Subject: [PATCH] <title line>

          <full commit message>

   • _mboxrd_

     _email_ と同様ですが、コミットメッセージの "From " で始まる行(前に
     0個以上の ">" が付いている)は ">" でクォートされているため、新しい
     コミットの開始と混同されることはありません。

   • _raw_

     _raw_ 形式は、コミットオブジェクトに格納されているとおりにコミット
     全体を正確に表示します。とりわけ –abbrev または –no-abbrev のどちら
     が使用されているかに関係なく、ハッシュは完全に表示され、「親」
     (parents)情報は、移植や履歴の単純化を考慮せずに、真の親のコミットを
     示します。この形式は、コミットの表示方法に影響しますが、いわゆる
     ‘git log --raw’ の差分の表示方法ではありません。生のdiff形式で完全
     なオブジェクト名を取得するには、 ‘--no-abbrev’ を使用します。

   • _format:<string>_

     _format:<string>_ 形式を使用すると、表示する情報を指定できます。注
     意: これはprintf書式に少し似ていますが、 _\n_ の代わりに _%n_ を使
     用して改行を取得するという例外に注意してください。

     例: _format:"The author of %h was %an, %ar%nThe title was
     >>%s<<%n"_ は以下のように表示されます:

          The author of fe6e0ee was Junio C Hamano, 23 hours ago
          The title was >>t4119: test autocomputing -p<n> for traditional diff input.<<

     さて、以下がプレースホルダー達です:

        • 単一のリテラル文字に展開されるプレースホルダー:

          _%n_
               改行(newline)

          _%%_
               ’%’そのもの

          _%x00_
               16進数のバイト値を出力

        • うしろのプレースホルダーのフォーマッティングに影響するプレース
          ホルダー:

          _%Cred_
               赤色に切り替える

          _%Cgreen_
               緑色に切り替える

          _%Cblue_
               青色に切り替える。

          _%Creset_
               色をリセットする

          _%C(…)_
               git-config(1) の "CONFIGURATION FILE" 節の Values で説明
               されている色の指定。 デフォルトでは、色はログ出力が有効に
               なっている場合にのみ表示されます（ ‘color.diff’ または ‘
               color.ui‘ または ‘--color`によって、ターミナルに行く場合
               は前者の `auto’ 設定を尊重します)。 ‘%C(auto,...)’ は、
               default の歴史的同義語として受け入れられます(例:
               ‘%C(auto,red)’)。 ‘%C(always,...)’ を指定すると、色が有効
               になっていない場合でも色が表示されます(この形式やgitが色
               付けする可能性のある他のすべてのものを含め、出力全体の色
               を有効にするために ‘--color = always’ の使用を検討してく
               ださい)。 ‘auto’ のみ(つまり、 ‘%C(auto)’ )は、色が再び切
               り替わるまで、続くプレースホルダーで自動色付けをオンにし
               ます。

          _%m_
               左(‘<’) または 右(‘>’) または 境界 (‘-’) の印

          _%w([<w>[,<i1>[,<i2>]]])_
               git-shortlog(1) の -w オプションのように、 行の折り返しを
               切り替えます。

          _%<(<N>[,trunc|ltrunc|mtrunc])_
               次のプレースホルダーに少なくともN列を使用させ、 必要に応
               じて右側にスペースを埋め込みます。オプションで、出力がN列
               より長い場合は、先頭(ltrunc)または中間(mtrunc)または末尾
               (trunc)で切り捨てます。注意: 切り捨ては、 N >= 2 でのみ正
               しく機能することに注意してください。

          _%<|(<N>)_
               次のプレースホルダーを少なくともN番目の列まで取得し、 必
               要に応じて右側にスペースを埋め込みます

          _%>(<N>)_, _%>|(<N>)_
               それぞれ _%<(<N>)_ 、 _%<|(<N>)_ に似ていますが、 左側に
               スペースが埋め込まれています

          _%>>(<N>)_, _%>>|(<N>)_
               _%>(<N>)_ 、 _%>|(<N>)_ とそれぞれ似ていますが、 次のプレ
               ースホルダーが指定されたよりも多くのスペースを取り、その
               左側にスペースがある場合は、それらのスペースを使用します
               。

          _%><(<N>)_, _%><|(<N>)_
               それぞれ _%<(<N>)_ 、 _%<|(<N>)_ に似ていますが、 両側に
               パディングがあります(つまり、テキストが中央に配置されます
               )

        • コミットから抽出された情報に展開するプレースホルダー:

          _%H_
               コミットハッシュ

          _%h_
               省略されたコミットハッシュ

          _%T_
               ツリーハッシュ

          _%t_
               省略されたツリーハッシュ

          _%P_
               親のハッシュ達

          _%p_
               省略された親のハッシュ達

          _%an_
               作者名

          _%aN_
               作者名( .mailmap に関しては、git-shortlog(1) または
               git-blame(1) を参照)

          _%ae_
               作者電子メールアドレス

          _%aE_
               作者電子メールアドレス(.mailmap に関しては
               git-shortlog(1) または git-blame(1) を参照)

          _%al_
               作者電子メールアドレスアカウント名(local-part)( _@_ の前
               の部分)

          _%aL_
               作者電子メールアドレスアカウント名(local-part)(_%al_ 参照
               ) .mailmap に関しては git-shortlog(1) または git-blame(1)
               参照)

          _%ad_
               作成日(フォーマットに関しては –date= オプション参照)

          _%aD_
               作成日 RFC2822形式

          _%ar_
               作成日 相対(relative)形式

          _%at_
               作成日 UNIXタイムスタンプ形式

          _%ai_
               作成日 ISO 8601風形式

          _%aI_
               作成日 厳密なISO 8601形式

          _%as_
               作成日 短い形式(‘YYYY-MM-DD’)

          _%ah_
               作成日 human形式( git-rev-list(1) の ‘--date=human’ オプ
               ションのようなかんじ)

          _%cn_
               コミッター名

          _%cN_
               コミッター名( .mailmap に関しては git-shortlog(1) または
               git-blame(1) 参照)

          _%ce_
               コミッター電子メールアドレス

          _%cE_
               コミッター電子メールアドレス(.mailmap に関しては
               git-shortlog(1) または git-blame(1) 参照)

          _%cl_
               コミッター電子メールアドレスアカウント名(local-part)( _@_
               の前の部分)

          _%cL_
               コミッター電子メールアドレスアカウント名(local-part)(
               _%cl_ 参照) .mailmap に関しては git-shortlog(1) または
               git-blame(1) 参照)

          _%cd_
               コミッター日付(フォーマットに関しては –date= オプション参
               照)

          _%cD_
               コミッター日付 RFC2822形式

          _%cr_
               コミッター日付 相対(relative)形式

          _%ct_
               コミッター日付 UNIXタイムスタンプ形式

          _%ci_
               コミッター日付 ISO 8601風形式

          _%cI_
               コミッター日付 厳密なISO 8601形式

          _%cs_
               コミッター日付 短い形式(‘YYYY-MM-DD’)

          _%ch_
               コミッター日付 human形式(git-rev-list(1) の
               ‘--date=human’ オプションのようなかんじ)

          _%d_
               ref名 git-log(1) の –decorate オプションみたいなの

          _%D_
               " (", ")" で囲ってないref名

          _%(describe[:options])_
               git-describe(1) のような人間が読める名前。 説明できないコ
               ミットの場合は空の文字列。 ‘describe’ 文字列の後には、コ
               ロンと0個以上のカンマ区切りオプションを続けることができま
               す。タグが同時に追加または削除されると、説明に一貫性がな
               くなる可能性があります。

                  • _match=<pattern>_: "refs/tags/" プレフィックスを除い
                    て、指定された ‘glob(7)’ パターンに一致するタグのみ
                    を考慮します。

                  • _exclude=<pattern>_: "refs/tags/" プレフィックスを除
                    いて、指定された ‘glob(7)’ パターンに一致するタグを
                    考慮しないでください。

          _%S_
               コミットに到達したコマンドラインで指定されたref名 ( ‘git
               log --source’ など)は、 ‘git log’ でのみ機能します

          _%e_
               エンコーディング

          _%s_
               件名(subject)

          _%f_
               ファイル名に適した、サニタイズされた件名

          _%b_
               本文(body)

          _%B_
               生本文(raw body)(ラップされてない件名と本文)

          _%N_
               コミットノート(commit notes)

          _%GG_
               署名されたコミットの為のGPSからの生の検証メッセージ

          _%G?_
               良い(good)な(有効な)署名の場合は "G" 、 悪い(bad)な署名の
               場合は "B" 、有効性が不明(unknown)な良い署名の場合は "U"
               、期限切れ(eXpired)の良い署名の場合は "X" 、期限切れのキ
               ーで作成された良い署名の場合は "Y" 、取り消されたキーによ
               って作成された良い署名の場合は "R" 、署名を確認できない場
               合(キーの欠落など)は "E" 、署名がない場合は "N" を表示し
               ます。

          _%GS_
               署名されたコミットの署名者の名前を表示する

          _%GK_
               署名されたコミットに署名するために使用されるキーを表示す
               る

          _%GF_
               署名されたコミットに署名するために使用されるキーのフィン
               ガープリントを表示する

          _%GP_
               署名されたコミットに署名するためにサブキーが使用された 主
               キーのフィンガープリントを表示します

          _%GT_
               署名されたコミットに署名するために使用されるキーの信頼レ
               ベル(trust level)を表示します

          _%gD_
               reflogセレクター(例:‘refs/stash@{1}’ or ‘refs/stash@{2
               minutes ago}’) この形式は、 ‘-g’ オプションで説明されてい
               る規則に従います。 ‘@’ の前の部分は、コマンドラインで指定
               されたrefnameです(したがって、 ‘git log -g
               refs/heads/master’ は ‘refs/heads/master@{0}’ を生成しま
               す)。

          _%gd_
               短縮されたreflogセレクター。 ‘%gD’ と同じですが、 人間が
               読みやすいようにrefname部分が短縮されています(したがって
               、 ‘refs/heads/master’ は単に ‘master’ になります)。

          _%gn_
               reflog ID名

          _%gN_
               reflog ID名( .mailmap に関しては git-shortlog(1) または
               git-blame(1) 参照)

          _%ge_
               reflog ID 電子メールアドレス

          _%gE_
               reflog ID 電子メールアドレス( .mailmap に関しては
               git-shortlog(1) または git-blame(1) 参照)

          _%gs_
               reflog 件名

          _%(trailers[:options])_
               git-interpret-trailers(1) によって解釈されるようにボディ
               のトレーラーを表示します。 ‘trailers’ 文字列の後には、コ
               ロンと0個以上のカンマ区切りオプションを続けることができま
               す。いずれかのオプションが複数回提供された場合、それぞれ
               最後のものが優先されます。

               ブール値オプションは、オプションの値 ‘[=<BOOL>]’ を受け入
               れます。 値 ‘true’ 、‘false’ 、 ‘on’ 、‘off’ などはすべて
               受け入れられます。 git-config(1) の "EXAMPLES" の
               "boolean" サブセクションを参照してください。ブール値オプ
               ションが値なしで指定された場合、それは有効を指定した事に
               なります。

                  • _key=<K>_ は指定されたキーを持つトレーラーのみを表示
                    します。マッチングは大文字と小文字を区別せずに行われ
                    、末尾のコロンはオプションです。オプションが複数回指
                    定されている場合、いずれかのキーに一致するトレーラー
                    行が表示されます。このオプションは自動的に ‘only’ オ
                    プションを有効にして、トレーラーブロック内の非トレー
                    ラー行が非表示になるようにします。それが望ましくない
                    場合は、 ‘only=false’ で無効にすることができます。 た
                    とえば、 ‘%(trailers:key=Reviewed-by)’ は、キーが
                    ‘Reviewed-by‘のトレーラー行を表示します。

                  • _only[=<BOOL>]_ はトレーラーブロックに非トレーラー行
                    を含めるかどうかを選択します。

                  • _separator=<SEP>_ はトレーラー行の間に挿入される区切
                    り文字を指定します。このオプションが指定されていない
                    場合、各トレーラー行は改行文字で終了します。文字列
                    SEPには、上記のリテラルフォーマットコードが含まれる
                    場合があります。区切り文字としてコンマを使用するには
                    、次のオプションとして解析されないよう ‘%x2C’ を使用
                    する必要があります。 たとえば、
                    %(trailers:key=Ticket,separator=%x2C )‘ は、キーが
                    "Ticket" であるすべてのトレーラー行をカンマとスペー
                    スで区切って表示します。

                  • _unfold[=<BOOL>]_ は interpret-trailer の ‘--unfold’
                    オプションが指定されたかのように動作させます。たとえ
                    ば、 ‘%(trailers:only,unfold=true)’ が展開され、すべ
                    てのトレーラー行が表示されます。

                  • _keyonly[=<BOOL>]_ トレーラーのキー部分のみを表示。

                  • _valueonly[=<BOOL>]_ トレーラーの値部分のみ表示。

                  • _key_value_separator=<SEP>_ トレーラー行の間に挿入さ
                    れる区切り文字を指定します。このオプションが指定され
                    ていない場合、各トレーラーのキーと値のペアは ": " で
                    区切られます。 それ以外の場合は、上記の
                    _separator=<SEP>_ と同じセマンティクスを共有します。

     *Note*

     一部のプレースホルダーは、リビジョントラバーサルエンジンに指定され
     た他のオプションに依存する場合があります。 たとえば、 ‘%g*’ reflogオ
     プションは、reflogエントリをトラバースしない限り(たとえば、 ‘git
     log -g`によって)空の文字列を挿入します。コマンドラインで
     `--decorate’ がまだ指定されていない場合、 ‘%d’ と ‘%D’ プレースホル
     ダーは「短い」(short)装飾形式を使用します。

   プレースホルダーの _%_ の後に ‘+’ (プラス記号)を追加すると、プレース
ホルダーが空でない文字列に展開される場合に限り、展開の直前に改行が挿入さ
れます。

   プレースホルダーの _%_ の後に ‘-’ (マイナス記号)を追加すると、プレー
スホルダーが空の文字列に展開された場合にのみ、展開の直前の連続するすべて
の改行が削除されます。

   プレースホルダーの _%_ の後に ‘ ‘ (スペース)を追加すると、プレースホ
ルダーが空でない文字列に展開される場合に限り、展開の直前にスペースが挿入
されます。

   • _tformat:_

     _tformat:_ 形式は、 "separator" セマンティクスの代わりに
     "terminator" セマンティクスを提供することを除いて、 _format:_ とま
     ったく同じように機能します。 つまり、各コミットには、エントリ間に区
     切り文字を配置するのではなく、メッセージターミネータ文字(通常は改行
     )が追加されます。 これは、「1行」形式と同様に、1行形式の最終エント
     リが新しい行で適切に終了することを意味します。 例えば:

          $ git log -2 --pretty=format:%h 4da45bef \
            | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
          4da45be
          7134973 -- NO NEWLINE

          $ git log -2 --pretty=tformat:%h 4da45bef \
            | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
          4da45be
          7134973

     加えて、 ‘%’ が含まれている認識されない文字列は、その前に
     ‘tformat:’ があるかのように解釈(interpret)されます。 たとえば、以下
     の2つは同等です:

          $ git log -2 --pretty=tformat:%h 4da45bef
          $ git log -2 --pretty=%h 4da45bef


Raw output format
*****************

‘git-diff-index’ と ‘git-diff-tree’ と ‘git-diff-files’ と ‘git diff
--raw’ からの生の出力形式は非常に似ています。

   これらのコマンドはすべて、2つのセットを比較します。なお、比較されるも
のは異なります:

git-diff-index <tree-ish>
     <tree-ish> とファイルシステム上のファイルを比較します。

git-diff-index –cached <tree-ish>
     <tree-ish> とインデックスを比較します。

git-diff-tree [-r] <tree-ish-1> <tree-ish-2> [<pattern>…]
     2つの引数で指定されたツリーを比較します。

git-diff-files [<pattern>…]
     インデックスとファイルシステム上のファイルを比較します。

   "git-diff-tree" コマンドは、比較対象のハッシュ値を出力することで出力
を開始します。その後、すべてのコマンドは、変更されたファイルごとに1つの
出力行を出力します。

   出力行は以下のようにフォーマットされます:

     in-place edit  :100644 100644 bcd1234 0123456 M file0
     copy-edit      :100644 100644 abcd123 1234567 C68 file1 file2
     rename-edit    :100644 100644 abcd123 1234567 R86 file1 file3
     create         :000000 100644 0000000 1234567 A file4
     delete         :100644 000000 1234567 0000000 D file5
     unmerged       :000000 000000 0000000 0000000 U file6

   つまり、左から右へ:

  1. コロン(:)

  2. "src" のモード。作成(creation)またはマージされていない(unmerged)場
     合は 000000

  3. 空白

  4. "dst" のモード。作成(creation)またはマージされていない(unmerged)場
     合は 000000

  5. 空白

  6. "src" のsha1。作成(creation)またはマージされていない(unmerged)場合
     は 0{40}

  7. 空白

  8. "dst" のsha1。作成(creation)またはマージされていない(unmerged)また
     は作業ツリーにある場合は 0{40}

  9. 空白

  10. ステータスの後に、オプションの「スコア数」("score" number)が続きま
     す

  11. ‘-z’ オプションが使用されている場合はタブまたはNUL

  12. "src" のパス

  13. ‘-z’ オプションが使用されている場合タブまたはNUL。ステータスCまた
     はRにのみ存在します

  14. "dst" のパス。ステータスCまたはRにのみ存在します

  15. LFでレコードを終了します。 ‘-z’ オプションが使用されている場合は
     NULでレコードを終了します。

   ステータス文字の種類は以下のとおり:

   • A: ファイルの追加

   • C: ファイルを新しいファイルにコピー

   • D: ファイルの削除

   • M: ファイルの内容やモードの変更

   • R: ファイル名の名前変更

   • T: ファイルのタイプを変更

   • U: ファイルはマージされていません(コミットする前にマージを完了する
     必要があります)

   • X: 「不明な」変更タイプ(おそらくバグです。報告してください)

   ステータス文字CとRの後には常にスコアが続きます(移動またはコピーのソー
スとターゲットの間の類似性のパーセンテージを示します)。ステータス文字Mの
後には、ファイルの書き換えのスコア(非類似度のパーセンテージを示す)が続く
場合があります。

   <sha1> は、ファイルがファイルシステム上で新規で、インデックスと同期し
ていない場合、すべて0として表示されます。

   例:

     :100644 100644 5be4a4a 0000000 M file.c

   ‘-z`オプションを指定しない場合、構成変数 `core.quotePath’ で説明され
ているように、通常の文字以外(unusual characters)を含むパス名が引用符で囲
まれます(git-config(1) 参照)。 ‘-z’ を使用すると、ファイル名がそのまま出
力され、行はNULバイトで終了します。


diff format for merges
**********************

"git-diff-tree" と "git-diff-files" と "git-diff –raw" は、 ‘-c’ または
‘--cc’ オプションを使用して、マージコミットに対してもdiff出力を生成でき
ます。出力は、以下の点で上記の形式とは異なります:

  1. 親ごとにコロン(:)があります

  2. より多くの "src" モードと "src" sha1があります

  3. statusは、各親のステータス文字を連結したものです

  4. オプションの「スコア数」はありません

  5. ファイルのタブ区切りのパス名

   ‘-c’ および ‘ -cc‘ の場合、履歴のいずれかの側でファイルの名前が変更さ
れた場合でも、宛先(dst)または最終パスのみが表示されます。
‘--combined-all-paths’ を使用すると、各親のパスの名前が表示され、それに
続いてマージコミットのパスの名前が表示されます。

   例: ‘--combined-all-paths’ を使用しない ‘-c’ および ‘--cc’ の場合:

     ::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c
     ::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       bar.sh
     ::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       phooey.c

   例: ‘-c’ または ‘--cc’ のいずれかに ‘--combined-all-paths’ が追加され
た場合:

     ::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c  desc.c  desc.c
     ::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       foo.sh  bar.sh  bar.sh
     ::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       fooey.c fuey.c  phooey.c

   注意: ’combined diff’は、すべての親から変更されたファイルのみをリスト
することに注意してください。


Generating patch text with -p
*****************************

git-diff(1) 、 git-log(1) 、 git-show(1) 、 git-diff-index(1) 、
git-diff-tree(1) 、 git-diff-files(1) に ‘-p’ オプションを付けて実行する
とパッチテキストを生成します。パッチテキストの作成は、
‘GIT_EXTERNAL_DIFF’ と ‘GIT_DIFF_OPTS’ 環境変数( git(1) 参照)、および
‘diff’ 属性( gitattributes(5) 参照)を介してカスタマイズできます。

   -pオプションが生成するものは、従来のdiff形式とは少々異なります:

  1. 先行して、以下のような "git diff" ヘッダーがあります:

          diff --git a/file1 b/file2

     名前の変更/コピーが含まれない限り、 ‘a/’ と ‘b/’ のファイル名は同じ
     です。 特に、作成または削除の場合でも、 ‘a/’ または ‘b/’ ファイル名
     の代わりに ‘/dev/ null’ が使用されることはありません。

     名前変更/コピーが含まれる場合、 ‘file1’ と‘file2‘ は、それぞれ名前
     変更/コピーのソースファイルの名前と、名前変更/コピーが生成するファ
     イルの名前を示します。

  2. その後に、1つ以上の拡張ヘッダー行達が続きます:

          old mode <mode>
          new mode <mode>
          deleted file mode <mode>
          new file mode <mode>
          copy from <path>
          copy to <path>
          rename from <path>
          rename to <path>
          similarity index <number>
          dissimilarity index <number>
          index <hash>..<hash> <mode>

     ファイルモードは、ファイルタイプとファイル許可ビットを含む6桁の8進
     数として出力されます。

     拡張ヘッダーのパス名には、 ‘a/’ および ‘b/’ プレフィックスは含まれ
     ません。

     類似インデックス(similarity index)は変更されていない行のパーセンテ
     ージであり、非類似インデックス(dissimilarity index)は変更された行の
     パーセンテージです。これは切り捨てられた整数であり、その後にパーセ
     ント記号が続きます。したがって、100％の類似インデックス値は2つの等
     しいファイルを表し、100％の非類似性は古いファイルから新しいファイル
     に移行された行がないことを意味します。

     インデックス行には、変更前後のブロブオブジェクト名が含まれます。
     <mode> は、ファイルモードが変更されない場合に含まれます。それ以外の
     場合、別々の行は古いモードと新しいモードを示します。

  3. 通常の文字でないキャラクタ(\"unusual\" characters)を含むパス名は、
     構成変数 ‘core.quotePath’ で説明されているように引用符で囲まれてい
     ます( git-config(1)参照)。

  4. 出力内のすべての ‘file1’ ファイルはコミット前のファイルを参照し、す
     べての ‘file2’ ファイルはコミット後のファイルを参照します。各変更を
     各ファイルに順番に適用するのは誤りです。たとえば、以下のパッチはaと
     bを交換します:

          diff --git a/a b/b
          rename from a
          rename to b
          diff --git a/b b/a
          rename from b
          rename to a

  5. ハンクのヘッダーには、ハンクが適用される関数の名前が記載されていま
     す。特定の言語に合わせてこれを調整する方法の詳細については、
     gitattributes(5) の "Defining a custom hunk-header" を参照してくだ
     さい。


Combined diff format
********************

diffを生成するコマンドは、マージを表示するときに ‘-c’ または ‘--cc’ オプ
ションを使用して「合成diff」(combined diff)を生成できます。これは
git-diff(1) または git-show(1) でのマージを表示するときのデフォルトの形
式です。 注意: これらのコマンドのいずれかに適切な ‘--diff-merges’ オプシ
ョンを指定して、特定の形式で差分を強制的に生成できることにも注意してくだ
さい。

   合成diff形式は以下のようになります:

     diff --combined describe.c
     index fabadb8,cc95eb0..4866510
     --- a/describe.c
     +++ b/describe.c
     @@@ -98,20 -98,12 +98,20 @@@
             return (a_date > b_date) ? -1 : (a_date == b_date) ? 0 : 1;
       }

     - static void describe(char *arg)
      -static void describe(struct commit *cmit, int last_one)
     ++static void describe(char *arg, int last_one)
       {
      +      unsigned char sha1[20];
      +      struct commit *cmit;
             struct commit_list *list;
             static int initialized = 0;
             struct commit_name *n;

      +      if (get_sha1(arg, sha1) < 0)
      +              usage(describe_usage);
      +      cmit = lookup_commit_reference(sha1);
      +      if (!cmit)
      +              usage(describe_usage);
      +
             if (!initialized) {
                     initialized = 1;
                     for_each_ref(get_name);

  1. まず "git diff" ヘッダーがあり、以下のようになります( ‘-c’ オプショ
     ンが使用されている場合):

          diff --combined file

     または、以下のようになります( ‘--cc’ オプションが使用されている場合
     ):

          diff --cc file

  2. その後に1つ以上の拡張ヘッダー行が続きます(以下の例は、2つの親とのマ
     ージを示しています):

          index <hash>,<hash>..<hash>
          mode <mode>,<mode>..<mode>
          new file mode <mode>
          deleted file mode <mode>,<mode>

     ‘mode <mode>,<mode>..<mode>’ 行は、<mode> の少なくとも1つが他の
     <mode> と異なる場合にのみ表示されます。検出されたコンテンツの移動
     (名前の変更とコピーの検出)に関する情報を含む拡張ヘッダーは、2つの
     <tree-ish> のdiffで機能するように設計されており、合成diff形式では使
     用されません。

  3. その後に2行の from-file/to-file ヘッダーが続きます

          --- a/file
          +++ b/file

     従来の統一diff形式の2行ヘッダーと同様に、 ‘/dev/null’ は、作成また
     は削除されたファイルを通知するために使用されます。

     ただし、 –combined-all-paths オプションが指定されている場合、2行の
     from-file/to-file の代わりに、 N+1 行の from-file/to-file ヘッダー
     が取得されます。ここで、 N はマージコミットの親の数です。

          --- a/file
          --- a/file
          --- a/file
          +++ b/file

     この拡張形式は、名前変更またはコピー検出がアクティブな場合に役立ち
     、別の親のファイルの元の名前を確認できます。

  4. チャンクヘッダーの形式が変更され、誤って ‘patch-p1’ にフィードされ
     るのを防ぎます。合成差分形式は、マージコミットの変更を確認するため
     に作成されたものであり、適用されることを意図したものではありません
     。この変更は、拡張された「インデックス」ヘッダーの変更に似ています:

          @@@ <from-file-range> <from-file-range> <to-file-range> @@@

     合成diff形式のチャンクヘッダーには親の数+1の ‘@’ 文字があります。

   従来の統一diff形式とは異なり、2つのファイルAとBが、 ‘-’ (マイナスは
Aに表示されますが、Bでは削除されます) または ‘+’ (プラスはAにはありませ
んが、Bには追加されます)、または ‘" "’（スペースは変更なし) プレフィック
スを持つ単一の列で表示される場合、この形式は2つ以上のファイル file1,
file2,… を1つのファイルXと比較し、Xが各 fileN とどのように異なるかを示し
ます。ファイルNごとに1つの列が出力行の前に追加され、Xの行が出力行とどの
ように異なるかを示します。

   列Nの ‘-’ 文字は、その行が fileN に表示されているが、結果には表示され
ていないことを意味します。 列Nの ‘+’ 文字は、結果に行が表示され、 fileN
にその行がないことを意味します(つまり、その親の観点から見て行が追加され
たことを示す)。

   上記の出力例では、関数のシグネチャが両方のファイルから見て変更されて
います(したがって、 file1 と file2 の両方から2つの ‘-’ が削除され、さら
に ‘++’ が追加されたため、 file1 と file2 のどちらにも表示されません)。
また、他の8行は file1 と同じですが、 file2 には表示されません(したがって
、接頭辞として ‘+’ が付けられます)。

   ‘git diff-tree -c’ で表示される場合、マージコミットの親をマージ結果と
比較します(つまり、 file1..fileN が親です)。 ‘git diff-files -c’ で表示
される場合、2つの未解決のマージ親を作業ツリーファイルと比較します(つまり
、 file1 はステージ2、別名「私たちのバージョン」、 file2 はステージ3、別
名「彼らのバージョン」です)。


other diff formats
******************

‘--summary’ オプションは、新しく追加、削除、名前変更、およびコピーされた
ファイルを説明します。‘--stat’ オプションは、 diffstat(1) グラフ を出力
に追加します。これらのオプションは、 ‘-p’ などの他のオプションと組み合わ
せることができ、人間が読むことを目的としています。

   名前の変更またはコピーを伴う変更を表示する場合、 ‘--stat’ 出力は、パ
ス名の共通のプレフィックスとサフィックスを組み合わせることにより、パス名
をコンパクトにフォーマットします。 たとえば、4行を変更(modify)しながら
‘arch/i386/Makefile’ を ‘arch/x86/Makefile’ に移動(move)する変更
(change)は、次のように表示されます:

     arch/{i386 => x86}/Makefile    |   4 +--

   ‘--numstat’ オプションは diffstat(1) 情報を提供しますが、人間ではなく
ソフトウェアで読むのを容易にするように設計されています。 ‘--numstat’ 出
力のエントリは以下のようになります:

     1       2       README
     3       1       arch/{i386 => x86}/Makefile

   この形式は、左から右へ:

  1. 追加行数

  2. タブ

  3. 削除行数

  4. タブ

  5. パス名(おそらく rename/copy 情報を含む)

  6. 改行

   ‘-z’ 出力オプションが有効な場合、出力は以下のようにフォーマットされま
す:

     1       2       README NUL
     3       1       NUL arch/i386/Makefile NUL arch/x86/Makefile NUL

   これは:

  1. 追加行数

  2. タブ

  3. 削除行数

  4. タブ

  5. NUL(rename/copy された場合のみ存在します)

  6. プリイメージのパス名

  7. NUL(rename/copy された場合のみ存在します)

  8. ポストイメージのパス名(rename/copy された場合のみ存在します)

  9. NUL

   名前が変更された場合のプリイメージパスの前の追加の ‘NUL’ は、出力を読
み取るスクリプトが、先読みせずに、読み取られている現在のレコードがシング
ルパスレコードであるか、名前変更/コピーレコードであるか、を判断できるよ
うにするためです。追加および削除された行を読み取った後、 ‘NUL’ まで読み
取るとパス名が生成されますが、それが ‘NUL’ の場合、レコードには2つのパス
が表示されます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-diff,  Up: Top

Name
****

git-diff — Show changes between commits, commit and working tree, etc


Synopsis
********

     git diff [<options>] [<commit>] [–] [<path>…]
     git diff [<options>] –cached [–merge-base] [<commit>] [–] [<path>…]
     git diff [<options>] [–merge-base] <commit> [<commit>…] <commit> [–] [<path>…]
     git diff [<options>] <commit>…<commit> [–] [<path>…]
     git diff [<options>] <blob> <blob>
     git diff [<options>] –no-index [–] <path> <path>


DESCRIPTION
***********

Show changes between the working tree and the index or a tree, changes
between the index and a tree, changes between two trees, changes
resulting from a merge, changes between two blob objects, or changes
between two files on disk.

_git diff_ [<options>] [–] [<path>…]
     This form is to view the changes you made relative to the index
     (staging area for the next commit).  In other words, the
     differences are what you _could_ tell Git to further add to the
     index but you still haven’t.  You can stage these changes by using
     git-add(1).

_git diff_ [<options>] –no-index [–] <path> <path>
     This form is to compare the given two paths on the filesystem.  You
     can omit the ‘--no-index’ option when running the command in a
     working tree controlled by Git and at least one of the paths points
     outside the working tree, or when running the command outside a
     working tree controlled by Git.  This form implies ‘--exit-code’.

_git diff_ [<options>] –cached [–merge-base] [<commit>] [–] [<path>…]
     This form is to view the changes you staged for the next commit
     relative to the named <commit>.  Typically you would want
     comparison with the latest commit, so if you do not give <commit>,
     it defaults to HEAD. If HEAD does not exist (e.g.  unborn branches)
     and <commit> is not given, it shows all staged changes.  –staged is
     a synonym of –cached.

     If –merge-base is given, instead of using <commit>, use the merge
     base of <commit> and HEAD. ‘git diff --cached --merge-base A’ is
     equivalent to ‘git diff --cached $(git merge-base A HEAD)’.

_git diff_ [<options>] [–merge-base] <commit> [–] [<path>…]
     This form is to view the changes you have in your working tree
     relative to the named <commit>.  You can use HEAD to compare it
     with the latest commit, or a branch name to compare with the tip of
     a different branch.

     If –merge-base is given, instead of using <commit>, use the merge
     base of <commit> and HEAD. ‘git diff --merge-base A’ is equivalent
     to ‘git diff $(git merge-base A HEAD)’.

_git diff_ [<options>] [–merge-base] <commit> <commit> [–] [<path>…]
     This is to view the changes between two arbitrary <commit>.

     If –merge-base is given, use the merge base of the two commits for
     the "before" side.  ‘git diff --merge-base A B’ is equivalent to
     ‘git diff $(git merge-base A B) B’.

_git diff_ [<options>] <commit> <commit>… <commit> [–] [<path>…]
     This form is to view the results of a merge commit.  The first
     listed <commit> must be the merge itself; the remaining two or more
     commits should be its parents.  A convenient way to produce the
     desired set of revisions is to use the ‘^@’ suffix.  For instance,
     if ‘master’ names a merge commit, ‘git diff master master^@’ gives
     the same combined diff as ‘git show master’.

_git diff_ [<options>] <commit>..<commit> [–] [<path>…]
     This is synonymous to the earlier form (without the ‘..’) for
     viewing the changes between two arbitrary <commit>.  If <commit> on
     one side is omitted, it will have the same effect as using HEAD
     instead.

_git diff_ [<options>] <commit>...<commit> [–] [<path>…]
     This form is to view the changes on the branch containing and up to
     the second <commit>, starting at a common ancestor of both
     <commit>.  ‘git diff A...B’ is equivalent to ‘git diff $(git
     merge-base A B) B’.  You can omit any one of <commit>, which has
     the same effect as using HEAD instead.

   Just in case you are doing something exotic, it should be noted that
all of the <commit> in the above description, except in the
‘--merge-base’ case and in the last two forms that use ‘..’ notations,
can be any <tree>.

   For a more complete list of ways to spell <commit>, see "SPECIFYING
REVISIONS" section in gitrevisions(7).  However, "diff" is about
comparing two _endpoints_, not ranges, and the range notations
(‘<commit>..<commit>’ and ‘<commit>...<commit>’) do not mean a range as
defined in the "SPECIFYING RANGES" section in gitrevisions(7).

_git diff_ [<options>] <blob> <blob>
     This form is to view the differences between the raw contents of
     two blob objects.


OPTIONS
*******

‘-p’
‘-u’
‘--patch’
     パッチを生成します(generating patches に関するセクションを参照)。 こ
     れがデフォルトです。

‘-s’
‘--no-patch’
     diff出力を抑制します。デフォルトでパッチを表示する ‘git show’ のよ
     うなコマンド、または ‘--patch’ の効果をキャンセルする場合に便利です
     。

‘-U<n>’
‘--unified=<n>’
     通常の3行ではなく、<n> 行の内容でdiffを生成します。 ‘--patch’ の機
     能を含んでいます。

‘--output=<file>’
     stdout ではなく指定のファイルに出力します。

‘--output-indicator-new=<char>’
‘--output-indicator-old=<char>’
‘--output-indicator-context=<char>’
     生成されたパッチの新しい行、古い行、またはコンテキスト行を示すため
     に使用される文字を指定します。 通常、それらはそれぞれ _+_ 、 _-_ 、
     ’ ’ です。

‘--raw’
     生形式(raw format)でdiffを生成します。

‘--patch-with-raw’
     ‘-p --raw’ の同義語。

‘--indent-heuristic’
     diffハンクの境界をずらす(shift)ヒューリスティックを有効にして、パッ
     チを読みやすくします。 これがデフォルトです。

‘--no-indent-heuristic’
     インデントヒューリスティック(indent heuristic)を無効にします。

‘--minimal’
     より多くの時間を費やして、可能な限り最小のdiffが生成されるようにし
     ます。

‘--patience’
     "patience diff" アルゴリズムを使用してdiffを生成します。

‘--histogram’
     "histogram diff" アルゴリズムを使用してdiffを生成します。

‘--anchored=<text>’
     "anchored diff" アルゴリズムを使用してdiffを生成します。

     このオプションは複数回指定できます。

     行がソースと宛先の両方に存在し、1回だけ存在し、このテキストで始まる
     場合、このアルゴリズムは、その行が出力に削除または追加として表示さ
     れないようにします。内部で "patience diff" アルゴリズムを使用します
     。

‘--diff-algorithm={patience|minimal|histogram|myers}’
     diffアルゴリズムを選択します。その派生(variants)は以下のとおりです:

     ‘default’, ‘myers’
          基本的な貪欲な差分アルゴリズム(greedy diff algorithm)。現在、
          これがデフォルトです。

     ‘minimal’
          より多くの時間を費やして、可能な限り最小のdiffが生成されるよう
          にします。

     ‘patience’
          パッチを生成する時に "patience diff" アルゴリズムを使います。

     ‘histogram’
          このアルゴリズムは、忍耐アルゴリズム(patience algorithm)を拡張
          して、「発生率の低い共通要素をサポート」(support
          low-occurrence common elements)します。

     たとえば、 あなたが ‘diff.algorithm’ 変数をデフォルト以外の値に設定
     した上で、それでもデフォルト値を使用する場合は、
     ‘--diff-algorithm=default’ オプションを使用する必要があります。

‘--stat[=<width>[,<name-width>[,<count>]]]’
     diffstatを生成します。 デフォルトでは、必要なだけのスペースがファイ
     ル名部分に使用され、残りはグラフ部分に使用されます。最大幅はデフォ
     ルトで端末幅、または端末に接続されていない場合は80桁であり、
     ‘<width>’ で上書きできます。ファイル名部分の幅は、コンマの後に別の
     幅 ‘<name-width>’ を指定することで制限できます。グラフ部分の幅は、
     ‘--stat-graph-width=<width>’ (統計グラフを生成するすべてのコマンド
     に影響します)を使用するか、 ‘diff.statGraphWidth=<width>’ ( ‘git
     format-patch’ に影響しません)を設定することによって制限できます。
     3番目のパラメータ ‘<count>’ を指定することにより、出力を最初の
     ‘<count>’ 行に制限し、それに ‘...’ が続く形にできます。

     これらのパラメータは、 ‘--stat-width=<width>’ と
     ‘--stat-name-width=<name-width>’ と ‘--stat-count=<count>’ を使用し
     て個別に設定することもできます。

‘--compact-summary’
     ファイルの作成や削除( "new" または "gone" 。オプションでシンボリッ
     クリンクの場合は "+l" )、diffstatのモード変更(実行可能ビットを追加
     または削除する場合は、それぞれ "+x" または "-x" )など、拡張ヘッダー
     情報の要約を出力します。情報はファイル名部分とグラフ部分の間に置か
     れます。本機能は ‘--stat’ の機能を含んでいます。

‘--numstat’
     ‘--stat`に似ていますが、プログラムで処理しやすい(machine friendly)よ
     うに、追加および削除された行数を10進表記とパス名で省略形なしで表示
     します。バイナリファイルの場合、 `0 0’ の代わりに2つの ‘-’ を出力し
     ます。

‘--shortstat’
     変更されたファイルの総数と、追加および削除された行の数を含む
     ‘--stat’ 形式の最後の行のみを出力します。

‘-X[<param1,param2,...>]’
‘--dirstat[=<param1,param2,...>]’
     各サブディレクトリの相対的な変更量の分布を出力します。 ‘--dirstat’
     の動作は、パラメータのコンマ区切りリストを渡すことでカスタマイズで
     きます。デフォルトは、 ‘diff.dirstat’ 構成変数によって制御されます
     (git-config(1) 参照)。以下のパラメータを使用できます:

     ‘changes’
          ソースから削除された、または宛先に追加された行をカウントして、
          dirstat数を計算します。これは、ファイル内の純粋なコード移動の
          量を無視します。つまり、ファイル内の行の再配置は、他の変更ほど
          カウントされません。これは、パラメーターが指定されていない場合
          のデフォルトの動作です。

     ‘lines’
          通常の行ベースのdiff分析を実行し、削除/追加された行数を合計し
          て、dirstat数を計算します。 (バイナリファイルの場合、バイナリ
          ファイルには行の概念がないため、代わりに64バイトのチャンクをカ
          ウントします)。 これは ‘changes’ 動作よりも高価な ‘--dirstat’
          動作ですが、他の変更と同じようにファイル内の再配置された行をカ
          ウントします。結果の出力は、他の ‘--*stat’ オプションから得ら
          れるものと一致しています。

     ‘files’
          変更されたファイルの数を数えて、dirstat数を計算します。変更さ
          れた各ファイルは、dirstat分析で等しくカウントされます。これは
          、ファイルの内容をまったく調べる必要がないため、計算コストが最
          もかからない ‘--dirstat’ の動作です。

     ‘cumulative’
          親ディレクトリの子ディレクトリの変更も同様にカウントします。
          ‘cumulative’(累積的) を使用する場合、報告されるパーセンテージ
          の合計が100%を超える場合があることに注意してください。デフォル
          トの(非累積的な)動作は、‘noncumulative’ パラメーターで指定でき
          ます。

     <limit>
          整数パラメーターは、カットオフパーセント(デフォルトでは3%)を指
          定します。指定の割合より少ないディレクトリは、出力に表示されま
          せん。

     例: 変更されたファイルの総数の10%未満のディレクトリを無視し、親ディ
     レクトリに子ディレクトリの数を累積しながら、変更されたファイルをカ
     ウント: ‘--dirstat=files,10,cumulative’

‘--cumulative’
     ‘--dirstat=cumulative’ と同義語

‘--dirstat-by-file[=<param1,param2>...]’
     ‘--dirstat=files,param1,param2...’ と同義語

‘--summary’
     作成、名前変更、モード変更などの拡張ヘッダー情報の短い要約
     (condensed summary)を出力します。

‘--patch-with-stat’
     ‘-p --stat’ と同義語。

‘-z’
     ‘--raw’ または ‘--numstat’ または ‘--name-only’ または
     ‘--name-status’ が指定されている場合は パス名を変更せず、出力フィー
     ルドターミネータとしてNULLを使用してください。

     このオプションがないと、構成変数 ‘core.quotePath’ で説明されている
     ように、 通常の文字以外(unusual characters)を含むパス名が引用符で囲
     まれます(git-config(1) 参照)。

‘--name-only’
     変更されたファイルの名前のみを表示します。 多くの場合、ファイル名は
     UTF-8でエンコードされます。 詳細については、 git-log(1) のマニュア
     ルページにあるエンコーディングに関する議論(the discussion about
     encoding)を参照してください。

‘--name-status’
     変更されたファイルの名前とステータスのみを表示します。ステータス文
     字の意味については、 ‘--diff-filter’ オプションの説明を参照してくだ
     さい。 ‘--name-only’ と同じように、ファイル名はしばしばUTF-8でエン
     コードされます。

‘--submodule[=<format>]’
     サブモジュールの違いをどのように表示するかを指定します。
     ‘--submodule=short’ を指定する場合、 _short_ 形式が使用されます。こ
     の形式は、範囲の最初と最後にコミットの名前を表示するだけです。
     ‘--submodule’ または ‘--submodule=log’ が指定されている場合、 _log_
     形式が使用されます。この形式では、 git-submodule(1) ‘summary’ のよ
     うに範囲内のコミットが一覧表示されます。 ‘--submodule=diff’ が指定
     されている場合、 _diff_ 形式が使用されます。この形式は、コミット範
     囲間のサブモジュールの内容の変更のインラインdiffを示します。
     configオプションが設定されていない場合、デフォルトは
     ‘diff.submodule’ または _short_ 形式です。

‘--color[=<when>]’
     色付きのdiffを表示します。 ‘--color’ (つまり、 _=<when>_ ) は
     ‘--color=always’ と同じです。 _<when>_ は、 ‘always’ または ‘never’
     または ‘auto’ のいずれかになります。 ‘color.ui’ と ‘color.diff’ 構
     成設定で 変更できます。

‘--no-color’
     カラーdiffをオフにします。 これは、構成設定(configuration
     settings)を上書きするために使用できます。 ‘--color=never’ と同じで
     す。

‘--color-moved[=<mode>]’
     ソースコードの移動した行を別の色にします。 これは、
     ‘diff.colorMoved’ 構成設定によって変更できます。 <mode>は、オプショ
     ンが指定されていない場合はデフォルトで _no_ になり、 モードが指定さ
     れていないオプションが指定されている場合は _zebra_ になります。 モ
     ードは以下のいずれかでなければなりません:

     no
          移動行をハイライトしません。

     default
          ‘zebra’ の同義語です。これは、将来、より賢明なモードに変更され
          る可能性があります。

     plain
          ある場所で追加され、別の場所で削除された行は、
          _color.diff.newMoved_ で色付けされます。 同様に、
          _color.diff.oldMoved_ は、差分の別の場所に追加された削除された
          行に使用されます。このモードは移動された行をピックアップします
          が、コードのブロックが順列なしで移動されたかどうかを判断するこ
          とはレビューではあまり役に立ちません。

     blocks
          少なくとも20文字の英数字の移動テキストのブロックが貪欲に検出さ
          れます。検出されたブロックは、 _color.diff.{old,new}Moved_ 色
          のいずれかを使用して色付けされます。隣接するブロックを区別する
          ことはできません。

     zebra
          移動されたテキストのブロックは、 _blocks_ モードの場合と同様に
          検出されます。 ブロックは、 _color.diff.{old,new}Moved_ 色また
          は _color.diff.{old,new}MovedAlternative_ 色のいずれかを使用し
          て色付けされます。2つの色の間の変化は、新しいブロックが検出さ
          れたことを示します。

     dimmed-zebra
          _zebra_ に似ていますが、移動されたコードの重要でない部分の追加
          の調光(dimmed)が実行されます。隣接する2つのブロックの境界線は
          興味深いと見なされ、残りは興味深いものではありません。
          ‘dimmed_zebra’ は非推奨の同義語です。

‘--no-color-moved’
     移動検出をオフにします。 これは、構成設定を上書きするために使用でき
     ます。 ‘--color-moved=no’ と同じです。

‘--color-moved-ws=<modes>’
     これは、 ‘--color-moved’ の移動検出を実行するときに空白を無視する方
     法を設定します。 ‘diff.colorMovedWS’ 構成設定で設定できます。 これ
     らのモードは、コンマ区切りのリストとして指定できます:

     no
          移動行検出を実行するときに、空白(whitespace)を無視しない。

     ignore-space-at-eol
          行末(EOL)での空白(whitespace)の変更を無視します。

     ignore-space-change
          空白(whitespace)の数の変更は無視してください。これは、行末の空
          白(whitespace)を無視し、1つ以上の空白文字(whitespace
          characters)の他のすべてのシーケンスを同等と見なします。

     ignore-all-space
          行を比較するときは空白(whitespace)を無視します。これにより、一
          方の行に空白があり、もう一方の行に空白がない場合でも、違いは無
          視されます。

     allow-indentation-change
          最初に移動検出で空白(whitespace)を無視し、空白(whitespace)の変
          更が行ごとに同じである場合にのみ、移動されたコードブロックをブ
          ロックにグループ化します。 これは他のモードと互換性がありませ
          ん。

‘--no-color-moved-ws’
     移動検出を実行するときは、空白(whitespace)を無視しないでください。
     これは、構成設定を上書きするために使用できます。
     ‘--color-moved-ws=no’ と同じです。

‘--word-diff[=<mode>]’
     <mode> を使用して変更された単語を区切ることにより、単語のdiffを表示
     します。デフォルトでは、単語は空白で区切られます。 以下の
     ‘--word-diff-regex’ を参照してください。 <mode> のデフォルトは
     ’plain’です。 <mode> は以下のいずれかである必要があります:

     color
          変更された単語(word)を色のみを使用して強調表示します。
          ‘--color’ を意味します。

     plain
          単語を ‘[-removed-]’ および ‘{+added+}’ として表示します。 区
          切り文字が入力に表示されている場合、区切り文字をエスケープしよ
          うとしないため、出力があいまいになる可能性があります。

     porcelain
          スクリプトの使用を目的とした特別な行ベースの形式を使用します。
          追加/削除/無変更については、通常の統一されたdiff形式で印刷され
          、行の先頭の ‘+’/‘-’/‘ ‘ 文字で始まり、行の終わりまで続きます
          。入力の改行は、それ自体の行のチルダ ‘~’ で表されます。

     none
          単語(word)のdiffを再度無効にします。

     注意: 最初のモードの名前にもかかわらず、有効になっている場合、すべ
     てのモードで変更された部分を強調するために色が使用されることに注意
     してください。

‘--word-diff-regex=<regex>’
     空白以外を単語と見なす代わりに、 <regex> を使用して単語が何であるか
     を決定します。また、すでに有効になっていない限り、この機能は
     ‘--word-diff’ の機能を含んでいます。

     <regex> の重複しないマッチはすべて、単語と見なされます。これらのマ
     ッチの間のすべては空白と見なされ、違いを見つけるためとしては無視さ
     れます！ 正規表現に ‘|[^[:space:]]’ を追加して、空白以外のすべての
     文字とマッチすることを確認することをお勧めします。改行を含むマッチ
     は、改行で黙って切り捨てられます！

     たとえば、 ‘--word-diff-regex=.’ は各文字を単語として扱い、それに応
     じて文字ごとの違いを表示します。

     正規表現は、diffドライバーまたは構成オプション(configuration
     option)を介して設定することもできます。 gitattributes(5) または
     git-config(1) を参照してください。これを指定すると、diffドライバー
     または構成設定(configuration settings)が明示的にオーバーライドされ
     ます。diffドライバーは構成設定を上書きします。

‘--color-words[=<regex>]’
     ‘--word-diff=color’ に ‘--word-diff-regex=<regex>’ を加えたものに相
     当します(正規表現が指定されている場合)。

‘--no-renames’
     構成ファイルにデフォルトで指定されている場合でも、名前変更の検出を
     オフにします。

‘--[no-]rename-empty’
     名前変更ソースとして空のブロブを使用するかどうか。

‘--check’
     変更によって競合マーカーまたは空白エラーが発生した場合に警告します
     。空白エラーと見なされるものは、 ‘core.whitespace’ 構成によって制御
     されます。 デフォルトでは、末尾の空白(空白のみで構成される行を含む
     )と、行の最初のインデント内で直後にタブ文字が続くスペース文字は、空
     白エラーと見なされます。問題が見つかった場合は、ゼロ以外のステータ
     スで終了します。なお、 –exit-code とは互換性がありません。

‘--ws-error-highlight=<kind>’
     diffの ‘context’ または ‘old’ または ‘new’ 行の空白エラーを強調表示
     します。複数の値はコンマで区切られ、 ‘none’ は前の値をリセットし、
     ‘default’ はリストを ‘new’ にリセットし、 ‘all’ は old、new、
     context の省略形です。このオプションが指定されておらず、構成変数
     ‘diff.wsErrorHighlight’ が設定されていない場合、 ‘new’ 行の空白エラ
     ーのみが強調表示されます。空白エラーは ‘color.diff.whitespace’ で色
     分けされています。

‘--full-index’
     パッチ形式の出力を生成するときは、最初の一握りの文字(first handful
     of characters)の代わりに、「インデックス」行にイメージ前およびイメ
     ージ後の完全ブロブオブジェクト名を表示します。

‘--binary’
     ‘--full-index’ に加えて、 ‘git-apply’ で適用できるバイナリ差分を出
     力します。 ‘--patch’ の機能を含んでいます。

‘--abbrev[=<n>]’
     完全な40バイトの16進オブジェクト名をdiff-raw形式の出力とdiff-treeヘ
     ッダー行に表示する代わりに、オブジェクトを一意に参照する、少なくと
     も _<n>_ 桁の16進数の長さの最短のプレフィックスを表示します。diffパ
     ッチ出力形式では、 ‘--full-index’ が優先されます。つまり、
     ‘--full-index’ が指定されている場合、 ‘--abbrev’ に関係なく、完全な
     ブロブ名が表示されます。デフォルト以外の桁数は、 ‘--abbrev=<n>’ で
     指定できます。

‘-B[<n>][/<m>]’
‘--break-rewrites[=[<n>][/<m>]]’
     完全な書き換えの変更を削除と作成のペアに分割します。これには以下の
     2つの目的があります:

     これは、ファイルの完全な書き換えに相当する変更が、コンテキストとし
     てテキストで一致する非常に少数の行と混合された一連の削除と挿入とし
     てではなく、古いものすべての単一の削除とそれに続く すべての新しいも
     のを1回挿入し、数値 ‘m’ が -B オプションのこの側面を制御します(デフ
     ォルトは60%)。 ‘-B/70%’ は、Gitがそれを完全な書き換えと見なすために
     、元の30%未満が結果に残る必要があることを指定します(つまり、結果の
     パッチは、コンテキスト行と混合された一連の削除と挿入になります)。

     -M と一緒に使用すると、完全に書き換えられたファイルも名前変更のソー
     スと見なされ(通常、 -M は、消えたファイルのみを名前変更のソースと見
     なします)、数 ‘n’ が -Bオプションのこの側面を制御します(デフォルト
     は50%)。 ‘-B20%’ は、ファイルのサイズの20%以上と比較して、追加およ
     び削除を伴う変更が、別のファイルへの名前変更の可能なソースとして取
     得される資格があることを指定します。

‘-M[<n>]’
‘--find-renames[=<n>]’
     名前の変更(renames)を検知する。 ‘n’ が指定されている場合、それは類
     似性インデックスのしきい値です (つまり、ファイルのサイズと比較した
     追加/削除の量)。 たとえば、 ‘-M90%’ は、ファイルの90%以上が変更され
     ていない場合、 Gitが削除/追加のペアを名前変更と見なす必要があること
     を意味します。 ‘%’ 記号がない場合、数値は小数として読み取られ、その
     前に小数点が付きます。 つまり、 ‘-M5’ は0.5になるため、‘-M50%’ と同
     じになります。 同様に、 ‘-M05’ は ‘-M5%’ と同じです。 検出を正確な
     名前変更に制限するには、 ‘-M100%’ を使用します。 デフォルトの類似性
     インデックスは50%です。

‘-C[<n>]’
‘--find-copies[=<n>]’
     名前と同様コピーを検出します。 ‘--find-copies-harder’ ‘も参照してく
     ださい。 `n’ を指定すると、 ‘-M<n>’ と同じ意味になります。

‘--find-copies-harder’
     パフォーマンス上の理由から、デフォルトでは、 ‘-C’ オプションは、コ
     ピーの元のファイルが同じ変更組(changeset)で変更された場合にのみコピ
     ーを検索します。このフラグにより、コマンドは変更されていないファイ
     ルをコピー元の候補として検査します。これは大規模なプロジェクトでは
     非常にコストのかかる操作であるため、注意して使用してください。 複数
     の ‘-C’ オプションを指定しても同じ効果があります。

‘-D’
‘--irreversible-delete’
     削除するプレイメージ(preimage)を省略します。つまり、ヘッダーのみを
     出力し、プレイメージと ‘/dev/null’ の差分は出力しません。結果のパッ
     チは、 ‘patch’ または ‘git apply’ で適用されることを意図していませ
     ん。これは、変更後にテキストを確認することに集中したい人のためだけ
     のものです。さらに、出力には明らかに、そのようなパッチを手動でも逆
     に適用するのに十分な情報が不足しているため、オプションの名前が付け
     られています。

     ‘-B’ と併用する場合は、削除/作成ペアの削除部分のプリイメージ
     (preimage)も省略してください。

‘-l<num>’
     ‘-M’ および ‘-C’ オプションには、名前変更/コピーのサブセットを安価
     に検出できるいくつかの準備手順が含まれ、その後に、残りのすべてのペ
     アになっていない宛先をすべての関連ソースと比較する徹底的なフォール
     バック部分が続きます。(名前の変更の場合、残りのペアになっていないソ
     ースのみが関係します。コピーの場合、すべての元のソースが関係します
     )。Nのソースと宛先の場合、この徹底的なチェックのコストは O(N^2) で
     す。このオプションは、関係するソース/宛先ファイルの数が指定された数
     を超えた場合に、名前変更/コピー検出の完全な部分が実行されないように
     します。デフォルトは diff.renameLimit です。 値0は無制限として扱わ
     れることに注意してください。

‘--diff-filter=[(A|C|D|M|R|T|U|X|B)...[*]]’
     追加(Add)・コピー(Copy)・削除(Delete)・変更(Modify)・名前変更
     (Rename)されたファイル、タイプが変更されたファイル(T)、マージされて
     いないファイル(U)、不明なファイル(X)、またはペアリングが壊れている
     ファイル(B)のみを選択します。フィルタ文字(無しも含む)の任意の組み合
     わせを使用できます。 組み合わせに ‘*’ (全てまたは無し)が追加される
     と、比較で他の基準に一致するファイルがある場合、すべてのパスが選択
     されます。 他の基準に一致するファイルがない場合、何も選択されません
     。

     また、逆に、除外したい時はこれらの各大文字指定を小文字にして指定し
     ます。例えば ‘--diff-filter=ad’ は、追加および削除されたパスを除外
     します。

     注意:すべてのdiffがすべてのタイプを特徴とするわけではないことに注意
     してください。 たとえば、インデックスから作業ツリーへのdiffにエント
     リを追加することはできません(diffに含まれるパスのセットは、インデッ
     クスの内容によって制限されるため)。 同様に、これらのタイプの検出が
     無効になっている場合、コピーおよび名前変更されたエントリは表示され
     ません。

‘-S<string>’
     ファイル内の指定の文字列(つまり、 addition 、deletion)の出現回数の
     差分を調べます。スクリプターが使用することを目的としています。

     (構造体など)コードの正確なブロックを探していて、そのブロックが最初
     に作成されてからの履歴を知りたい場合に便利です。この機能を繰り返し
     使用して、プリイメージ(preimage)内の興味深いブロックを ‘-S’ にフィ
     ードバックし、そしてあなたはそれをブロックの最初のバージョンを取得
     するまで続けます。

     バイナリファイルも検索されます。

‘-G<regex>’
     パッチテキストに <regex> にマッチする 追加/削除 された行が含まれて
     いる差分を探します。

     ‘-S<regex>-pickaxe-regex’ と ‘-G<regex>’ の違いを説明するために、同
     じファイル内で以下のdiffを使用してコミットすることを検討してくださ
     い:

          +    return frotz(nitfol, two->ptr, 1, 0);
          ...
          -    hit = frotz(nitfol, mf2.ptr, 1, 0);

     ‘git log -G"frotz\(nitfol"’ はこのコミットを表示しますが、 ‘git log
     -S"frotz\(nitfol" --pickaxe-regex’ は表示しません(その文字列の出現
     回数が変更されなかったため)。

     ‘--text’ が提供されていない限り、 textconv フィルターのないバイナリ
     ファイルのパッチは無視されます。

     詳細については gitdiffcore(7) の _pickaxe_ エントリを参照してくださ
     い。

‘--find-object=<object-id>’
     指定されたオブジェクトの出現回数を変更する違いを探します。 ‘-S’ と
     同様に、引数だけが異なり、特定の文字列ではなく特定のオブジェクト
     IDを検索します。

     オブジェクトは、ブロブまたはサブモジュールのコミットにすることがで
     きます。 これは、 ‘git-log’ の ‘-t’ オプションがツリーも探すことを
     意味します。

‘--pickaxe-all’
     ‘-S’ または ‘-G’ が変更を見つけたら、 <string> の変更を含むファイル
     だけでなく、その変更セット(changeset)のすべての変更を表示します。

‘--pickaxe-regex’
     ‘-S’ に指定した <string> を拡張POSIX正規表現として扱います。

‘-O<orderfile>’
     ファイルが出力に表示される順序を制御します。これは ‘diff.orderFile’
     構成変数をオーバーライドします(git-config(1) 参照)。
     ‘diff.orderFile’ をキャンセルするには、 ‘-O/dev/null’ を使用します
     。

     出力順序は、 <orderfile> 内のglobパターンの順序によって決定されます
     。最初のパターンに一致するパス名を持つすべてのファイルが最初に出力
     され、2番目のパターンに一致する(ただし最初のパターンには一致しない
     )パス名を持つすべてのファイルが次に出力されます。パス名がどのパター
     ンとも一致しないすべてのファイルは、ファイルの最後に暗黙のすべて一
     致パターンがあるかのように、最後に出力されます。複数のパス名のラン
     クが同じである場合(同じパターンに一致するが、以前のパターンには一致
     しない)、相互の出力順序は通常の順序です。

     <orderfile> は以下のとおりパースされます:

        • 空白行は無視されるため、読みやすくするための区切りとして使用で
          きます。

        • ハッシュ ("‘#’") で始まる行は無視されるため、コメントに使用で
          きます。 パターンがハッシュで始まる場合は、パターンの先頭にバ
          ックスラッシュ(訳注:日本では環境により円記号)("‘\’") を追加し
          ます。

        • 他の各行には、単一のパターンが含まれています。

     パターンは、 FNM_PATHNAME フラグなしで fnmatch(3) に使用されるパタ
     ーンと同じ構文とセマンティクスを持ちますが、最終的なパス名コンポー
     ネントをいくつも削除するとパターンと一致する場合、パス名もパターン
     と一致する点が異なります。 たとえば、パターン "‘foo*bar’" は、
     "‘fooasdfbar’" および "‘foo/bar/baz/asdf’" と一致しますが、
     "‘foobarx’" とは一致しません。

‘--skip-to=<file>’
‘--rotate-to=<file>’
     名前付き <file> の前のファイルを出力から破棄するか(スキップして)、
     出力の最後に移動させます(ローテーションさせます)。 これらは主に
     ‘git difftool’ コマンドを使用するために考案されたものであり、それ以
     外の場合はあまり役に立たない可能性があります。

‘-R’
     2つの入力を交換します。 つまり、インデックスまたはディスク上のファ
     イルとツリーの内容の違いを表示します。

‘--relative[=<path>]’
‘--no-relative’
     プロジェクトのサブディレクトリから実行する場合、このオプションを使
     用して、ディレクトリ外の変更を除外し、それに関連するパス名を表示す
     るように指示できます。サブディレクトリ(ベアリポジトリなど)にいない
     場合は、引数として <path> を指定することで、出力を作成するサブディ
     レクトリに名前を付けることができます。 ‘--no-relative`は、
     `diff.relative’ 設定オプションと以前の ‘--relative’ の両方を打ち消
     すために使用できます。

‘-a’
‘--text’
     すべてのファイルをテキストとして扱います。

‘--ignore-cr-at-eol’
     比較を行うときは、行末のキャリッジリターン(carriage-return)を無視し
     ます。

‘--ignore-space-at-eol’
     行末(EOL)での空白(whitespace)の変更を無視します。

‘-b’
‘--ignore-space-change’
     空白(whitespace)の数の変更は無視してください。これは、行末の空白
     (whitespace)を無視し、1つ以上の空白文字(whitespace characters)の他
     のすべてのシーケンスを同等と見なします。

‘-w’
‘--ignore-all-space’
     行を比較するときは空白を無視します。 これにより、一方の行に空白があ
     り、もう一方の行に空白がない場合でも、違いは無視されます。

‘--ignore-blank-lines’
     全て空白の行の変更は無視します。

‘-I<regex>’
‘--ignore-matching-lines=<regex>’
     すべての行が <regex> にマッチする変更を無視します。このオプションは
     複数回指定できます。

‘--inter-hunk-context=<lines>’
     指定された行数までの差分ハンク間のコンテキストを表示し、それによっ
     て互いに近いハンクを融合します。デフォルトは
     ‘diff.interHunkContext’ で、設定オプションが設定されていない場合は
     0です。

‘-W’
‘--function-context’
     関数全体を各変更のコンテキスト行として表示します。関数名は、 ‘git
     diff’ がパッチハンクヘッダーを処理するのと同じ方法で決定されます
     (gitattributes(5) の _Defining a custom hunk-header_ を参照)。

‘--exit-code’
     diff(1）と同様のコードでプログラムを終了させます。つまり、違いがあ
     った場合は 1 で終了し、 0 は違いがないことを意味します。

‘--quiet’
     プログラムのすべての出力を無効にします。 ‘--exit-code’ を意味します
     。

‘--ext-diff’
     外部diffヘルパーの実行を許可します。 gitattributes(5) を使用して外
     部diffドライバーを設定する場合は、 git-log(1) およびその仲間と一緒
     にこのオプションを使用する必要があります。

‘--no-ext-diff’
     外部diffドライバーを禁止します。

‘--textconv’
‘--no-textconv’
     バイナリファイルを比較するときに、外部テキスト変換フィルターの実行
     を許可(または禁止)します。 詳細については、 gitattributes(5) を参照
     してください。textconvフィルターは通常、一方向の変換であるため、結
     果のdiffは人間の消費に適していますが、適用(apply)することはできませ
     ん。このため、textconvフィルターは、 git-diff(1) および git-log(1)
     に対してのみデフォルトで有効になりますが、 git-format-patch(1) また
     はdiff配管コマンドに対しては有効になりません。

‘--ignore-submodules[=<when>]’
     diff生成のサブモジュールへの変更を無視します。 <when> は、 none・
     untracked・dirty・allのいずれかになります。これがデフォルトです。
     noneを使用すると、追跡されていないファイルまたは変更されたファイル
     が含まれている場合、またはそのHEADがスーパープロジェクトに記録され
     ているコミットと異なる場合にサブモジュールが変更されたと見なされ、
     git-config(1) または gitmodules(5) の ignoreオプションの設定をオー
     バーライドするために使用できます。untrackedが使用されている場合、サ
     ブモジュールには追跡されていないコンテンツのみが含まれている場合、
     サブモジュールはダーティとは見なされません(ただし、変更されたコンテ
     ンツはスキャンされます)。「dirty」を使用すると、サブモジュールの作
     業ツリーへのすべての変更が無視され、スーパープロジェクトに格納され
     ているコミットへの変更のみが表示されます(これは1.7.0までの動作でし
     た)。「all」を使用すると、サブモジュールへのすべての変更が非表示に
     なります。

‘--src-prefix=<prefix>’
     "a/" の代わりに、与えられたソースプレフィックス(source prefix)を表
     示します。

‘--dst-prefix=<prefix>’
     "b/" の代わりに、指定された宛先プレフィックス(destination prefix)を
     表示します。

‘--no-prefix’
     送信元(source)または宛先(destination)のプレフィックスを表示しません
     。

‘--line-prefix=<prefix>’
     出力のすべての行に追加のプレフィックスを付加します。

‘--ita-invisible-in-index’
     デフォルトでは、 "git add -N" によって追加されたエントリは、 "git
     diff" に既存の空のファイルとして表示され、 "git diff –cached" に新
     しいファイルとして表示されます。このオプションを使用すると、エント
     リは "git diff" では新しいファイルとして表示され、 "git diff
     –cached" では存在しません。このオプションは、
     ‘--ita-visible-in-index’ で元に戻すことができます。どちらのオプショ
     ンも実験的なものであり、将来削除される可能性があります。

   これらの一般的なオプションの詳細については、 gitdiffcore(7) も参照し
てください。

‘-1 --base’
‘-2 --ours’
‘-3 --theirs’
     Compare the working tree with the "base" version (stage #1), "our
     branch" (stage #2) or "their branch" (stage #3).  The index
     contains these stages only for unmerged entries i.e.  while
     resolving conflicts.  See git-read-tree(1) section "3-Way Merge"
     for detailed information.

‘-0’
     Omit diff output for unmerged entries and just show "Unmerged".
     Can be used only when comparing the working tree with the index.

<path>…
     The <paths> parameters, when given, are used to limit the diff to
     the named paths (you can give directory names and get diff for all
     files under them).


Raw output format
*****************

‘git-diff-index’ と ‘git-diff-tree’ と ‘git-diff-files’ と ‘git diff
--raw’ からの生の出力形式は非常に似ています。

   これらのコマンドはすべて、2つのセットを比較します。なお、比較されるも
のは異なります:

git-diff-index <tree-ish>
     <tree-ish> とファイルシステム上のファイルを比較します。

git-diff-index –cached <tree-ish>
     <tree-ish> とインデックスを比較します。

git-diff-tree [-r] <tree-ish-1> <tree-ish-2> [<pattern>…]
     2つの引数で指定されたツリーを比較します。

git-diff-files [<pattern>…]
     インデックスとファイルシステム上のファイルを比較します。

   "git-diff-tree" コマンドは、比較対象のハッシュ値を出力することで出力
を開始します。その後、すべてのコマンドは、変更されたファイルごとに1つの
出力行を出力します。

   出力行は以下のようにフォーマットされます:

     in-place edit  :100644 100644 bcd1234 0123456 M file0
     copy-edit      :100644 100644 abcd123 1234567 C68 file1 file2
     rename-edit    :100644 100644 abcd123 1234567 R86 file1 file3
     create         :000000 100644 0000000 1234567 A file4
     delete         :100644 000000 1234567 0000000 D file5
     unmerged       :000000 000000 0000000 0000000 U file6

   つまり、左から右へ:

  1. コロン(:)

  2. "src" のモード。作成(creation)またはマージされていない(unmerged)場
     合は 000000

  3. 空白

  4. "dst" のモード。作成(creation)またはマージされていない(unmerged)場
     合は 000000

  5. 空白

  6. "src" のsha1。作成(creation)またはマージされていない(unmerged)場合
     は 0{40}

  7. 空白

  8. "dst" のsha1。作成(creation)またはマージされていない(unmerged)また
     は作業ツリーにある場合は 0{40}

  9. 空白

  10. ステータスの後に、オプションの「スコア数」("score" number)が続きま
     す

  11. ‘-z’ オプションが使用されている場合はタブまたはNUL

  12. "src" のパス

  13. ‘-z’ オプションが使用されている場合タブまたはNUL。ステータスCまた
     はRにのみ存在します

  14. "dst" のパス。ステータスCまたはRにのみ存在します

  15. LFでレコードを終了します。 ‘-z’ オプションが使用されている場合は
     NULでレコードを終了します。

   ステータス文字の種類は以下のとおり:

   • A: ファイルの追加

   • C: ファイルを新しいファイルにコピー

   • D: ファイルの削除

   • M: ファイルの内容やモードの変更

   • R: ファイル名の名前変更

   • T: ファイルのタイプを変更

   • U: ファイルはマージされていません(コミットする前にマージを完了する
     必要があります)

   • X: 「不明な」変更タイプ(おそらくバグです。報告してください)

   ステータス文字CとRの後には常にスコアが続きます(移動またはコピーのソー
スとターゲットの間の類似性のパーセンテージを示します)。ステータス文字Mの
後には、ファイルの書き換えのスコア(非類似度のパーセンテージを示す)が続く
場合があります。

   <sha1> は、ファイルがファイルシステム上で新規で、インデックスと同期し
ていない場合、すべて0として表示されます。

   例:

     :100644 100644 5be4a4a 0000000 M file.c

   ‘-z`オプションを指定しない場合、構成変数 `core.quotePath’ で説明され
ているように、通常の文字以外(unusual characters)を含むパス名が引用符で囲
まれます(git-config(1) 参照)。 ‘-z’ を使用すると、ファイル名がそのまま出
力され、行はNULバイトで終了します。


diff format for merges
**********************

"git-diff-tree" と "git-diff-files" と "git-diff –raw" は、 ‘-c’ または
‘--cc’ オプションを使用して、マージコミットに対してもdiff出力を生成でき
ます。出力は、以下の点で上記の形式とは異なります:

  1. 親ごとにコロン(:)があります

  2. より多くの "src" モードと "src" sha1があります

  3. statusは、各親のステータス文字を連結したものです

  4. オプションの「スコア数」はありません

  5. ファイルのタブ区切りのパス名

   ‘-c’ および ‘ -cc‘ の場合、履歴のいずれかの側でファイルの名前が変更さ
れた場合でも、宛先(dst)または最終パスのみが表示されます。
‘--combined-all-paths’ を使用すると、各親のパスの名前が表示され、それに
続いてマージコミットのパスの名前が表示されます。

   例: ‘--combined-all-paths’ を使用しない ‘-c’ および ‘--cc’ の場合:

     ::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c
     ::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       bar.sh
     ::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       phooey.c

   例: ‘-c’ または ‘--cc’ のいずれかに ‘--combined-all-paths’ が追加され
た場合:

     ::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c  desc.c  desc.c
     ::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       foo.sh  bar.sh  bar.sh
     ::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       fooey.c fuey.c  phooey.c

   注意: ’combined diff’は、すべての親から変更されたファイルのみをリスト
することに注意してください。


Generating patch text with -p
*****************************

git-diff(1) 、 git-log(1) 、 git-show(1) 、 git-diff-index(1) 、
git-diff-tree(1) 、 git-diff-files(1) に ‘-p’ オプションを付けて実行する
とパッチテキストを生成します。パッチテキストの作成は、
‘GIT_EXTERNAL_DIFF’ と ‘GIT_DIFF_OPTS’ 環境変数( git(1) 参照)、および
‘diff’ 属性( gitattributes(5) 参照)を介してカスタマイズできます。

   -pオプションが生成するものは、従来のdiff形式とは少々異なります:

  1. 先行して、以下のような "git diff" ヘッダーがあります:

          diff --git a/file1 b/file2

     名前の変更/コピーが含まれない限り、 ‘a/’ と ‘b/’ のファイル名は同じ
     です。 特に、作成または削除の場合でも、 ‘a/’ または ‘b/’ ファイル名
     の代わりに ‘/dev/ null’ が使用されることはありません。

     名前変更/コピーが含まれる場合、 ‘file1’ と‘file2‘ は、それぞれ名前
     変更/コピーのソースファイルの名前と、名前変更/コピーが生成するファ
     イルの名前を示します。

  2. その後に、1つ以上の拡張ヘッダー行達が続きます:

          old mode <mode>
          new mode <mode>
          deleted file mode <mode>
          new file mode <mode>
          copy from <path>
          copy to <path>
          rename from <path>
          rename to <path>
          similarity index <number>
          dissimilarity index <number>
          index <hash>..<hash> <mode>

     ファイルモードは、ファイルタイプとファイル許可ビットを含む6桁の8進
     数として出力されます。

     拡張ヘッダーのパス名には、 ‘a/’ および ‘b/’ プレフィックスは含まれ
     ません。

     類似インデックス(similarity index)は変更されていない行のパーセンテ
     ージであり、非類似インデックス(dissimilarity index)は変更された行の
     パーセンテージです。これは切り捨てられた整数であり、その後にパーセ
     ント記号が続きます。したがって、100％の類似インデックス値は2つの等
     しいファイルを表し、100％の非類似性は古いファイルから新しいファイル
     に移行された行がないことを意味します。

     インデックス行には、変更前後のブロブオブジェクト名が含まれます。
     <mode> は、ファイルモードが変更されない場合に含まれます。それ以外の
     場合、別々の行は古いモードと新しいモードを示します。

  3. 通常の文字でないキャラクタ(\"unusual\" characters)を含むパス名は、
     構成変数 ‘core.quotePath’ で説明されているように引用符で囲まれてい
     ます( git-config(1)参照)。

  4. 出力内のすべての ‘file1’ ファイルはコミット前のファイルを参照し、す
     べての ‘file2’ ファイルはコミット後のファイルを参照します。各変更を
     各ファイルに順番に適用するのは誤りです。たとえば、以下のパッチはaと
     bを交換します:

          diff --git a/a b/b
          rename from a
          rename to b
          diff --git a/b b/a
          rename from b
          rename to a

  5. ハンクのヘッダーには、ハンクが適用される関数の名前が記載されていま
     す。特定の言語に合わせてこれを調整する方法の詳細については、
     gitattributes(5) の "Defining a custom hunk-header" を参照してくだ
     さい。


Combined diff format
********************

diffを生成するコマンドは、マージを表示するときに ‘-c’ または ‘--cc’ オプ
ションを使用して「合成diff」(combined diff)を生成できます。これは
git-diff(1) または git-show(1) でのマージを表示するときのデフォルトの形
式です。 注意: これらのコマンドのいずれかに適切な ‘--diff-merges’ オプシ
ョンを指定して、特定の形式で差分を強制的に生成できることにも注意してくだ
さい。

   合成diff形式は以下のようになります:

     diff --combined describe.c
     index fabadb8,cc95eb0..4866510
     --- a/describe.c
     +++ b/describe.c
     @@@ -98,20 -98,12 +98,20 @@@
             return (a_date > b_date) ? -1 : (a_date == b_date) ? 0 : 1;
       }

     - static void describe(char *arg)
      -static void describe(struct commit *cmit, int last_one)
     ++static void describe(char *arg, int last_one)
       {
      +      unsigned char sha1[20];
      +      struct commit *cmit;
             struct commit_list *list;
             static int initialized = 0;
             struct commit_name *n;

      +      if (get_sha1(arg, sha1) < 0)
      +              usage(describe_usage);
      +      cmit = lookup_commit_reference(sha1);
      +      if (!cmit)
      +              usage(describe_usage);
      +
             if (!initialized) {
                     initialized = 1;
                     for_each_ref(get_name);

  1. まず "git diff" ヘッダーがあり、以下のようになります( ‘-c’ オプショ
     ンが使用されている場合):

          diff --combined file

     または、以下のようになります( ‘--cc’ オプションが使用されている場合
     ):

          diff --cc file

  2. その後に1つ以上の拡張ヘッダー行が続きます(以下の例は、2つの親とのマ
     ージを示しています):

          index <hash>,<hash>..<hash>
          mode <mode>,<mode>..<mode>
          new file mode <mode>
          deleted file mode <mode>,<mode>

     ‘mode <mode>,<mode>..<mode>’ 行は、<mode> の少なくとも1つが他の
     <mode> と異なる場合にのみ表示されます。検出されたコンテンツの移動
     (名前の変更とコピーの検出)に関する情報を含む拡張ヘッダーは、2つの
     <tree-ish> のdiffで機能するように設計されており、合成diff形式では使
     用されません。

  3. その後に2行の from-file/to-file ヘッダーが続きます

          --- a/file
          +++ b/file

     従来の統一diff形式の2行ヘッダーと同様に、 ‘/dev/null’ は、作成また
     は削除されたファイルを通知するために使用されます。

     ただし、 –combined-all-paths オプションが指定されている場合、2行の
     from-file/to-file の代わりに、 N+1 行の from-file/to-file ヘッダー
     が取得されます。ここで、 N はマージコミットの親の数です。

          --- a/file
          --- a/file
          --- a/file
          +++ b/file

     この拡張形式は、名前変更またはコピー検出がアクティブな場合に役立ち
     、別の親のファイルの元の名前を確認できます。

  4. チャンクヘッダーの形式が変更され、誤って ‘patch-p1’ にフィードされ
     るのを防ぎます。合成差分形式は、マージコミットの変更を確認するため
     に作成されたものであり、適用されることを意図したものではありません
     。この変更は、拡張された「インデックス」ヘッダーの変更に似ています:

          @@@ <from-file-range> <from-file-range> <to-file-range> @@@

     合成diff形式のチャンクヘッダーには親の数+1の ‘@’ 文字があります。

   従来の統一diff形式とは異なり、2つのファイルAとBが、 ‘-’ (マイナスは
Aに表示されますが、Bでは削除されます) または ‘+’ (プラスはAにはありませ
んが、Bには追加されます)、または ‘" "’（スペースは変更なし) プレフィック
スを持つ単一の列で表示される場合、この形式は2つ以上のファイル file1,
file2,… を1つのファイルXと比較し、Xが各 fileN とどのように異なるかを示し
ます。ファイルNごとに1つの列が出力行の前に追加され、Xの行が出力行とどの
ように異なるかを示します。

   列Nの ‘-’ 文字は、その行が fileN に表示されているが、結果には表示され
ていないことを意味します。 列Nの ‘+’ 文字は、結果に行が表示され、 fileN
にその行がないことを意味します(つまり、その親の観点から見て行が追加され
たことを示す)。

   上記の出力例では、関数のシグネチャが両方のファイルから見て変更されて
います(したがって、 file1 と file2 の両方から2つの ‘-’ が削除され、さら
に ‘++’ が追加されたため、 file1 と file2 のどちらにも表示されません)。
また、他の8行は file1 と同じですが、 file2 には表示されません(したがって
、接頭辞として ‘+’ が付けられます)。

   ‘git diff-tree -c’ で表示される場合、マージコミットの親をマージ結果と
比較します(つまり、 file1..fileN が親です)。 ‘git diff-files -c’ で表示
される場合、2つの未解決のマージ親を作業ツリーファイルと比較します(つまり
、 file1 はステージ2、別名「私たちのバージョン」、 file2 はステージ3、別
名「彼らのバージョン」です)。


other diff formats
******************

‘--summary’ オプションは、新しく追加、削除、名前変更、およびコピーされた
ファイルを説明します。‘--stat’ オプションは、 diffstat(1) グラフ を出力
に追加します。これらのオプションは、 ‘-p’ などの他のオプションと組み合わ
せることができ、人間が読むことを目的としています。

   名前の変更またはコピーを伴う変更を表示する場合、 ‘--stat’ 出力は、パ
ス名の共通のプレフィックスとサフィックスを組み合わせることにより、パス名
をコンパクトにフォーマットします。 たとえば、4行を変更(modify)しながら
‘arch/i386/Makefile’ を ‘arch/x86/Makefile’ に移動(move)する変更
(change)は、次のように表示されます:

     arch/{i386 => x86}/Makefile    |   4 +--

   ‘--numstat’ オプションは diffstat(1) 情報を提供しますが、人間ではなく
ソフトウェアで読むのを容易にするように設計されています。 ‘--numstat’ 出
力のエントリは以下のようになります:

     1       2       README
     3       1       arch/{i386 => x86}/Makefile

   この形式は、左から右へ:

  1. 追加行数

  2. タブ

  3. 削除行数

  4. タブ

  5. パス名(おそらく rename/copy 情報を含む)

  6. 改行

   ‘-z’ 出力オプションが有効な場合、出力は以下のようにフォーマットされま
す:

     1       2       README NUL
     3       1       NUL arch/i386/Makefile NUL arch/x86/Makefile NUL

   これは:

  1. 追加行数

  2. タブ

  3. 削除行数

  4. タブ

  5. NUL(rename/copy された場合のみ存在します)

  6. プリイメージのパス名

  7. NUL(rename/copy された場合のみ存在します)

  8. ポストイメージのパス名(rename/copy された場合のみ存在します)

  9. NUL

   名前が変更された場合のプリイメージパスの前の追加の ‘NUL’ は、出力を読
み取るスクリプトが、先読みせずに、読み取られている現在のレコードがシング
ルパスレコードであるか、名前変更/コピーレコードであるか、を判断できるよ
うにするためです。追加および削除された行を読み取った後、 ‘NUL’ まで読み
取るとパス名が生成されますが、それが ‘NUL’ の場合、レコードには2つのパス
が表示されます。


EXAMPLES
********

Various ways to check your working tree
          $ git diff            (1)
          $ git diff --cached   (2)
          $ git diff HEAD       (3)

     *note (1): CO1-1.
          Changes in the working tree not yet staged for the next
          commit.

     *note (2): CO1-2.
          Changes between the index and your last commit; what you would
          be committing if you run ‘git commit’ without ‘-a’ option.

     *note (3): CO1-3.
          Changes in the working tree since your last commit; what you
          would be committing if you run ‘git commit -a’

Comparing with arbitrary commits
          $ git diff test            (1)
          $ git diff HEAD -- ./test  (2)
          $ git diff HEAD^ HEAD      (3)

     *note (1): CO2-1.
          Instead of using the tip of the current branch, compare with
          the tip of "test" branch.

     *note (2): CO2-2.
          Instead of comparing with the tip of "test" branch, compare
          with the tip of the current branch, but limit the comparison
          to the file "test".

     *note (3): CO2-3.
          Compare the version before the last commit and the last
          commit.

Comparing branches
          $ git diff topic master    (1)
          $ git diff topic..master   (2)
          $ git diff topic...master  (3)

     *note (1): CO3-1.
          Changes between the tips of the topic and the master branches.

     *note (2): CO3-2.
          Same as above.

     *note (3): CO3-3.
          Changes that occurred on the master branch since when the
          topic branch was started off it.

Limiting the diff output
          $ git diff --diff-filter=MRC            (1)
          $ git diff --name-status                (2)
          $ git diff arch/i386 include/asm-i386   (3)

     *note (1): CO4-1.
          Show only modification, rename, and copy, but not addition or
          deletion.

     *note (2): CO4-2.
          Show only names and the nature of change, but not actual diff
          output.

     *note (3): CO4-3.
          Limit diff output to named subtrees.

Munging the diff output
          $ git diff --find-copies-harder -B -C  (1)
          $ git diff -R                          (2)

     *note (1): CO5-1.
          Spend extra cycles to find renames, copies and complete
          rewrites (very expensive).

     *note (2): CO5-2.
          Output diff in reverse.


SEE ALSO
********

diff(1), git-difftool(1), git-log(1), gitdiffcore(7),
git-format-patch(1), git-apply(1), git-show(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-difftool,  Up: Top

Name
****

git-difftool — Show changes using common diff tools


Synopsis
********

     git difftool [<options>] [<commit> [<commit>]] [–] [<path>…]


DESCRIPTION
***********

_git difftool_ is a Git command that allows you to compare and edit
files between revisions using common diff tools.  _git difftool_ is a
frontend to _git diff_ and accepts the same options and arguments.  See
git-diff(1).


OPTIONS
*******

‘-d’
‘--dir-diff’
     Copy the modified files to a temporary location and perform a
     directory diff on them.  This mode never prompts before launching
     the diff tool.

‘-y’
‘--no-prompt’
     Do not prompt before launching a diff tool.

‘--prompt’
     Prompt before each invocation of the diff tool.  This is the
     default behaviour; the option is provided to override any
     configuration settings.

‘--rotate-to=<file>’
     Start showing the diff for the given path, the paths before it will
     move to end and output.

‘--skip-to=<file>’
     Start showing the diff for the given path, skipping all the paths
     before it.

‘-t <tool>’
‘--tool=<tool>’
     Use the diff tool specified by <tool>.  Valid values include
     emerge, kompare, meld, and vimdiff.  Run ‘git difftool --tool-help’
     for the list of valid <tool> settings.

     If a diff tool is not specified, _git difftool_ will use the
     configuration variable ‘diff.tool’.  If the configuration variable
     ‘diff.tool’ is not set, _git difftool_ will pick a suitable
     default.

     You can explicitly provide a full path to the tool by setting the
     configuration variable ‘difftool.<tool>.path’.  For example, you
     can configure the absolute path to kdiff3 by setting
     ‘difftool.kdiff3.path’.  Otherwise, _git difftool_ assumes the tool
     is available in PATH.

     Instead of running one of the known diff tools, _git difftool_ can
     be customized to run an alternative program by specifying the
     command line to invoke in a configuration variable
     ‘difftool.<tool>.cmd’.

     When _git difftool_ is invoked with this tool (either through the
     ‘-t’ or ‘--tool’ option or the ‘diff.tool’ configuration variable)
     the configured command line will be invoked with the following
     variables available: ‘$LOCAL’ is set to the name of the temporary
     file containing the contents of the diff pre-image and ‘$REMOTE’ is
     set to the name of the temporary file containing the contents of
     the diff post-image.  ‘$MERGED’ is the name of the file which is
     being compared.  ‘$BASE’ is provided for compatibility with custom
     merge tool commands and has the same value as ‘$MERGED’.

‘--tool-help’
     Print a list of diff tools that may be used with ‘--tool’.

‘--[no-]symlinks’
     _git difftool_’s default behavior is create symlinks to the working
     tree when run in ‘--dir-diff’ mode and the right-hand side of the
     comparison yields the same content as the file in the working tree.

     Specifying ‘--no-symlinks’ instructs _git difftool_ to create
     copies instead.  ‘--no-symlinks’ is the default on Windows.

‘-x <command>’
‘--extcmd=<command>’
     Specify a custom command for viewing diffs.  _git-difftool_ ignores
     the configured defaults and runs ‘$command $LOCAL $REMOTE’ when
     this option is specified.  Additionally, ‘$BASE’ is set in the
     environment.

‘-g’
‘--[no-]gui’
     When _git-difftool_ is invoked with the ‘-g’ or ‘--gui’ option the
     default diff tool will be read from the configured ‘diff.guitool’
     variable instead of ‘diff.tool’.  The ‘--no-gui’ option can be used
     to override this setting.  If ‘diff.guitool’ is not set, we will
     fallback in the order of ‘merge.guitool’, ‘diff.tool’, ‘merge.tool’
     until a tool is found.

‘--[no-]trust-exit-code’
     _git-difftool_ invokes a diff tool individually on each file.
     Errors reported by the diff tool are ignored by default.  Use
     ‘--trust-exit-code’ to make _git-difftool_ exit when an invoked
     diff tool returns a non-zero exit code.

     _git-difftool_ will forward the exit code of the invoked tool when
     ‘--trust-exit-code’ is used.

   See git-diff(1) for the full list of supported options.


CONFIG VARIABLES
****************

_git difftool_ falls back to _git mergetool_ config variables when the
difftool equivalents have not been defined.

diff.tool
     The default diff tool to use.

diff.guitool
     The default diff tool to use when ‘--gui’ is specified.

difftool.<tool>.path
     Override the path for the given tool.  This is useful in case your
     tool is not in the PATH.

difftool.<tool>.cmd
     Specify the command to invoke the specified diff tool.

     See the ‘--tool=<tool>’ option above for more details.

difftool.prompt
     Prompt before each invocation of the diff tool.

difftool.trustExitCode
     Exit difftool if the invoked diff tool returns a non-zero exit
     status.

     See the ‘--trust-exit-code’ option above for more details.


SEE ALSO
********

git-diff(1)
     Show changes between commits, commit and working tree, etc

git-mergetool(1)
     Run merge conflict resolution tools to resolve merge conflicts

git-config(1)
     Get and set repository or global options


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-fast-export,  Up: Top

Name
****

git-fast-export — Git data exporter


Synopsis
********

     git fast-export [<options>] | git fast-import


DESCRIPTION
***********

This program dumps the given revisions in a form suitable to be piped
into _git fast-import_.

   You can use it as a human-readable bundle replacement (see
git-bundle(1)), or as a format that can be edited before being fed to
_git fast-import_ in order to do history rewrites (an ability relied on
by tools like _git filter-repo_).


OPTIONS
*******

‘--progress=<n>’
     Insert _progress_ statements every <n> objects, to be shown by _git
     fast-import_ during import.

‘--signed-tags=(verbatim|warn|warn-strip|strip|abort)’
     Specify how to handle signed tags.  Since any transformation after
     the export can change the tag names (which can also happen when
     excluding revisions) the signatures will not match.

     When asking to _abort_ (which is the default), this program will
     die when encountering a signed tag.  With _strip_, the tags will
     silently be made unsigned, with _warn-strip_ they will be made
     unsigned but a warning will be displayed, with _verbatim_, they
     will be silently exported and with _warn_, they will be exported,
     but you will see a warning.

‘--tag-of-filtered-object=(abort|drop|rewrite)’
     Specify how to handle tags whose tagged object is filtered out.
     Since revisions and files to export can be limited by path, tagged
     objects may be filtered completely.

     When asking to _abort_ (which is the default), this program will
     die when encountering such a tag.  With _drop_ it will omit such
     tags from the output.  With _rewrite_, if the tagged object is a
     commit, it will rewrite the tag to tag an ancestor commit (via
     parent rewriting; see git-rev-list(1))

‘-M’
‘-C’
     Perform move and/or copy detection, as described in the git-diff(1)
     manual page, and use it to generate rename and copy commands in the
     output dump.

     Note that earlier versions of this command did not complain and
     produced incorrect results if you gave these options.

‘--export-marks=<file>’
     Dumps the internal marks table to <file> when complete.  Marks are
     written one per line as ‘:markid SHA-1’.  Only marks for revisions
     are dumped; marks for blobs are ignored.  Backends can use this
     file to validate imports after they have been completed, or to save
     the marks table across incremental runs.  As <file> is only opened
     and truncated at completion, the same path can also be safely given
     to –import-marks.  The file will not be written if no new object
     has been marked/exported.

‘--import-marks=<file>’
     Before processing any input, load the marks specified in <file>.
     The input file must exist, must be readable, and must use the same
     format as produced by –export-marks.

‘--mark-tags’
     In addition to labelling blobs and commits with mark ids, also
     label tags.  This is useful in conjunction with ‘--export-marks’
     and ‘--import-marks’, and is also useful (and necessary) for
     exporting of nested tags.  It does not hurt other cases and would
     be the default, but many fast-import frontends are not prepared to
     accept tags with mark identifiers.

     Any commits (or tags) that have already been marked will not be
     exported again.  If the backend uses a similar –import-marks file,
     this allows for incremental bidirectional exporting of the
     repository by keeping the marks the same across runs.

‘--fake-missing-tagger’
     Some old repositories have tags without a tagger.  The fast-import
     protocol was pretty strict about that, and did not allow that.  So
     fake a tagger to be able to fast-import the output.

‘--use-done-feature’
     Start the stream with a _feature done_ stanza, and terminate it
     with a _done_ command.

‘--no-data’
     Skip output of blob objects and instead refer to blobs via their
     original SHA-1 hash.  This is useful when rewriting the directory
     structure or history of a repository without touching the contents
     of individual files.  Note that the resulting stream can only be
     used by a repository which already contains the necessary objects.

‘--full-tree’
     This option will cause fast-export to issue a "deleteall" directive
     for each commit followed by a full list of all files in the commit
     (as opposed to just listing the files which are different from the
     commit’s first parent).

‘--anonymize’
     Anonymize the contents of the repository while still retaining the
     shape of the history and stored tree.  See the section on
     ‘ANONYMIZING’ below.

‘--anonymize-map=<from>[:<to>]’
     Convert token ‘<from>’ to ‘<to>’ in the anonymized output.  If
     ‘<to>’ is omitted, map ‘<from>’ to itself (i.e., do not anonymize
     it).  See the section on ‘ANONYMIZING’ below.

‘--reference-excluded-parents’
     By default, running a command such as ‘git fast-export
     master~5..master’ will not include the commit master~5 and will
     make master~4 no longer have master~5 as a parent (though both the
     old master~4 and new master~4 will have all the same files).  Use
     –reference-excluded-parents to instead have the stream refer to
     commits in the excluded range of history by their sha1sum.  Note
     that the resulting stream can only be used by a repository which
     already contains the necessary parent commits.

‘--show-original-ids’
     Add an extra directive to the output for commits and blobs,
     ‘original-oid <SHA1SUM>’.  While such directives will likely be
     ignored by importers such as git-fast-import, it may be useful for
     intermediary filters (e.g.  for rewriting commit messages which
     refer to older commits, or for stripping blobs by id).

‘--reencode=(yes|no|abort)’
     Specify how to handle ‘encoding’ header in commit objects.  When
     asking to _abort_ (which is the default), this program will die
     when encountering such a commit object.  With _yes_, the commit
     message will be re-encoded into UTF-8.  With _no_, the original
     encoding will be preserved.

‘--refspec’
     Apply the specified refspec to each ref exported.  Multiple of them
     can be specified.

[<git-rev-list-args>…]
     A list of arguments, acceptable to _git rev-parse_ and _git
     rev-list_, that specifies the specific objects and references to
     export.  For example, ‘master~10..master’ causes the current master
     reference to be exported along with all objects added since its
     10th ancestor commit and (unless the –reference-excluded-parents
     option is specified) all files common to master~9 and master~10.


EXAMPLES
********

     $ git fast-export --all | (cd /empty/repository && git fast-import)

   This will export the whole repository and import it into the existing
empty repository.  Except for reencoding commits that are not in UTF-8,
it would be a one-to-one mirror.

     $ git fast-export master~5..master |
             sed "s|refs/heads/master|refs/heads/other|" |
             git fast-import

   This makes a new branch called _other_ from _master~5..master_ (i.e.
if _master_ has linear history, it will take the last 5 commits).

   Note that this assumes that none of the blobs and commit messages
referenced by that revision range contains the string
_refs/heads/master_.


ANONYMIZING
***********

If the ‘--anonymize’ option is given, git will attempt to remove all
identifying information from the repository while still retaining enough
of the original tree and history patterns to reproduce some bugs.  The
goal is that a git bug which is found on a private repository will
persist in the anonymized repository, and the latter can be shared with
git developers to help solve the bug.

   With this option, git will replace all refnames, paths, blob
contents, commit and tag messages, names, and email addresses in the
output with anonymized data.  Two instances of the same string will be
replaced equivalently (e.g., two commits with the same author will have
the same anonymized author in the output, but bear no resemblance to the
original author string).  The relationship between commits, branches,
and tags is retained, as well as the commit timestamps (but the commit
messages and refnames bear no resemblance to the originals).  The
relative makeup of the tree is retained (e.g., if you have a root tree
with 10 files and 3 trees, so will the output), but their names and the
contents of the files will be replaced.

   If you think you have found a git bug, you can start by exporting an
anonymized stream of the whole repository:

     $ git fast-export --anonymize --all >anon-stream

   Then confirm that the bug persists in a repository created from that
stream (many bugs will not, as they really do depend on the exact
repository contents):

     $ git init anon-repo
     $ cd anon-repo
     $ git fast-import <../anon-stream
     $ ... test your bug ...

   If the anonymized repository shows the bug, it may be worth sharing
‘anon-stream’ along with a regular bug report.  Note that the anonymized
stream compresses very well, so gzipping it is encouraged.  If you want
to examine the stream to see that it does not contain any private data,
you can peruse it directly before sending.  You may also want to try:

     $ perl -pe 's/\d+/X/g' <anon-stream | sort -u | less

   which shows all of the unique lines (with numbers converted to "X",
to collapse "User 0", "User 1", etc into "User X"). This produces a much
smaller output, and it is usually easy to quickly confirm that there is
no private data in the stream.

   Reproducing some bugs may require referencing particular commits or
paths, which becomes challenging after refnames and paths have been
anonymized.  You can ask for a particular token to be left as-is or
mapped to a new value.  For example, if you have a bug which reproduces
with ‘git rev-list sensitive -- secret.c’, you can run:

     $ git fast-export --anonymize --all \
           --anonymize-map=sensitive:foo \
           --anonymize-map=secret.c:bar.c \
           >stream

   After importing the stream, you can then run ‘git rev-list foo --
bar.c’ in the anonymized repository.

   Note that paths and refnames are split into tokens at slash
boundaries.  The command above would anonymize ‘subdir/secret.c’ as
something like ‘path123/bar.c’; you could then search for ‘bar.c’ in the
anonymized repository to determine the final pathname.

   To make referencing the final pathname simpler, you can map each path
component; so if you also anonymize ‘subdir’ to ‘publicdir’, then the
final pathname would be ‘publicdir/bar.c’.


LIMITATIONS
***********

Since _git fast-import_ cannot tag trees, you will not be able to export
the linux.git repository completely, as it contains a tag referencing a
tree instead of a commit.


SEE ALSO
********

git-fast-import(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-fast-import,  Up: Top

Name
****

git-fast-import — Backend for fast Git data importers


Synopsis
********

     frontend | git fast-import [<options>]


DESCRIPTION
***********

This program is usually not what the end user wants to run directly.
Most end users want to use one of the existing frontend programs, which
parses a specific type of foreign source and feeds the contents stored
there to _git fast-import_.

   fast-import reads a mixed command/data stream from standard input and
writes one or more packfiles directly into the current repository.  When
EOF is received on standard input, fast import writes out updated branch
and tag refs, fully updating the current repository with the newly
imported data.

   The fast-import backend itself can import into an empty repository
(one that has already been initialized by _git init_) or incrementally
update an existing populated repository.  Whether or not incremental
imports are supported from a particular foreign source depends on the
frontend program in use.


OPTIONS
*******

‘--force’
     Force updating modified existing branches, even if doing so would
     cause commits to be lost (as the new commit does not contain the
     old commit).

‘--quiet’
     Disable the output shown by –stats, making fast-import usually be
     silent when it is successful.  However, if the import stream has
     directives intended to show user output (e.g.  ‘progress’
     directives), the corresponding messages will still be shown.

‘--stats’
     Display some basic statistics about the objects fast-import has
     created, the packfiles they were stored into, and the memory used
     by fast-import during this run.  Showing this output is currently
     the default, but can be disabled with –quiet.

‘--allow-unsafe-features’
     Many command-line options can be provided as part of the
     fast-import stream itself by using the ‘feature’ or ‘option’
     commands.  However, some of these options are unsafe (e.g.,
     allowing fast-import to access the filesystem outside of the
     repository).  These options are disabled by default, but can be
     allowed by providing this option on the command line.  This
     currently impacts only the ‘export-marks’, ‘import-marks’, and
     ‘import-marks-if-exists’ feature commands.

          Only enable this option if you trust the program generating the fast-import
          stream! This option is enabled automatically for remote-helpers that use the
          `import` capability, as they are already trusted to run their own code.


Options for Frontends
=====================

‘--cat-blob-fd=<fd>’
     Write responses to ‘get-mark’, ‘cat-blob’, and ‘ls’ queries to the
     file descriptor <fd> instead of ‘stdout’.  Allows ‘progress’ output
     intended for the end-user to be separated from other output.

‘--date-format=<fmt>’
     Specify the type of dates the frontend will supply to fast-import
     within ‘author’, ‘committer’ and ‘tagger’ commands.  See “Date
     Formats” below for details about which formats are supported, and
     their syntax.

‘--done’
     Terminate with error if there is no ‘done’ command at the end of
     the stream.  This option might be useful for detecting errors that
     cause the frontend to terminate before it has started to write a
     stream.


Locations of Marks Files
========================

‘--export-marks=<file>’
     Dumps the internal marks table to <file> when complete.  Marks are
     written one per line as ‘:markid SHA-1’.  Frontends can use this
     file to validate imports after they have been completed, or to save
     the marks table across incremental runs.  As <file> is only opened
     and truncated at checkpoint (or completion) the same path can also
     be safely given to –import-marks.

‘--import-marks=<file>’
     Before processing any input, load the marks specified in <file>.
     The input file must exist, must be readable, and must use the same
     format as produced by –export-marks.  Multiple options may be
     supplied to import more than one set of marks.  If a mark is
     defined to different values, the last file wins.

‘--import-marks-if-exists=<file>’
     Like –import-marks but instead of erroring out, silently skips the
     file if it does not exist.

‘--[no-]relative-marks’
     After specifying –relative-marks the paths specified with
     –import-marks= and –export-marks= are relative to an internal
     directory in the current repository.  In git-fast-import this means
     that the paths are relative to the .git/info/fast-import directory.
     However, other importers may use a different location.

     Relative and non-relative marks may be combined by interweaving
     –(no-)-relative-marks with the –(import|export)-marks= options.


Submodule Rewriting
===================

‘--rewrite-submodules-from=<name>:<file>’
‘--rewrite-submodules-to=<name>:<file>’
     Rewrite the object IDs for the submodule specified by <name> from
     the values used in the from <file> to those used in the to <file>.
     The from marks should have been created by ‘git fast-export’, and
     the to marks should have been created by ‘git fast-import’ when
     importing that same submodule.

     <name> may be any arbitrary string not containing a colon
     character, but the same value must be used with both options when
     specifying corresponding marks.  Multiple submodules may be
     specified with different values for <name>.  It is an error not to
     use these options in corresponding pairs.

     These options are primarily useful when converting a repository
     from one hash algorithm to another; without them, fast-import will
     fail if it encounters a submodule because it has no way of writing
     the object ID into the new hash algorithm.


Performance and Compression Tuning
==================================

‘--active-branches=<n>’
     Maximum number of branches to maintain active at once.  See “Memory
     Utilization” below for details.  Default is 5.

‘--big-file-threshold=<n>’
     Maximum size of a blob that fast-import will attempt to create a
     delta for, expressed in bytes.  The default is 512m (512 MiB). Some
     importers may wish to lower this on systems with constrained
     memory.

‘--depth=<n>’
     Maximum delta depth, for blob and tree deltification.  Default is
     50.

‘--export-pack-edges=<file>’
     After creating a packfile, print a line of data to <file> listing
     the filename of the packfile and the last commit on each branch
     that was written to that packfile.  This information may be useful
     after importing projects whose total object set exceeds the 4 GiB
     packfile limit, as these commits can be used as edge points during
     calls to _git pack-objects_.

‘--max-pack-size=<n>’
     Maximum size of each output packfile.  The default is unlimited.

fastimport.unpackLimit
     See git-config(1)


PERFORMANCE
***********

The design of fast-import allows it to import large projects in a
minimum amount of memory usage and processing time.  Assuming the
frontend is able to keep up with fast-import and feed it a constant
stream of data, import times for projects holding 10+ years of history
and containing 100,000+ individual commits are generally completed in
just 1-2 hours on quite modest (~$2,000 USD) hardware.

   Most bottlenecks appear to be in foreign source data access (the
source just cannot extract revisions fast enough) or disk IO
(fast-import writes as fast as the disk will take the data).  Imports
will run faster if the source data is stored on a different drive than
the destination Git repository (due to less IO contention).


DEVELOPMENT COST
****************

A typical frontend for fast-import tends to weigh in at approximately
200 lines of Perl/Python/Ruby code.  Most developers have been able to
create working importers in just a couple of hours, even though it is
their first exposure to fast-import, and sometimes even to Git.  This is
an ideal situation, given that most conversion tools are throw-away (use
once, and never look back).


PARALLEL OPERATION
******************

Like _git push_ or _git fetch_, imports handled by fast-import are safe
to run alongside parallel ‘git repack -a -d’ or ‘git gc’ invocations, or
any other Git operation (including _git prune_, as loose objects are
never used by fast-import).

   fast-import does not lock the branch or tag refs it is actively
importing.  After the import, during its ref update phase, fast-import
tests each existing branch ref to verify the update will be a
fast-forward update (the commit stored in the ref is contained in the
new history of the commit to be written).  If the update is not a
fast-forward update, fast-import will skip updating that ref and instead
prints a warning message.  fast-import will always attempt to update all
branch refs, and does not stop on the first failure.

   Branch updates can be forced with –force, but it’s recommended that
this only be used on an otherwise quiet repository.  Using –force is not
necessary for an initial import into an empty repository.


TECHNICAL DISCUSSION
********************

fast-import tracks a set of branches in memory.  Any branch can be
created or modified at any point during the import process by sending a
‘commit’ command on the input stream.  This design allows a frontend
program to process an unlimited number of branches simultaneously,
generating commits in the order they are available from the source data.
It also simplifies the frontend programs considerably.

   fast-import does not use or alter the current working directory, or
any file within it.  (It does however update the current Git repository,
as referenced by ‘GIT_DIR’.)  Therefore an import frontend may use the
working directory for its own purposes, such as extracting file
revisions from the foreign source.  This ignorance of the working
directory also allows fast-import to run very quickly, as it does not
need to perform any costly file update operations when switching between
branches.


INPUT FORMAT
************

With the exception of raw file data (which Git does not interpret) the
fast-import input format is text (ASCII) based.  This text based format
simplifies development and debugging of frontend programs, especially
when a higher level language such as Perl, Python or Ruby is being used.

   fast-import is very strict about its input.  Where we say SP below we
mean *exactly* one space.  Likewise LF means one (and only one) linefeed
and HT one (and only one) horizontal tab.  Supplying additional
whitespace characters will cause unexpected results, such as branch
names or file names with leading or trailing spaces in their name, or
early termination of fast-import when it encounters unexpected input.


Stream Comments
===============

To aid in debugging frontends fast-import ignores any line that begins
with ‘#’ (ASCII pound/hash) up to and including the line ending ‘LF’.  A
comment line may contain any sequence of bytes that does not contain an
LF and therefore may be used to include any detailed debugging
information that might be specific to the frontend and useful when
inspecting a fast-import data stream.


Date Formats
============

The following date formats are supported.  A frontend should select the
format it will use for this import by passing the format name in the
–date-format=<fmt> command-line option.

‘raw’
     This is the Git native format and is ‘<time> SP <offutc>’.  It is
     also fast-import’s default format, if –date-format was not
     specified.

     The time of the event is specified by ‘<time>’ as the number of
     seconds since the UNIX epoch (midnight, Jan 1, 1970, UTC) and is
     written as an ASCII decimal integer.

     The local offset is specified by ‘<offutc>’ as a positive or
     negative offset from UTC. For example EST (which is 5 hours behind
     UTC) would be expressed in ‘<tz>’ by “-0500” while UTC is “+0000”.
     The local offset does not affect ‘<time>’; it is used only as an
     advisement to help formatting routines display the timestamp.

     If the local offset is not available in the source material, use
     “+0000”, or the most common local offset.  For example many
     organizations have a CVS repository which has only ever been
     accessed by users who are located in the same location and time
     zone.  In this case a reasonable offset from UTC could be assumed.

     Unlike the ‘rfc2822’ format, this format is very strict.  Any
     variation in formatting will cause fast-import to reject the value,
     and some sanity checks on the numeric values may also be performed.

‘raw-permissive’
     This is the same as ‘raw’ except that no sanity checks on the
     numeric epoch and local offset are performed.  This can be useful
     when trying to filter or import an existing history with e.g.
     bogus timezone values.

‘rfc2822’
     This is the standard email format as described by RFC 2822.

     An example value is “Tue Feb 6 11:22:18 2007 -0500”.  The Git
     parser is accurate, but a little on the lenient side.  It is the
     same parser used by _git am_ when applying patches received from
     email.

     Some malformed strings may be accepted as valid dates.  In some of
     these cases Git will still be able to obtain the correct date from
     the malformed string.  There are also some types of malformed
     strings which Git will parse wrong, and yet consider valid.
     Seriously malformed strings will be rejected.

     Unlike the ‘raw’ format above, the time zone/UTC offset information
     contained in an RFC 2822 date string is used to adjust the date
     value to UTC prior to storage.  Therefore it is important that this
     information be as accurate as possible.

     If the source material uses RFC 2822 style dates, the frontend
     should let fast-import handle the parsing and conversion (rather
     than attempting to do it itself) as the Git parser has been well
     tested in the wild.

     Frontends should prefer the ‘raw’ format if the source material
     already uses UNIX-epoch format, can be coaxed to give dates in that
     format, or its format is easily convertible to it, as there is no
     ambiguity in parsing.

‘now’
     Always use the current time and time zone.  The literal ‘now’ must
     always be supplied for ‘<when>’.

     This is a toy format.  The current time and time zone of this
     system is always copied into the identity string at the time it is
     being created by fast-import.  There is no way to specify a
     different time or time zone.

     This particular format is supplied as it’s short to implement and
     may be useful to a process that wants to create a new commit right
     now, without needing to use a working directory or _git
     update-index_.

     If separate ‘author’ and ‘committer’ commands are used in a
     ‘commit’ the timestamps may not match, as the system clock will be
     polled twice (once for each command).  The only way to ensure that
     both author and committer identity information has the same
     timestamp is to omit ‘author’ (thus copying from ‘committer’) or to
     use a date format other than ‘now’.


Commands
========

fast-import accepts several commands to update the current repository
and control the current import process.  More detailed discussion (with
examples) of each command follows later.

‘commit’
     Creates a new branch or updates an existing branch by creating a
     new commit and updating the branch to point at the newly created
     commit.

‘tag’
     Creates an annotated tag object from an existing commit or branch.
     Lightweight tags are not supported by this command, as they are not
     recommended for recording meaningful points in time.

‘reset’
     Reset an existing branch (or a new branch) to a specific revision.
     This command must be used to change a branch to a specific revision
     without making a commit on it.

‘blob’
     Convert raw file data into a blob, for future use in a ‘commit’
     command.  This command is optional and is not needed to perform an
     import.

‘alias’
     Record that a mark refers to a given object without first creating
     any new object.  Using –import-marks and referring to missing marks
     will cause fast-import to fail, so aliases can provide a way to set
     otherwise pruned commits to a valid value (e.g.  the nearest
     non-pruned ancestor).

‘checkpoint’
     Forces fast-import to close the current packfile, generate its
     unique SHA-1 checksum and index, and start a new packfile.  This
     command is optional and is not needed to perform an import.

‘progress’
     Causes fast-import to echo the entire line to its own standard
     output.  This command is optional and is not needed to perform an
     import.

‘done’
     Marks the end of the stream.  This command is optional unless the
     ‘done’ feature was requested using the ‘--done’ command-line option
     or ‘feature done’ command.

‘get-mark’
     Causes fast-import to print the SHA-1 corresponding to a mark to
     the file descriptor set with ‘--cat-blob-fd’, or ‘stdout’ if
     unspecified.

‘cat-blob’
     Causes fast-import to print a blob in _cat-file –batch_ format to
     the file descriptor set with ‘--cat-blob-fd’ or ‘stdout’ if
     unspecified.

‘ls’
     Causes fast-import to print a line describing a directory entry in
     _ls-tree_ format to the file descriptor set with ‘--cat-blob-fd’ or
     ‘stdout’ if unspecified.

‘feature’
     Enable the specified feature.  This requires that fast-import
     supports the specified feature, and aborts if it does not.

‘option’
     Specify any of the options listed under OPTIONS that do not change
     stream semantic to suit the frontend’s needs.  This command is
     optional and is not needed to perform an import.


commit
======

Create or update a branch with a new commit, recording one logical
change to the project.

             'commit' SP <ref> LF
             mark?
             original-oid?
             ('author' (SP <name>)? SP LT <email> GT SP <when> LF)?
             'committer' (SP <name>)? SP LT <email> GT SP <when> LF
             ('encoding' SP <encoding>)?
             data
             ('from' SP <commit-ish> LF)?
             ('merge' SP <commit-ish> LF)*
             (filemodify | filedelete | filecopy | filerename | filedeleteall | notemodify)*
             LF?

   where ‘<ref>’ is the name of the branch to make the commit on.
Typically branch names are prefixed with ‘refs/heads/’ in Git, so
importing the CVS branch symbol ‘RELENG-1_0’ would use
‘refs/heads/RELENG-1_0’ for the value of ‘<ref>’.  The value of ‘<ref>’
must be a valid refname in Git.  As ‘LF’ is not valid in a Git refname,
no quoting or escaping syntax is supported here.

   A ‘mark’ command may optionally appear, requesting fast-import to
save a reference to the newly created commit for future use by the
frontend (see below for format).  It is very common for frontends to
mark every commit they create, thereby allowing future branch creation
from any imported commit.

   The ‘data’ command following ‘committer’ must supply the commit
message (see below for ‘data’ command syntax).  To import an empty
commit message use a 0 length data.  Commit messages are free-form and
are not interpreted by Git.  Currently they must be encoded in UTF-8, as
fast-import does not permit other encodings to be specified.

   Zero or more ‘filemodify’, ‘filedelete’, ‘filecopy’, ‘filerename’,
‘filedeleteall’ and ‘notemodify’ commands may be included to update the
contents of the branch prior to creating the commit.  These commands may
be supplied in any order.  However it is recommended that a
‘filedeleteall’ command precede all ‘filemodify’, ‘filecopy’,
‘filerename’ and ‘notemodify’ commands in the same commit, as
‘filedeleteall’ wipes the branch clean (see below).

   The ‘LF’ after the command is optional (it used to be required).
Note that for reasons of backward compatibility, if the commit ends with
a ‘data’ command (i.e.  it has no ‘from’, ‘merge’, ‘filemodify’,
‘filedelete’, ‘filecopy’, ‘filerename’, ‘filedeleteall’ or ‘notemodify’
commands) then two ‘LF’ commands may appear at the end of the command
instead of just one.


author
------

An ‘author’ command may optionally appear, if the author information
might differ from the committer information.  If ‘author’ is omitted
then fast-import will automatically use the committer’s information for
the author portion of the commit.  See below for a description of the
fields in ‘author’, as they are identical to ‘committer’.


committer
---------

The ‘committer’ command indicates who made this commit, and when they
made it.

   Here ‘<name>’ is the person’s display name (for example “Com M
Itter”) and ‘<email>’ is the person’s email address (“cm@example.com”).
‘LT’ and ‘GT’ are the literal less-than (\x3c) and greater-than (\x3e)
symbols.  These are required to delimit the email address from the other
fields in the line.  Note that ‘<name>’ and ‘<email>’ are free-form and
may contain any sequence of bytes, except ‘LT’, ‘GT’ and ‘LF’.  ‘<name>’
is typically UTF-8 encoded.

   The time of the change is specified by ‘<when>’ using the date format
that was selected by the –date-format=<fmt> command-line option.  See
“Date Formats” above for the set of supported formats, and their syntax.


encoding
--------

The optional ‘encoding’ command indicates the encoding of the commit
message.  Most commits are UTF-8 and the encoding is omitted, but this
allows importing commit messages into git without first reencoding them.


from
----

The ‘from’ command is used to specify the commit to initialize this
branch from.  This revision will be the first ancestor of the new
commit.  The state of the tree built at this commit will begin with the
state at the ‘from’ commit, and be altered by the content modifications
in this commit.

   Omitting the ‘from’ command in the first commit of a new branch will
cause fast-import to create that commit with no ancestor.  This tends to
be desired only for the initial commit of a project.  If the frontend
creates all files from scratch when making a new branch, a ‘merge’
command may be used instead of ‘from’ to start the commit with an empty
tree.  Omitting the ‘from’ command on existing branches is usually
desired, as the current commit on that branch is automatically assumed
to be the first ancestor of the new commit.

   As ‘LF’ is not valid in a Git refname or SHA-1 expression, no quoting
or escaping syntax is supported within ‘<commit-ish>’.

   Here ‘<commit-ish>’ is any of the following:

   • The name of an existing branch already in fast-import’s internal
     branch table.  If fast-import doesn’t know the name, it’s treated
     as a SHA-1 expression.

   • A mark reference, ‘:<idnum>’, where ‘<idnum>’ is the mark number.

     The reason fast-import uses ‘:’ to denote a mark reference is this
     character is not legal in a Git branch name.  The leading ‘:’ makes
     it easy to distinguish between the mark 42 (‘:42’) and the branch
     42 (‘42’ or ‘refs/heads/42’), or an abbreviated SHA-1 which
     happened to consist only of base-10 digits.

     Marks must be declared (via ‘mark’) before they can be used.

   • A complete 40 byte or abbreviated commit SHA-1 in hex.

   • Any valid Git SHA-1 expression that resolves to a commit.  See
     “SPECIFYING REVISIONS” in gitrevisions(7) for details.

   • The special null SHA-1 (40 zeros) specifies that the branch is to
     be removed.

   The special case of restarting an incremental import from the current
branch value should be written as:

             from refs/heads/branch^0

   The ‘^0’ suffix is necessary as fast-import does not permit a branch
to start from itself, and the branch is created in memory before the
‘from’ command is even read from the input.  Adding ‘^0’ will force
fast-import to resolve the commit through Git’s revision parsing
library, rather than its internal branch table, thereby loading in the
existing value of the branch.


merge
-----

Includes one additional ancestor commit.  The additional ancestry link
does not change the way the tree state is built at this commit.  If the
‘from’ command is omitted when creating a new branch, the first ‘merge’
commit will be the first ancestor of the current commit, and the branch
will start out with no files.  An unlimited number of ‘merge’ commands
per commit are permitted by fast-import, thereby establishing an n-way
merge.

   Here ‘<commit-ish>’ is any of the commit specification expressions
also accepted by ‘from’ (see above).


filemodify
----------

Included in a ‘commit’ command to add a new file or change the content
of an existing file.  This command has two different means of specifying
the content of the file.

External data format
     The data content for the file was already supplied by a prior
     ‘blob’ command.  The frontend just needs to connect it.

                  'M' SP <mode> SP <dataref> SP <path> LF

     Here usually ‘<dataref>’ must be either a mark reference
     (‘:<idnum>’) set by a prior ‘blob’ command, or a full 40-byte SHA-1
     of an existing Git blob object.  If ‘<mode>’ is ‘040000`’ then
     ‘<dataref>’ must be the full 40-byte SHA-1 of an existing Git tree
     object or a mark reference set with ‘--import-marks’.

Inline data format
     The data content for the file has not been supplied yet.  The
     frontend wants to supply it as part of this modify command.

                  'M' SP <mode> SP 'inline' SP <path> LF
                  data

     See below for a detailed description of the ‘data’ command.

   In both formats ‘<mode>’ is the type of file entry, specified in
octal.  Git only supports the following modes:

   • ‘100644’ or ‘644’: A normal (not-executable) file.  The majority of
     files in most projects use this mode.  If in doubt, this is what
     you want.

   • ‘100755’ or ‘755’: A normal, but executable, file.

   • ‘120000’: A symlink, the content of the file will be the link
     target.

   • ‘160000’: A gitlink, SHA-1 of the object refers to a commit in
     another repository.  Git links can only be specified by SHA or
     through a commit mark.  They are used to implement submodules.

   • ‘040000’: A subdirectory.  Subdirectories can only be specified by
     SHA or through a tree mark set with ‘--import-marks’.

   In both formats ‘<path>’ is the complete path of the file to be added
(if not already existing) or modified (if already existing).

   A ‘<path>’ string must use UNIX-style directory separators (forward
slash ‘/’), may contain any byte other than ‘LF’, and must not start
with double quote (‘"’).

   A path can use C-style string quoting; this is accepted in all cases
and mandatory if the filename starts with double quote or contains ‘LF’.
In C-style quoting, the complete name should be surrounded with double
quotes, and any ‘LF’, backslash, or double quote characters must be
escaped by preceding them with a backslash (e.g., ‘"path/with\n, \\ and
\" in it"’).

   The value of ‘<path>’ must be in canonical form.  That is it must
not:

   • contain an empty directory component (e.g.  ‘foo//bar’ is invalid),

   • end with a directory separator (e.g.  ‘foo/’ is invalid),

   • start with a directory separator (e.g.  ‘/foo’ is invalid),

   • contain the special component ‘.’ or ‘..’ (e.g.  ‘foo/./bar’ and
     ‘foo/../bar’ are invalid).

   The root of the tree can be represented by an empty string as
‘<path>’.

   It is recommended that ‘<path>’ always be encoded using UTF-8.


filedelete
----------

Included in a ‘commit’ command to remove a file or recursively delete an
entire directory from the branch.  If the file or directory removal
makes its parent directory empty, the parent directory will be
automatically removed too.  This cascades up the tree until the first
non-empty directory or the root is reached.

             'D' SP <path> LF

   here ‘<path>’ is the complete path of the file or subdirectory to be
removed from the branch.  See ‘filemodify’ above for a detailed
description of ‘<path>’.


filecopy
--------

Recursively copies an existing file or subdirectory to a different
location within the branch.  The existing file or directory must exist.
If the destination exists it will be completely replaced by the content
copied from the source.

             'C' SP <path> SP <path> LF

   here the first ‘<path>’ is the source location and the second
‘<path>’ is the destination.  See ‘filemodify’ above for a detailed
description of what ‘<path>’ may look like.  To use a source path that
contains SP the path must be quoted.

   A ‘filecopy’ command takes effect immediately.  Once the source
location has been copied to the destination any future commands applied
to the source location will not impact the destination of the copy.


filerename
----------

Renames an existing file or subdirectory to a different location within
the branch.  The existing file or directory must exist.  If the
destination exists it will be replaced by the source directory.

             'R' SP <path> SP <path> LF

   here the first ‘<path>’ is the source location and the second
‘<path>’ is the destination.  See ‘filemodify’ above for a detailed
description of what ‘<path>’ may look like.  To use a source path that
contains SP the path must be quoted.

   A ‘filerename’ command takes effect immediately.  Once the source
location has been renamed to the destination any future commands applied
to the source location will create new files there and not impact the
destination of the rename.

   Note that a ‘filerename’ is the same as a ‘filecopy’ followed by a
‘filedelete’ of the source location.  There is a slight performance
advantage to using ‘filerename’, but the advantage is so small that it
is never worth trying to convert a delete/add pair in source material
into a rename for fast-import.  This ‘filerename’ command is provided
just to simplify frontends that already have rename information and
don’t want bother with decomposing it into a ‘filecopy’ followed by a
‘filedelete’.


filedeleteall
-------------

Included in a ‘commit’ command to remove all files (and also all
directories) from the branch.  This command resets the internal branch
structure to have no files in it, allowing the frontend to subsequently
add all interesting files from scratch.

             'deleteall' LF

   This command is extremely useful if the frontend does not know (or
does not care to know) what files are currently on the branch, and
therefore cannot generate the proper ‘filedelete’ commands to update the
content.

   Issuing a ‘filedeleteall’ followed by the needed ‘filemodify’
commands to set the correct content will produce the same results as
sending only the needed ‘filemodify’ and ‘filedelete’ commands.  The
‘filedeleteall’ approach may however require fast-import to use slightly
more memory per active branch (less than 1 MiB for even most large
projects); so frontends that can easily obtain only the affected paths
for a commit are encouraged to do so.


notemodify
----------

Included in a ‘commit’ ‘<notes_ref>’ command to add a new note
annotating a ‘<commit-ish>’ or change this annotation contents.
Internally it is similar to filemodify 100644 on ‘<commit-ish>’ path
(maybe split into subdirectories).  It’s not advised to use any other
commands to write to the ‘<notes_ref>’ tree except ‘filedeleteall’ to
delete all existing notes in this tree.  This command has two different
means of specifying the content of the note.

External data format
     The data content for the note was already supplied by a prior
     ‘blob’ command.  The frontend just needs to connect it to the
     commit that is to be annotated.

                  'N' SP <dataref> SP <commit-ish> LF

     Here ‘<dataref>’ can be either a mark reference (‘:<idnum>’) set by
     a prior ‘blob’ command, or a full 40-byte SHA-1 of an existing Git
     blob object.

Inline data format
     The data content for the note has not been supplied yet.  The
     frontend wants to supply it as part of this modify command.

                  'N' SP 'inline' SP <commit-ish> LF
                  data

     See below for a detailed description of the ‘data’ command.

   In both formats ‘<commit-ish>’ is any of the commit specification
expressions also accepted by ‘from’ (see above).


mark
====

Arranges for fast-import to save a reference to the current object,
allowing the frontend to recall this object at a future point in time,
without knowing its SHA-1.  Here the current object is the object
creation command the ‘mark’ command appears within.  This can be
‘commit’, ‘tag’, and ‘blob’, but ‘commit’ is the most common usage.

             'mark' SP ':' <idnum> LF

   where ‘<idnum>’ is the number assigned by the frontend to this mark.
The value of ‘<idnum>’ is expressed as an ASCII decimal integer.  The
value 0 is reserved and cannot be used as a mark.  Only values greater
than or equal to 1 may be used as marks.

   New marks are created automatically.  Existing marks can be moved to
another object simply by reusing the same ‘<idnum>’ in another ‘mark’
command.


original-oid
============

Provides the name of the object in the original source control system.
fast-import will simply ignore this directive, but filter processes
which operate on and modify the stream before feeding to fast-import may
have uses for this information

             'original-oid' SP <object-identifier> LF

   where ‘<object-identifier>’ is any string not containing LF.


tag
===

Creates an annotated tag referring to a specific commit.  To create
lightweight (non-annotated) tags see the ‘reset’ command below.

             'tag' SP <name> LF
             mark?
             'from' SP <commit-ish> LF
             original-oid?
             'tagger' (SP <name>)? SP LT <email> GT SP <when> LF
             data

   where ‘<name>’ is the name of the tag to create.

   Tag names are automatically prefixed with ‘refs/tags/’ when stored in
Git, so importing the CVS branch symbol ‘RELENG-1_0-FINAL’ would use
just ‘RELENG-1_0-FINAL’ for ‘<name>’, and fast-import will write the
corresponding ref as ‘refs/tags/RELENG-1_0-FINAL’.

   The value of ‘<name>’ must be a valid refname in Git and therefore
may contain forward slashes.  As ‘LF’ is not valid in a Git refname, no
quoting or escaping syntax is supported here.

   The ‘from’ command is the same as in the ‘commit’ command; see above
for details.

   The ‘tagger’ command uses the same format as ‘committer’ within
‘commit’; again see above for details.

   The ‘data’ command following ‘tagger’ must supply the annotated tag
message (see below for ‘data’ command syntax).  To import an empty tag
message use a 0 length data.  Tag messages are free-form and are not
interpreted by Git.  Currently they must be encoded in UTF-8, as
fast-import does not permit other encodings to be specified.

   Signing annotated tags during import from within fast-import is not
supported.  Trying to include your own PGP/GPG signature is not
recommended, as the frontend does not (easily) have access to the
complete set of bytes which normally goes into such a signature.  If
signing is required, create lightweight tags from within fast-import
with ‘reset’, then create the annotated versions of those tags offline
with the standard _git tag_ process.


reset
=====

Creates (or recreates) the named branch, optionally starting from a
specific revision.  The reset command allows a frontend to issue a new
‘from’ command for an existing branch, or to create a new branch from an
existing commit without creating a new commit.

             'reset' SP <ref> LF
             ('from' SP <commit-ish> LF)?
             LF?

   For a detailed description of ‘<ref>’ and ‘<commit-ish>’ see above
under ‘commit’ and ‘from’.

   The ‘LF’ after the command is optional (it used to be required).

   The ‘reset’ command can also be used to create lightweight
(non-annotated) tags.  For example:

     reset refs/tags/938
     from :938

   would create the lightweight tag ‘refs/tags/938’ referring to
whatever commit mark ‘:938’ references.


blob
====

Requests writing one file revision to the packfile.  The revision is not
connected to any commit; this connection must be formed in a subsequent
‘commit’ command by referencing the blob through an assigned mark.

             'blob' LF
             mark?
             original-oid?
             data

   The mark command is optional here as some frontends have chosen to
generate the Git SHA-1 for the blob on their own, and feed that directly
to ‘commit’.  This is typically more work than it’s worth however, as
marks are inexpensive to store and easy to use.


data
====

Supplies raw data (for use as blob/file content, commit messages, or
annotated tag messages) to fast-import.  Data can be supplied using an
exact byte count or delimited with a terminating line.  Real frontends
intended for production-quality conversions should always use the exact
byte count format, as it is more robust and performs better.  The
delimited format is intended primarily for testing fast-import.

   Comment lines appearing within the ‘<raw>’ part of ‘data’ commands
are always taken to be part of the body of the data and are therefore
never ignored by fast-import.  This makes it safe to import any
file/message content whose lines might start with ‘#’.

Exact byte count format
     The frontend must specify the number of bytes of data.

                  'data' SP <count> LF
                  <raw> LF?

     where ‘<count>’ is the exact number of bytes appearing within
     ‘<raw>’.  The value of ‘<count>’ is expressed as an ASCII decimal
     integer.  The ‘LF’ on either side of ‘<raw>’ is not included in
     ‘<count>’ and will not be included in the imported data.

     The ‘LF’ after ‘<raw>’ is optional (it used to be required) but
     recommended.  Always including it makes debugging a fast-import
     stream easier as the next command always starts in column 0 of the
     next line, even if ‘<raw>’ did not end with an ‘LF’.

Delimited format
     A delimiter string is used to mark the end of the data.
     fast-import will compute the length by searching for the delimiter.
     This format is primarily useful for testing and is not recommended
     for real data.

                  'data' SP '<<' <delim> LF
                  <raw> LF
                  <delim> LF
                  LF?

     where ‘<delim>’ is the chosen delimiter string.  The string
     ‘<delim>’ must not appear on a line by itself within ‘<raw>’, as
     otherwise fast-import will think the data ends earlier than it
     really does.  The ‘LF’ immediately trailing ‘<raw>’ is part of
     ‘<raw>’.  This is one of the limitations of the delimited format,
     it is impossible to supply a data chunk which does not have an LF
     as its last byte.

     The ‘LF’ after ‘<delim> LF’ is optional (it used to be required).


alias
=====

Record that a mark refers to a given object without first creating any
new object.

             'alias' LF
             mark
             'to' SP <commit-ish> LF
             LF?

   For a detailed description of ‘<commit-ish>’ see above under ‘from’.


checkpoint
==========

Forces fast-import to close the current packfile, start a new one, and
to save out all current branch refs, tags and marks.

             'checkpoint' LF
             LF?

   Note that fast-import automatically switches packfiles when the
current packfile reaches –max-pack-size, or 4 GiB, whichever limit is
smaller.  During an automatic packfile switch fast-import does not
update the branch refs, tags or marks.

   As a ‘checkpoint’ can require a significant amount of CPU time and
disk IO (to compute the overall pack SHA-1 checksum, generate the
corresponding index file, and update the refs) it can easily take
several minutes for a single ‘checkpoint’ command to complete.

   Frontends may choose to issue checkpoints during extremely large and
long running imports, or when they need to allow another Git process
access to a branch.  However given that a 30 GiB Subversion repository
can be loaded into Git through fast-import in about 3 hours, explicit
checkpointing may not be necessary.

   The ‘LF’ after the command is optional (it used to be required).


progress
========

Causes fast-import to print the entire ‘progress’ line unmodified to its
standard output channel (file descriptor 1) when the command is
processed from the input stream.  The command otherwise has no impact on
the current import, or on any of fast-import’s internal state.

             'progress' SP <any> LF
             LF?

   The ‘<any>’ part of the command may contain any sequence of bytes
that does not contain ‘LF’.  The ‘LF’ after the command is optional.
Callers may wish to process the output through a tool such as sed to
remove the leading part of the line, for example:

     frontend | git fast-import | sed 's/^progress //'

   Placing a ‘progress’ command immediately after a ‘checkpoint’ will
inform the reader when the ‘checkpoint’ has been completed and it can
safely access the refs that fast-import updated.


get-mark
========

Causes fast-import to print the SHA-1 corresponding to a mark to stdout
or to the file descriptor previously arranged with the ‘--cat-blob-fd’
argument.  The command otherwise has no impact on the current import;
its purpose is to retrieve SHA-1s that later commits might want to refer
to in their commit messages.

             'get-mark' SP ':' <idnum> LF

   See “Responses To Commands” below for details about how to read this
output safely.


cat-blob
========

Causes fast-import to print a blob to a file descriptor previously
arranged with the ‘--cat-blob-fd’ argument.  The command otherwise has
no impact on the current import; its main purpose is to retrieve blobs
that may be in fast-import’s memory but not accessible from the target
repository.

             'cat-blob' SP <dataref> LF

   The ‘<dataref>’ can be either a mark reference (‘:<idnum>’) set
previously or a full 40-byte SHA-1 of a Git blob, preexisting or ready
to be written.

   Output uses the same format as ‘git cat-file --batch’:

     <sha1> SP 'blob' SP <size> LF
     <contents> LF

   This command can be used where a ‘filemodify’ directive can appear,
allowing it to be used in the middle of a commit.  For a ‘filemodify’
using an inline directive, it can also appear right before the ‘data’
directive.

   See “Responses To Commands” below for details about how to read this
output safely.


ls
==

Prints information about the object at a path to a file descriptor
previously arranged with the ‘--cat-blob-fd’ argument.  This allows
printing a blob from the active commit (with ‘cat-blob’) or copying a
blob or tree from a previous commit for use in the current one (with
‘filemodify’).

   The ‘ls’ command can also be used where a ‘filemodify’ directive can
appear, allowing it to be used in the middle of a commit.

Reading from the active commit
     This form can only be used in the middle of a ‘commit’.  The path
     names a directory entry within fast-import’s active commit.  The
     path must be quoted in this case.

                  'ls' SP <path> LF

Reading from a named tree
     The ‘<dataref>’ can be a mark reference (‘:<idnum>’) or the full
     40-byte SHA-1 of a Git tag, commit, or tree object, preexisting or
     waiting to be written.  The path is relative to the top level of
     the tree named by ‘<dataref>’.

                  'ls' SP <dataref> SP <path> LF

   See ‘filemodify’ above for a detailed description of ‘<path>’.

   Output uses the same format as ‘git ls-tree <tree> -- <path>’:

     <mode> SP ('blob' | 'tree' | 'commit') SP <dataref> HT <path> LF

   The <dataref> represents the blob, tree, or commit object at <path>
and can be used in later _get-mark_, _cat-blob_, _filemodify_, or _ls_
commands.

   If there is no file or subtree at that path, _git fast-import_ will
instead report

     missing SP <path> LF

   See “Responses To Commands” below for details about how to read this
output safely.


feature
=======

Require that fast-import supports the specified feature, or abort if it
does not.

             'feature' SP <feature> ('=' <argument>)? LF

   The <feature> part of the command may be any one of the following:

date-format
export-marks
relative-marks
no-relative-marks
force
     Act as though the corresponding command-line option with a leading
     ‘--’ was passed on the command line (see OPTIONS, above).

import-marks
import-marks-if-exists
     Like –import-marks except in two respects: first, only one "feature
     import-marks" or "feature import-marks-if-exists" command is
     allowed per stream; second, an –import-marks= or
     –import-marks-if-exists command-line option overrides any of these
     "feature" commands in the stream; third, "feature
     import-marks-if-exists" like a corresponding command-line option
     silently skips a nonexistent file.

get-mark
cat-blob
ls
     Require that the backend support the _get-mark_, _cat-blob_, or
     _ls_ command respectively.  Versions of fast-import not supporting
     the specified command will exit with a message indicating so.  This
     lets the import error out early with a clear message, rather than
     wasting time on the early part of an import before the unsupported
     command is detected.

notes
     Require that the backend support the _notemodify_ (N) subcommand to
     the _commit_ command.  Versions of fast-import not supporting notes
     will exit with a message indicating so.

done
     Error out if the stream ends without a _done_ command.  Without
     this feature, errors causing the frontend to end abruptly at a
     convenient point in the stream can go undetected.  This may occur,
     for example, if an import front end dies in mid-operation without
     emitting SIGTERM or SIGKILL at its subordinate git fast-import
     instance.


option
======

Processes the specified option so that git fast-import behaves in a way
that suits the frontend’s needs.  Note that options specified by the
frontend are overridden by any options the user may specify to git
fast-import itself.

         'option' SP <option> LF

   The ‘<option>’ part of the command may contain any of the options
listed in the OPTIONS section that do not change import semantics,
without the leading ‘--’ and is treated in the same way.

   Option commands must be the first commands on the input (not counting
feature commands), to give an option command after any non-option
command is an error.

   The following command-line options change import semantics and may
therefore not be passed as option:

   • date-format

   • import-marks

   • export-marks

   • cat-blob-fd

   • force


done
====

If the ‘done’ feature is not in use, treated as if EOF was read.  This
can be used to tell fast-import to finish early.

   If the ‘--done’ command-line option or ‘feature done’ command is in
use, the ‘done’ command is mandatory and marks the end of the stream.


RESPONSES TO COMMANDS
*********************

New objects written by fast-import are not available immediately.  Most
fast-import commands have no visible effect until the next checkpoint
(or completion).  The frontend can send commands to fill fast-import’s
input pipe without worrying about how quickly they will take effect,
which improves performance by simplifying scheduling.

   For some frontends, though, it is useful to be able to read back data
from the current repository as it is being updated (for example when the
source material describes objects in terms of patches to be applied to
previously imported objects).  This can be accomplished by connecting
the frontend and fast-import via bidirectional pipes:

     mkfifo fast-import-output
     frontend <fast-import-output |
     git fast-import >fast-import-output

   A frontend set up this way can use ‘progress’, ‘get-mark’, ‘ls’, and
‘cat-blob’ commands to read information from the import in progress.

   To avoid deadlock, such frontends must completely consume any pending
output from ‘progress’, ‘ls’, ‘get-mark’, and ‘cat-blob’ before
performing writes to fast-import that might block.


CRASH REPORTS
*************

If fast-import is supplied invalid input it will terminate with a
non-zero exit status and create a crash report in the top level of the
Git repository it was importing into.  Crash reports contain a snapshot
of the internal fast-import state as well as the most recent commands
that lead up to the crash.

   All recent commands (including stream comments, file changes and
progress commands) are shown in the command history within the crash
report, but raw file data and commit messages are excluded from the
crash report.  This exclusion saves space within the report file and
reduces the amount of buffering that fast-import must perform during
execution.

   After writing a crash report fast-import will close the current
packfile and export the marks table.  This allows the frontend developer
to inspect the repository state and resume the import from the point
where it crashed.  The modified branches and tags are not updated during
a crash, as the import did not complete successfully.  Branch and tag
information can be found in the crash report and must be applied
manually if the update is needed.

   An example crash:

     $ cat >in <<END_OF_INPUT
     # my very first test commit
     commit refs/heads/master
     committer Shawn O. Pearce <spearce> 19283 -0400
     # who is that guy anyway?
     data <<EOF
     this is my commit
     EOF
     M 644 inline .gitignore
     data <<EOF
     .gitignore
     EOF
     M 777 inline bob
     END_OF_INPUT

     $ git fast-import <in
     fatal: Corrupt mode: M 777 inline bob
     fast-import: dumping crash report to .git/fast_import_crash_8434

     $ cat .git/fast_import_crash_8434
     fast-import crash report:
         fast-import process: 8434
         parent process     : 1391
         at Sat Sep 1 00:58:12 2007

     fatal: Corrupt mode: M 777 inline bob

     Most Recent Commands Before Crash
     ---------------------------------
       # my very first test commit
       commit refs/heads/master
       committer Shawn O. Pearce <spearce> 19283 -0400
       # who is that guy anyway?
       data <<EOF
       M 644 inline .gitignore
       data <<EOF
     * M 777 inline bob

     Active Branch LRU
     -----------------
         active_branches = 1 cur, 5 max

     pos clock name ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      1)      0 refs/heads/master

     Inactive Branches
     -----------------
     refs/heads/master:
       status      : active loaded dirty
       tip commit  : 0000000000000000000000000000000000000000
       old tree    : 0000000000000000000000000000000000000000
       cur tree    : 0000000000000000000000000000000000000000
       commit clock: 0
       last pack   :

     ------------------- END OF CRASH REPORT


TIPS AND TRICKS
***************

The following tips and tricks have been collected from various users of
fast-import, and are offered here as suggestions.


Use One Mark Per Commit
=======================

When doing a repository conversion, use a unique mark per commit (‘mark
:<n>’) and supply the –export-marks option on the command line.
fast-import will dump a file which lists every mark and the Git object
SHA-1 that corresponds to it.  If the frontend can tie the marks back to
the source repository, it is easy to verify the accuracy and
completeness of the import by comparing each Git commit to the
corresponding source revision.

   Coming from a system such as Perforce or Subversion this should be
quite simple, as the fast-import mark can also be the Perforce changeset
number or the Subversion revision number.


Freely Skip Around Branches
===========================

Don’t bother trying to optimize the frontend to stick to one branch at a
time during an import.  Although doing so might be slightly faster for
fast-import, it tends to increase the complexity of the frontend code
considerably.

   The branch LRU builtin to fast-import tends to behave very well, and
the cost of activating an inactive branch is so low that bouncing around
between branches has virtually no impact on import performance.


Handling Renames
================

When importing a renamed file or directory, simply delete the old
name(s) and modify the new name(s) during the corresponding commit.  Git
performs rename detection after-the-fact, rather than explicitly during
a commit.


Use Tag Fixup Branches
======================

Some other SCM systems let the user create a tag from multiple files
which are not from the same commit/changeset.  Or to create tags which
are a subset of the files available in the repository.

   Importing these tags as-is in Git is impossible without making at
least one commit which “fixes up” the files to match the content of the
tag.  Use fast-import’s ‘reset’ command to reset a dummy branch outside
of your normal branch space to the base commit for the tag, then commit
one or more file fixup commits, and finally tag the dummy branch.

   For example since all normal branches are stored under ‘refs/heads/’
name the tag fixup branch ‘TAG_FIXUP’.  This way it is impossible for
the fixup branch used by the importer to have namespace conflicts with
real branches imported from the source (the name ‘TAG_FIXUP’ is not
‘refs/heads/TAG_FIXUP’).

   When committing fixups, consider using ‘merge’ to connect the
commit(s) which are supplying file revisions to the fixup branch.  Doing
so will allow tools such as _git blame_ to track through the real commit
history and properly annotate the source files.

   After fast-import terminates the frontend will need to do ‘rm
.git/TAG_FIXUP’ to remove the dummy branch.


Import Now, Repack Later
========================

As soon as fast-import completes the Git repository is completely valid
and ready for use.  Typically this takes only a very short time, even
for considerably large projects (100,000+ commits).

   However repacking the repository is necessary to improve data
locality and access performance.  It can also take hours on extremely
large projects (especially if -f and a large –window parameter is used).
Since repacking is safe to run alongside readers and writers, run the
repack in the background and let it finish when it finishes.  There is
no reason to wait to explore your new Git project!

   If you choose to wait for the repack, don’t try to run benchmarks or
performance tests until repacking is completed.  fast-import outputs
suboptimal packfiles that are simply never seen in real use situations.


Repacking Historical Data
=========================

If you are repacking very old imported data (e.g.  older than the last
year), consider expending some extra CPU time and supplying –window=50
(or higher) when you run _git repack_.  This will take longer, but will
also produce a smaller packfile.  You only need to expend the effort
once, and everyone using your project will benefit from the smaller
repository.


Include Some Progress Messages
==============================

Every once in a while have your frontend emit a ‘progress’ message to
fast-import.  The contents of the messages are entirely free-form, so
one suggestion would be to output the current month and year each time
the current commit date moves into the next month.  Your users will feel
better knowing how much of the data stream has been processed.


PACKFILE OPTIMIZATION
*********************

When packing a blob fast-import always attempts to deltify against the
last blob written.  Unless specifically arranged for by the frontend,
this will probably not be a prior version of the same file, so the
generated delta will not be the smallest possible.  The resulting
packfile will be compressed, but will not be optimal.

   Frontends which have efficient access to all revisions of a single
file (for example reading an RCS/CVS ,v file) can choose to supply all
revisions of that file as a sequence of consecutive ‘blob’ commands.
This allows fast-import to deltify the different file revisions against
each other, saving space in the final packfile.  Marks can be used to
later identify individual file revisions during a sequence of ‘commit’
commands.

   The packfile(s) created by fast-import do not encourage good disk
access patterns.  This is caused by fast-import writing the data in the
order it is received on standard input, while Git typically organizes
data within packfiles to make the most recent (current tip) data appear
before historical data.  Git also clusters commits together, speeding up
revision traversal through better cache locality.

   For this reason it is strongly recommended that users repack the
repository with ‘git repack -a -d’ after fast-import completes, allowing
Git to reorganize the packfiles for faster data access.  If blob deltas
are suboptimal (see above) then also adding the ‘-f’ option to force
recomputation of all deltas can significantly reduce the final packfile
size (30-50% smaller can be quite typical).

   Instead of running ‘git repack’ you can also run ‘git gc
--aggressive’, which will also optimize other things after an import
(e.g.  pack loose refs).  As noted in the "AGGRESSIVE" section in
git-gc(1) the ‘--aggressive’ option will find new deltas with the ‘-f’
option to git-repack(1).  For the reasons elaborated on above using
‘--aggressive’ after a fast-import is one of the few cases where it’s
known to be worthwhile.


MEMORY UTILIZATION
******************

There are a number of factors which affect how much memory fast-import
requires to perform an import.  Like critical sections of core Git,
fast-import uses its own memory allocators to amortize any overheads
associated with malloc.  In practice fast-import tends to amortize any
malloc overheads to 0, due to its use of large block allocations.


per object
==========

fast-import maintains an in-memory structure for every object written in
this execution.  On a 32 bit system the structure is 32 bytes, on a 64
bit system the structure is 40 bytes (due to the larger pointer sizes).
Objects in the table are not deallocated until fast-import terminates.
Importing 2 million objects on a 32 bit system will require
approximately 64 MiB of memory.

   The object table is actually a hashtable keyed on the object name
(the unique SHA-1).  This storage configuration allows fast-import to
reuse an existing or already written object and avoid writing duplicates
to the output packfile.  Duplicate blobs are surprisingly common in an
import, typically due to branch merges in the source.


per mark
========

Marks are stored in a sparse array, using 1 pointer (4 bytes or 8 bytes,
depending on pointer size) per mark.  Although the array is sparse,
frontends are still strongly encouraged to use marks between 1 and n,
where n is the total number of marks required for this import.


per branch
==========

Branches are classified as active and inactive.  The memory usage of the
two classes is significantly different.

   Inactive branches are stored in a structure which uses 96 or 120
bytes (32 bit or 64 bit systems, respectively), plus the length of the
branch name (typically under 200 bytes), per branch.  fast-import will
easily handle as many as 10,000 inactive branches in under 2 MiB of
memory.

   Active branches have the same overhead as inactive branches, but also
contain copies of every tree that has been recently modified on that
branch.  If subtree ‘include’ has not been modified since the branch
became active, its contents will not be loaded into memory, but if
subtree ‘src’ has been modified by a commit since the branch became
active, then its contents will be loaded in memory.

   As active branches store metadata about the files contained on that
branch, their in-memory storage size can grow to a considerable size
(see below).

   fast-import automatically moves active branches to inactive status
based on a simple least-recently-used algorithm.  The LRU chain is
updated on each ‘commit’ command.  The maximum number of active branches
can be increased or decreased on the command line with
–active-branches=.


per active tree
===============

Trees (aka directories) use just 12 bytes of memory on top of the memory
required for their entries (see “per active file” below).  The cost of a
tree is virtually 0, as its overhead amortizes out over the individual
file entries.


per active file entry
=====================

Files (and pointers to subtrees) within active trees require 52 or 64
bytes (32/64 bit platforms) per entry.  To conserve space, file and tree
names are pooled in a common string table, allowing the filename
“Makefile” to use just 16 bytes (after including the string header
overhead) no matter how many times it occurs within the project.

   The active branch LRU, when coupled with the filename string pool and
lazy loading of subtrees, allows fast-import to efficiently import
projects with 2,000+ branches and 45,114+ files in a very limited memory
footprint (less than 2.7 MiB per active branch).


SIGNALS
*******

Sending *SIGUSR1* to the _git fast-import_ process ends the current
packfile early, simulating a ‘checkpoint’ command.  The impatient
operator can use this facility to peek at the objects and refs from an
import in progress, at the cost of some added running time and worse
compression.


SEE ALSO
********

git-fast-export(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-fetch-pack,  Up: Top

Name
****

git-fetch-pack — Receive missing objects from another repository


Synopsis
********

     git fetch-pack [–all] [–quiet|-q] [–keep|-k] [–thin] [–include-tag]
             [–upload-pack=<git-upload-pack>]
             [–depth=<n>] [–no-progress]
             [-v] <repository> [<refs>…]


DESCRIPTION
***********

Usually you would want to use _git fetch_, which is a higher level
wrapper of this command, instead.

   Invokes _git-upload-pack_ on a possibly remote repository and asks it
to send objects missing from this repository, to update the named heads.
The list of commits available locally is found out by scanning the local
refs/ hierarchy and sent to _git-upload-pack_ running on the other end.

   This command degenerates to download everything to complete the asked
refs from the remote side when the local side does not have a common
ancestor commit.


OPTIONS
*******

‘--all’
     Fetch all remote refs.

‘--stdin’
     Take the list of refs from stdin, one per line.  If there are refs
     specified on the command line in addition to this option, then the
     refs from stdin are processed after those on the command line.

     If ‘--stateless-rpc’ is specified together with this option then
     the list of refs must be in packet format (pkt-line).  Each ref
     must be in a separate packet, and the list must end with a flush
     packet.

‘-q’
‘--quiet’
     Pass ‘-q’ flag to _git unpack-objects_; this makes the cloning
     process less verbose.

‘-k’
‘--keep’
     Do not invoke _git unpack-objects_ on received data, but create a
     single packfile out of it instead, and store it in the object
     database.  If provided twice then the pack is locked against
     repacking.

‘--thin’
     Fetch a "thin" pack, which records objects in deltified form based
     on objects not included in the pack to reduce network traffic.

‘--include-tag’
     If the remote side supports it, annotated tags objects will be
     downloaded on the same connection as the other objects if the
     object the tag references is downloaded.  The caller must otherwise
     determine the tags this option made available.

‘--upload-pack=<git-upload-pack>’
     Use this to specify the path to _git-upload-pack_ on the remote
     side, if is not found on your $PATH. Installations of sshd ignores
     the user’s environment setup scripts for login shells (e.g.
     .bash_profile) and your privately installed git may not be found on
     the system default $PATH. Another workaround suggested is to set up
     your $PATH in ".bashrc", but this flag is for people who do not
     want to pay the overhead for non-interactive shells by having a
     lean .bashrc file (they set most of the things up in
     .bash_profile).

‘--exec=<git-upload-pack>’
     Same as –upload-pack=<git-upload-pack>.

‘--depth=<n>’
     Limit fetching to ancestor-chains not longer than n.
     _git-upload-pack_ treats the special depth 2147483647 as infinite
     even if there is an ancestor-chain that long.

‘--shallow-since=<date>’
     Deepen or shorten the history of a shallow repository to include
     all reachable commits after <date>.

‘--shallow-exclude=<revision>’
     Deepen or shorten the history of a shallow repository to exclude
     commits reachable from a specified remote branch or tag.  This
     option can be specified multiple times.

‘--deepen-relative’
     Argument –depth specifies the number of commits from the current
     shallow boundary instead of from the tip of each remote branch
     history.

‘--no-progress’
     Do not show the progress.

‘--check-self-contained-and-connected’
     Output "connectivity-ok" if the received pack is self-contained and
     connected.

‘-v’
     Run verbosely.

<repository>
     The URL to the remote repository.

<refs>…
     The remote heads to update from.  This is relative to $GIT_DIR
     (e.g.  "HEAD", "refs/heads/master").  When unspecified, update from
     all heads the remote side has.

     If the remote has enabled the options
     ‘uploadpack.allowTipSHA1InWant’,
     ‘uploadpack.allowReachableSHA1InWant’, or
     ‘uploadpack.allowAnySHA1InWant’, they may alternatively be 40-hex
     sha1s present on the remote.


SEE ALSO
********

git-fetch(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-fetch,  Up: Top

Name
****

git-fetch — Download objects and refs from another repository


Synopsis
********

     git fetch [<options>] [<repository> [<refspec>…]]
     git fetch [<options>] <group>
     git fetch –multiple [<options>] [(<repository> | <group>)…]
     git fetch –all [<options>]


DESCRIPTION
***********

Fetch branches and/or tags (collectively, "refs") from one or more other
repositories, along with the objects necessary to complete their
histories.  Remote-tracking branches are updated (see the description of
<refspec> below for ways to control this behavior).

   By default, any tag that points into the histories being fetched is
also fetched; the effect is to fetch tags that point at branches that
you are interested in.  This default behavior can be changed by using
the –tags or –no-tags options or by configuring remote.<name>.tagOpt.
By using a refspec that fetches tags explicitly, you can fetch tags that
do not point into branches you are interested in as well.

   _git fetch_ can fetch from either a single named repository or URL,
or from several repositories at once if <group> is given and there is a
remotes.<group> entry in the configuration file.  (See git-config(1)).

   When no remote is specified, by default the ‘origin’ remote will be
used, unless there’s an upstream branch configured for the current
branch.

   The names of refs that are fetched, together with the object names
they point at, are written to ‘.git/FETCH_HEAD’.  This information may
be used by scripts or other git commands, such as git-pull(1).


OPTIONS
*******

‘--all’
     Fetch all remotes.

‘-a’
‘--append’
     Append ref names and object names of fetched refs to the existing
     contents of ‘.git/FETCH_HEAD’.  Without this option old data in
     ‘.git/FETCH_HEAD’ will be overwritten.

‘--atomic’
     Use an atomic transaction to update local refs.  Either all refs
     are updated, or on error, no refs are updated.

‘--depth=<depth>’
     Limit fetching to the specified number of commits from the tip of
     each remote branch history.  If fetching to a _shallow_ repository
     created by ‘git clone’ with ‘--depth=<depth>’ option (see
     git-clone(1)), deepen or shorten the history to the specified
     number of commits.  Tags for the deepened commits are not fetched.

‘--deepen=<depth>’
     Similar to –depth, except it specifies the number of commits from
     the current shallow boundary instead of from the tip of each remote
     branch history.

‘--shallow-since=<date>’
     Deepen or shorten the history of a shallow repository to include
     all reachable commits after <date>.

‘--shallow-exclude=<revision>’
     Deepen or shorten the history of a shallow repository to exclude
     commits reachable from a specified remote branch or tag.  This
     option can be specified multiple times.

‘--unshallow’
     If the source repository is complete, convert a shallow repository
     to a complete one, removing all the limitations imposed by shallow
     repositories.

     If the source repository is shallow, fetch as much as possible so
     that the current repository has the same history as the source
     repository.

‘--update-shallow’
     By default when fetching from a shallow repository, ‘git fetch’
     refuses refs that require updating .git/shallow.  This option
     updates .git/shallow and accept such refs.

‘--negotiation-tip=<commit|glob>’
     By default, Git will report, to the server, commits reachable from
     all local refs to find common commits in an attempt to reduce the
     size of the to-be-received packfile.  If specified, Git will only
     report commits reachable from the given tips.  This is useful to
     speed up fetches when the user knows which local ref is likely to
     have commits in common with the upstream ref being fetched.

     This option may be specified more than once; if so, Git will report
     commits reachable from any of the given commits.

     The argument to this option may be a glob on ref names, a ref, or
     the (possibly abbreviated) SHA-1 of a commit.  Specifying a glob is
     equivalent to specifying this option multiple times, one for each
     matching ref name.

     See also the ‘fetch.negotiationAlgorithm’ and ‘push.negotiate’
     configuration variables documented in git-config(1), and the
     ‘--negotiate-only’ option below.

‘--negotiate-only’
     Do not fetch anything from the server, and instead print the
     ancestors of the provided ‘--negotiation-tip=*’ arguments, which we
     have in common with the server.

     Internally this is used to implement the ‘push.negotiate’ option,
     see git-config(1).

‘--dry-run’
     Show what would be done, without making any changes.

‘--[no-]write-fetch-head’
     Write the list of remote refs fetched in the ‘FETCH_HEAD’ file
     directly under ‘$GIT_DIR’.  This is the default.  Passing
     ‘--no-write-fetch-head’ from the command line tells Git not to
     write the file.  Under ‘--dry-run’ option, the file is never
     written.

‘-f’
‘--force’
     When _git fetch_ is used with ‘<src>:<dst>’ refspec it may refuse
     to update the local branch as discussed in the ‘<refspec>’ part
     below.  This option overrides that check.

‘-k’
‘--keep’
     Keep downloaded pack.

‘--multiple’
     Allow several <repository> and <group> arguments to be specified.
     No <refspec>s may be specified.

‘--[no-]auto-maintenance’
‘--[no-]auto-gc’
     Run ‘git maintenance run --auto’ at the end to perform automatic
     repository maintenance if needed.  (‘--[no-]auto-gc’ is a synonym.)
     This is enabled by default.

‘--[no-]write-commit-graph’
     Write a commit-graph after fetching.  This overrides the config
     setting ‘fetch.writeCommitGraph’.

‘--prefetch’
     Modify the configured refspec to place all refs into the
     ‘refs/prefetch/’ namespace.  See the ‘prefetch’ task in
     git-maintenance(1).

‘-p’
‘--prune’
     Before fetching, remove any remote-tracking references that no
     longer exist on the remote.  Tags are not subject to pruning if
     they are fetched only because of the default tag auto-following or
     due to a –tags option.  However, if tags are fetched due to an
     explicit refspec (either on the command line or in the remote
     configuration, for example if the remote was cloned with the
     –mirror option), then they are also subject to pruning.  Supplying
     ‘--prune-tags’ is a shorthand for providing the tag refspec.

     See the PRUNING section below for more details.

‘-P’
‘--prune-tags’
     Before fetching, remove any local tags that no longer exist on the
     remote if ‘--prune’ is enabled.  This option should be used more
     carefully, unlike ‘--prune’ it will remove any local references
     (local tags) that have been created.  This option is a shorthand
     for providing the explicit tag refspec along with ‘--prune’, see
     the discussion about that in its documentation.

     See the PRUNING section below for more details.

‘-n’
‘--no-tags’
     By default, tags that point at objects that are downloaded from the
     remote repository are fetched and stored locally.  This option
     disables this automatic tag following.  The default behavior for a
     remote may be specified with the remote.<name>.tagOpt setting.  See
     git-config(1).

‘--refmap=<refspec>’
     When fetching refs listed on the command line, use the specified
     refspec (can be given more than once) to map the refs to
     remote-tracking branches, instead of the values of ‘remote.*.fetch’
     configuration variables for the remote repository.  Providing an
     empty ‘<refspec>’ to the ‘--refmap’ option causes Git to ignore the
     configured refspecs and rely entirely on the refspecs supplied as
     command-line arguments.  See section on "Configured Remote-tracking
     Branches" for details.

‘-t’
‘--tags’
     Fetch all tags from the remote (i.e., fetch remote tags
     ‘refs/tags/*’ into local tags with the same name), in addition to
     whatever else would otherwise be fetched.  Using this option alone
     does not subject tags to pruning, even if –prune is used (though
     tags may be pruned anyway if they are also the destination of an
     explicit refspec; see ‘--prune’).

‘--recurse-submodules[=yes|on-demand|no]’
     This option controls if and under what conditions new commits of
     populated submodules should be fetched too.  It can be used as a
     boolean option to completely disable recursion when set to _no_ or
     to unconditionally recurse into all populated submodules when set
     to _yes_, which is the default when this option is used without any
     value.  Use _on-demand_ to only recurse into a populated submodule
     when the superproject retrieves a commit that updates the
     submodule’s reference to a commit that isn’t already in the local
     submodule clone.  By default, _on-demand_ is used, unless
     ‘fetch.recurseSubmodules’ is set (see git-config(1)).

‘-j’
‘--jobs=<n>’
     Number of parallel children to be used for all forms of fetching.

     If the ‘--multiple’ option was specified, the different remotes
     will be fetched in parallel.  If multiple submodules are fetched,
     they will be fetched in parallel.  To control them independently,
     use the config settings ‘fetch.parallel’ and ‘submodule.fetchJobs’
     (see git-config(1)).

     Typically, parallel recursive and multi-remote fetches will be
     faster.  By default fetches are performed sequentially, not in
     parallel.

‘--no-recurse-submodules’
     Disable recursive fetching of submodules (this has the same effect
     as using the ‘--recurse-submodules=no’ option).

‘--set-upstream’
     If the remote is fetched successfully, add upstream (tracking)
     reference, used by argument-less git-pull(1) and other commands.
     For more information, see ‘branch.<name>.merge’ and
     ‘branch.<name>.remote’ in git-config(1).

‘--submodule-prefix=<path>’
     Prepend <path> to paths printed in informative messages such as
     "Fetching submodule foo".  This option is used internally when
     recursing over submodules.

‘--recurse-submodules-default=[yes|on-demand]’
     This option is used internally to temporarily provide a
     non-negative default value for the –recurse-submodules option.  All
     other methods of configuring fetch’s submodule recursion (such as
     settings in gitmodules(5) and git-config(1)) override this option,
     as does specifying –[no-]recurse-submodules directly.

‘-u’
‘--update-head-ok’
     By default _git fetch_ refuses to update the head which corresponds
     to the current branch.  This flag disables the check.  This is
     purely for the internal use for _git pull_ to communicate with _git
     fetch_, and unless you are implementing your own Porcelain you are
     not supposed to use it.

‘--upload-pack <upload-pack>’
     When given, and the repository to fetch from is handled by _git
     fetch-pack_, ‘--exec=<upload-pack>’ is passed to the command to
     specify non-default path for the command run on the other end.

‘-q’
‘--quiet’
     Pass –quiet to git-fetch-pack and silence any other internally used
     git commands.  Progress is not reported to the standard error
     stream.

‘-v’
‘--verbose’
     Be verbose.

‘--progress’
     Progress status is reported on the standard error stream by default
     when it is attached to a terminal, unless -q is specified.  This
     flag forces progress status even if the standard error stream is
     not directed to a terminal.

‘-o <option>’
‘--server-option=<option>’
     Transmit the given string to the server when communicating using
     protocol version 2.  The given string must not contain a NUL or LF
     character.  The server’s handling of server options, including
     unknown ones, is server-specific.  When multiple
     ‘--server-option=<option>’ are given, they are all sent to the
     other side in the order listed on the command line.

‘--show-forced-updates’
     By default, git checks if a branch is force-updated during fetch.
     This can be disabled through fetch.showForcedUpdates, but the
     –show-forced-updates option guarantees this check occurs.  See
     git-config(1).

‘--no-show-forced-updates’
     By default, git checks if a branch is force-updated during fetch.
     Pass –no-show-forced-updates or set fetch.showForcedUpdates to
     false to skip this check for performance reasons.  If used during
     _git-pull_ the –ff-only option will still check for forced updates
     before attempting a fast-forward update.  See git-config(1).

‘-4’
‘--ipv4’
     Use IPv4 addresses only, ignoring IPv6 addresses.

‘-6’
‘--ipv6’
     Use IPv6 addresses only, ignoring IPv4 addresses.

<repository>
     フェッチまたはプル操作のソースである「リモート」リポジトリ。このパ
     ラメーターは、URL(以下の GIT URLS セクションを参照)またはリモートの
     名前(以下の REMOTES セクションを参照)のいずれかです。

<group>
     構成ファイル内のリモート。 <group> の値としてリポジトリーのリストを
     参照する名前。(git-config(1) を参照)。

<refspec>
     フェッチするrefと更新するローカルrefを指定します。コマンドラインに
     <refspec> がない場合、フェッチするrefは代わりに
     ‘remote.<repository>.fetch’ 変数から読み取られます。 (下記
     CONFIGURED REMOTE-TRACKING BRANCHES (*note [CRTB]::) 参照)

     <refspec> パラメータの組織は、オプションのプラス ‘+’ に続いて ソー
     スの <src> 、コロン ‘:’ 宛先refの <dst> の順です。 <dst> が空の場合
     、コロン(‘:’)は省略できます。 <src> は通常、refですが、フルスペルの
     16進オブジェクト名にすることもできます。

     <refspec> の <src> には、単純なパターン一致を示すための ‘*’ が含ま
     れている場合があります。このようなrefspecは、同じプレフィックスを持
     つ任意のrefに一致するglobのように機能します。パターン<refspec>では
     、 <src> と <dst> の両方に ‘*’ が含まれている必要があります。 ‘*’ を
     ソースから一致したコンテンツに置き換えることにより、refを宛先にマッ
     ピングします。

     refspecの前に ‘^’ が付いている場合、それはネガティブのrefspecとして
     解釈されます。このようなrefspecは、フェッチするrefや更新するローカ
     ルrefを指定するのではなく、除外するrefを指定します。 refは、少なく
     とも1つのポジティブ(通常)のrefspecと一致し、ネガティブのrefspecと一
     致しない場合、一致すると見なされます。ネガティブのrefspecは、特定の
     refが含まれないように、パターンrefspecのスコープを制限するのに役立
     ちます。ネガティブのrefspecは、それ自体がパターンrefspecである可能
     性があります。 ただし、 <src> のみを含めることができ、 <dst> を指定
     することはできません。 フルスペルの16進オブジェクト名もサポートされ
     ていません。

     ‘tag <tag>’ は、 ‘refs/tags/<tag>:refs/tags/<tag>’ と同じ意味です。
     指定されたタグまでのすべてをフェッチするように要求します。

     <src> に一致するリモートrefがフェッチされ、 <dst> が空の文字列でな
     い場合は、それに一致するローカルrefを更新しようとします。

     その更新が ‘--force’ なしで許可されるかどうかは、フェッチ先のref名
     前空間、フェッチされるオブジェクトのタイプ、および更新が
     fast-forwardであると見なされるかどうかによって異なります。一般に、
     プッシュする場合と同じルールがフェッチに適用されます。それらが何で
     あるかについては、 git-push(1)の ‘<refspec>...’ セクションを参照し
     てください。 _git fetch_ に固有の例外ルールを以下に示します。

     Gitバージョン2.20までは、 git-push(1) でプッシュする場合とは異なり
     、 ‘refs/tags/*’ の更新は、 refspec に ‘+’ がなくても(または
     ‘--force’ 指定が無くても)受け入れられます。フェッチするとき、リモー
     トからのすべてのタグ更新を強制フェッチとしていました。Gitバージョン
     2.20以降では、 ‘refs/tags/*’ を更新するためのフェッチは、プッシュす
     る場合と同じように機能します。 つまり refspecに ‘+’ が無い場合(また
     は ‘--force’ が無い場合)、更新は拒否されます。

     git-push(1) でプッシュするときとは異なり、 ‘refs/{tags,heads}/*’ 以
     外の更新は、 refspecに ‘+’ がなくても(あるいは ‘--force’ 指定が無く
     ても)受け付けられます。例えば、ツリーオブジェクトとブロブを交換した
     り、あるコミットを、祖先を持たない別のコミットと交換したりできます
     。

     git-push(1) でプッシュする場合とは異なり、これらのルールを修正する
     構成はなく、 ‘pre-receive’ フックに類似した ‘pre-fetch’ フックのよ
     うなものはありません。

     git-push(1) を使用したプッシュと同様に、更新として許可されないもの
     に関する上記のすべてのルールは、refspec先頭にオプションで ‘+’ をに
     追加する(または ‘--force’ コマンドラインオプションを使用する)ことで
     オーバーライドできます。これに対する唯一の例外は、 ‘refs/heads/*’ 名
     前空間が非コミットオブジェクトを受け入れるように強制することはない
     ということです。

          *Note*

          フェッチするリモートブランチが定期的に巻き戻されてリベースされ
          ることがわかっている場合、その新しい先端は(最後にフェッチした
          ときにリモートトラッキングブランチに保存された)以前の先端の子
          孫ではないことが予想されます。あなたは ‘+’ 記号を使用して、そ
          のようなブランチにnon-fast-forwardの更新が必要であることを指示
          します。この操作でブランチがリポジトリで使用可能になることを決
          定または宣言する方法はありません。プルするユーザーは、これがブ
          ランチの予想される使用パターンであることを知っている必要があり
          ます。

‘--stdin’
     Read refspecs, one per line, from stdin in addition to those
     provided as arguments.  The "tag <name>" format is not supported.


GIT URLS
********

一般に、URLには、トランスポートプロトコル、リモートサーバーのアドレス、
およびリポジトリへのパスに関する情報が含まれています。トランスポートプロ
トコルによっては、一部の情報が欠落している場合があります。

   Gitはsshとgitとhttpとhttpsプロトコルをサポートします(さらにftpと
ftpsをフェッチに使用できますが、これは非効率的で非推奨です。使用しないで
ください)。

   ネイティブトランスポート(つまり、 git:// URL)は認証を行わないため、セ
キュリティで保護されていないネットワークでは注意して使用する必要がありま
す。

   以下の構文を使用できます:

   • ssh://[user@]host.xz[:port]/path/to/repo.git/

   • git://host.xz[:port]/path/to/repo.git/

   • http[s]://host.xz[:port]/path/to/repo.git/

   • ftp[s]://host.xz[:port]/path/to/repo.git/

   代替のscpのような構文をsshプロトコルで使用することもできます:

   • [user@]host.xz:path/to/repo.git/

   この構文は、最初のコロン(:)の前にスラッシュがない場合にのみ認識されま
す。これは、コロンを含むローカルパスを区別するのに役立ちます。たとえば、
ローカルパス ‘foo:bar’ を、絶対パスまたは ‘./foo:bar’ として指定して、
ssh url として誤って解釈されないようにすることができます。

   sshおよびgitプロトコルは、さらに ~username 拡張をサポートします:

   • ssh://[user@]host.xz[:port]/~[user]/path/to/repo.git/

   • git://host.xz[:port]/~[user]/path/to/repo.git/

   • [user@]host.xz:/~[user]/path/to/repo.git/

   Gitでもネイティブにサポートされているローカルリポジトリの場合、以下の
構文を使用できます:

   • /path/to/repo.git/

   • file:///path/to/repo.git/

   これらの2つの構文は、前者が ‘--local’ オプションの機能を含むクローン
作成の場合を除いて、ほとんど同等です。 詳細については、 git-clone(1) を
参照してください。

   「git clone」と「git fetch」と「git pull」は、「git push」と違って適
切なバンドルファイルを受け入れます。 git-bundle(1) を参照してください。

   Gitが特定のトランスポートプロトコルを処理する方法を知らない場合、
Gitは _remote-<transport>_ リモートヘルパー(存在する場合)を使用しようと
します。リモートヘルパーを明示的に要求するには、以下の構文を使用できます
:

   • <transport>::<address>

   ここで、 <address> は、パス、サーバーとパス、または呼び出されている特
定のリモートヘルパーによって認識される任意のURLのような文字列です。詳細
については、 gitremote-helpers(7) を参照してください。

   同じ名前のリモートリポジトリが多数あり、それらに異なる形式を使用する
場合(あなたの使用するURLが機能するURLに書き換えられるように)、以下の形式
の構成セクションを作成できます:

             [url "<actual url base>"]
                     insteadOf = <other url base>

   例えば、以下のようになります:

             [url "git://git.host.xz/"]
                     insteadOf = host.xz:/path/to/
                     insteadOf = work:

   "work:repo.git" や "host.xz:/path/to/repo.git" のようなURLは、任意の
コンテキストで、"git://git.host.xz/repo.git" に書き換えられます。

   プッシュ専用のURLを書き換えたい場合は、以下の形式の構成セクションを作
成できます:

             [url "<actual url base>"]
                     pushInsteadOf = <other url base>

   例えば、以下のようになります:

             [url "ssh://example.org/"]
                     pushInsteadOf = git://example.org/

   "git://example.org/path/to/repo.git" のようなURLは、プッシュの場合は
"ssh://example.org/path/to/repo.git" に書き換えられますが、プルは引き続
き元のURLのままです。


REMOTES
*******

‘<repository>’ 引数として、URLの代わりに以下のいずれかの名前を使用できま
す:

   • Git構成ファイル(configuration file)内のリモート(remote)として、
     ‘$GIT_DIR/config’ または

   • ‘$GIT_DIR/remotes’ ディレクトリ内のファイル または

   • ‘$GIT_DIR/branches’ ディレクトリ内のファイル

   これらはすべて、gitがデフォルトで使用するrefspecをそれぞれ含んでいる
ため、コマンドラインからrefspecを省略できます。


Named remote in configuration file
==================================

あなたは、 git-remote(1) を使うか、または git-config(1) を使うか、または
‘$GIT_DIR/config’ ファイルを手動で編集して、これ以前に構成したリモートの
名前から選択できます。このリモートのURLは、リポジトリへのアクセスに使用
されます。コマンドラインでrefspecを指定しない場合、このリモートの
refspecがデフォルトで使用されます。構成ファイルのエントリは以下のように
なります:

             [remote "<name>"]
                     url = <url>
                     pushurl = <pushurl>
                     push = <refspec>
                     fetch = <refspec>

   ‘<pushurl>’ はプッシュにのみ使用されます。 これはオプションであり、デ
フォルトは ‘<url>’ です。


Named file in $GIT_DIR/remotes
==============================

あなたは、 ‘$GIT_DIR/remotes’ でファイル名を指定できます。このファイルの
URLは、リポジトリへのアクセスに使用されます。コマンドラインでrefspecを指
定しない場合、このファイルのrefspecがデフォルトとして使用されます。この
ファイルの形式は以下のとおりです:

             URL: one of the above URL format
             Push: <refspec>
             Pull: <refspec>

   ‘Push:’ 行は _git push_ で使用され、 ‘Pull:’ 行は _git pull_ と _git
fetch_ で使用されます。追加のブランチマッピングのために、複数の ‘Push:’
および ‘Pull:’ 行を指定できます。


Named file in $GIT_DIR/branches
===============================

‘$GIT_DIR/branches’ でファイル名を指定できます。このファイルのURLは、リ
ポジトリへのアクセスに使用されます。 このファイルの形式は以下のとおりで
す:

             <url>#<head>

   ‘<url>’ は必須です。 ‘#<head>’ はオプションです。

   コマンドラインで指定しない場合、操作に応じて、gitは以下のrefspecのい
ずれかを使用します。 ‘<branch>’ は ‘$GIT_DIR/branchs’ 内のこのファイルの
名前であり、 ‘<head>`はデフォルトで `master’ になります。

   git fetch は以下を使用します:

             refs/heads/<head>:refs/heads/<branch>

   git push は以下を使用します:

             HEAD:refs/heads/<head>


CONFIGURED REMOTE-TRACKING BRANCHES
***********************************

You often interact with the same remote repository by regularly and
repeatedly fetching from it.  In order to keep track of the progress of
such a remote repository, ‘git fetch’ allows you to configure
‘remote.<repository>.fetch’ configuration variables.

   Typically such a variable may look like this:

     [remote "origin"]
             fetch = +refs/heads/*:refs/remotes/origin/*

   This configuration is used in two ways:

   • When ‘git fetch’ is run without specifying what branches and/or
     tags to fetch on the command line, e.g.  ‘git fetch origin’ or ‘git
     fetch’, ‘remote.<repository>.fetch’ values are used as the
     refspecs—they specify which refs to fetch and which local refs to
     update.  The example above will fetch all branches that exist in
     the ‘origin’ (i.e.  any ref that matches the left-hand side of the
     value, ‘refs/heads/*’) and update the corresponding remote-tracking
     branches in the ‘refs/remotes/origin/*’ hierarchy.

   • When ‘git fetch’ is run with explicit branches and/or tags to fetch
     on the command line, e.g.  ‘git fetch origin master’, the
     <refspec>s given on the command line determine what are to be
     fetched (e.g.  ‘master’ in the example, which is a short-hand for
     ‘master:’, which in turn means "fetch the _master_ branch but I do
     not explicitly say what remote-tracking branch to update with it
     from the command line"), and the example command will fetch _only_
     the _master_ branch.  The ‘remote.<repository>.fetch’ values
     determine which remote-tracking branch, if any, is updated.  When
     used in this way, the ‘remote.<repository>.fetch’ values do not
     have any effect in deciding _what_ gets fetched (i.e.  the values
     are not used as refspecs when the command-line lists refspecs);
     they are only used to decide _where_ the refs that are fetched are
     stored by acting as a mapping.

   The latter use of the ‘remote.<repository>.fetch’ values can be
overridden by giving the ‘--refmap=<refspec>’ parameter(s) on the
command line.


PRUNING
*******

Git has a default disposition of keeping data unless it’s explicitly
thrown away; this extends to holding onto local references to branches
on remotes that have themselves deleted those branches.

   If left to accumulate, these stale references might make performance
worse on big and busy repos that have a lot of branch churn, and e.g.
make the output of commands like ‘git branch -a --contains <commit>’
needlessly verbose, as well as impacting anything else that’ll work with
the complete set of known references.

   These remote-tracking references can be deleted as a one-off with
either of:

     # While fetching
     $ git fetch --prune <name>

     # Only prune, don't fetch
     $ git remote prune <name>

   To prune references as part of your normal workflow without needing
to remember to run that, set ‘fetch.prune’ globally, or
‘remote.<name>.prune’ per-remote in the config.  See git-config(1).

   Here’s where things get tricky and more specific.  The pruning
feature doesn’t actually care about branches, instead it’ll prune local
←→ remote-references as a function of the refspec of the remote (see
‘<refspec>’ and CONFIGURED REMOTE-TRACKING BRANCHES (*note [CRTB]::)
above).

   Therefore if the refspec for the remote includes e.g.
‘refs/tags/*:refs/tags/*’, or you manually run e.g.  ‘git fetch --prune
<name> "refs/tags/*:refs/tags/*"’ it won’t be stale remote tracking
branches that are deleted, but any local tag that doesn’t exist on the
remote.

   This might not be what you expect, i.e.  you want to prune remote
‘<name>’, but also explicitly fetch tags from it, so when you fetch from
it you delete all your local tags, most of which may not have come from
the ‘<name>’ remote in the first place.

   So be careful when using this with a refspec like
‘refs/tags/*:refs/tags/*’, or any other refspec which might map
references from multiple remotes to the same local namespace.

   Since keeping up-to-date with both branches and tags on the remote is
a common use-case the ‘--prune-tags’ option can be supplied along with
‘--prune’ to prune local tags that don’t exist on the remote, and
force-update those tags that differ.  Tag pruning can also be enabled
with ‘fetch.pruneTags’ or ‘remote.<name>.pruneTags’ in the config.  See
git-config(1).

   The ‘--prune-tags’ option is equivalent to having
‘refs/tags/*:refs/tags/*’ declared in the refspecs of the remote.  This
can lead to some seemingly strange interactions:

     # These both fetch tags
     $ git fetch --no-tags origin 'refs/tags/*:refs/tags/*'
     $ git fetch --no-tags --prune-tags origin

   The reason it doesn’t error out when provided without ‘--prune’ or
its config versions is for flexibility of the configured versions, and
to maintain a 1=1 mapping between what the command line flags do, and
what the configuration versions do.

   It’s reasonable to e.g.  configure ‘fetch.pruneTags=true’ in
‘~/.gitconfig’ to have tags pruned whenever ‘git fetch --prune’ is run,
without making every invocation of ‘git fetch’ without ‘--prune’ an
error.

   Pruning tags with ‘--prune-tags’ also works when fetching a URL
instead of a named remote.  These will all prune tags not found on
origin:

     $ git fetch origin --prune --prune-tags
     $ git fetch origin --prune 'refs/tags/*:refs/tags/*'
     $ git fetch <url of origin> --prune --prune-tags
     $ git fetch <url of origin> --prune 'refs/tags/*:refs/tags/*'


OUTPUT
******

The output of "git fetch" depends on the transport method used; this
section describes the output when fetching over the Git protocol (either
locally or via ssh) and Smart HTTP protocol.

   The status of the fetch is output in tabular form, with each line
representing the status of a single ref.  Each line is of the form:

      <flag> <summary> <from> -> <to> [<reason>]

   The status of up-to-date refs is shown only if the –verbose option is
used.

   In compact output mode, specified with configuration variable
fetch.output, if either entire ‘<from>’ or ‘<to>’ is found in the other
string, it will be substituted with ‘*’ in the other string.  For
example, ‘master -> origin/master’ becomes ‘master -> origin/*’.

flag
     A single character indicating the status of the ref:

     (space)
          for a successfully fetched fast-forward;

     ‘+’
          for a successful forced update;

     ‘-’
          for a successfully pruned ref;

     ‘t’
          for a successful tag update;

     ‘*’
          for a successfully fetched new ref;

     ‘!’
          for a ref that was rejected or failed to update; and

     ‘=’
          for a ref that was up to date and did not need fetching.

summary
     For a successfully fetched ref, the summary shows the old and new
     values of the ref in a form suitable for using as an argument to
     ‘git log’ (this is ‘<old>..<new>’ in most cases, and
     ‘<old>...<new>’ for forced non-fast-forward updates).

from
     The name of the remote ref being fetched from, minus its
     ‘refs/<type>/’ prefix.  In the case of deletion, the name of the
     remote ref is "(none)".

to
     The name of the local ref being updated, minus its ‘refs/<type>/’
     prefix.

reason
     A human-readable explanation.  In the case of successfully fetched
     refs, no explanation is needed.  For a failed ref, the reason for
     failure is described.


EXAMPLES
********

   • Update the remote-tracking branches:

          $ git fetch origin

     The above command copies all branches from the remote refs/heads/
     namespace and stores them to the local refs/remotes/origin/
     namespace, unless the branch.<name>.fetch option is used to specify
     a non-default refspec.

   • Using refspecs explicitly:

          $ git fetch origin +seen:seen maint:tmp

     This updates (or creates, as necessary) branches ‘seen’ and ‘tmp’
     in the local repository by fetching from the branches
     (respectively) ‘seen’ and ‘maint’ from the remote repository.

     The ‘seen’ branch will be updated even if it does not fast-forward,
     because it is prefixed with a plus sign; ‘tmp’ will not be.

   • Peek at a remote’s branch, without configuring the remote in your
     local repository:

          $ git fetch git://git.kernel.org/pub/scm/git/git.git maint
          $ git log FETCH_HEAD

     The first command fetches the ‘maint’ branch from the repository at
     ‘git://git.kernel.org/pub/scm/git/git.git’ and the second command
     uses ‘FETCH_HEAD’ to examine the branch with git-log(1).  The
     fetched objects will eventually be removed by git’s built-in
     housekeeping (see git-gc(1)).


SECURITY
********

フェッチおよびプッシュプロトコルは、共有することを意図していない一方の側
が他方のリポジトリからデータを盗むのを防ぐようには設計されていません。悪
意のある者から保護する必要のあるプライベートデータがある場合、最善のオプ
ションはそれを別のリポジトリに保存することです。これは、クライアントとサ
ーバーの両方に適用されます。特に、サーバー上の名前空間は、読み取りアクセ
ス制御には効果的ではありません。リポジトリ全体への読み取りアクセスで信頼
できるクライアントにのみ、名前空間への読み取りアクセスを許可する必要があ
ります。

   既知の攻撃ベクトル(attack vectors)は以下のとおりです:

  1. 被害者は、明示的に共有することを意図していないオブジェクトのIDをア
     ドバタイズする "have" 行を送信しますが、他にもIDを持っている者が居
     る場合は、転送を最適化するために使用できます。攻撃者はオブジェクト
     ID Xを選択して盗み、refをXに送信しますが、被害者はすでにXのコンテン
     ツを持っているため、Xのコンテンツを送信する必要はありません。 これ
     で、被害者は攻撃者がXを持っていると信じ、Xのコンテンツを後で攻撃者
     に送り返します。 (この攻撃は、クライアントがアクセスできる名前空間
     にXへのrefを作成してフェッチすることにより、クライアントがサーバー
     上で実行するのが最も簡単です。サーバーがクライアント上で実行する最
     も可能性の高い方法は、Xをパブリックブランチにマージし、ユーザーがこ
     のブランチで追加の作業を行い、マージに気付かずにサーバーにプッシュ
     バックすることを期待します。)

  2. #1 と同様に、攻撃者は盗むオブジェクトID Xを選択します。被害者は、攻
     撃者がすでに持っているオブジェクトYを送信し、攻撃者はYではなくXを持
     っていると誤って主張するため、被害者はYをXに対するデルタとして送信
     します。デルタは、攻撃者にYに類似したXの領域を明らかにします。


BUGS
****

Using –recurse-submodules can only fetch new commits in already checked
out submodules right now.  When e.g.  upstream added a new submodule in
the just fetched commits of the superproject the submodule itself cannot
be fetched, making it impossible to check out that submodule later
without having to do a fetch again.  This is expected to be fixed in a
future Git version.


SEE ALSO
********

git-pull(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-filter-branch,  Up: Top

Name
****

git-filter-branch — Rewrite branches


Synopsis
********

     git filter-branch [–setup <command>] [–subdirectory-filter <directory>]
             [–env-filter <command>] [–tree-filter <command>]
             [–index-filter <command>] [–parent-filter <command>]
             [–msg-filter <command>] [–commit-filter <command>]
             [–tag-name-filter <command>] [–prune-empty]
             [–original <namespace>] [-d <directory>] [-f | –force]
             [–state-branch <branch>] [–] [<rev-list options>…]


WARNING
*******

_git filter-branch_ has a plethora of pitfalls that can produce
non-obvious manglings of the intended history rewrite (and can leave you
with little time to investigate such problems since it has such abysmal
performance).  These safety and performance issues cannot be backward
compatibly fixed and as such, its use is not recommended.  Please use an
alternative history filtering tool such as git filter-repo
(https://github.com/newren/git-filter-repo/).  If you still need to use
_git filter-branch_, please carefully read *note SAFETY:: (and *note
PERFORMANCE::) to learn about the land mines of filter-branch, and then
vigilantly avoid as many of the hazards listed there as reasonably
possible.


DESCRIPTION
***********

Lets you rewrite Git revision history by rewriting the branches
mentioned in the <rev-list options>, applying custom filters on each
revision.  Those filters can modify each tree (e.g.  removing a file or
running a perl rewrite on all files) or information about each commit.
Otherwise, all information (including original commit times or merge
information) will be preserved.

   The command will only rewrite the _positive_ refs mentioned in the
command line (e.g.  if you pass _a..b_, only _b_ will be rewritten).  If
you specify no filters, the commits will be recommitted without any
changes, which would normally have no effect.  Nevertheless, this may be
useful in the future for compensating for some Git bugs or such,
therefore such a usage is permitted.

   *NOTE*: This command honors ‘.git/info/grafts’ file and refs in the
‘refs/replace/’ namespace.  If you have any grafts or replacement refs
defined, running this command will make them permanent.

   *WARNING*! The rewritten history will have different object names for
all the objects and will not converge with the original branch.  You
will not be able to easily push and distribute the rewritten branch on
top of the original branch.  Please do not use this command if you do
not know the full implications, and avoid using it anyway, if a simple
single commit would suffice to fix your problem.  (See the "RECOVERING
FROM UPSTREAM REBASE" section in git-rebase(1) for further information
about rewriting published history.)

   Always verify that the rewritten version is correct: The original
refs, if different from the rewritten ones, will be stored in the
namespace _refs/original/_.

   Note that since this operation is very I/O expensive, it might be a
good idea to redirect the temporary directory off-disk with the ‘-d’
option, e.g.  on tmpfs.  Reportedly the speedup is very noticeable.


Filters
=======

The filters are applied in the order as listed below.  The <command>
argument is always evaluated in the shell context using the _eval_
command (with the notable exception of the commit filter, for technical
reasons).  Prior to that, the ‘$GIT_COMMIT’ environment variable will be
set to contain the id of the commit being rewritten.  Also,
GIT_AUTHOR_NAME, GIT_AUTHOR_EMAIL, GIT_AUTHOR_DATE, GIT_COMMITTER_NAME,
GIT_COMMITTER_EMAIL, and GIT_COMMITTER_DATE are taken from the current
commit and exported to the environment, in order to affect the author
and committer identities of the replacement commit created by
git-commit-tree(1) after the filters have run.

   If any evaluation of <command> returns a non-zero exit status, the
whole operation will be aborted.

   A _map_ function is available that takes an "original sha1 id"
argument and outputs a "rewritten sha1 id" if the commit has been
already rewritten, and "original sha1 id" otherwise; the _map_ function
can return several ids on separate lines if your commit filter emitted
multiple commits.


OPTIONS
*******

‘--setup <command>’
     This is not a real filter executed for each commit but a one time
     setup just before the loop.  Therefore no commit-specific variables
     are defined yet.  Functions or variables defined here can be used
     or modified in the following filter steps except the commit filter,
     for technical reasons.

‘--subdirectory-filter <directory>’
     Only look at the history which touches the given subdirectory.  The
     result will contain that directory (and only that) as its project
     root.  Implies *note Remap to ancestor::.

‘--env-filter <command>’
     This filter may be used if you only need to modify the environment
     in which the commit will be performed.  Specifically, you might
     want to rewrite the author/committer name/email/time environment
     variables (see git-commit-tree(1) for details).

‘--tree-filter <command>’
     This is the filter for rewriting the tree and its contents.  The
     argument is evaluated in shell with the working directory set to
     the root of the checked out tree.  The new tree is then used as-is
     (new files are auto-added, disappeared files are auto-removed -
     neither .gitignore files nor any other ignore rules *HAVE ANY
     EFFECT*!).

‘--index-filter <command>’
     This is the filter for rewriting the index.  It is similar to the
     tree filter but does not check out the tree, which makes it much
     faster.  Frequently used with ‘git rm --cached --ignore-unmatch
     ...’, see EXAMPLES below.  For hairy cases, see
     git-update-index(1).

‘--parent-filter <command>’
     This is the filter for rewriting the commit’s parent list.  It will
     receive the parent string on stdin and shall output the new parent
     string on stdout.  The parent string is in the format described in
     git-commit-tree(1): empty for the initial commit, "-p parent" for a
     normal commit and "-p parent1 -p parent2 -p parent3 …" for a merge
     commit.

‘--msg-filter <command>’
     This is the filter for rewriting the commit messages.  The argument
     is evaluated in the shell with the original commit message on
     standard input; its standard output is used as the new commit
     message.

‘--commit-filter <command>’
     This is the filter for performing the commit.  If this filter is
     specified, it will be called instead of the _git commit-tree_
     command, with arguments of the form "<TREE_ID> [(-p
     <PARENT_COMMIT_ID>)…]" and the log message on stdin.  The commit id
     is expected on stdout.

     As a special extension, the commit filter may emit multiple commit
     ids; in that case, the rewritten children of the original commit
     will have all of them as parents.

     You can use the _map_ convenience function in this filter, and
     other convenience functions, too.  For example, calling
     _skip_commit "$@"_ will leave out the current commit (but not its
     changes!  If you want that, use _git rebase_ instead).

     You can also use the ‘git_commit_non_empty_tree "$@"’ instead of
     ‘git commit-tree "$@"’ if you don’t wish to keep commits with a
     single parent and that makes no change to the tree.

‘--tag-name-filter <command>’
     This is the filter for rewriting tag names.  When passed, it will
     be called for every tag ref that points to a rewritten object (or
     to a tag object which points to a rewritten object).  The original
     tag name is passed via standard input, and the new tag name is
     expected on standard output.

     The original tags are not deleted, but can be overwritten; use
     "–tag-name-filter cat" to simply update the tags.  In this case, be
     very careful and make sure you have the old tags backed up in case
     the conversion has run afoul.

     Nearly proper rewriting of tag objects is supported.  If the tag
     has a message attached, a new tag object will be created with the
     same message, author, and timestamp.  If the tag has a signature
     attached, the signature will be stripped.  It is by definition
     impossible to preserve signatures.  The reason this is "nearly"
     proper, is because ideally if the tag did not change (points to the
     same object, has the same name, etc.)  it should retain any
     signature.  That is not the case, signatures will always be
     removed, buyer beware.  There is also no support for changing the
     author or timestamp (or the tag message for that matter).  Tags
     which point to other tags will be rewritten to point to the
     underlying commit.

‘--prune-empty’
     Some filters will generate empty commits that leave the tree
     untouched.  This option instructs git-filter-branch to remove such
     commits if they have exactly one or zero non-pruned parents; merge
     commits will therefore remain intact.  This option cannot be used
     together with ‘--commit-filter’, though the same effect can be
     achieved by using the provided ‘git_commit_non_empty_tree’ function
     in a commit filter.

‘--original <namespace>’
     Use this option to set the namespace where the original commits
     will be stored.  The default value is _refs/original_.

‘-d <directory>’
     Use this option to set the path to the temporary directory used for
     rewriting.  When applying a tree filter, the command needs to
     temporarily check out the tree to some directory, which may consume
     considerable space in case of large projects.  By default it does
     this in the ‘.git-rewrite/’ directory but you can override that
     choice by this parameter.

‘-f’
‘--force’
     _git filter-branch_ refuses to start with an existing temporary
     directory or when there are already refs starting with
     _refs/original/_, unless forced.

‘--state-branch <branch>’
     This option will cause the mapping from old to new objects to be
     loaded from named branch upon startup and saved as a new commit to
     that branch upon exit, enabling incremental of large trees.  If
     _<branch>_ does not exist it will be created.

<rev-list options>…
     Arguments for _git rev-list_.  All positive refs included by these
     options are rewritten.  You may also specify options such as
     ‘--all’, but you must use ‘--’ to separate them from the _git
     filter-branch_ options.  Implies *note Remap to ancestor::.


Remap to ancestor
=================

By using git-rev-list(1) arguments, e.g., path limiters, you can limit
the set of revisions which get rewritten.  However, positive refs on the
command line are distinguished: we don’t let them be excluded by such
limiters.  For this purpose, they are instead rewritten to point at the
nearest ancestor that was not excluded.


EXIT STATUS
***********

On success, the exit status is ‘0’.  If the filter can’t find any
commits to rewrite, the exit status is ‘2’.  On any other error, the
exit status may be any other non-zero value.


EXAMPLES
********

Suppose you want to remove a file (containing confidential information
or copyright violation) from all commits:

     git filter-branch --tree-filter 'rm filename' HEAD

   However, if the file is absent from the tree of some commit, a simple
‘rm filename’ will fail for that tree and commit.  Thus you may instead
want to use ‘rm -f filename’ as the script.

   Using ‘--index-filter’ with _git rm_ yields a significantly faster
version.  Like with using ‘rm filename’, ‘git rm --cached filename’ will
fail if the file is absent from the tree of a commit.  If you want to
"completely forget" a file, it does not matter when it entered history,
so we also add ‘--ignore-unmatch’:

     git filter-branch --index-filter 'git rm --cached --ignore-unmatch filename' HEAD

   Now, you will get the rewritten history saved in HEAD.

   To rewrite the repository to look as if ‘foodir/’ had been its
project root, and discard all other history:

     git filter-branch --subdirectory-filter foodir -- --all

   Thus you can, e.g., turn a library subdirectory into a repository of
its own.  Note the ‘--’ that separates _filter-branch_ options from
revision options, and the ‘--all’ to rewrite all branches and tags.

   To set a commit (which typically is at the tip of another history) to
be the parent of the current initial commit, in order to paste the other
history behind the current history:

     git filter-branch --parent-filter 'sed "s/^\$/-p <graft-id>/"' HEAD

   (if the parent string is empty - which happens when we are dealing
with the initial commit - add graftcommit as a parent).  Note that this
assumes history with a single root (that is, no merge without common
ancestors happened).  If this is not the case, use:

     git filter-branch --parent-filter \
             'test $GIT_COMMIT = <commit-id> && echo "-p <graft-id>" || cat' HEAD

   or even simpler:

     git replace --graft $commit-id $graft-id
     git filter-branch $graft-id..HEAD

   To remove commits authored by "Darl McBribe" from the history:

     git filter-branch --commit-filter '
             if [ "$GIT_AUTHOR_NAME" = "Darl McBribe" ];
             then
                     skip_commit "$@";
             else
                     git commit-tree "$@";
             fi' HEAD

   The function _skip_commit_ is defined as follows:

     skip_commit()
     {
             shift;
             while [ -n "$1" ];
             do
                     shift;
                     map "$1";
                     shift;
             done;
     }

   The shift magic first throws away the tree id and then the -p
parameters.  Note that this handles merges properly!  In case Darl
committed a merge between P1 and P2, it will be propagated properly and
all children of the merge will become merge commits with P1,P2 as their
parents instead of the merge commit.

   *NOTE* the changes introduced by the commits, and which are not
reverted by subsequent commits, will still be in the rewritten branch.
If you want to throw out _changes_ together with the commits, you should
use the interactive mode of _git rebase_.

   You can rewrite the commit log messages using ‘--msg-filter’.  For
example, _git svn-id_ strings in a repository created by _git svn_ can
be removed this way:

     git filter-branch --msg-filter '
             sed -e "/^git-svn-id:/d"
     '

   If you need to add _Acked-by_ lines to, say, the last 10 commits
(none of which is a merge), use this command:

     git filter-branch --msg-filter '
             cat &&
             echo "Acked-by: Bugs Bunny <bunny@bugzilla.org>"
     ' HEAD~10..HEAD

   The ‘--env-filter’ option can be used to modify committer and/or
author identity.  For example, if you found out that your commits have
the wrong identity due to a misconfigured user.email, you can make a
correction, before publishing the project, like this:

     git filter-branch --env-filter '
             if test "$GIT_AUTHOR_EMAIL" = "root@localhost"
             then
                     GIT_AUTHOR_EMAIL=john@example.com
             fi
             if test "$GIT_COMMITTER_EMAIL" = "root@localhost"
             then
                     GIT_COMMITTER_EMAIL=john@example.com
             fi
     ' -- --all

   To restrict rewriting to only part of the history, specify a revision
range in addition to the new branch name.  The new branch name will
point to the top-most revision that a _git rev-list_ of this range will
print.

   Consider this history:

          D--E--F--G--H
         /     /
     A--B-----C

   To rewrite only commits D,E,F,G,H, but leave A, B and C alone, use:

     git filter-branch ... C..H

   To rewrite commits E,F,G,H, use one of these:

     git filter-branch ... C..H --not D
     git filter-branch ... D..H --not C

   To move the whole tree into a subdirectory, or remove it from there:

     git filter-branch --index-filter \
             'git ls-files -s | sed "s-\t\"*-&newsubdir/-" |
                     GIT_INDEX_FILE=$GIT_INDEX_FILE.new \
                             git update-index --index-info &&
              mv "$GIT_INDEX_FILE.new" "$GIT_INDEX_FILE"' HEAD


CHECKLIST FOR SHRINKING A REPOSITORY
************************************

git-filter-branch can be used to get rid of a subset of files, usually
with some combination of ‘--index-filter’ and ‘--subdirectory-filter’.
People expect the resulting repository to be smaller than the original,
but you need a few more steps to actually make it smaller, because Git
tries hard not to lose your objects until you tell it to.  First make
sure that:

   • You really removed all variants of a filename, if a blob was moved
     over its lifetime.  ‘git log --name-only --follow --all --
     filename’ can help you find renames.

   • You really filtered all refs: use ‘--tag-name-filter cat -- --all’
     when calling git-filter-branch.

   Then there are two ways to get a smaller repository.  A safer way is
to clone, that keeps your original intact.

   • Clone it with ‘git clone file:///path/to/repo’.  The clone will not
     have the removed objects.  See git-clone(1).  (Note that cloning
     with a plain path just hardlinks everything!)

   If you really don’t want to clone it, for whatever reasons, check the
following points instead (in this order).  This is a very destructive
approach, so *make a backup* or go back to cloning it.  You have been
warned.

   • Remove the original refs backed up by git-filter-branch: say ‘git
     for-each-ref --format="%(refname)" refs/original/ | xargs -n 1 git
     update-ref -d’.

   • Expire all reflogs with ‘git reflog expire --expire=now --all’.

   • Garbage collect all unreferenced objects with ‘git gc --prune=now’
     (or if your git-gc is not new enough to support arguments to
     ‘--prune’, use ‘git repack -ad; git prune’ instead).


PERFORMANCE
***********

The performance of git-filter-branch is glacially slow; its design makes
it impossible for a backward-compatible implementation to ever be fast:

   • In editing files, git-filter-branch by design checks out each and
     every commit as it existed in the original repo.  If your repo has
     ‘10^5’ files and ‘10^5’ commits, but each commit only modifies five
     files, then git-filter-branch will make you do ‘10^10’
     modifications, despite only having (at most) ‘5*10^5’ unique blobs.

   • If you try and cheat and try to make git-filter-branch only work on
     files modified in a commit, then two things happen

        • you run into problems with deletions whenever the user is
          simply trying to rename files (because attempting to delete
          files that don’t exist looks like a no-op; it takes some
          chicanery to remap deletes across file renames when the
          renames happen via arbitrary user-provided shell)

        • even if you succeed at the map-deletes-for-renames chicanery,
          you still technically violate backward compatibility because
          users are allowed to filter files in ways that depend upon
          topology of commits instead of filtering solely based on file
          contents or names (though this has not been observed in the
          wild).

   • Even if you don’t need to edit files but only want to e.g.  rename
     or remove some and thus can avoid checking out each file (i.e.  you
     can use –index-filter), you still are passing shell snippets for
     your filters.  This means that for every commit, you have to have a
     prepared git repo where those filters can be run.  That’s a
     significant setup.

   • Further, several additional files are created or updated per commit
     by git-filter-branch.  Some of these are for supporting the
     convenience functions provided by git-filter-branch (such as
     map()), while others are for keeping track of internal state (but
     could have also been accessed by user filters; one of
     git-filter-branch’s regression tests does so).  This essentially
     amounts to using the filesystem as an IPC mechanism between
     git-filter-branch and the user-provided filters.  Disks tend to be
     a slow IPC mechanism, and writing these files also effectively
     represents a forced synchronization point between separate
     processes that we hit with every commit.

   • The user-provided shell commands will likely involve a pipeline of
     commands, resulting in the creation of many processes per commit.
     Creating and running another process takes a widely varying amount
     of time between operating systems, but on any platform it is very
     slow relative to invoking a function.

   • git-filter-branch itself is written in shell, which is kind of
     slow.  This is the one performance issue that could be
     backward-compatibly fixed, but compared to the above problems that
     are intrinsic to the design of git-filter-branch, the language of
     the tool itself is a relatively minor issue.

        • Side note: Unfortunately, people tend to fixate on the
          written-in-shell aspect and periodically ask if
          git-filter-branch could be rewritten in another language to
          fix the performance issues.  Not only does that ignore the
          bigger intrinsic problems with the design, it’d help less than
          you’d expect: if git-filter-branch itself were not shell, then
          the convenience functions (map(), skip_commit(), etc) and the
          ‘--setup’ argument could no longer be executed once at the
          beginning of the program but would instead need to be
          prepended to every user filter (and thus re-executed with
          every commit).

   The git filter-repo (https://github.com/newren/git-filter-repo/) tool
is an alternative to git-filter-branch which does not suffer from these
performance problems or the safety problems (mentioned below).  For
those with existing tooling which relies upon git-filter-branch, _git
filter-repo_ also provides filter-lamely
(https://github.com/newren/git-filter-repo/blob/master/contrib/filter-repo-demos/filter-lamely),
a drop-in git-filter-branch replacement (with a few caveats).  While
filter-lamely suffers from all the same safety issues as
git-filter-branch, it at least ameliorates the performance issues a
little.


SAFETY
******

git-filter-branch is riddled with gotchas resulting in various ways to
easily corrupt repos or end up with a mess worse than what you started
with:

   • Someone can have a set of "working and tested filters" which they
     document or provide to a coworker, who then runs them on a
     different OS where the same commands are not working/tested (some
     examples in the git-filter-branch manpage are also affected by
     this).  BSD vs.  GNU userland differences can really bite.  If
     lucky, error messages are spewed.  But just as likely, the commands
     either don’t do the filtering requested, or silently corrupt by
     making some unwanted change.  The unwanted change may only affect a
     few commits, so it’s not necessarily obvious either.  (The fact
     that problems won’t necessarily be obvious means they are likely to
     go unnoticed until the rewritten history is in use for quite a
     while, at which point it’s really hard to justify another flag-day
     for another rewrite.)

   • Filenames with spaces are often mishandled by shell snippets since
     they cause problems for shell pipelines.  Not everyone is familiar
     with find -print0, xargs -0, git-ls-files -z, etc.  Even people who
     are familiar with these may assume such flags are not relevant
     because someone else renamed any such files in their repo back
     before the person doing the filtering joined the project.  And
     often, even those familiar with handling arguments with spaces may
     not do so just because they aren’t in the mindset of thinking about
     everything that could possibly go wrong.

   • Non-ascii filenames can be silently removed despite being in a
     desired directory.  Keeping only wanted paths is often done using
     pipelines like ‘git ls-files | grep -v ^WANTED_DIR/ | xargs git
     rm’.  ls-files will only quote filenames if needed, so folks may
     not notice that one of the files didn’t match the regex (at least
     not until it’s much too late).  Yes, someone who knows about
     core.quotePath can avoid this (unless they have other special
     characters like \t, \n, or "), and people who use ls-files -z with
     something other than grep can avoid this, but that doesn’t mean
     they will.

   • Similarly, when moving files around, one can find that filenames
     with non-ascii or special characters end up in a different
     directory, one that includes a double quote character.  (This is
     technically the same issue as above with quoting, but perhaps an
     interesting different way that it can and has manifested as a
     problem.)

   • It’s far too easy to accidentally mix up old and new history.  It’s
     still possible with any tool, but git-filter-branch almost invites
     it.  If lucky, the only downside is users getting frustrated that
     they don’t know how to shrink their repo and remove the old stuff.
     If unlucky, they merge old and new history and end up with multiple
     "copies" of each commit, some of which have unwanted or sensitive
     files and others which don’t.  This comes about in multiple
     different ways:

        • the default to only doing a partial history rewrite (_–all_ is
          not the default and few examples show it)

        • the fact that there’s no automatic post-run cleanup

        • the fact that –tag-name-filter (when used to rename tags)
          doesn’t remove the old tags but just adds new ones with the
          new name

        • the fact that little educational information is provided to
          inform users of the ramifications of a rewrite and how to
          avoid mixing old and new history.  For example, this man page
          discusses how users need to understand that they need to
          rebase their changes for all their branches on top of new
          history (or delete and reclone), but that’s only one of
          multiple concerns to consider.  See the "DISCUSSION" section
          of the git filter-repo manual page for more details.

   • Annotated tags can be accidentally converted to lightweight tags,
     due to either of two issues:

        • Someone can do a history rewrite, realize they messed up,
          restore from the backups in refs/original/, and then redo
          their git-filter-branch command.  (The backup in
          refs/original/ is not a real backup; it dereferences tags
          first.)

        • Running git-filter-branch with either –tags or –all in your
          <rev-list options>.  In order to retain annotated tags as
          annotated, you must use –tag-name-filter (and must not have
          restored from refs/original/ in a previously botched rewrite).

   • Any commit messages that specify an encoding will become corrupted
     by the rewrite; git-filter-branch ignores the encoding, takes the
     original bytes, and feeds it to commit-tree without telling it the
     proper encoding.  (This happens whether or not –msg-filter is
     used.)

   • Commit messages (even if they are all UTF-8) by default become
     corrupted due to not being updated — any references to other commit
     hashes in commit messages will now refer to no-longer-extant
     commits.

   • There are no facilities for helping users find what unwanted crud
     they should delete, which means they are much more likely to have
     incomplete or partial cleanups that sometimes result in confusion
     and people wasting time trying to understand.  (For example, folks
     tend to just look for big files to delete instead of big
     directories or extensions, and once they do so, then sometime later
     folks using the new repository who are going through history will
     notice a build artifact directory that has some files but not
     others, or a cache of dependencies (node_modules or similar) which
     couldn’t have ever been functional since it’s missing some files.)

   • If –prune-empty isn’t specified, then the filtering process can
     create hoards of confusing empty commits

   • If –prune-empty is specified, then intentionally placed empty
     commits from before the filtering operation are also pruned instead
     of just pruning commits that became empty due to filtering rules.

   • If –prune-empty is specified, sometimes empty commits are missed
     and left around anyway (a somewhat rare bug, but it happens…)

   • A minor issue, but users who have a goal to update all names and
     emails in a repository may be led to –env-filter which will only
     update authors and committers, missing taggers.

   • If the user provides a –tag-name-filter that maps multiple tags to
     the same name, no warning or error is provided; git-filter-branch
     simply overwrites each tag in some undocumented pre-defined order
     resulting in only one tag at the end.  (A git-filter-branch
     regression test requires this surprising behavior.)

   Also, the poor performance of git-filter-branch often leads to safety
issues:

   • Coming up with the correct shell snippet to do the filtering you
     want is sometimes difficult unless you’re just doing a trivial
     modification such as deleting a couple files.  Unfortunately,
     people often learn if the snippet is right or wrong by trying it
     out, but the rightness or wrongness can vary depending on special
     circumstances (spaces in filenames, non-ascii filenames, funny
     author names or emails, invalid timezones, presence of grafts or
     replace objects, etc.), meaning they may have to wait a long time,
     hit an error, then restart.  The performance of git-filter-branch
     is so bad that this cycle is painful, reducing the time available
     to carefully re-check (to say nothing about what it does to the
     patience of the person doing the rewrite even if they do
     technically have more time available).  This problem is extra
     compounded because errors from broken filters may not be shown for
     a long time and/or get lost in a sea of output.  Even worse, broken
     filters often just result in silent incorrect rewrites.

   • To top it all off, even when users finally find working commands,
     they naturally want to share them.  But they may be unaware that
     their repo didn’t have some special cases that someone else’s does.
     So, when someone else with a different repository runs the same
     commands, they get hit by the problems above.  Or, the user just
     runs commands that really were vetted for special cases, but they
     run it on a different OS where it doesn’t work, as noted above.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-fmt-merge-msg,  Up: Top

Name
****

git-fmt-merge-msg — git-fmt-merge-msg-マージコミットメッセージを生成しま
す


Synopsis
********

     git fmt-merge-msg [-m <message>] [–log[=<n>] | –no-log]
     git fmt-merge-msg [-m <message>] [–log[=<n>] | –no-log] -F <file>


DESCRIPTION
***********

標準入力からマージされたオブジェクトのリストを取得し、マージコミットに使
用される適切なコミットメッセージを生成します。通常は、 _git merge_ の
_<merge-message>_ 引数として渡されます。

   このコマンドは主に、 _git merge_ を自動的に呼び出すスクリプトによる内
部使用を目的としています。


OPTIONS
*******

‘--log[=<n>]’
     ブランチ名に加えて、マージされている実際のコミットからの1行説明をロ
     グメッセージに入力します。各マージ親からの最大で <n> のコミットが使
     用されます(<n> が省略されている場合は20)。これは、 ‘merge.log’ 構成
     変数をオーバーライドします。

‘--no-log’
     マージされる実際のコミットからの1行説明をリストしません。

‘--[no-]summary’
     ‘--log’ や ‘--no-log’ の同義語。これは非推奨であり、将来削除される
     予定です。

‘-m <message>’
‘--message <message>’
     ログメッセージの最初の行に、ブランチ名の代わりに <message> を使用し
     ます。 ‘--log’ で使用します。

‘-F <file>’
‘--file <file>’
     標準入力の代わりに <file> からマージされたオブジェクトのリストを取
     得します。


CONFIGURATION
*************

merge.branchdesc
     ブランチ名に加えて、それらに関連付けられたブランチの説明テキストを
     ログメッセージに入力します。デフォルトはfalseです。

merge.log
     ブランチ名に加えて、マージされる実際のコミットからの最大「指定の数
     」の親コミットの1行説明をログメッセージに入力します。デフォルトは
     falseで、trueは20の同義語です。

merge.suppressDest
     統合ブランチの名前に一致するグロブをこの複数値の構成変数
     (multi-valued configuration variable)に追加することにより、これらの
     統合ブランチへのマージに対して計算されるデフォルトのマージメッセー
     ジは、タイトルから「into <branch name>」を省略します。

     空の値を持つ要素を使用して、以前の構成エントリから蓄積されたグロブ
     のリストをクリアできます。 ‘merge.suppressDest’ 変数が定義されてい
     ない場合、下位互換性のためにデフォルト値の ‘master’ が使用されます
     。

merge.summary
     ‘merge.log’ の同義語。これは非推奨であり、将来削除される予定です。


EXAMPLES
********

     $ git fetch origin master
     $ git fmt-merge-msg --log <$GIT_DIR/FETCH_HEAD

   「origin」リモートからの「master」ブランチのマージを説明するログメッ
セージを出力します。


SEE ALSO
********

git-merge(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-for-each-ref,  Up: Top

Name
****

git-for-each-ref — 各refに関する情報を出力します


Synopsis
********

     git for-each-ref [–count=<count>] [–shell|–perl|–python|–tcl]
                        [(–sort=<key>)…] [–format=<format>] [<pattern>…]
                        [–points-at=<object>]
                        [–merged[=<object>]] [–no-merged[=<object>]]
                        [–contains[=<object>]] [–no-contains[=<object>]]


DESCRIPTION
***********

‘<pattern>’ に一致するすべてのrefを繰り返し、指定された ‘<key>’ の組に従
って並べ替えた後、指定の ‘<format>’ に従って表示します。 ‘<count>’ が指
定されている場合は、その数のrefを表示した後で停止します。 ‘<format>’ の
プレースホルダで差し込みされる値は、オプションで、指定のホストプログラム
言語の文字列リテラルとなるようクォートでき、そのホストプログラム言語で直
接評価できます。


OPTIONS
*******

<pattern>…
     1つ以上のパターンが指定されている場合、少なくとも1つのパターンに一
     致する参照のみが表示されます。fnmatch(3) を使用するか、文字通り
     (lietrally)に書くかです。文字通りに書いた場合場合、完全に一致するか
     、最初からスラッシュ(‘/’)まで一致するかです。

‘--count=<count>’
     デフォルトでは、コマンドは ‘<pattern>’ に一致するすべてのrefを表示
     します。このオプションは、指定の数のrefを表示した後に停止します。

‘--sort=<key>’
     並べ替えるフィールド名。 プレフィックス ‘-`を使用して、値の降順で並
     べ替えます。 並べ替えるフィールド名を指定しない場合 `refname’ が使
     用されます。 ‘--sort=<key>’ オプションは複数回使用できます。その場
     合、最後のキーが主キー(primary key)になります。

‘--format=<format>’
     表示されているrefとそれが指すオブジェクトを ‘%(fieldname)’ によって
     を差し込みする書式文字列。 ‘fieldname’ の前にアスタリスク(‘*’)が付
     いていて、refがタグオブジェクトを指している場合は、(タグオブジェク
     トのフィールドではなく)タグオブジェクトが参照するオブジェクトのフィ
     ールドの値を使用します。このオプションを指定しない場合、 ‘<format>’
     はデフォルトで ‘%(objectname) SPC %(objecttype) TAB %(refname)’ で
     す。また ‘%%’ は ‘%’ を差し込み、 ‘%xx’ (‘xx’ は16進数)は16進コード
     ‘xx’ の文字を差し込みます。 たとえば、‘%00’ は ‘\0’ (NUL) を、
     ‘%09’ は ‘\t’ (TAB) を、 ‘%0a’ は ‘\n’ (LF) を、それぞれ差し込みま
     す。

‘--color[=<when>]’
     ‘--format’ オプションで指定された色を尊重します。 ‘<when>’ フィール
     ドは ‘always’ または ‘never’ または ‘auto’ のいずれかでなければなり
     ません(‘<when>’ がない場合は、 ‘always’ が指定されたかのように動作
     します)。

‘--shell’
‘--perl’
‘--python’
‘--tcl’
     指定した場合、 ‘%(fieldname)’ プレースホルダーを置き換える文字列は
     、指定のホストプログラム言語に適した文字列リテラルとしてクォートし
     ます。これは、直接「評価」(eval)できるスクリプトレットを作成するこ
     とを目的としています。

‘--points-at=<object>’
     指定のオブジェクトを指すrefのみをリストします。

‘--merged[=<object>]’
     指定のコミット(指定されていない場合はHEAD)から先端に到達できるrefの
     みをリストします。

‘--no-merged[=<object>]’
     指定のコミット(指定されていない場合はHEAD)から先端に到達できない
     refのみをリストします。

‘--contains[=<object>]’
     指定のコミット(指定されていない場合はHEAD)を含むrefのみをリストしま
     す。

‘--no-contains[=<object>]’
     指定のコミット(指定されていない場合はHEAD)を含まないrefのみをリスト
     します。

‘--ignore-case’
     refの並べ替え(sort)とフィルタリングでは英大文字小文字を区別しません
     。


FIELD NAMES
***********

参照オブジェクトの構造化フィールドのさまざまな値を使用して、結果の出力に
差し込みしたり、ソートキーとして使用したりできます。

   すべてのオブジェクトで、以下の名前を使用できます:

refname
     refの名前( $GIT_DIR/ の後の部分)。refのあいまいでない短い名前の場合
     は、 ‘:short’ を追加します。オプション core.warnAmbiguousRefs は、
     厳密な省略形モードを選択するために使用されます。 ‘lstrip=<N>’
     (‘rstrip=<N>’) が追加された場合、refnameの前(後ろ)からスラッシュ
     (‘/’)で区切られたパスの部分を‘<N>‘ 個削除します(例:
     ‘%(refname:lstrip=2)’ は ‘refs/tags/foo’ を ‘foo’ に変換し、
     ‘%(refname:rstrip=2)’ は ‘refs/tags/foo’ を ‘refs’ に変換します。
     ‘<N>’ が負の数の場合、指定された端から必要な数のパスコンポーネント
     を削除して、 ‘-<N>’ パス部分を残します(たとえば、
     ‘%(refname:lstrip=-2)’ は ‘refs/tags/foo’ を ‘tags/foo’ に変換し、
     ‘%(refname:rstrip=-1)’ は ‘refs/tags/foo’ を ‘refs’ に変換します)。
     refに十分な数のパス部品がない場合、正の <N> でストリッピングすると
     結果は空の文字列になり、負の<N>でストリッピングすると完全な
     refnameになります。どちらもエラーではありません。

     ‘strip’ は ‘lstrip’ の同義語として使用できます。

objecttype
     オブジェクトのタイプ( ‘blob’ 、‘tree’ 、 ‘commit’ 、‘tag’ )。

objectsize
     オブジェクトのサイズ(‘git cat-file -s’ がレポートするものと同じです
     )。 ‘:disk’ を追加して、オブジェクトがディスク上で占めるサイズをバ
     イト単位で取得できます。以下の「CAVEATS」(注意事項)セクションのディ
     スク上のサイズに関する注記を参照してください。

objectname
     オブジェクト名(別名SHA-1)。オブジェクト名のあいまいでない省略形につ
     いては、 ‘:short’ を追加してください。目的の長さのオブジェクト名の
     省略形については、 ‘:short=<length>’ を追加します。ここで、最小の長
     さは MINIMUM_ABBREV です。一意のオブジェクト名を確保するために、指
     定の長さを超える場合があります。

deltabase
     デルタとして保存されている場合、これは指定されたオブジェクトのデル
     タベースのオブジェクト名に展開されます。それ以外の場合は、ヌルオブ
     ジェクト名(すべてゼロ)に展開されます。

upstream
     表示されたrefから「上流」(upstream)と見なすことができるローカル参照
     の名前。 上記の ‘refname’ と同じように、 ‘:short’ や ‘:lstrip’ や
     ‘:rstrip’ を尊重します。さらに、 ‘:track’ は ‘[ahead N, behind M]’
     を表示し、 ‘:trackshort’ は ‘>’ (ahead) または ‘<’ (behind) または
     "<>" (ahead and behind) または "=" (in sync) という簡潔なバージョン
     を表示します。 ‘:track’ は不明なアップストリーム参照が検出されるた
     びに ‘[gone]’ も出力します。 ‘:track,nobracket’ を追加すると角かっ
     こ(‘[’ と ‘]’ )無しで追跡情報を表示します（つまり、 ‘ahead N,
     behind M’ )。

     リモート追跡ブランチの ‘%(upstream)’ と ‘%(upstream:remotename)’ と
     ‘%(upstream:remoteref)`は、それぞれリモートの名前と追跡されたリモー
     トrefの名前を参照します。つまり、 refspec
     `%(upstream:remoteref):%(upstream)’ を使用して
     ‘%(upstream:remotename)’ からフェッチすることにより、リモートト追跡
     ブランチを明示的かつ個別に更新できます。

     refに追跡情報が関連付けられていない場合、効果はありません。
     ‘nobracket’ 以外のすべてのオプションは相互に排他的ですが、一緒に使
     用する場合は最後のオプションが選択されます。

push
     表示されたrefの ‘@{push}’ の場所を表すローカルrefの名前。
     ‘upstream’ と同様に ‘:short’ ・ ‘:lstrip’ ・ ‘:rstrip’ ・ ‘:track’
     ・ ‘:trackshort’ ・ ‘:remotename’ ・ ‘:remoteref’ オプションを尊重
     します。 ‘@{push}’ refが設定されていない場合、空の文字列を生成しま
     す。

HEAD
     HEADが現在のref (チェックアウトされたブランチ)と一致する場合は ‘*’
     、それ以外の場合は ’ ’ 。

color
     出力色を変更します。 その後に ‘:<colorname>’ が続きます。色の名前は
     、 git-config(1) の「CONFIGURATION FILE」セクションの「Values」で説
     明されています。 たとえば、 ‘%(color:bold red)’ です。

align
     コンテンツを %(align:…) から %(end) の間で左揃え、中央揃え、または
     右揃えにします。 ‘align:’ の後には、 ‘width=<width>’ と
     ‘position=<position>’ がコンマ(‘,’)で区切られた任意の順序で続きます
     。ここで、 ‘<position>’ は left または right または middle のいずれ
     かで、‘<position>’ の デフォルトは left で ‘<width>’ のデフォルトは
     配置されたコンテンツの全長です。 簡潔にするために、 ‘width=’ および
     /または ‘position=’ プレフィックスを省略して、代わりに裸の <width>
     および <position> を使用することができます。 たとえば、
     ‘%(align:<width>,<position>)’ です。 コンテンツの長さがwidthよりも
     大きい場合、位置合わせは実行されません。 ‘--quote’ とともに使用する
     と、 %(align:…) から %(end) の間のすべてがクォートされまれますが、
     ネストされている場合は、最上位レベルのみがクォートされます。

if
     %(if) … %(then) … %(end) または %(if) … %(then) … %(else) … %(end)
     として使用されます。 %(if) の後に値または文字列リテラルを持つアトム
     がある場合は、 %(then) の後のすべてが出力されます。そうでない場合、
     %(else) アトムが使用されている場合は、 %(else) の後のすべてが出力さ
     れます。 %(then) の前の文字列を評価するときはスペースを無視します。
     これは、 ‘*’ または ‘ ‘ のいずれかを出力する %(HEAD) アトムを使用し
     、 HEAD ref にのみ if 条件を適用する場合に役立ちます。
     ‘:equals=<string>’ または ‘:notequals=<string>’ を追加して、
     %(if:…) アトムと %(then) アトムの間の値を指定された文字列と比較しま
     す。(訳注:つまり、 %(if) から %(then) の間がconditionである)

symref
     与えられたシンボリックrefが参照するref。シンボリックrefでない場合、
     何も出力されません。上記の ‘refname’ と同じ方法で、 ‘:short’ と
     ‘:lstrip’ と ‘:rstrip’ オプションを尊重します。

worktreepath
     リンクされたワークツリー(linked worktree)でチェックアウトされている
     場合、refがチェックアウトされているワークツリーへの絶対パス。それ以
     外の場合は空文字列です。

   上記に加えて、commitとtagオブジェクトの場合、ヘッダーフィールド名
(‘tree’ と ‘parent’ と ‘object’ と ‘type’ と ‘tag’)を使用して、ヘッダー
フィールドの値を指定できます。 フィールド ‘tree’ と ‘parent’ は、
‘objectname’ と同じように、修飾子 ‘:short’ や ‘:short=<length>’ とともに
使用することもできます。

   commitオブジェクトとtagオブジェクトの場合、特別な ‘creatordate’ フィ
ールドと ‘creator’ フィールドは、オブジェクトタイプに応じて、
‘committer’ または ‘tagger’ フィールドの適切な日付または
name-email-dateタプルに対応します。これらは、注釈付きタグと軽量タグの組
み合わせでの作業を目的としています。

   name-email-dateタプルを値として持つフィールド(‘author’ と ‘committer’
と ‘tagger’)には、名前付きコンポーネントを抽出するために ‘name’ と
‘email’ と ‘date’ の接尾辞を付けることができます。メールフィールド
(‘authoremail’ と ‘committeremail’ と ‘taggeremail’)の場合、 ‘:trim’ を
追加すると山かっこ(‘<’, ‘>’)なしでメールを取得し、 ‘:localpart’ を追加す
ると電子メールアドレスをトリミングして ‘@’ 記号の前の部分を取得できます
。

   オブジェクトの生データは ‘raw’ です。

raw:size
     オブジェクトの生データサイズ。

   注意: ‘--format=%(raw)’ は、 ‘--python’ や ‘--shell’ や ‘--tcl’ と一
緒に使用できないことに注意してください。これらのプログラム言語は、文字列
変数タイプで任意のバイナリデータをサポートしていない可能性があるためです
。

   コミットまたはタグオブジェクト内のメッセージは ‘contents’ であり、そ
こから ‘contents:<part>’ を使用して以下によりさまざまな部分を抽出できま
す:

contents:size
     コミットメッセージまたはタグメッセージのバイト単位のサイズ。

contents:subject
     メッセージの最初の段落(通常は1行)は、コミットまたはタグメッセージの
     「件名」(subject)と見なされます。 ‘contents：subject’ の代わりに、
     フィールド ‘subject’ を使用して同じ結果を取得することもできます。
     ‘subject’ に追加できる ‘:sanitize’ は、件名行をファイル名に適した形
     にします。

contents:body
     コミットメッセージまたはタグメッセージの「件名」に続く残りの部分。

contents:signature
     タグのオプションのGPG署名。

contents:lines=N
     メッセージの最初の N行。

   加えて、 git-interpret-trailers(1) によって解釈されるトレーラーは、
‘trailers[:options]’ として(または履歴エイリアス
‘contents:trailers[:options]’ を使用して)取得されます。有効な [:option]
値については、 git-log(1) の ‘trailers’ セクションを参照してください。

   並べ替えの目的のため、数値のフィールドは数値順で並べ替えられます
(‘objectsize’ 、‘authordate’ 、 ‘committerdate’ 、‘creatordate’ 、
‘taggerdate’)。他のすべてのフィールドは、バイト値の順序で並べ替えられま
す。

   バージョンで並べ替えるオプションもあります。これは、フィールド名
‘version:refname’ またはそのエイリアス ‘v:refname’ を使用して行うことが
できます。

   いずれの場合も、refによって参照されるオブジェクトに適用できないフィー
ルドを参照するフィールド名はエラーを引き起こしません。代わりに空文字列を
返します。

   日付タイプフィールドの特殊なケースとして、 ‘:’ の後に日付フォーマット
名を追加して日付のフォーマットを指定できます(git-rev-list(1) の ‘--date’
オプションのが取る値を参照してください)。

   %(align) や %(if) などの一部のアトムには、常に対応する %(end) が必要
です。 %(align) や %(if) などの一部のアトムを「開始アトム」(opening
atoms)と呼び、 %($open) と表記することもあります。

   スクリプト言語固有のクォートが有効な場合、トップレベルの開始アトムと
それに対応する %(end) の間のすべてが、トップレベル開始アトムのセマンティ
クスに従って評価され、そのトップレベルからの結果のみがクォートされます。


EXAMPLES
********

フォーマットされたテキストを直接生成する例。 直近の3つのタグ付きコミット
を表示します:

     #!/bin/sh

     git for-each-ref --count=3 --sort='-*authordate' \
     --format='From: %(*authorname) %(*authoremail)
     Subject: %(*subject)
     Date: %(*authordate)
     Ref: %(*refname)

     %(*body)
     ' 'refs/tags'

   出力でのshell evalの使用を示す簡単な例で、‘--shell’ の使用を示してい
ます。 すべてのheadのプレフィックスを一覧表示します:

     #!/bin/sh

     git for-each-ref --shell --format="ref=%(refname)" refs/heads | \
     while read entry
     do
             eval "$entry"
             echo `dirname $ref`
     done

   タグに関するもう少し手の込んだレポートで、スクリプト全体のフォーマッ
トである可能性があることを示しています:

     #!/bin/sh

     fmt='
             r=%(refname)
             t=%(*objecttype)
             T=${r#refs/tags/}

             o=%(*objectname)
             n=%(*authorname)
             e=%(*authoremail)
             s=%(*subject)
             d=%(*authordate)
             b=%(*body)

             kind=Tag
             if test "z$t" = z
             then
                     # could be a lightweight tag
                     t=%(objecttype)
                     kind="Lightweight tag"
                     o=%(objectname)
                     n=%(authorname)
                     e=%(authoremail)
                     s=%(subject)
                     d=%(authordate)
                     b=%(body)
             fi
             echo "$kind $T points at a $t object $o"
             if test "z$t" = zcommit
             then
                     echo "The commit was authored by $n $e
     at $d, and titled

         $s

     Its message reads as:
     "
                     echo "$b" | sed -e "s/^/    /"
                     echo
             fi
     '

     eval=`git for-each-ref --shell --format="$fmt" \
             --sort='*objecttype' \
             --sort=-taggerdate \
             refs/tags`
     eval "$eval"

   %(if) … %(then) … %(else) … %(end) の使用法を示す例。 これにより、現
在のブランチの前にアスタリスクが付けられます。

     git for-each-ref --format="%(if)%(HEAD)%(then)* %(else)  %(end)%(refname:short)" refs/heads/

   %(if) … %(then) … %(end) の使用法を示す例。 存在する場合、これは作者
名を出力します。

     git for-each-ref --format="%(refname)%(if)%(authorname)%(then) Authored by: %(authorname)%(end)"


CAVEATS
*******

注意: ディスク上のオブジェクトのサイズは正確に報告されますが、どのrefま
たはオブジェクトがディスクの使用に関与しているかについて結論を出す際には
注意が必要です。パックされた非デルタオブジェクトのサイズは、それに対して
デルタするオブジェクトのサイズよりもはるかに大きい場合がありますが、ベー
スとデルタのオブジェクトの選択は任意であり、再パック中に変更される可能性
があります。

   注意: オブジェクトの複数のコピーがオブジェクトデータベースに存在する
可能性があることにも注意してください。この場合、どのコピーのサイズまたは
デルタベースが報告されるかは未定義です。


NOTES
*****

複数の ‘--contains’ フィルターと ‘--no-contains’ フィルターを組み合わせ
る場合、少なくとも1つの ‘--contains’ コミットを含み、 ‘--no-contains’ コ
ミットを含まない参照のみが表示されます。

   複数の ‘--merged’ フィルターと ‘--no-merged’ フィルターを組み合わせる
と、少なくとも1つの ‘--merged’ コミットから到達可能で、 ‘--no-merged’ コ
ミットのいずれからも到達できない参照のみが表示されます。


SEE ALSO
********

git-show-ref(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-for-each-repo,  Up: Top

Name
****

git-for-each-repo — リポジトリのリストでGitコマンドを実行します


Synopsis
********

     git for-each-repo –config=<config> [–] <arguments>


DESCRIPTION
***********

リポジトリのリストでGitコマンドを実行します。既知のオプションや ‘--’ の
、後ろの引数は、Gitサブプロセスの引数として使用されます。

   ！！このコマンドは実験的なものです！！動作が変わる可能性があります！
！

   たとえば、以下を使用して、 ‘maintenance.repo’ 構成変数に格納されてい
るリポジトリのリストのそれぞれに対して maintenance を実行できます。

     git for-each-repo --config=maintenance.repo maintenance run

   これにより、複数値の構成変数である ‘maintenance.repo’ の各値である
‘<repo>’ ごとに ‘git -C <repo> maintenance run’ が実行されます。


OPTIONS
*******

‘--config=<config>’
     指定された構成変数を、絶対パス名を格納する複数値リストとして使用し
     ます。そのパスのリストを繰り返して(iterate)、指定された引数を実行し
     ます。

     これらの構成値は、利用可能な場合、システム、グローバル、およびロー
     カルのGit構成からロードされます。 ‘git for-each-repo’ がGitリポジト
     リではないディレクトリで実行される場合、システムとグローバル設定の
     みが使用されます。


SUBPROCESS BEHAVIOR
*******************

‘git -C <repo> <arguments>’ サブプロセスがゼロ以外の終了コードを返す場合
、 ‘git for-each-repo’ プロセスはそれ以上のサブプロセスを実行せずにその
終了コードを返します。

   各 ‘git -C <repo> <arguments>’ サブプロセスは、標準のファイルデスクリ
プタ ‘stdin’ と ‘stdout’ と ‘stderr’ を継承します。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-format-patch,  Up: Top

Name
****

git-format-patch — Prepare patches for e-mail submission


Synopsis
********

     git format-patch [-k] [(-o|–output-directory) <dir> | –stdout]
                        [–no-thread | –thread[=<style>]]
                        [(–attach|–inline)[=<boundary>] | –no-attach]
                        [-s | –signoff]
                        [–signature=<signature> | –no-signature]
                        [–signature-file=<file>]
                        [-n | –numbered | -N | –no-numbered]
                        [–start-number <n>] [–numbered-files]
                        [–in-reply-to=<message id>] [–suffix=.<sfx>]
                        [–ignore-if-in-upstream]
                        [–cover-from-description=<mode>]
                        [–rfc] [–subject-prefix=<subject prefix>]
                        [(–reroll-count|-v) <n>]
                        [–to=<email>] [–cc=<email>]
                        [–[no-]cover-letter] [–quiet]
                        [–[no-]encode-email-headers]
                        [–no-notes | –notes[=<ref>]]
                        [–interdiff=<previous>]
                        [–range-diff=<previous> [–creation-factor=<percent>]]
                        [–filename-max-length=<n>]
                        [–progress]
                        [<common diff options>]
                        [ <since> | <revision range> ]


DESCRIPTION
***********

Prepare each non-merge commit with its "patch" in one "message" per
commit, formatted to resemble a UNIX mailbox.  The output of this
command is convenient for e-mail submission or for use with _git am_.

   A "message" generated by the command consists of three parts:

   • A brief metadata header that begins with ‘From <commit>’ with a
     fixed ‘Mon Sep 17 00:00:00 2001’ datestamp to help programs like
     "file(1)" to recognize that the file is an output from this
     command, fields that record the author identity, the author date,
     and the title of the change (taken from the first paragraph of the
     commit log message).

   • The second and subsequent paragraphs of the commit log message.

   • The "patch", which is the "diff -p –stat" output (see git-diff(1))
     between the commit and its parent.

   The log message and the patch is separated by a line with a
three-dash line.

   There are two ways to specify which commits to operate on.

  1. A single commit, <since>, specifies that the commits leading to the
     tip of the current branch that are not in the history that leads to
     the <since> to be output.

  2. Generic <revision range> expression (see "SPECIFYING REVISIONS"
     section in gitrevisions(7)) means the commits in the specified
     range.

   The first rule takes precedence in the case of a single <commit>.  To
apply the second rule, i.e., format everything since the beginning of
history up until <commit>, use the ‘--root’ option: ‘git format-patch
--root <commit>’.  If you want to format only <commit> itself, you can
do this with ‘git format-patch -1 <commit>’.

   By default, each output file is numbered sequentially from 1, and
uses the first line of the commit message (massaged for pathname safety)
as the filename.  With the ‘--numbered-files’ option, the output file
names will only be numbers, without the first line of the commit
appended.  The names of the output files are printed to standard output,
unless the ‘--stdout’ option is specified.

   If ‘-o’ is specified, output files are created in <dir>.  Otherwise
they are created in the current working directory.  The default path can
be set with the ‘format.outputDirectory’ configuration option.  The ‘-o’
option takes precedence over ‘format.outputDirectory’.  To store patches
in the current working directory even when ‘format.outputDirectory’
points elsewhere, use ‘-o .’.  All directory components will be created.

   By default, the subject of a single patch is "[PATCH] " followed by
the concatenation of lines from the commit message up to the first blank
line (see the DISCUSSION section of git-commit(1)).

   When multiple patches are output, the subject prefix will instead be
"[PATCH n/m] ".  To force 1/1 to be added for a single patch, use ‘-n’.
To omit patch numbers from the subject, use ‘-N’.

   If given ‘--thread’, ‘git-format-patch’ will generate ‘In-Reply-To’
and ‘References’ headers to make the second and subsequent patch mails
appear as replies to the first mail; this also generates a ‘Message-Id’
header to reference.


OPTIONS
*******

‘-p’
‘--no-stat’
     diffstatsなしでプレーンパッチを生成します。

‘-U<n>’
‘--unified=<n>’
     通常の3行ではなく、<n> 行の内容でdiffを生成します。

‘--output=<file>’
     stdout ではなく指定のファイルに出力します。

‘--output-indicator-new=<char>’
‘--output-indicator-old=<char>’
‘--output-indicator-context=<char>’
     生成されたパッチの新しい行、古い行、またはコンテキスト行を示すため
     に使用される文字を指定します。 通常、それらはそれぞれ _+_ 、 _-_ 、
     ’ ’ です。

‘--indent-heuristic’
     diffハンクの境界をずらす(shift)ヒューリスティックを有効にして、パッ
     チを読みやすくします。 これがデフォルトです。

‘--no-indent-heuristic’
     インデントヒューリスティック(indent heuristic)を無効にします。

‘--minimal’
     より多くの時間を費やして、可能な限り最小のdiffが生成されるようにし
     ます。

‘--patience’
     "patience diff" アルゴリズムを使用してdiffを生成します。

‘--histogram’
     "histogram diff" アルゴリズムを使用してdiffを生成します。

‘--anchored=<text>’
     "anchored diff" アルゴリズムを使用してdiffを生成します。

     このオプションは複数回指定できます。

     行がソースと宛先の両方に存在し、1回だけ存在し、このテキストで始まる
     場合、このアルゴリズムは、その行が出力に削除または追加として表示さ
     れないようにします。内部で "patience diff" アルゴリズムを使用します
     。

‘--diff-algorithm={patience|minimal|histogram|myers}’
     diffアルゴリズムを選択します。その派生(variants)は以下のとおりです:

     ‘default’, ‘myers’
          基本的な貪欲な差分アルゴリズム(greedy diff algorithm)。現在、
          これがデフォルトです。

     ‘minimal’
          より多くの時間を費やして、可能な限り最小のdiffが生成されるよう
          にします。

     ‘patience’
          パッチを生成する時に "patience diff" アルゴリズムを使います。

     ‘histogram’
          このアルゴリズムは、忍耐アルゴリズム(patience algorithm)を拡張
          して、「発生率の低い共通要素をサポート」(support
          low-occurrence common elements)します。

     たとえば、 あなたが ‘diff.algorithm’ 変数をデフォルト以外の値に設定
     した上で、それでもデフォルト値を使用する場合は、
     ‘--diff-algorithm=default’ オプションを使用する必要があります。

‘--stat[=<width>[,<name-width>[,<count>]]]’
     diffstatを生成します。 デフォルトでは、必要なだけのスペースがファイ
     ル名部分に使用され、残りはグラフ部分に使用されます。最大幅はデフォ
     ルトで端末幅、または端末に接続されていない場合は80桁であり、
     ‘<width>’ で上書きできます。ファイル名部分の幅は、コンマの後に別の
     幅 ‘<name-width>’ を指定することで制限できます。グラフ部分の幅は、
     ‘--stat-graph-width=<width>’ (統計グラフを生成するすべてのコマンド
     に影響します)を使用するか、 ‘diff.statGraphWidth=<width>’ ( ‘git
     format-patch’ に影響しません)を設定することによって制限できます。
     3番目のパラメータ ‘<count>’ を指定することにより、出力を最初の
     ‘<count>’ 行に制限し、それに ‘...’ が続く形にできます。

     これらのパラメータは、 ‘--stat-width=<width>’ と
     ‘--stat-name-width=<name-width>’ と ‘--stat-count=<count>’ を使用し
     て個別に設定することもできます。

‘--compact-summary’
     ファイルの作成や削除( "new" または "gone" 。オプションでシンボリッ
     クリンクの場合は "+l" )、diffstatのモード変更(実行可能ビットを追加
     または削除する場合は、それぞれ "+x" または "-x" )など、拡張ヘッダー
     情報の要約を出力します。情報はファイル名部分とグラフ部分の間に置か
     れます。本機能は ‘--stat’ の機能を含んでいます。

‘--numstat’
     ‘--stat`に似ていますが、プログラムで処理しやすい(machine friendly)よ
     うに、追加および削除された行数を10進表記とパス名で省略形なしで表示
     します。バイナリファイルの場合、 `0 0’ の代わりに2つの ‘-’ を出力し
     ます。

‘--shortstat’
     変更されたファイルの総数と、追加および削除された行の数を含む
     ‘--stat’ 形式の最後の行のみを出力します。

‘-X[<param1,param2,...>]’
‘--dirstat[=<param1,param2,...>]’
     各サブディレクトリの相対的な変更量の分布を出力します。 ‘--dirstat’
     の動作は、パラメータのコンマ区切りリストを渡すことでカスタマイズで
     きます。デフォルトは、 ‘diff.dirstat’ 構成変数によって制御されます
     (git-config(1) 参照)。以下のパラメータを使用できます:

     ‘changes’
          ソースから削除された、または宛先に追加された行をカウントして、
          dirstat数を計算します。これは、ファイル内の純粋なコード移動の
          量を無視します。つまり、ファイル内の行の再配置は、他の変更ほど
          カウントされません。これは、パラメーターが指定されていない場合
          のデフォルトの動作です。

     ‘lines’
          通常の行ベースのdiff分析を実行し、削除/追加された行数を合計し
          て、dirstat数を計算します。 (バイナリファイルの場合、バイナリ
          ファイルには行の概念がないため、代わりに64バイトのチャンクをカ
          ウントします)。 これは ‘changes’ 動作よりも高価な ‘--dirstat’
          動作ですが、他の変更と同じようにファイル内の再配置された行をカ
          ウントします。結果の出力は、他の ‘--*stat’ オプションから得ら
          れるものと一致しています。

     ‘files’
          変更されたファイルの数を数えて、dirstat数を計算します。変更さ
          れた各ファイルは、dirstat分析で等しくカウントされます。これは
          、ファイルの内容をまったく調べる必要がないため、計算コストが最
          もかからない ‘--dirstat’ の動作です。

     ‘cumulative’
          親ディレクトリの子ディレクトリの変更も同様にカウントします。
          ‘cumulative’(累積的) を使用する場合、報告されるパーセンテージ
          の合計が100%を超える場合があることに注意してください。デフォル
          トの(非累積的な)動作は、‘noncumulative’ パラメーターで指定でき
          ます。

     <limit>
          整数パラメーターは、カットオフパーセント(デフォルトでは3%)を指
          定します。指定の割合より少ないディレクトリは、出力に表示されま
          せん。

     例: 変更されたファイルの総数の10%未満のディレクトリを無視し、親ディ
     レクトリに子ディレクトリの数を累積しながら、変更されたファイルをカ
     ウント: ‘--dirstat=files,10,cumulative’

‘--cumulative’
     ‘--dirstat=cumulative’ と同義語

‘--dirstat-by-file[=<param1,param2>...]’
     ‘--dirstat=files,param1,param2...’ と同義語

‘--summary’
     作成、名前変更、モード変更などの拡張ヘッダー情報の短い要約
     (condensed summary)を出力します。

‘--no-renames’
     構成ファイルにデフォルトで指定されている場合でも、名前変更の検出を
     オフにします。

‘--[no-]rename-empty’
     名前変更ソースとして空のブロブを使用するかどうか。

‘--full-index’
     パッチ形式の出力を生成するときは、最初の一握りの文字(first handful
     of characters)の代わりに、「インデックス」行にイメージ前およびイメ
     ージ後の完全ブロブオブジェクト名を表示します。

‘--binary’
     ‘--full-index’ に加えて、 ‘git-apply’ で適用できるバイナリ差分を出
     力します。

‘--abbrev[=<n>]’
     完全な40バイトの16進オブジェクト名をdiff-raw形式の出力とdiff-treeヘ
     ッダー行に表示する代わりに、オブジェクトを一意に参照する、少なくと
     も _<n>_ 桁の16進数の長さの最短のプレフィックスを表示します。diffパ
     ッチ出力形式では、 ‘--full-index’ が優先されます。つまり、
     ‘--full-index’ が指定されている場合、 ‘--abbrev’ に関係なく、完全な
     ブロブ名が表示されます。デフォルト以外の桁数は、 ‘--abbrev=<n>’ で
     指定できます。

‘-B[<n>][/<m>]’
‘--break-rewrites[=[<n>][/<m>]]’
     完全な書き換えの変更を削除と作成のペアに分割します。これには以下の
     2つの目的があります:

     これは、ファイルの完全な書き換えに相当する変更が、コンテキストとし
     てテキストで一致する非常に少数の行と混合された一連の削除と挿入とし
     てではなく、古いものすべての単一の削除とそれに続く すべての新しいも
     のを1回挿入し、数値 ‘m’ が -B オプションのこの側面を制御します(デフ
     ォルトは60%)。 ‘-B/70%’ は、Gitがそれを完全な書き換えと見なすために
     、元の30%未満が結果に残る必要があることを指定します(つまり、結果の
     パッチは、コンテキスト行と混合された一連の削除と挿入になります)。

     -M と一緒に使用すると、完全に書き換えられたファイルも名前変更のソー
     スと見なされ(通常、 -M は、消えたファイルのみを名前変更のソースと見
     なします)、数 ‘n’ が -Bオプションのこの側面を制御します(デフォルト
     は50%)。 ‘-B20%’ は、ファイルのサイズの20%以上と比較して、追加およ
     び削除を伴う変更が、別のファイルへの名前変更の可能なソースとして取
     得される資格があることを指定します。

‘-M[<n>]’
‘--find-renames[=<n>]’
     名前の変更(renames)を検知する。 ‘n’ が指定されている場合、それは類
     似性インデックスのしきい値です (つまり、ファイルのサイズと比較した
     追加/削除の量)。 たとえば、 ‘-M90%’ は、ファイルの90%以上が変更され
     ていない場合、 Gitが削除/追加のペアを名前変更と見なす必要があること
     を意味します。 ‘%’ 記号がない場合、数値は小数として読み取られ、その
     前に小数点が付きます。 つまり、 ‘-M5’ は0.5になるため、‘-M50%’ と同
     じになります。 同様に、 ‘-M05’ は ‘-M5%’ と同じです。 検出を正確な
     名前変更に制限するには、 ‘-M100%’ を使用します。 デフォルトの類似性
     インデックスは50%です。

‘-C[<n>]’
‘--find-copies[=<n>]’
     名前と同様コピーを検出します。 ‘--find-copies-harder’ ‘も参照してく
     ださい。 `n’ を指定すると、 ‘-M<n>’ と同じ意味になります。

‘--find-copies-harder’
     パフォーマンス上の理由から、デフォルトでは、 ‘-C’ オプションは、コ
     ピーの元のファイルが同じ変更組(changeset)で変更された場合にのみコピ
     ーを検索します。このフラグにより、コマンドは変更されていないファイ
     ルをコピー元の候補として検査します。これは大規模なプロジェクトでは
     非常にコストのかかる操作であるため、注意して使用してください。 複数
     の ‘-C’ オプションを指定しても同じ効果があります。

‘-D’
‘--irreversible-delete’
     削除するプレイメージ(preimage)を省略します。つまり、ヘッダーのみを
     出力し、プレイメージと ‘/dev/null’ の差分は出力しません。結果のパッ
     チは、 ‘patch’ または ‘git apply’ で適用されることを意図していませ
     ん。これは、変更後にテキストを確認することに集中したい人のためだけ
     のものです。さらに、出力には明らかに、そのようなパッチを手動でも逆
     に適用するのに十分な情報が不足しているため、オプションの名前が付け
     られています。

     ‘-B’ と併用する場合は、削除/作成ペアの削除部分のプリイメージ
     (preimage)も省略してください。

‘-l<num>’
     ‘-M’ および ‘-C’ オプションには、名前変更/コピーのサブセットを安価
     に検出できるいくつかの準備手順が含まれ、その後に、残りのすべてのペ
     アになっていない宛先をすべての関連ソースと比較する徹底的なフォール
     バック部分が続きます。(名前の変更の場合、残りのペアになっていないソ
     ースのみが関係します。コピーの場合、すべての元のソースが関係します
     )。Nのソースと宛先の場合、この徹底的なチェックのコストは O(N^2) で
     す。このオプションは、関係するソース/宛先ファイルの数が指定された数
     を超えた場合に、名前変更/コピー検出の完全な部分が実行されないように
     します。デフォルトは diff.renameLimit です。 値0は無制限として扱わ
     れることに注意してください。

‘-O<orderfile>’
     ファイルが出力に表示される順序を制御します。これは ‘diff.orderFile’
     構成変数をオーバーライドします(git-config(1) 参照)。
     ‘diff.orderFile’ をキャンセルするには、 ‘-O/dev/null’ を使用します
     。

     出力順序は、 <orderfile> 内のglobパターンの順序によって決定されます
     。最初のパターンに一致するパス名を持つすべてのファイルが最初に出力
     され、2番目のパターンに一致する(ただし最初のパターンには一致しない
     )パス名を持つすべてのファイルが次に出力されます。パス名がどのパター
     ンとも一致しないすべてのファイルは、ファイルの最後に暗黙のすべて一
     致パターンがあるかのように、最後に出力されます。複数のパス名のラン
     クが同じである場合(同じパターンに一致するが、以前のパターンには一致
     しない)、相互の出力順序は通常の順序です。

     <orderfile> は以下のとおりパースされます:

        • 空白行は無視されるため、読みやすくするための区切りとして使用で
          きます。

        • ハッシュ ("‘#’") で始まる行は無視されるため、コメントに使用で
          きます。 パターンがハッシュで始まる場合は、パターンの先頭にバ
          ックスラッシュ(訳注:日本では環境により円記号)("‘\’") を追加し
          ます。

        • 他の各行には、単一のパターンが含まれています。

     パターンは、 FNM_PATHNAME フラグなしで fnmatch(3) に使用されるパタ
     ーンと同じ構文とセマンティクスを持ちますが、最終的なパス名コンポー
     ネントをいくつも削除するとパターンと一致する場合、パス名もパターン
     と一致する点が異なります。 たとえば、パターン "‘foo*bar’" は、
     "‘fooasdfbar’" および "‘foo/bar/baz/asdf’" と一致しますが、
     "‘foobarx’" とは一致しません。

‘--skip-to=<file>’
‘--rotate-to=<file>’
     名前付き <file> の前のファイルを出力から破棄するか(スキップして)、
     出力の最後に移動させます(ローテーションさせます)。 これらは主に
     ‘git difftool’ コマンドを使用するために考案されたものであり、それ以
     外の場合はあまり役に立たない可能性があります。

‘--relative[=<path>]’
‘--no-relative’
     プロジェクトのサブディレクトリから実行する場合、このオプションを使
     用して、ディレクトリ外の変更を除外し、それに関連するパス名を表示す
     るように指示できます。サブディレクトリ(ベアリポジトリなど)にいない
     場合は、引数として <path> を指定することで、出力を作成するサブディ
     レクトリに名前を付けることができます。 ‘--no-relative`は、
     `diff.relative’ 設定オプションと以前の ‘--relative’ の両方を打ち消
     すために使用できます。

‘-a’
‘--text’
     すべてのファイルをテキストとして扱います。

‘--ignore-cr-at-eol’
     比較を行うときは、行末のキャリッジリターン(carriage-return)を無視し
     ます。

‘--ignore-space-at-eol’
     行末(EOL)での空白(whitespace)の変更を無視します。

‘-b’
‘--ignore-space-change’
     空白(whitespace)の数の変更は無視してください。これは、行末の空白
     (whitespace)を無視し、1つ以上の空白文字(whitespace characters)の他
     のすべてのシーケンスを同等と見なします。

‘-w’
‘--ignore-all-space’
     行を比較するときは空白を無視します。 これにより、一方の行に空白があ
     り、もう一方の行に空白がない場合でも、違いは無視されます。

‘--ignore-blank-lines’
     全て空白の行の変更は無視します。

‘-I<regex>’
‘--ignore-matching-lines=<regex>’
     すべての行が <regex> にマッチする変更を無視します。このオプションは
     複数回指定できます。

‘--inter-hunk-context=<lines>’
     指定された行数までの差分ハンク間のコンテキストを表示し、それによっ
     て互いに近いハンクを融合します。デフォルトは
     ‘diff.interHunkContext’ で、設定オプションが設定されていない場合は
     0です。

‘-W’
‘--function-context’
     関数全体を各変更のコンテキスト行として表示します。関数名は、 ‘git
     diff’ がパッチハンクヘッダーを処理するのと同じ方法で決定されます
     (gitattributes(5) の _Defining a custom hunk-header_ を参照)。

‘--ext-diff’
     外部diffヘルパーの実行を許可します。 gitattributes(5) を使用して外
     部diffドライバーを設定する場合は、 git-log(1) およびその仲間と一緒
     にこのオプションを使用する必要があります。

‘--no-ext-diff’
     外部diffドライバーを禁止します。

‘--textconv’
‘--no-textconv’
     バイナリファイルを比較するときに、外部テキスト変換フィルターの実行
     を許可(または禁止)します。 詳細については、 gitattributes(5) を参照
     してください。textconvフィルターは通常、一方向の変換であるため、結
     果のdiffは人間の消費に適していますが、適用(apply)することはできませ
     ん。このため、textconvフィルターは、 git-diff(1) および git-log(1)
     に対してのみデフォルトで有効になりますが、 git-format-patch(1) また
     はdiff配管コマンドに対しては有効になりません。

‘--ignore-submodules[=<when>]’
     diff生成のサブモジュールへの変更を無視します。 <when> は、 none・
     untracked・dirty・allのいずれかになります。これがデフォルトです。
     noneを使用すると、追跡されていないファイルまたは変更されたファイル
     が含まれている場合、またはそのHEADがスーパープロジェクトに記録され
     ているコミットと異なる場合にサブモジュールが変更されたと見なされ、
     git-config(1) または gitmodules(5) の ignoreオプションの設定をオー
     バーライドするために使用できます。untrackedが使用されている場合、サ
     ブモジュールには追跡されていないコンテンツのみが含まれている場合、
     サブモジュールはダーティとは見なされません(ただし、変更されたコンテ
     ンツはスキャンされます)。「dirty」を使用すると、サブモジュールの作
     業ツリーへのすべての変更が無視され、スーパープロジェクトに格納され
     ているコミットへの変更のみが表示されます(これは1.7.0までの動作でし
     た)。「all」を使用すると、サブモジュールへのすべての変更が非表示に
     なります。

‘--src-prefix=<prefix>’
     "a/" の代わりに、与えられたソースプレフィックス(source prefix)を表
     示します。

‘--dst-prefix=<prefix>’
     "b/" の代わりに、指定された宛先プレフィックス(destination prefix)を
     表示します。

‘--no-prefix’
     送信元(source)または宛先(destination)のプレフィックスを表示しません
     。

‘--line-prefix=<prefix>’
     出力のすべての行に追加のプレフィックスを付加します。

‘--ita-invisible-in-index’
     デフォルトでは、 "git add -N" によって追加されたエントリは、 "git
     diff" に既存の空のファイルとして表示され、 "git diff –cached" に新
     しいファイルとして表示されます。このオプションを使用すると、エント
     リは "git diff" では新しいファイルとして表示され、 "git diff
     –cached" では存在しません。このオプションは、
     ‘--ita-visible-in-index’ で元に戻すことができます。どちらのオプショ
     ンも実験的なものであり、将来削除される可能性があります。

   これらの一般的なオプションの詳細については、 gitdiffcore(7) も参照し
てください。

‘-<n>’
     Prepare patches from the topmost <n> commits.

‘-o <dir>’
‘--output-directory <dir>’
     Use <dir> to store the resulting files, instead of the current
     working directory.

‘-n’
‘--numbered’
     Name output in _[PATCH n/m]_ format, even with a single patch.

‘-N’
‘--no-numbered’
     Name output in _[PATCH]_ format.

‘--start-number <n>’
     Start numbering the patches at <n> instead of 1.

‘--numbered-files’
     Output file names will be a simple number sequence without the
     default first line of the commit appended.

‘-k’
‘--keep-subject’
     Do not strip/add _[PATCH]_ from the first line of the commit log
     message.

‘-s’
‘--signoff’
     Add a ‘Signed-off-by’ trailer to the commit message, using the
     committer identity of yourself.  See the signoff option in
     git-commit(1) for more information.

‘--stdout’
     Print all commits to the standard output in mbox format, instead of
     creating a file for each one.

‘--attach[=<boundary>]’
     Create multipart/mixed attachment, the first part of which is the
     commit message and the patch itself in the second part, with
     ‘Content-Disposition: attachment’.

‘--no-attach’
     Disable the creation of an attachment, overriding the configuration
     setting.

‘--inline[=<boundary>]’
     Create multipart/mixed attachment, the first part of which is the
     commit message and the patch itself in the second part, with
     ‘Content-Disposition: inline’.

‘--thread[=<style>]’
‘--no-thread’
     Controls addition of ‘In-Reply-To’ and ‘References’ headers to make
     the second and subsequent mails appear as replies to the first.
     Also controls generation of the ‘Message-Id’ header to reference.

     The optional <style> argument can be either ‘shallow’ or ‘deep’.
     _shallow_ threading makes every mail a reply to the head of the
     series, where the head is chosen from the cover letter, the
     ‘--in-reply-to’, and the first patch mail, in this order.  _deep_
     threading makes every mail a reply to the previous one.

     The default is ‘--no-thread’, unless the ‘format.thread’
     configuration is set.  If ‘--thread’ is specified without a style,
     it defaults to the style specified by ‘format.thread’ if any, or
     else ‘shallow’.

     Beware that the default for _git send-email_ is to thread emails
     itself.  If you want ‘git format-patch’ to take care of threading,
     you will want to ensure that threading is disabled for ‘git
     send-email’.

‘--in-reply-to=<message id>’
     Make the first mail (or all the mails with ‘--no-thread’) appear as
     a reply to the given <message id>, which avoids breaking threads to
     provide a new patch series.

‘--ignore-if-in-upstream’
     Do not include a patch that matches a commit in <until>..<since>.
     This will examine all patches reachable from <since> but not from
     <until> and compare them with the patches being generated, and any
     patch that matches is ignored.

‘--cover-from-description=<mode>’
     Controls which parts of the cover letter will be automatically
     populated using the branch’s description.

     If ‘<mode>’ is ‘message’ or ‘default’, the cover letter subject
     will be populated with placeholder text.  The body of the cover
     letter will be populated with the branch’s description.  This is
     the default mode when no configuration nor command line option is
     specified.

     If ‘<mode>’ is ‘subject’, the first paragraph of the branch
     description will populate the cover letter subject.  The remainder
     of the description will populate the body of the cover letter.

     If ‘<mode>’ is ‘auto’, if the first paragraph of the branch
     description is greater than 100 bytes, then the mode will be
     ‘message’, otherwise ‘subject’ will be used.

     If ‘<mode>’ is ‘none’, both the cover letter subject and body will
     be populated with placeholder text.

‘--subject-prefix=<subject prefix>’
     Instead of the standard _[PATCH]_ prefix in the subject line,
     instead use _[<subject prefix>]_.  This allows for useful naming of
     a patch series, and can be combined with the ‘--numbered’ option.

‘--filename-max-length=<n>’
     Instead of the standard 64 bytes, chomp the generated output
     filenames at around _<n>_ bytes (too short a value will be silently
     raised to a reasonable length).  Defaults to the value of the
     ‘format.filenameMaxLength’ configuration variable, or 64 if
     unconfigured.

‘--rfc’
     Alias for ‘--subject-prefix="RFC PATCH"’.  RFC means "Request For
     Comments"; use this when sending an experimental patch for
     discussion rather than application.

‘-v <n>’
‘--reroll-count=<n>’
     Mark the series as the <n>-th iteration of the topic.  The output
     filenames have ‘v<n>’ prepended to them, and the subject prefix
     ("PATCH" by default, but configurable via the ‘--subject-prefix’
     option) has ‘ v<n>‘ appended to it.  E.g.  ‘--reroll-count=4’ may
     produce ‘v4-0001-add-makefile.patch’ file that has "Subject: [PATCH
     v4 1/20] Add makefile" in it.  ‘<n>’ does not have to be an integer
     (e.g.  "–reroll-count=4.4", or "–reroll-count=4rev2" are allowed),
     but the downside of using such a reroll-count is that the
     range-diff/interdiff with the previous version does not state
     exactly which version the new interation is compared against.

‘--to=<email>’
     Add a ‘To:’ header to the email headers.  This is in addition to
     any configured headers, and may be used multiple times.  The
     negated form ‘--no-to’ discards all ‘To:’ headers added so far
     (from config or command line).

‘--cc=<email>’
     Add a ‘Cc:’ header to the email headers.  This is in addition to
     any configured headers, and may be used multiple times.  The
     negated form ‘--no-cc’ discards all ‘Cc:’ headers added so far
     (from config or command line).

‘--from’
‘--from=<ident>’
     Use ‘ident’ in the ‘From:’ header of each commit email.  If the
     author ident of the commit is not textually identical to the
     provided ‘ident’, place a ‘From:’ header in the body of the message
     with the original author.  If no ‘ident’ is given, use the
     committer ident.

     Note that this option is only useful if you are actually sending
     the emails and want to identify yourself as the sender, but retain
     the original author (and ‘git am’ will correctly pick up the
     in-body header).  Note also that ‘git send-email’ already handles
     this transformation for you, and this option should not be used if
     you are feeding the result to ‘git send-email’.

‘--add-header=<header>’
     Add an arbitrary header to the email headers.  This is in addition
     to any configured headers, and may be used multiple times.  For
     example, ‘--add-header="Organization: git-foo"’.  The negated form
     ‘--no-add-header’ discards *all* (‘To:’, ‘Cc:’, and custom) headers
     added so far from config or command line.

‘--[no-]cover-letter’
     In addition to the patches, generate a cover letter file containing
     the branch description, shortlog and the overall diffstat.  You can
     fill in a description in the file before sending it out.

‘--encode-email-headers’
‘--no-encode-email-headers’
     Encode email headers that have non-ASCII characters with
     "Q-encoding" (described in RFC 2047), instead of outputting the
     headers verbatim.  Defaults to the value of the
     ‘format.encodeEmailHeaders’ configuration variable.

‘--interdiff=<previous>’
     As a reviewer aid, insert an interdiff into the cover letter, or as
     commentary of the lone patch of a 1-patch series, showing the
     differences between the previous version of the patch series and
     the series currently being formatted.  ‘previous’ is a single
     revision naming the tip of the previous series which shares a
     common base with the series being formatted (for example ‘git
     format-patch --cover-letter --interdiff=feature/v1 -3 feature/v2’).

‘--range-diff=<previous>’
     As a reviewer aid, insert a range-diff (see git-range-diff(1)) into
     the cover letter, or as commentary of the lone patch of a 1-patch
     series, showing the differences between the previous version of the
     patch series and the series currently being formatted.  ‘previous’
     can be a single revision naming the tip of the previous series if
     it shares a common base with the series being formatted (for
     example ‘git format-patch --cover-letter --range-diff=feature/v1 -3
     feature/v2’), or a revision range if the two versions of the series
     are disjoint (for example ‘git format-patch --cover-letter
     --range-diff=feature/v1~3..feature/v1 -3 feature/v2’).

     Note that diff options passed to the command affect how the primary
     product of ‘format-patch’ is generated, and they are not passed to
     the underlying ‘range-diff’ machinery used to generate the
     cover-letter material (this may change in the future).

‘--creation-factor=<percent>’
     Used with ‘--range-diff’, tweak the heuristic which matches up
     commits between the previous and current series of patches by
     adjusting the creation/deletion cost fudge factor.  See
     git-range-diff(1)) for details.

‘--notes[=<ref>]’
‘--no-notes’
     Append the notes (see git-notes(1)) for the commit after the
     three-dash line.

     The expected use case of this is to write supporting explanation
     for the commit that does not belong to the commit log message
     proper, and include it with the patch submission.  While one can
     simply write these explanations after ‘format-patch’ has run but
     before sending, keeping them as Git notes allows them to be
     maintained between versions of the patch series (but see the
     discussion of the ‘notes.rewrite’ configuration options in
     git-notes(1) to use this workflow).

     The default is ‘--no-notes’, unless the ‘format.notes’
     configuration is set.

‘--[no-]signature=<signature>’
     Add a signature to each message produced.  Per RFC 3676 the
     signature is separated from the body by a line with ’– ’ on it.  If
     the signature option is omitted the signature defaults to the Git
     version number.

‘--signature-file=<file>’
     Works just like –signature except the signature is read from a
     file.

‘--suffix=.<sfx>’
     Instead of using ‘.patch’ as the suffix for generated filenames,
     use specified suffix.  A common alternative is ‘--suffix=.txt’.
     Leaving this empty will remove the ‘.patch’ suffix.

     Note that the leading character does not have to be a dot; for
     example, you can use ‘--suffix=-patch’ to get
     ‘0001-description-of-my-change-patch’.

‘-q’
‘--quiet’
     Do not print the names of the generated files to standard output.

‘--no-binary’
     Do not output contents of changes in binary files, instead display
     a notice that those files changed.  Patches generated using this
     option cannot be applied properly, but they are still useful for
     code review.

‘--zero-commit’
     Output an all-zero hash in each patch’s From header instead of the
     hash of the commit.

‘--[no-]base[=<commit>]’
     Record the base tree information to identify the state the patch
     series applies to.  See the BASE TREE INFORMATION section below for
     details.  If <commit> is "auto", a base commit is automatically
     chosen.  The ‘--no-base’ option overrides a ‘format.useAutoBase’
     configuration.

‘--root’
     Treat the revision argument as a <revision range>, even if it is
     just a single commit (that would normally be treated as a <since>).
     Note that root commits included in the specified range are always
     formatted as creation patches, independently of this flag.

‘--progress’
     Show progress reports on stderr as patches are generated.


CONFIGURATION
*************

You can specify extra mail header lines to be added to each message,
defaults for the subject prefix and file suffix, number patches when
outputting more than one patch, add "To:" or "Cc:" headers, configure
attachments, change the patch output directory, and sign off patches
with configuration variables.

     [format]
             headers = "Organization: git-foo\n"
             subjectPrefix = CHANGE
             suffix = .txt
             numbered = auto
             to = <email>
             cc = <email>
             attach [ = mime-boundary-string ]
             signOff = true
             outputDirectory = <directory>
             coverLetter = auto
             coverFromDescription = auto


DISCUSSION
**********

The patch produced by _git format-patch_ is in UNIX mailbox format, with
a fixed "magic" time stamp to indicate that the file is output from
format-patch rather than a real mailbox, like so:

     From 8f72bad1baf19a53459661343e21d6491c3908d3 Mon Sep 17 00:00:00 2001
     From: Tony Luck <tony.luck@intel.com>
     Date: Tue, 13 Jul 2010 11:42:54 -0700
     Subject: [PATCH] =?UTF-8?q?[IA64]=20Put=20ia64=20config=20files=20on=20the=20?=
      =?UTF-8?q?Uwe=20Kleine-K=C3=B6nig=20diet?=
     MIME-Version: 1.0
     Content-Type: text/plain; charset=UTF-8
     Content-Transfer-Encoding: 8bit

     arch/arm config files were slimmed down using a python script
     (See commit c2330e286f68f1c408b4aa6515ba49d57f05beae comment)

     Do the same for ia64 so we can have sleek & trim looking
     ...

   Typically it will be placed in a MUA’s drafts folder, edited to add
timely commentary that should not go in the changelog after the three
dashes, and then sent as a message whose body, in our example, starts
with "arch/arm config files were…".  On the receiving end, readers can
save interesting patches in a UNIX mailbox and apply them with
git-am(1).

   When a patch is part of an ongoing discussion, the patch generated by
_git format-patch_ can be tweaked to take advantage of the _git am
–scissors_ feature.  After your response to the discussion comes a line
that consists solely of "‘-- >8 --’" (scissors and perforation),
followed by the patch with unnecessary header fields removed:

     ...
     > So we should do such-and-such.

     Makes sense to me.  How about this patch?

     -- >8 --
     Subject: [IA64] Put ia64 config files on the Uwe Kleine-König diet

     arch/arm config files were slimmed down using a python script
     ...

   When sending a patch this way, most often you are sending your own
patch, so in addition to the "‘From $SHA1 $magic_timestamp’" marker you
should omit ‘From:’ and ‘Date:’ lines from the patch file.  The patch
title is likely to be different from the subject of the discussion the
patch is in response to, so it is likely that you would want to keep the
Subject: line, like the example above.


Checking for patch corruption
=============================

Many mailers if not set up properly will corrupt whitespace.  Here are
two common types of corruption:

   • Empty context lines that do not have _any_ whitespace.

   • Non-empty context lines that have one extra whitespace at the
     beginning.

   One way to test if your MUA is set up correctly is:

   • Send the patch to yourself, exactly the way you would, except with
     To: and Cc: lines that do not contain the list and maintainer
     address.

   • Save that patch to a file in UNIX mailbox format.  Call it a.patch,
     say.

   • Apply it:

          $ git fetch <project> master:test-apply
          $ git switch test-apply
          $ git restore --source=HEAD --staged --worktree :/
          $ git am a.patch

   If it does not apply correctly, there can be various reasons.

   • The patch itself does not apply cleanly.  That is _bad_ but does
     not have much to do with your MUA. You might want to rebase the
     patch with git-rebase(1) before regenerating it in this case.

   • The MUA corrupted your patch; "am" would complain that the patch
     does not apply.  Look in the .git/rebase-apply/ subdirectory and
     see what _patch_ file contains and check for the common corruption
     patterns mentioned above.

   • While at it, check the _info_ and _final-commit_ files as well.  If
     what is in _final-commit_ is not exactly what you would want to see
     in the commit log message, it is very likely that the receiver
     would end up hand editing the log message when applying your patch.
     Things like "Hi, this is my first patch.\n" in the patch e-mail
     should come after the three-dash line that signals the end of the
     commit message.


MUA-SPECIFIC HINTS
******************

Here are some hints on how to successfully submit patches inline using
various mailers.


GMail
=====

GMail does not have any way to turn off line wrapping in the web
interface, so it will mangle any emails that you send.  You can however
use "git send-email" and send your patches through the GMail SMTP
server, or use any IMAP email client to connect to the google IMAP
server and forward the emails through that.

   For hints on using _git send-email_ to send your patches through the
GMail SMTP server, see the EXAMPLE section of git-send-email(1).

   For hints on submission using the IMAP interface, see the EXAMPLE
section of git-imap-send(1).


Thunderbird
===========

By default, Thunderbird will both wrap emails as well as flag them as
being _format=flowed_, both of which will make the resulting email
unusable by Git.

   There are three different approaches: use an add-on to turn off line
wraps, configure Thunderbird to not mangle patches, or use an external
editor to keep Thunderbird from mangling the patches.


Approach #1 (add-on)
--------------------

Install the Toggle Word Wrap add-on that is available from
https://addons.mozilla.org/thunderbird/addon/toggle-word-wrap/
(https://addons.mozilla.org/thunderbird/addon/toggle-word-wrap/) It adds
a menu entry "Enable Word Wrap" in the composer’s "Options" menu that
you can tick off.  Now you can compose the message as you otherwise do
(cut + paste, _git format-patch_ | _git imap-send_, etc), but you have
to insert line breaks manually in any text that you type.


Approach #2 (configuration)
---------------------------

Three steps:

  1. Configure your mail server composition as plain text: Edit…Account
     Settings…Composition & Addressing, uncheck "Compose Messages in
     HTML".

  2. Configure your general composition window to not wrap.

     In Thunderbird 2: Edit..Preferences..Composition, wrap plain text
     messages at 0

     In Thunderbird 3: Edit..Preferences..Advanced..Config Editor.
     Search for "mail.wrap_long_lines".  Toggle it to make sure it is
     set to ‘false’.  Also, search for "mailnews.wraplength" and set the
     value to 0.

  3. Disable the use of format=flowed:
     Edit..Preferences..Advanced..Config Editor.  Search for
     "mailnews.send_plaintext_flowed".  Toggle it to make sure it is set
     to ‘false’.

   After that is done, you should be able to compose email as you
otherwise would (cut + paste, _git format-patch_ | _git imap-send_,
etc), and the patches will not be mangled.


Approach #3 (external editor)
-----------------------------

The following Thunderbird extensions are needed: AboutConfig from
http://aboutconfig.mozdev.org/ (http://aboutconfig.mozdev.org/) and
External Editor from http://globs.org/articles.php?lng=en&pg=8
(http://globs.org/articles.php?lng=en&pg=8)

  1. Prepare the patch as a text file using your method of choice.

  2. Before opening a compose window, use Edit→Account Settings to
     uncheck the "Compose messages in HTML format" setting in the
     "Composition & Addressing" panel of the account to be used to send
     the patch.

  3. In the main Thunderbird window, _before_ you open the compose
     window for the patch, use Tools→about:config to set the following
     to the indicated values:

                  mailnews.send_plaintext_flowed  => false
                  mailnews.wraplength             => 0

  4. Open a compose window and click the external editor icon.

  5. In the external editor window, read in the patch file and exit the
     editor normally.

   Side note: it may be possible to do step 2 with about:config and the
following settings but no one’s tried yet.

             mail.html_compose                       => false
             mail.identity.default.compose_html      => false
             mail.identity.id?.compose_html          => false

   There is a script in contrib/thunderbird-patch-inline which can help
you include patches with Thunderbird in an easy way.  To use it, do the
steps above and then use the script as the external editor.


KMail
=====

This should help you to submit patches inline using KMail.

  1. Prepare the patch as a text file.

  2. Click on New Mail.

  3. Go under "Options" in the Composer window and be sure that "Word
     wrap" is not set.

  4. Use Message → Insert file… and insert the patch.

  5. Back in the compose window: add whatever other text you wish to the
     message, complete the addressing and subject fields, and press
     send.


BASE TREE INFORMATION
*********************

The base tree information block is used for maintainers or third party
testers to know the exact state the patch series applies to.  It
consists of the _base commit_, which is a well-known commit that is part
of the stable part of the project history everybody else works off of,
and zero or more _prerequisite patches_, which are well-known patches in
flight that is not yet part of the _base commit_ that need to be applied
on top of _base commit_ in topological order before the patches can be
applied.

   The _base commit_ is shown as "base-commit: " followed by the 40-hex
of the commit object name.  A _prerequisite patch_ is shown as
"prerequisite-patch-id: " followed by the 40-hex _patch id_, which can
be obtained by passing the patch through the ‘git patch-id --stable’
command.

   Imagine that on top of the public commit P, you applied well-known
patches X, Y and Z from somebody else, and then built your three-patch
series A, B, C, the history would be like:

     ---P---X---Y---Z---A---B---C

   With ‘git format-patch --base=P -3 C’ (or variants thereof, e.g.
with ‘--cover-letter’ or using ‘Z..C’ instead of ‘-3 C’ to specify the
range), the base tree information block is shown at the end of the first
message the command outputs (either the first patch, or the cover
letter), like this:

     base-commit: P
     prerequisite-patch-id: X
     prerequisite-patch-id: Y
     prerequisite-patch-id: Z

   For non-linear topology, such as

     ---P---X---A---M---C
         \         /
          Y---Z---B

   You can also use ‘git format-patch --base=P -3 C’ to generate patches
for A, B and C, and the identifiers for P, X, Y, Z are appended at the
end of the first message.

   If set ‘--base=auto’ in cmdline, it will track base commit
automatically, the base commit will be the merge base of tip commit of
the remote-tracking branch and revision-range specified in cmdline.  For
a local branch, you need to track a remote branch by ‘git branch
--set-upstream-to’ before using this option.


EXAMPLES
********

   • Extract commits between revisions R1 and R2, and apply them on top
     of the current branch using _git am_ to cherry-pick them:

          $ git format-patch -k --stdout R1..R2 | git am -3 -k

   • Extract all commits which are in the current branch but not in the
     origin branch:

          $ git format-patch origin

     For each commit a separate file is created in the current
     directory.

   • Extract all commits that lead to _origin_ since the inception of
     the project:

          $ git format-patch --root origin

   • The same as the previous one:

          $ git format-patch -M -B origin

     Additionally, it detects and handles renames and complete rewrites
     intelligently to produce a renaming patch.  A renaming patch
     reduces the amount of text output, and generally makes it easier to
     review.  Note that non-Git "patch" programs won’t understand
     renaming patches, so use it only when you know the recipient uses
     Git to apply your patch.

   • Extract three topmost commits from the current branch and format
     them as e-mailable patches:

          $ git format-patch -3


CAVEATS
*******

Note that ‘format-patch’ will omit merge commits from the output, even
if they are part of the requested range.  A simple "patch" does not
include enough information for the receiving end to reproduce the same
merge commit.


SEE ALSO
********

git-am(1), git-send-email(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-fsck-objects,  Up: Top

Name
****

git-fsck-objects — データベース内のオブジェクトの接続性(connectivity)と
有効性(validity)を検証(verify)します


Synopsis
********

     git fsck-objects …


DESCRIPTION
***********

これは git-fsck(1) の同義語です。 git-fsck(1) の文書を参照してください。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-fsck,  Up: Top

Name
****

git-fsck — データベース内のオブジェクトの接続性(connectivity)と有効性
(validity)を検証します


Synopsis
********

     git fsck [–tags] [–root] [–unreachable] [–cache] [–no-reflogs]
              [–[no-]full] [–strict] [–verbose] [–lost-found]
              [–[no-]dangling] [–[no-]progress] [–connectivity-only]
              [–[no-]name-objects] [<object>*]


DESCRIPTION
***********

データベース内のオブジェクトの接続性(connectivity)と有効性(validity)を検
証します


OPTIONS
*******

<object>
     到達不能追跡のheadとして扱うオブジェクト。

     オブジェクトが指定されていない場合、 _git fsck_ はデフォルトでイン
     デックスファイルと、 ‘refs’ 名前空間内のすべてのSHA-1参照と、
     (‘--no-reflogs’ が与えられて無い場合)すべてのreflogsを、headとして
     使用します。

‘--unreachable’
     存在するが、どの参照ノードからも到達できないオブジェクトを印刷しま
     す。

‘--[no-]dangling’
     存在するが「直接」使用されることのないオブジェクトを印刷します(デフ
     ォルト)。 ‘--no-dangling’ を使用して、この情報を出力から省略するこ
     とができます。

‘--root’
     ルートノードを報告します。

‘--tags’
     タグを報告します。

‘--cache’
     インデックスに記録されているオブジェクトを、到達不能追跡のheadノー
     ドとしても考慮します。

‘--no-reflogs’
     reflogのエントリによってのみ参照されるコミットが到達可能であるとは
     見なさないようにします。このオプションは、以前はrefに含まれていたが
     、現在は含まれていないが、対応するreflogに残っているコミットを検索
     することのみを目的としています。

‘--full’
     GIT_OBJECT_DIRECTORY（$GIT_DIR/objects) 内のオブジェクトだけでなく
     、GIT_ALTERNATE_OBJECT_DIRECTORIES または
     $GIT_DIR/objects/info/alternates にリストされている代替オブジェクト
     プール、および $GIT_DIR/objects/pack にあるパックされたGitアーカイ
     ブにあるオブジェクトもチェックします。サブディレクトリを代替オブジ
     ェクトプールにパックします。いまやこれがデフォルトになりました。
     ‘--no-full’ でオフにできます。

‘--connectivity-only’
     到達可能なオブジェクトの接続のみをチェックし、到達可能なタグ、コミ
     ット、またはツリーによって参照されるオブジェクトが存在することを確
     認します。これにより、ブロブの読み取りを完全に回避することで操作が
     高速化されます(ただし、参照されたブロブが存在するかどうかは引き続き
     チェックされます)。 これにより、コミットとツリーの破損が検出されま
     すが、セマンティックチェック(フォーマットエラーなど)は行われません
     。ブロブオブジェクトの破損はまったく検出されません。

     到達不能なタグ、コミット、およびツリーにもアクセスして、履歴のぶら
     下がっているセグメントのヒントを見つけることができます。この出力を
     気にせず、さらに高速化したい場合は、 ‘--no-dangling’ を使用してくだ
     さい。

‘--strict’
     より厳密なチェックを有効にします。つまり、古いバージョンのGitによっ
     て作成された g+w ビットセットで記録されたファイルモードをキャッチし
     ます。Linuxカーネル、Git自体、スパースリポジトリなどの既存のリポジ
     トリには、このチェックをトリガーする古いオブジェクトがありますが、
     このフラグを使用して新しいプロジェクトをチェックすることをお勧めし
     ます。

‘--verbose’
     おしゃべりになります。

‘--lost-found’
     タイプに応じて、ぶら下がっているオブジェクトを
     .git/lost-found/commit/ または .git/lost-found/other/ に書き込みま
     す。オブジェクトがブロブの場合、コンテンツはそのオブジェクト名では
     なくファイルに書き込まれます。

‘--name-objects’
     到達可能なオブジェクトの名前を表示する場合、SHA-1に加えて、それらが
     どのように到達可能であるかを説明する名前も表示します。
     git-rev-parse(1) と互換性があります。 例えば
     ‘HEAD@{1234567890}~25^2:src/’

‘--[no-]progress’
     ‘--no-progress’ または ‘--verbose’ が指定されていない限り、進行状況
     ステータスは、端末に接続されている場合、デフォルトで標準エラースト
     リームに報告されます。 ‘--progress’ は、標準エラーストリームが端末
     に送信されていない場合でも、進行状況出力を強制します。


CONFIGURATION
*************

fsck.<msg-id>
     fsck中に、gitは、現在のバージョンのgitでは生成されず、
     ‘transfer.fsckObjects’ が設定されている場合はネットワーク経由で送信
     されない、レガシーデータの問題を検出する場合があります。この機能は
     、そのようなデータを含むレガシーリポジトリの操作をサポートすること
     を目的としています。

     ‘fsck.<msg-id>’ 設定は、 git-fsck(1) によって取得されますが、代わり
     に、そのようなデータセット ‘receive.fsck.<msg-id>’ のプッシュを受け
     入れるか、または、クローンまたはフェッチのセットである
     ‘fetch.fsck.<msg-id>’ を使用します。

     この文書の残りの部分では、簡潔にするために ‘fsck.*’ 変数について説
     明していますが、対応する ‘receive.fsck.*’ 変数と ‘fetch.<msg-id>.*’
     変数にも同じことが当てはまります。

     ‘color.ui’ や ‘core.editor’ のような変数とは異なり、
     ‘receive.fsck.<msg-id>’ と ‘fetch.fsck.<msg-id>’ 変数は、設定されて
     いない場合、 ‘fsck.<msg-id>’ 構成にフォールバックしません。さまざま
     な状況で同じfsck設定を均一に構成するには、3つすべてを同じ値に設定す
     る必要があります。

     ‘fsck.<msg-id>’ が設定されている場合、 ‘fsck.<msg-id>’ の値を
     ‘error’ 、 ‘warn’ 、‘ignore’ のいずれか一つとすることにより、エラー
     を警告に切り替える事もでき、その逆も可能です。そして ‘<msg-id>’ の
     部分はメッセージIDです。便利なように、fsckはエラー/警告メッセージの
     前にメッセージIDを付けます。たとえば「missingEmail: invalid
     author/committer line - missing email」は、 ‘fsck.missingEmail =
     ignore’ を設定するとその問題が非表示になることを意味します。

     一般に、これらの問題のあるオブジェクトが共有する破損の種類をリスト
     して無視するのではなく、 ‘fsck.skipList’ に問題のある既存のオブジェ
     クトを列挙することをお勧めします。前者を実行すると、同じ破損の新し
     いインスタンスが見過ごされる可能性があります。

     不明な ‘fsck.<msg-id>’ 値を設定すると、fsckが停止(die)しますが、
     ‘receive.fsck.<msg-id>’ や ‘fetch.fsck.<msg-id>’ に対して同じことを
     行うと、gitは単に警告するだけです。

fsck.skipList
     非致命的な理由により既に壊れている(broken)ことが分かっているため無
     視する必要があるオブジェクト名(1行につき1つの省略されてないSHA-1)の
     リストへのパス。Git 2.20 以降では、コメント(‘#’)文字から行末までと
     、空行と、先頭と末尾の空白(whitespace)は無視されます。それより古い
     バージョンでは1行につき1つのSHA-1以外は全てエラーになります。

     この機能は、無効なコミッターの電子メールアドレスなど、初期のコミッ
     トにもかかわらず、安全に無視できるエラーを含む、確立されたプロジェ
     クトを受け入れる必要がある場合に役立ちます。 注意: この設定では、
     corruptオブジェクトをスキップすることはできません。

     ‘fsck.<msg-id>’ と同様に、この変数に対応する
     ‘receive.fsck.skipList’ 派生と ‘fetch.fsck.skipList’ 派生があります
     。

     ‘color.ui’ や ‘core.editor’ のような変数とは異なり、
     ‘receive.fsck.skipList’ 変数と ‘fetch.fsck.skipList’ 変数は、設定さ
     れていない場合、 ‘fsck.skipList’ 構成にフォールバックしません。さま
     ざまな状況で同じfsck設定を均一に構成するには、3つすべてを同じ値に設
     定する必要があります。

     古いバージョンのGit(2.20より前)では、オブジェクト名リストを並べ替え
     る必要があることが文書化されています。これは必須ではなく、オブジェ
     クト名は任意の順序で表示できますが、リストを読み取るときに、内部バ
     イナリ検索実装の目的でリストが並べ替えられているかどうかを追跡しま
     した。これにより、既に並べ替えられたリストでは作業を節約できます。
     膨大なリストがない限り、リストを事前に並べ替える必要はありませんで
     した。 Gitバージョン2.20以降では、代わりにハッシュ実装が使用される
     ため、リストを事前に並べ替える必要はありません。


DISCUSSION
**********

git-fsckは、SHA-1と一般的なオブジェクトの健全性をテストし、結果として得
られる到達可能性とその他すべてを完全に追跡します。検出した破損(オブジェ
クトの欠落または不良)を出力し、 ‘--unreachable’ フラグを使用すると、存在
するが指定されたheadノード(または上記デフォルト達)のいずれからも到達でき
ないオブジェクトも出力します。

   つまり、それは、あなたのバックアップや、他のアーカイブで見つけなけれ
ばならない破損したオブジェクトです(つまり、あなたは、それらを削除して、
他の誰かが破損したオブジェクトを持っていることを期待して、他のサイトと「
rsync」を実行できます)。

   core.commitGraph が true の場合、 commit-graph ファイルも「git
commit-graph verify」を使用して検査されます。 git-commit-graph(1) を参照
してください。


Extracted Diagnostics
*********************

unreachable <type> <object>
     <type> というタイプである <object> というオブジェクトは、表示される
     ツリーまたはコミットのいずれにおいても、実際には直接または間接的に
     参照されていません。これは、指定していない別のルートノードがあるか
     、ツリーが破損していることを意味している可能性があります。ルートノ
     ードを見逃していない場合は、到達不能なノードは使用できないため、削
     除することをお勧めします。

missing <type> <object>
     この <type> というタイプの <object> というオブジェクトは参照されて
     いますが、データベースに存在しません。

dangling <type> <object>
     この <type> タイプの <object> というオブジェクトはデータベースに存
     在しますが、「直接」使用されることはありません。 ぶら下がっているコ
     ミットはルートノードである可能性があります。

hash mismatch <object>
     データベースに、ハッシュがオブジェクトデータベースの値と一致しない
     オブジェクトがあります。これは、深刻なデータ整合性の問題を示してい
     ます。


Environment Variables
*********************

GIT_OBJECT_DIRECTORY
     オブジェクトデータベースのルート(通常は $GIT_DIR/objects )を指定す
     るために使用されます

GIT_INDEX_FILE
     インデックスのインデックスファイルを指定するために使用されます

GIT_ALTERNATE_OBJECT_DIRECTORIES
     追加のオブジェクトデータベースルートを指定するために使用されます(通
     常は未設定)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-gc,  Up: Top

Name
****

git-gc — 不要なファイルをクリーンアップし、ローカルリポジトリを最適化す
る


Synopsis
********

     git gc [–aggressive] [–auto] [–quiet] [–prune=<date> | –no-prune] [–force] [–keep-largest-pack]


DESCRIPTION
***********

ファイルリビジョンの圧縮(ディスクスペースの削減とパフォーマンスの向上)ま
たは、「git add」の以前の呼び出しから作成された可能性のある到達不能オブ
ジェクトの削除または、refのパッキングまたは、reflogの剪定(prune)または、
メタデータまたは古い作業ツリーのrerere、など、現在のリポジトリ内で多数の
ハウスキーピングタスクを実行します。 commit-graphなどの補助インデックス
も更新される場合があります。

   オブジェクトを作成する一般的な磁器コマンド操作を実行すると、最後のメ
ンテナンス以降にリポジトリが大幅に拡張されているかどうかが確認され、拡張
されている場合は、 ‘git gc’ が自動的に実行されます。この動作を無効にする
方法については、以下の ‘gc.auto’ を参照してください。

   ‘git gc’ を手動で実行する必要があるのは、そのような磁器コマンドを定期
的に実行せずにオブジェクトをリポジトリに追加する場合、1回限りのリポジト
リ最適化を行う場合などです。最適ではない大量インポートをクリーンアップし
ます。インポートの場合の詳細については、 git-fast-import(1)の「PACKFILE
OPTIMIZATION」セクションを参照してください。


OPTIONS
*******

‘--aggressive’
     通常、「git gc」は非常に高速に実行され、ディスクスペースの使用率と
     パフォーマンスは良好です。このオプションを使用すると、「git gc」は
     リポジトリをより積極的に最適化できますが、時間がかかります。この最
     適化の効果は割と持続性があります。詳細については、以下の「
     AGGRESSIVE」セクションを参照してください。

‘--auto’
     このオプションを使用すると、「git gc」はハウスキーピングが必要かど
     うかを確認します。 そうでない場合は、作業を実行せずに終了します。

     このヒューリスティックな作業がどのように機能するかについては、以下
     の「CONFIGURATION」セクションの「gc.auto」オプションを参照してくだ
     さい。

     ‘gc.auto’ や ‘gc.autoPackLimit’ などの構成オプションの制限を超えて
     ハウスキーピングがトリガーされると、他のすべてのハウスキーピングタ
     スク（rerere、working tree、reflogなど）も実行されます。

‘--prune=<date>’
     指定の日付より古いルーズオブジェクトを削除します(デフォルトは2週間
     前で、構成変数 ‘gc.pruneExpire’ で上書きできます)。 ‘--prune=now’ は
     、日付に関係なく緩いオブジェクトを削除し、別のプロセスが同時にリポ
     ジトリに書き込んでいる場合に破損のリスクが高まります。以下の「
     NOTES」を参照してください。 ‘--prune’ はデフォルトでオンになってい
     ます。

‘--no-prune’
     任意のルーズオブジェクトを剪定しません。

‘--quiet’
     すべての進捗レポートを抑制します。

‘--force’
     このリポジトリで別の ‘git gc’ インスタンスが実行されている場合でも
     、 ‘git gc’ を強制的に実行します。

‘--keep-largest-pack’
     最大のパックと ‘.keep’ ファイルでマークされたパックを除くすべてのパ
     ックが1つのパックに統合されます。このオプションを使用すると、
     ‘gc.bigPackThreshold’ は無視されます。


AGGRESSIVE
**********

‘--aggressive’ オプションが指定されている場合、 git-repack(1) は ‘-f’ フ
ラグを指定して呼び出され、次に ‘--no-reuse-delta’ が git-pack-objects(1)
に渡されます。これにより、既存のデルタが破棄されて再計算され、再パッキン
グに多くの時間を費します。

   この効果は割と長続きします。例えばパックとルーズオブジェクトが互いに
合体すると、そのパック内の既存のデルタが再利用される可能性がありますが、
代わりに新しいパックから次善のデルタを選択する場合もあります。

   さらに、 ‘--aggressive’ を指定すると、 git-repack(1) に渡される
‘--depth’ と ‘--window’ オプションが微調整されます。以下の
‘gc.aggressiveDepth’ と ‘gc.aggressiveWindow’ 設定を参照してください。よ
り大きなウィンドウサイズを使用することで、より最適なデルタを見つける可能
性が高くなります。

   カスタマイズされたパフォーマンスベンチマークを実行せずに、特定のリポ
ジトリでこのオプションを使用することはおそらく価値がありません。それには
もっと時間がかかり、結果として生じるスペース/デルタの最適化はそれだけの
価値があるかもしれませんし、そうでないかもしれません。これをまったく使用
しないことは、ほとんどのユーザーとそのリポジトリにとって正しいトレードオ
フです。


CONFIGURATION
*************

以下の文書は git-config(1) にあるものと同じです:

gc.aggressiveDepth
     ‘git gc --aggressive’ で使用されるデルタ圧縮アルゴリズムで使用され
     る深さパラメーター。これはデフォルトで50に設定されています。これは
     ‘--aggressive’ が使用されていない場合の ‘--depth’ オプションのデフ
     ォルトです。

     詳細については git-repack(1) の ‘--depth’ オプションの文書を参照し
     てください。

gc.aggressiveWindow
     ‘git gc --aggressive’ で使用されるデルタ圧縮アルゴリズムで使用され
     るウィンドウサイズパラメータ。これはデフォルトで250に設定されていま
     す。これは、 ‘--window’ のデフォルト値の10よりもはるかに積極的なウ
     ィンドウサイズです。

     詳細については、 git-repack(1) の ‘--window’ オプションの文書を参照
     してください。

gc.auto
     リポジトリにおおよそ指定の値より多くのルーズオブジェクトがある場合
     、 ‘git gc --auto’ はそれらをパックします。一部の磁器コマンドは、こ
     のコマンドを使用して、軽量のガベージコレクションを時々実行します。
     デフォルト値は6700です。

     これを0に設定すると、ルーズオブジェクトの数に基づく自動パッキングが
     無効にななります。また、他のヒューリスティックな ‘git gc --auto’ が
     、 ‘gc.autoPackLimit’ などの作業があるかどうかを判断するためにこの
     値を使用します。

gc.autoPackLimit
     リポジトリに ‘* .keep’ ファイルでマークされていないパックがこの設定
     値より多くある場合、 ‘git gc --auto’ はそれらを1つの大きなパックに
     統合します。デフォルト値は50です。これを0に設定すると、無効になりま
     す。 ‘gc.auto’ を0に設定すると、この設定も無効になります。

     以下の ‘gc.bigPackThreshold’ 構成変数を参照してください。この設定を
     使用中は、自動パックの制限がどのように機能するかに影響します。

gc.autoDetach
     システムがサポートしている場合は ‘git gc --auto’ は即座戻り、実行は
     バックグラウンドで行われます。デフォルトはtrueです。

gc.bigPackThreshold
     ゼロ以外の場合、 ‘git gc’ の実行時に、この設定値より大きいすべての
     パックが保持されます。これは ‘--keep-largest-pack’ と非常に似ていま
     すが、最大のパックだけでなく、しきい値を満たす全てのパックが保持さ
     れる点が異なります。デフォルトはゼロです。 _k_ 、 _m_ 、 _g_ の一般
     的な単位接尾辞がサポートされています。

     注意: 保持されるパックの数が gc.autoPackLimit を超える場合、この構
     成変数は無視され、基本パックを除くすべてのパックが再パックされるこ
     とに注意してください。再パック後、パックの数は gc.autoPackLimit を
     下回り、再び gc.bigPackThreshold が尊重されるでしょう。

     ‘git repack’ がスムーズに実行されると推定されるメモリ量が利用できず
     、かつ、 ‘gc.bigPackThreshold’ が設定されていない場合、最大のパック
     も除外されます(これは、 ‘--keep-largest-pack’ を指定して ‘git gc’ を
     実行するのと同じです)。

gc.writeCommitGraph
     trueの場合、 git-gc(1) が実行されると、 gcはcommit-graphファイルを
     書き換えます。 ‘git gc --auto’ を使用する場合、ハウスキーピングが必
     要な場合はコミットグラフが更新されます。デフォルトはtrueです。詳細
     については git-commit-graph(1) を参照してください。

gc.logExpiry
     ファイルgc.logが存在する場合、 ‘git gc --auto’ はそのコンテンツを出
     力し、そのファイルが「gc.logExpiry」より古い場合を除いて、実行する
     代わりにステータス0で終了します。デフォルトは「1.day」です。その他
     の値の指定方法については ‘gc.pruneExpire’ を参照してください。

gc.packRefs
     リポジトリで ‘git pack-refs’ を実行すると、HTTPなどの馬鹿プロトコル
     (dumb transport) を介して 1.5.1.2 より前のGitバージョンではクローン
     が作成できなくなります。この変数は、「git gc」が「git pack-refs」を
     実行するかどうかを決定します。これを ‘notbare’ に設定して、すべての
     非ベアリポジトリ内で有効にするか、ブール値に設定することができます
     。 デフォルトは ‘true’ です。

gc.pruneExpire
     「git gc」を実行すると、‘prune --expire 2.weeks.ago’ が呼び出されま
     す。この構成変数で猶予期間をオーバーライドします。 値「now」を使用
     してこの猶予期間を無効にし、到達不能なオブジェクトを常にすぐに剪定
     (prune)するか、「never」を使用して剪定を抑制することができます。こ
     の機能は「git gc」がリポジトリに書き込む別のプロセスと同時に実行さ
     れる場合の破損を防ぐのに役立ちます。 git-gc(1) の「NOTES」セクショ
     ンを参照してください。

gc.worktreePruneExpire
     _git gc_ が実行されると、 ‘git worktree prune --expire3.months.ago’
     が呼び出されます。この構成変数を使用して、別の猶予期間を設定できま
     す。値「now」を使用して猶予期間を無効にし、 ‘$GIT_DIR/worktrees’ を
     すぐに剪定(prune)するか、「never」を使用して剪定を抑制することがで
     きます。

gc.reflogExpire
gc.<pattern>.reflogExpire
     「git reflog expire」は、この時間より古いreflogエントリを削除します
     。デフォルトは90日です。値「now」はすべてのエントリをすぐに期限切れ
     にし、「never」は期限切れを完全に抑制します。中央に「<pattern>」(例
     :「refs/stash」)がある場合、設定は <pattern> に一致するrefにのみ適
     用されます。

gc.reflogExpireUnreachable
gc.<pattern>.reflogExpireUnreachable
     _git reflog expire_ は、この時間より古いreflogエントリを削除し、現
     在の先端(the current tip)から到達不能にします。デフォルトは30日です
     。値「now」はすべてのエントリをすぐに期限切れにし、「never」は期限
     切れを完全に抑制します。中央に「<pattern>」(例:「refs/stash」)があ
     る場合、設定は <pattern> に一致するrefにのみ適用されます。

     これらのタイプのエントリは通常、 ‘git commit--amend’ または ‘git
     rebase’ を使用した結果として作成され、修正またはリベースが発生する
     前のコミットです。これらの変更は現在のプロジェクトの一部ではないた
     め、ほとんどのユーザーはそれらをより早く期限切れにしたいと思うでし
     ょう。そのため、デフォルトは ‘gc.reflogExpire’ よりも積極的です。

gc.rerereResolved
     以前に解決した競合するマージの記録は、「git rerere gc」が実行される
     ときに、この設定値で指定の日数保持されます。より人間が読める「
     1.month.ago」などを使用することもできます。デフォルトは60日です。
     git-rerere(1) を参照してください。

gc.rerereUnresolved
     _git rerere gc_ が実行されると、解決していない競合するマージの記録
     がこの設定値の日数保持されます。より人間が読める「1.month.ago」など
     を使用することもできます。デフォルトは15日です。 git-rerere(1) を参
     照してください。


NOTES
*****

_git gc_ は、リポジトリ内のどこかで参照されているオブジェクトを削除しな
いように非常に努力しています。特に、現在のブランチとタグのセットによって
参照されるオブジェクトだけでなく、インデックス、リモートトラッキングブラ
ンチ、reflog（後で修正または巻き戻されたブランチのコミットを参照する可能
性がある）などによって参照されるオブジェクトも保持されます。それ以外の場
合は、 refs/* 名前空間にあります。オブジェクトに添付された(「git notes」
によって作成された種類の) noteは、オブジェクトの存続に寄与しないことに注
意してください。一部のオブジェクトが削除されることを期待していて、削除さ
れない場合は、それらの場所をすべて確認し、それらの参照を削除することが理
にかなっているかどうかを判断してください。

   一方、「git gc」が別のプロセスと同時に実行されると、他のプロセスが使
用しているが参照を作成していないオブジェクトが削除されるリスクがあります
。これにより、他のプロセスが失敗したり、他のプロセスが後で削除されたオブ
ジェクトへの参照を追加した場合にリポジトリが破損したりする可能性がありま
す。 Gitには、この問題を大幅に軽減する2つの機能があります:

  1. ‘--prune’ の日付よりも新しい変更時刻を持つオブジェクトは、そこから
     到達可能なすべてのモノと共にに保持されます。

  2. データベースにオブジェクトを追加するほとんどの操作は、オブジェクト
     がすでに存在する場合はその変更時刻を更新して、 #1 が適用されるよう
     にします。

   ただし、これらの機能は完全なソリューションには及ばないため、コマンド
を同時に実行するユーザーは、破損のリスクを抱えて生活する必要があります
(実際にはリスクは低いようです)。


HOOKS
*****

‘git gc --auto’ コマンドは、 _pre-auto-gc_ フックを実行します。 詳細につ
いては、 githooks(5) を参照してください。


SEE ALSO
********

git-prune(1) git-reflog(1) git-repack(1) git-rerere(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-get-tar-commit-id,  Up: Top

Name
****

git-get-tar-commit-id — git-archiveを使用して作成されたアーカイブからコ
ミットIDを抽出します


Synopsis
********

     git get-tar-commit-id


DESCRIPTION
***********

_git archive_ によって作成されたtarアーカイブを標準入力から読み取り、そ
こに保存されているコミットIDを抽出します。入力の最初の1024バイトのみを読
み取るため、実行時間はtarアーカイブのサイズに大きく影響されることはあり
ません。

   コミットIDが見つからない場合、 _git get-tar-commit-id_ は何も出力せず
リターンコード1を返すだけです。これは、アーカイブが _git archive_ を使用
して作成されていない場合、または _git archive_ の最初のパラメーターが、
コミットIDまたはタグではなくツリーIDだった場合に発生する可能性があります
。(訳注:入力がtarアーカイブで無い場合はstderrにtarアーカイブで無い旨のエ
ラー出力があり、exit code は 128。入力がtarアーカイブの場合で、コミット
IDが見つからない場合は表記どおりstdout/stderr出力一切無しでexit code 1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-grep,  Up: Top

Name
****

git-grep — Print lines matching a pattern


Synopsis
********

     git grep [-a | –text] [-I] [–textconv] [-i | –ignore-case] [-w | –word-regexp]
                [-v | –invert-match] [-h|-H] [–full-name]
                [-E | –extended-regexp] [-G | –basic-regexp]
                [-P | –perl-regexp]
                [-F | –fixed-strings] [-n | –line-number] [–column]
                [-l | –files-with-matches] [-L | –files-without-match]
                [(-O | –open-files-in-pager) [<pager>]]
                [-z | –null]
                [ -o | –only-matching ] [-c | –count] [–all-match] [-q | –quiet]
                [–max-depth <depth>] [–[no-]recursive]
                [–color[=<when>] | –no-color]
                [–break] [–heading] [-p | –show-function]
                [-A <post-context>] [-B <pre-context>] [-C <context>]
                [-W | –function-context]
                [–threads <num>]
                [-f <file>] [-e] <pattern>
                [–and|–or|–not|(|)|-e <pattern>…]
                [–recurse-submodules] [–parent-basename <basename>]
                [ [–[no-]exclude-standard] [–cached | –no-index | –untracked] | <tree>…]
                [–] [<pathspec>…]


DESCRIPTION
***********

Look for specified patterns in the tracked files in the work tree, blobs
registered in the index file, or blobs in given tree objects.  Patterns
are lists of one or more search expressions separated by newline
characters.  An empty string as search expression matches all lines.


OPTIONS
*******

‘--cached’
     Instead of searching tracked files in the working tree, search
     blobs registered in the index file.

‘--no-index’
     Search files in the current directory that is not managed by Git.

‘--untracked’
     In addition to searching in the tracked files in the working tree,
     search also in untracked files.

‘--no-exclude-standard’
     Also search in ignored files by not honoring the ‘.gitignore’
     mechanism.  Only useful with ‘--untracked’.

‘--exclude-standard’
     Do not pay attention to ignored files specified via the
     ‘.gitignore’ mechanism.  Only useful when searching files in the
     current directory with ‘--no-index’.

‘--recurse-submodules’
     Recursively search in each submodule that is active and checked out
     in the repository.  When used in combination with the <tree> option
     the prefix of all submodule output will be the name of the parent
     project’s <tree> object.  This option has no effect if ‘--no-index’
     is given.

‘-a’
‘--text’
     Process binary files as if they were text.

‘--textconv’
     Honor textconv filter settings.

‘--no-textconv’
     Do not honor textconv filter settings.  This is the default.

‘-i’
‘--ignore-case’
     Ignore case differences between the patterns and the files.

‘-I’
     Don’t match the pattern in binary files.

‘--max-depth <depth>’
     For each <pathspec> given on command line, descend at most <depth>
     levels of directories.  A value of -1 means no limit.  This option
     is ignored if <pathspec> contains active wildcards.  In other words
     if "a*" matches a directory named "a*", "*" is matched literally so
     –max-depth is still effective.

‘-r’
‘--recursive’
     Same as ‘--max-depth=-1’; this is the default.

‘--no-recursive’
     Same as ‘--max-depth=0’.

‘-w’
‘--word-regexp’
     Match the pattern only at word boundary (either begin at the
     beginning of a line, or preceded by a non-word character; end at
     the end of a line or followed by a non-word character).

‘-v’
‘--invert-match’
     Select non-matching lines.

‘-h’
‘-H’
     By default, the command shows the filename for each match.  ‘-h’
     option is used to suppress this output.  ‘-H’ is there for
     completeness and does not do anything except it overrides ‘-h’
     given earlier on the command line.

‘--full-name’
     When run from a subdirectory, the command usually outputs paths
     relative to the current directory.  This option forces paths to be
     output relative to the project top directory.

‘-E’
‘--extended-regexp’
‘-G’
‘--basic-regexp’
     Use POSIX extended/basic regexp for patterns.  Default is to use
     basic regexp.

‘-P’
‘--perl-regexp’
     Use Perl-compatible regular expressions for patterns.

     Support for these types of regular expressions is an optional
     compile-time dependency.  If Git wasn’t compiled with support for
     them providing this option will cause it to die.

‘-F’
‘--fixed-strings’
     Use fixed strings for patterns (don’t interpret pattern as a
     regex).

‘-n’
‘--line-number’
     Prefix the line number to matching lines.

‘--column’
     Prefix the 1-indexed byte-offset of the first match from the start
     of the matching line.

‘-l’
‘--files-with-matches’
‘--name-only’
‘-L’
‘--files-without-match’
     Instead of showing every matched line, show only the names of files
     that contain (or do not contain) matches.  For better compatibility
     with _git diff_, ‘--name-only’ is a synonym for
     ‘--files-with-matches’.

‘-O[<pager>]’
‘--open-files-in-pager[=<pager>]’
     Open the matching files in the pager (not the output of _grep_).
     If the pager happens to be "less" or "vi", and the user specified
     only one pattern, the first file is positioned at the first match
     automatically.  The ‘pager’ argument is optional; if specified, it
     must be stuck to the option without a space.  If ‘pager’ is
     unspecified, the default pager will be used (see ‘core.pager’ in
     git-config(1)).

‘-z’
‘--null’
     Use \0 as the delimiter for pathnames in the output, and print them
     verbatim.  Without this option, pathnames with "unusual" characters
     are quoted as explained for the configuration variable
     core.quotePath (see git-config(1)).

‘-o’
‘--only-matching’
     Print only the matched (non-empty) parts of a matching line, with
     each such part on a separate output line.

‘-c’
‘--count’
     Instead of showing every matched line, show the number of lines
     that match.

‘--color[=<when>]’
     Show colored matches.  The value must be always (the default),
     never, or auto.

‘--no-color’
     Turn off match highlighting, even when the configuration file gives
     the default to color output.  Same as ‘--color=never’.

‘--break’
     Print an empty line between matches from different files.

‘--heading’
     Show the filename above the matches in that file instead of at the
     start of each shown line.

‘-p’
‘--show-function’
     Show the preceding line that contains the function name of the
     match, unless the matching line is a function name itself.  The
     name is determined in the same way as ‘git diff’ works out patch
     hunk headers (see _Defining a custom hunk-header_ in
     gitattributes(5)).

‘-<num>’
‘-C <num>’
‘--context <num>’
     Show <num> leading and trailing lines, and place a line containing
     ‘--’ between contiguous groups of matches.

‘-A <num>’
‘--after-context <num>’
     Show <num> trailing lines, and place a line containing ‘--’ between
     contiguous groups of matches.

‘-B <num>’
‘--before-context <num>’
     Show <num> leading lines, and place a line containing ‘--’ between
     contiguous groups of matches.

‘-W’
‘--function-context’
     Show the surrounding text from the previous line containing a
     function name up to the one before the next function name,
     effectively showing the whole function in which the match was
     found.  The function names are determined in the same way as ‘git
     diff’ works out patch hunk headers (see _Defining a custom
     hunk-header_ in gitattributes(5)).

‘--threads <num>’
     Number of grep worker threads to use.  See ‘grep.threads’ in
     _CONFIGURATION_ for more information.

‘-f <file>’
     Read patterns from <file>, one per line.

     Passing the pattern via <file> allows for providing a search
     pattern containing a \0.

     Not all pattern types support patterns containing \0.  Git will
     error out if a given pattern type can’t support such a pattern.
     The ‘--perl-regexp’ pattern type when compiled against the PCRE v2
     backend has the widest support for these types of patterns.

     In versions of Git before 2.23.0 patterns containing \0 would be
     silently considered fixed.  This was never documented, there were
     also odd and undocumented interactions between e.g.  non-ASCII
     patterns containing \0 and ‘--ignore-case’.

     In future versions we may learn to support patterns containing \0
     for more search backends, until then we’ll die when the pattern
     type in question doesn’t support them.

‘-e’
     The next parameter is the pattern.  This option has to be used for
     patterns starting with ‘-’ and should be used in scripts passing
     user input to grep.  Multiple patterns are combined by _or_.

‘--and’
‘--or’
‘--not’
( … )
     Specify how multiple patterns are combined using Boolean
     expressions.  ‘--or’ is the default operator.  ‘--and’ has higher
     precedence than ‘--or’.  ‘-e’ has to be used for all patterns.

‘--all-match’
     When giving multiple pattern expressions combined with ‘--or’, this
     flag is specified to limit the match to files that have lines to
     match all of them.

‘-q’
‘--quiet’
     Do not output matched lines; instead, exit with status 0 when there
     is a match and with non-zero status when there isn’t.

<tree>…
     Instead of searching tracked files in the working tree, search
     blobs in the given trees.

–
     Signals the end of options; the rest of the parameters are
     <pathspec> limiters.

<pathspec>…
     If given, limit the search to paths matching at least one pattern.
     Both leading paths match and glob(7) patterns are supported.

     For more details about the <pathspec> syntax, see the _pathspec_
     entry in gitglossary(7).


EXAMPLES
********

‘git grep 'time_t' -- '*.[ch]'’
     Looks for ‘time_t’ in all tracked .c and .h files in the working
     directory and its subdirectories.

‘git grep -e '#define' --and \( -e MAX_PATH -e PATH_MAX \)’
     Looks for a line that has ‘#define’ and either ‘MAX_PATH’ or
     ‘PATH_MAX’.

‘git grep --all-match -e NODE -e Unexpected’
     Looks for a line that has ‘NODE’ or ‘Unexpected’ in files that have
     lines that match both.

‘git grep solution -- :^Documentation’
     Looks for ‘solution’, excluding files in ‘Documentation’.


NOTES ON THREADS
****************

The ‘--threads’ option (and the grep.threads configuration) will be
ignored when ‘--open-files-in-pager’ is used, forcing a single-threaded
execution.

   When grepping the object store (with ‘--cached’ or giving tree
objects), running with multiple threads might perform slower than single
threaded if ‘--textconv’ is given and there’re too many text
conversions.  So if you experience low performance in this case, it
might be desirable to use ‘--threads=1’.


CONFIGURATION
*************

grep.lineNumber
     If set to true, enable ‘-n’ option by default.

grep.column
     If set to true, enable the ‘--column’ option by default.

grep.patternType
     Set the default matching behavior.  Using a value of _basic_,
     _extended_, _fixed_, or _perl_ will enable the ‘--basic-regexp’,
     ‘--extended-regexp’, ‘--fixed-strings’, or ‘--perl-regexp’ option
     accordingly, while the value _default_ will return to the default
     matching behavior.

grep.extendedRegexp
     If set to true, enable ‘--extended-regexp’ option by default.  This
     option is ignored when the ‘grep.patternType’ option is set to a
     value other than _default_.

grep.threads
     Number of grep worker threads to use.  If unset (or set to 0), Git
     will use as many threads as the number of logical cores available.

grep.fullName
     If set to true, enable ‘--full-name’ option by default.

grep.fallbackToNoIndex
     If set to true, fall back to git grep –no-index if git grep is
     executed outside of a git repository.  Defaults to false.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-gui,  Up: Top

Name
****

git-gui — Gitのための移植性の高いGUI


Synopsis
********

     git gui [<command>] [arguments]


DESCRIPTION
***********

Gitの為の Tcl/Tk ベースのGUIです。「git gui」は、ユーザーが新しいコミッ
トを作成し、既存のコミットを修正し、ブランチを作成し、ローカルマージを実
行し、リモートリポジトリにフェッチ/プッシュすることでリポジトリに変更を
加えることができるようにすることに重点を置いています。

   _gitk_ とは異なり、 _git gui_ はコミットの生成と単一ファイルの注釈に
焦点を合わせており、プロジェクトの履歴は表示しません。 ただし、「git
gui」内から「gitk」セッションを開始するためのメニュー操作を提供します。

   「git gui」は、すべての一般的なUNIXシステム、Mac OS X、および
Windows(CygwinとMSYSの両方)で動作することが知られています。可能な限り、
OS固有のユーザーインターフェイスガイドラインに従い、「git gui」を各OSの
ユーザーにとってかなり自然なインターフェイスにしようとしています。


COMMANDS
********

blame
     指定されたバージョンの指定されたファイル(または指定されていない場合
     は作業ディレクトリ)でblameビューアを起動します。

browser
     指定されたコミット内のすべてのファイルを表示するツリーブラウザを起
     動します。ブラウザで選択したファイルをblemeビューアで開きます。

citool
     _git gui_ を開始し、シェルを終了してシェルに戻る前に、正確に1つのコ
     ミットを行うように調整します。インターフェイスはコミットアクション
     のみに制限されているため、アプリケーションの起動時間がわずかに短縮
     され、メニューバーが簡素化されます。

version
     現在実行中の「git gui」のバージョンを表示します。


Examples
********

‘git gui blame Makefile’
     現在の作業ディレクトリにあるファイル「Makefile」の内容を表示し、各
     行の元の作成者と、その行を現在の場所に移動した人の両方に注釈を付け
     ます。コミットされていないファイルには注釈が付けられ、(存在する場合
     )コミットされていない変更は「まだコミットされていません」と明示され
     ます。

‘git gui blame v0.99.8 Makefile’
     リビジョン「v0.99.8」の「Makefile」の内容を表示し、各行に注釈を付け
     ます。上記の例とは異なり、ファイルは作業ディレクトリではなくオブジ
     ェクトデータベースから読み取られます。

‘git gui blame --line=100 Makefile’
     上記のように注釈をロードし、100行目を中心にビューを自動的にスクロー
     ルします。

‘git gui citool’
     1つのコミットを行い、完了したらシェルに戻ります。このコマンドは、コ
     ミットを行う以外の方法でウィンドウが閉じられた場合、ゼロ以外の終了
     コードを返します。

‘git gui citool --amend’
     インターフェイスの「Amend Last Commit」モードを自動的に開始します。

‘git gui citool --nocommit’
     通常のcitoolとして動作しますが、コミットを行う代わりに、ゼロの終了
     コードで終了します。インデックスにマージされていないエントリが含ま
     れていないことを引き続きチェックするため、 git-mergetool(1) のGUIバ
     ージョンとして使用できます。

‘git citool’
     ‘git gui citool’ (上記)と同じです。

‘git gui browser maint’
     _maint_ ブランチのツリーのブラウザを表示します。ブラウザで選択した
     ファイルは、内部のblameビューアで表示できます。


SEE ALSO
********

gitk(1)
     Gitリポジトリブラウザ。 ブランチ、コミット履歴、ファイルの差分を表
     示します。 gitkは、「git gui」のリポジトリ視覚化操作によって開始さ
     れるユーティリティです。


Other
*****

「git gui」は実際には独立したプロジェクトとして維持されていますが、エン
ドユーザーの便宜のために安定したバージョンがGitスイートの一部として配布
されています。

   _git gui_ プロジェクトの公式リポジトリは以下の場所にあります:

     https://github.com/prati0100/git-gui.git/


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-hash-object,  Up: Top

Name
****

git-hash-object — オブジェクトIDを計算し、オプションでファイルからブロブ
を作成する


Synopsis
********

     git hash-object [-t <type>] [-w] [–path=<file>|–no-filters] [–stdin [–literally]] [–] <file>…
     git hash-object [-t <type>] [-w] –stdin-paths [–no-filters]


DESCRIPTION
***********

指定のファイル(作業ツリーの外部にある可能性あり)の内容を使用して、指定さ
れたタイプのオブジェクトのオブジェクトID値を計算し、オブジェクトIDを標準
出力に報告します。オプションで結果のオブジェクトをオブジェクトデータベー
スに書き込みます。 <type> が指定されていない場合、デフォルトで「blob」に
なります。


OPTIONS
*******

‘-t <type>’
     タイプの指定(デフォルト: "blob")。

‘-w’
     実際にオブジェクトをオブジェクトデータベースに書き込みます。

‘--stdin’
     ファイルからではなく、標準入力からオブジェクトを読み取ります。

‘--stdin-paths’
     コマンドラインからではなく、標準入力から1行に1つずつファイル名を読
     み取ります。

‘--path’
     指定されたパスにあるオブジェクトをハッシュします。ファイルの場所は
     ハッシュ値に直接影響しませんが、パスを使用して、オブジェクトデータ
     ベースに配置する前にオブジェクトに適用するGitフィルターを決定し、フ
     ィルターを適用した結果、実際のブロブを配置します。オブジェクトデー
     タベースへの入力は、指定されたファイルとは異なる場合があります。こ
     のオプションは主に、作業ディレクトリの外部にある一時ファイルまたは
     標準入力から読み取られたファイルをハッシュする場合に役立ちます。

‘--no-filters’
     行末変換など、属性メカニズムによって選択された入力フィルターを無視
     して、コンテンツをそのままハッシュします。 ファイルが標準入力から読
     み取られる場合、 ‘--path’ オプションが指定されていない限り、これは
     常に暗黙に指定されたものとみなします。

‘--literally’
     ‘--stdin’ が、標準のオブジェクトパースやgit-fsckチェックに合格しな
     い可能性のあるガベージをハッシュして緩いオブジェクトにできるように
     します。Git自体のストレステストや、野生で遭遇した破損または偽のオブ
     ジェクトの特性の再現に役立ちます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-help,  Up: Top

Name
****

git-help — Display help information about Git


Synopsis
********

     git help [-a|–all [–[no-]verbose]] [-g|–guides]
                [-i|–info|-m|–man|-w|–web] [COMMAND|GUIDE]


DESCRIPTION
***********

With no options and no COMMAND or GUIDE given, the synopsis of the _git_
command and a list of the most commonly used Git commands are printed on
the standard output.

   If the option ‘--all’ or ‘-a’ is given, all available commands are
printed on the standard output.

   If the option ‘--guides’ or ‘-g’ is given, a list of the Git concept
guides is also printed on the standard output.

   If a command, or a guide, is given, a manual page for that command or
guide is brought up.  The _man_ program is used by default for this
purpose, but this can be overridden by other options or configuration
variables.

   If an alias is given, git shows the definition of the alias on
standard output.  To get the manual page for the aliased command, use
‘git COMMAND --help’.

   Note that ‘git --help ...’ is identical to ‘git help ...’ because the
former is internally converted into the latter.

   To display the git(1) man page, use ‘git help git’.

   This page can be displayed with _git help help_ or ‘git help --help’


OPTIONS
*******

‘-a’
‘--all’
     Prints all the available commands on the standard output.  This
     option overrides any given command or guide name.

‘--verbose’
     When used with ‘--all’ print description for all recognized
     commands.  This is the default.

‘-c’
‘--config’
     List all available configuration variables.  This is a short
     summary of the list in git-config(1).

‘-g’
‘--guides’
     Prints a list of the Git concept guides on the standard output.
     This option overrides any given command or guide name.

‘-i’
‘--info’
     Display manual page for the command in the _info_ format.  The
     _info_ program will be used for that purpose.

‘-m’
‘--man’
     Display manual page for the command in the _man_ format.  This
     option may be used to override a value set in the ‘help.format’
     configuration variable.

     By default the _man_ program will be used to display the manual
     page, but the ‘man.viewer’ configuration variable may be used to
     choose other display programs (see below).

‘-w’
‘--web’
     Display manual page for the command in the _web_ (HTML) format.  A
     web browser will be used for that purpose.

     The web browser can be specified using the configuration variable
     ‘help.browser’, or ‘web.browser’ if the former is not set.  If none
     of these config variables is set, the _git web–browse_ helper
     script (called by _git help_) will pick a suitable default.  See
     git-web–browse(1) for more information about this.


CONFIGURATION VARIABLES
***********************


help.format
===========

If no command-line option is passed, the ‘help.format’ configuration
variable will be checked.  The following values are supported for this
variable; they make _git help_ behave as their corresponding command-
line option:

   • "man" corresponds to _-m|–man_,

   • "info" corresponds to _-i|–info_,

   • "web" or "html" correspond to _-w|–web_.


help.browser, web.browser and browser.<tool>.path
=================================================

The ‘help.browser’, ‘web.browser’ and ‘browser.<tool>.path’ will also be
checked if the _web_ format is chosen (either by command-line option or
configuration variable).  See _-w|–web_ in the OPTIONS section above and
git-web–browse(1).


man.viewer
==========

The ‘man.viewer’ configuration variable will be checked if the _man_
format is chosen.  The following values are currently supported:

   • "man": use the _man_ program as usual,

   • "woman": use _emacsclient_ to launch the "woman" mode in emacs
     (this only works starting with emacsclient versions 22),

   • "konqueror": use _kfmclient_ to open the man page in a new
     konqueror tab (see _Note about konqueror_ below).

   Values for other tools can be used if there is a corresponding
‘man.<tool>.cmd’ configuration entry (see below).

   Multiple values may be given to the ‘man.viewer’ configuration
variable.  Their corresponding programs will be tried in the order
listed in the configuration file.

   For example, this configuration:

             [man]
                     viewer = konqueror
                     viewer = woman

   will try to use konqueror first.  But this may fail (for example, if
DISPLAY is not set) and in that case emacs’ woman mode will be tried.

   If everything fails, or if no viewer is configured, the viewer
specified in the ‘GIT_MAN_VIEWER’ environment variable will be tried.
If that fails too, the _man_ program will be tried anyway.


man.<tool>.path
===============

You can explicitly provide a full path to your preferred man viewer by
setting the configuration variable ‘man.<tool>.path’.  For example, you
can configure the absolute path to konqueror by setting
_man.konqueror.path_.  Otherwise, _git help_ assumes the tool is
available in PATH.


man.<tool>.cmd
==============

When the man viewer, specified by the ‘man.viewer’ configuration
variables, is not among the supported ones, then the corresponding
‘man.<tool>.cmd’ configuration variable will be looked up.  If this
variable exists then the specified tool will be treated as a custom
command and a shell eval will be used to run the command with the man
page passed as arguments.


Note about konqueror
====================

When _konqueror_ is specified in the ‘man.viewer’ configuration
variable, we launch _kfmclient_ to try to open the man page on an
already opened konqueror in a new tab if possible.

   For consistency, we also try such a trick if _man.konqueror.path_ is
set to something like ‘A_PATH_TO/konqueror’.  That means we will try to
launch ‘A_PATH_TO/kfmclient’ instead.

   If you really want to use _konqueror_, then you can use something
like the following:

             [man]
                     viewer = konq

             [man "konq"]
                     cmd = A_PATH_TO/konqueror


Note about git config –global
=============================

Note that all these configuration variables should probably be set using
the ‘--global’ flag, for example like this:

     $ git config --global help.format web
     $ git config --global web.browser firefox

   as they are probably more user specific than repository specific.
See git-config(1) for more information about this.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-http-backend,  Up: Top

Name
****

git-http-backend — Server side implementation of Git over HTTP


Synopsis
********

     git http-backend


DESCRIPTION
***********

A simple CGI program to serve the contents of a Git repository to Git
clients accessing the repository over http:// and https:// protocols.
The program supports clients fetching using both the smart HTTP protocol
and the backwards-compatible dumb HTTP protocol, as well as clients
pushing using the smart HTTP protocol.  It also supports Git’s
more-efficient "v2" protocol if properly configured; see the discussion
of ‘GIT_PROTOCOL’ in the ENVIRONMENT section below.

   It verifies that the directory has the magic file
"git-daemon-export-ok", and it will refuse to export any Git directory
that hasn’t explicitly been marked for export this way (unless the
‘GIT_HTTP_EXPORT_ALL’ environmental variable is set).

   By default, only the ‘upload-pack’ service is enabled, which serves
_git fetch-pack_ and _git ls-remote_ clients, which are invoked from
_git fetch_, _git pull_, and _git clone_.  If the client is
authenticated, the ‘receive-pack’ service is enabled, which serves _git
send-pack_ clients, which is invoked from _git push_.


SERVICES
********

These services can be enabled/disabled using the per-repository
configuration file:

http.getanyfile
     This serves Git clients older than version 1.6.6 that are unable to
     use the upload pack service.  When enabled, clients are able to
     read any file within the repository, including objects that are no
     longer reachable from a branch but are still present.  It is
     enabled by default, but a repository can disable it by setting this
     configuration item to ‘false’.

http.uploadpack
     This serves _git fetch-pack_ and _git ls-remote_ clients.  It is
     enabled by default, but a repository can disable it by setting this
     configuration item to ‘false’.

http.receivepack
     This serves _git send-pack_ clients, allowing push.  It is disabled
     by default for anonymous users, and enabled by default for users
     authenticated by the web server.  It can be disabled by setting
     this item to ‘false’, or enabled for all users, including anonymous
     users, by setting it to ‘true’.


URL TRANSLATION
***************

To determine the location of the repository on disk, _git http-backend_
concatenates the environment variables PATH_INFO, which is set
automatically by the web server, and GIT_PROJECT_ROOT, which must be set
manually in the web server configuration.  If GIT_PROJECT_ROOT is not
set, _git http-backend_ reads PATH_TRANSLATED, which is also set
automatically by the web server.


EXAMPLES
********

All of the following examples map ‘http://$hostname/git/foo/bar.git’ to
‘/var/www/git/foo/bar.git’.

Apache 2.x
     Ensure mod_cgi, mod_alias, and mod_env are enabled, set
     GIT_PROJECT_ROOT (or DocumentRoot) appropriately, and create a
     ScriptAlias to the CGI:

          SetEnv GIT_PROJECT_ROOT /var/www/git
          SetEnv GIT_HTTP_EXPORT_ALL
          ScriptAlias /git/ /usr/libexec/git-core/git-http-backend/

          # This is not strictly necessary using Apache and a modern version of
          # git-http-backend, as the webserver will pass along the header in the
          # environment as HTTP_GIT_PROTOCOL, and http-backend will copy that into
          # GIT_PROTOCOL. But you may need this line (or something similar if you
          # are using a different webserver), or if you want to support older Git
          # versions that did not do that copying.
          #
          # Having the webserver set up GIT_PROTOCOL is perfectly fine even with
          # modern versions (and will take precedence over HTTP_GIT_PROTOCOL,
          # which means it can be used to override the client's request).
          SetEnvIf Git-Protocol ".*" GIT_PROTOCOL=$0

     To enable anonymous read access but authenticated write access,
     require authorization for both the initial ref advertisement (which
     we detect as a push via the service parameter in the query string),
     and the receive-pack invocation itself:

          RewriteCond %{QUERY_STRING} service=git-receive-pack [OR]
          RewriteCond %{REQUEST_URI} /git-receive-pack$
          RewriteRule ^/git/ - [E=AUTHREQUIRED:yes]

          <LocationMatch "^/git/">
                  Order Deny,Allow
                  Deny from env=AUTHREQUIRED

                  AuthType Basic
                  AuthName "Git Access"
                  Require group committers
                  Satisfy Any
                  ...
          </LocationMatch>

     If you do not have ‘mod_rewrite’ available to match against the
     query string, it is sufficient to just protect ‘git-receive-pack’
     itself, like:

          <LocationMatch "^/git/.*/git-receive-pack$">
                  AuthType Basic
                  AuthName "Git Access"
                  Require group committers
                  ...
          </LocationMatch>

     In this mode, the server will not request authentication until the
     client actually starts the object negotiation phase of the push,
     rather than during the initial contact.  For this reason, you must
     also enable the ‘http.receivepack’ config option in any
     repositories that should accept a push.  The default behavior, if
     ‘http.receivepack’ is not set, is to reject any pushes by
     unauthenticated users; the initial request will therefore report
     ‘403 Forbidden’ to the client, without even giving an opportunity
     for authentication.

     To require authentication for both reads and writes, use a Location
     directive around the repository, or one of its parent directories:

          <Location /git/private>
                  AuthType Basic
                  AuthName "Private Git Access"
                  Require group committers
                  ...
          </Location>

     To serve gitweb at the same url, use a ScriptAliasMatch to only
     those URLs that _git http-backend_ can handle, and forward the rest
     to gitweb:

          ScriptAliasMatch \
                  "(?x)^/git/(.*/(HEAD | \
                                  info/refs | \
                                  objects/(info/[^/]+ | \
                                           [0-9a-f]{2}/[0-9a-f]{38} | \
                                           pack/pack-[0-9a-f]{40}\.(pack|idx)) | \
                                  git-(upload|receive)-pack))$" \
                  /usr/libexec/git-core/git-http-backend/$1

          ScriptAlias /git/ /var/www/cgi-bin/gitweb.cgi/

     To serve multiple repositories from different gitnamespaces(7) in a
     single repository:

          SetEnvIf Request_URI "^/git/([^/]*)" GIT_NAMESPACE=$1
          ScriptAliasMatch ^/git/[^/]*(.*) /usr/libexec/git-core/git-http-backend/storage.git$1

Accelerated static Apache 2.x
     Similar to the above, but Apache can be used to return static files
     that are stored on disk.  On many systems this may be more
     efficient as Apache can ask the kernel to copy the file contents
     from the file system directly to the network:

          SetEnv GIT_PROJECT_ROOT /var/www/git

          AliasMatch ^/git/(.*/objects/[0-9a-f]{2}/[0-9a-f]{38})$          /var/www/git/$1
          AliasMatch ^/git/(.*/objects/pack/pack-[0-9a-f]{40}.(pack|idx))$ /var/www/git/$1
          ScriptAlias /git/ /usr/libexec/git-core/git-http-backend/

     This can be combined with the gitweb configuration:

          SetEnv GIT_PROJECT_ROOT /var/www/git

          AliasMatch ^/git/(.*/objects/[0-9a-f]{2}/[0-9a-f]{38})$          /var/www/git/$1
          AliasMatch ^/git/(.*/objects/pack/pack-[0-9a-f]{40}.(pack|idx))$ /var/www/git/$1
          ScriptAliasMatch \
                  "(?x)^/git/(.*/(HEAD | \
                                  info/refs | \
                                  objects/info/[^/]+ | \
                                  git-(upload|receive)-pack))$" \
                  /usr/libexec/git-core/git-http-backend/$1
          ScriptAlias /git/ /var/www/cgi-bin/gitweb.cgi/

Lighttpd
     Ensure that ‘mod_cgi’, ‘mod_alias’, ‘mod_auth’, ‘mod_setenv’ are
     loaded, then set ‘GIT_PROJECT_ROOT’ appropriately and redirect all
     requests to the CGI:

          alias.url += ( "/git" => "/usr/lib/git-core/git-http-backend" )
          $HTTP["url"] =~ "^/git" {
                  cgi.assign = ("" => "")
                  setenv.add-environment = (
                          "GIT_PROJECT_ROOT" => "/var/www/git",
                          "GIT_HTTP_EXPORT_ALL" => ""
                  )
          }

     To enable anonymous read access but authenticated write access:

          $HTTP["querystring"] =~ "service=git-receive-pack" {
                  include "git-auth.conf"
          }
          $HTTP["url"] =~ "^/git/.*/git-receive-pack$" {
                  include "git-auth.conf"
          }

     where ‘git-auth.conf’ looks something like:

          auth.require = (
                  "/" => (
                          "method" => "basic",
                          "realm" => "Git Access",
                          "require" => "valid-user"
                         )
          )
          # ...and set up auth.backend here

     To require authentication for both reads and writes:

          $HTTP["url"] =~ "^/git/private" {
                  include "git-auth.conf"
          }


ENVIRONMENT
***********

_git http-backend_ relies upon the ‘CGI’ environment variables set by
the invoking web server, including:

   • PATH_INFO (if GIT_PROJECT_ROOT is set, otherwise PATH_TRANSLATED)

   • REMOTE_USER

   • REMOTE_ADDR

   • CONTENT_TYPE

   • QUERY_STRING

   • REQUEST_METHOD

   The ‘GIT_HTTP_EXPORT_ALL’ environmental variable may be passed to
_git-http-backend_ to bypass the check for the "git-daemon-export-ok"
file in each repository before allowing export of that repository.

   The ‘GIT_HTTP_MAX_REQUEST_BUFFER’ environment variable (or the
‘http.maxRequestBuffer’ config variable) may be set to change the
largest ref negotiation request that git will handle during a fetch; any
fetch requiring a larger buffer will not succeed.  This value should not
normally need to be changed, but may be helpful if you are fetching from
a repository with an extremely large number of refs.  The value can be
specified with a unit (e.g., ‘100M’ for 100 megabytes).  The default is
10 megabytes.

   Clients may probe for optional protocol capabilities (like the v2
protocol) using the ‘Git-Protocol’ HTTP header.  In order to support
these, the contents of that header must appear in the ‘GIT_PROTOCOL’
environment variable.  Most webservers will pass this header to the CGI
via the ‘HTTP_GIT_PROTOCOL’ variable, and ‘git-http-backend’ will
automatically copy that to ‘GIT_PROTOCOL’.  However, some webservers may
be more selective about which headers they’ll pass, in which case they
need to be configured explicitly (see the mention of ‘Git-Protocol’ in
the Apache config from the earlier EXAMPLES section).

   The backend process sets GIT_COMMITTER_NAME to _$REMOTE_USER_ and
GIT_COMMITTER_EMAIL to _${REMOTE_USER}@http.${REMOTE_ADDR}_, ensuring
that any reflogs created by _git-receive-pack_ contain some identifying
information of the remote user who performed the push.

   All ‘CGI’ environment variables are available to each of the hooks
invoked by the _git-receive-pack_.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-http-fetch,  Up: Top

Name
****

git-http-fetch — HTTPでリモートGitリポジトリからダウンロード


Synopsis
********

     git http-fetch [-c] [-t] [-a] [-d] [-v] [-w filename] [–recover] [–stdin | –packfile=<hash> | <commit>] <url>


DESCRIPTION
***********

HTTPでリモートGitリポジトリからダウンロード

   このコマンドは常にすべてのオブジェクトを取得します。歴史的に、ダウン
ロードするオブジェクトを選択するには、 ‘-a’ と ‘-c’ と ‘-t’ の3つのオプ
ションがありました。それらは現在、何も警告を出さずに無視されます。


OPTIONS
*******

commit-id
     プルするハッシュ、または [URL]/refs/ 下のファイル名 のいずれか。

‘-a, -c, -t’
     これらのオプションは、歴史的な理由により無視されます。

‘-v’
     ダウンロードしたものを報告します。

‘-w <filename>’
     転送が完了した後、ローカル側ドの $GIT_DIR/refs/<filename> の下のフ
     ァイル名にcommit-idを書き込みます。

‘--stdin’
     (この場合は期待されていない)コマンドラインのコミットIDの代わりに、
     _githttp-fetch_ は標準入力からの行を以下の形式であると期待します

          <commit-id>['\t'<filename-as-in--w>]

‘--packfile=<hash>’
     内部使用のみ。 (この場合は期待されていない)コマンドラインのコミット
     IDの代わりに、 _git http-fetch_ は指定されたURLで直接パックファイル
     をフェッチし、 index-pack を使用して対応する .idx ファイルと .keep
     ファイルを生成します。ハッシュは一時ファイルの名前を決定するために
     使用され、任意です。 index-pack の出力は stdout に出力されます。
     ‘--index-pack-args’ が必要です。

‘--index-pack-args=<args>’
     内部使用のみ。 ダウンロードしたパックの内容に対して実行するコマンド
     。引数はスペースで区切られURLエンコードされます。

‘--recover’
     ターゲットから到達可能なすべてのものがフェッチされていることを確認
     します。以前のフェッチが中断された後に使用されます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-http-push,  Up: Top

Name
****

git-http-push — HTTP/DAV を介してオブジェクトを別のリポジトリにプッシュ
する


Synopsis
********

     git http-push [–all] [–dry-run] [–force] [–verbose] <url> <ref> [<ref>…]


DESCRIPTION
***********

リモートに不足しているオブジェクトをリモートリポジトリに送信し、リモート
ブランチを更新します。

   *注* : libcurlが7.16より古い場合、このコマンドは一時的に無効になりま
す。 これは、組み合わせが機能しないことが報告されており、 リポジトリが破
損する場合があるためです。


OPTIONS
*******

‘--all’
     リモートリポジトリが現在の状態で完全であると想定しません。また、ロ
     ーカルrefの履歴全体のすべてのオブジェクトがリモートリポジトリに存在
     することを確認します。

‘--force’
     通常、コマンドは、上書きに使用されたローカルrefの祖先ではないリモー
     トrefの更新を拒否します。このフラグはこのチェックを無効にします。こ
     れが意味するのは、リモートリポジトリがコミットを失う可能性があると
     いうことです。注意して使用してください。

‘--dry-run’
     実際に更新を送信する以外はすべて行います。

‘--verbose’
     ローカルでウォークされているオブジェクトのリストと、リモートリポジ
     トリに正常に送信されたオブジェクトのリストを報告します。

‘-d’
‘-D’
     リモートリポジトリから <ref> を削除します。指定のブランチをリモート
     HEADにすることはできません。 ‘-d’ を指定する場合は、以下の他の条件
     も満たす必要があります:

        • リモートHEADは、ローカルに存在するオブジェクトに名前解決
          (resolve)できなければなりません。

        • 指定のブランチは、ローカルに存在するオブジェクトに名前解決
          (resolve)します。

        • 指定のブランチは、リモートHEADの祖先です。

<ref>…
     更新したいリモートrefs


SPECIFYING THE REFS
*******************

_<ref>_ 指定は、単一のパターン、またはコロン ":" で区切られた、そのよう
なパターンのペアのいずれかです(これは、ref名にコロンを含めることができな
いことを意味します)。 単一のパターン _<name>_ は、 _<name>:<name>_ の短
縮形です。

   各パターンペアは、送信元側(コロンの前)と宛先側(コロンの後)で構成され
ます。プッシュされるrefは、ソース側に一致する一致を見つけることによって
決定され、プッシュされる場所は、宛先側を使用して決定されます。

   • <src> がローカルrefの1つと正確に一致しない場合は、エラーになります
     。

   • <dst> がどのリモートrefとも一致しない場合、以下のどちらかです

        • "refs/" で始まる必要があります。この場合、文字通り <dst> が宛
          先として使用されます。

        • <src> == <dst> かつ <src> に一致するrefは、リモートrefのセット
          に存在してはなりません。ローカルで一致するref <src> は、宛先の
          名前として使用されます。

   ‘--force’ の指定が無く、<dst> が存在しない場合または <dst> が <src> の
適切なサブセット(つまり、祖先)である場合のみリモートに保存されます。
"fast-forward check" (早送りチェック)と呼ばれるこのチェックは、リモート
refを誤って上書きして、そこから他の人のコミットを失うことを回避するため
に実行されます。

   ‘--force’ を使用すると、すべてのrefに対して fast-forward check が無効
になります。

   オプションで、<ref> パラメーターの前に「+」記号を付けて、そのrefでの
み fast-forward check を無効にすることができます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-imap-send,  Up: Top

Name
****

git-imap-send — 標準入力からIMAPフォルダへパッチのコレクションを送信しま
す


Synopsis
********

     git imap-send [-v] [-q] [–[no-]curl]


DESCRIPTION
***********

このコマンドは、 ‘git format-patch’ で生成されたmailboxをIMAPドラフトフ
ォルダーにアップロードします。これにより、mailboxファイルを直接読み取る
ことができないメールクライアントを使用している場合と同じように、パッチを
送信できます。このコマンドは、電子メールのフィールドが「From」、「Date」
、「Subject」の順になっている一般的なmailboxでも機能します。

   一般的な使用法は以下のようになります:

   git format-patch –signoff –stdout –attach origin | git imap-send


OPTIONS
*******

‘-v’
‘--verbose’
     にぎやかにしろや。

‘-q’
‘--quiet’
     静かにしろや。

‘--curl’
     トンネリングしない限り、libcurl を使用してIMAPサーバーと通信します
     。Gitが USE_CURL_FOR_IMAP_SEND オプションを設定せずにビルドされた場
     合は無視されます。

‘--no-curl’
     libcurl を使用する代わりに、git独自のIMAPルーチンを使用してIMAPサー
     バーと通信します。Gitが NO_OPENSSL オプションを設定してビルドされた
     場合は無視されます。


CONFIGURATION
*************

このツールを使用するには、 ‘imap.folder’ と、 ‘imap.tunnel’ または
‘imap.host’ のいずれかを、適切な値に設定する必要があります。

imap.folder
     メールをドロップするフォルダー。通常はドラフトフォルダーです。 例：
     「INBOX.Drafts」とか「INBOX/Drafts」とか「[Gmail]/Drafts」です。必
     須です。

imap.tunnel
     サーバーへの直接ネットワーク接続を使用する代わりに、コマンドがパイ
     プされるIMAPサーバーへのトンネルをセットアップするために使用される
     コマンド。 imap.host が設定されていない場合に必須です。

imap.host
     サーバーを識別するURL。 非セキュア接続には ‘imap://’ プレフィックス
     を使用し、セキュア接続には ‘imaps://’ プレフィックスを使用します。
     imap.tunnel が設定されている場合は無視されますが、それ以外の場合は
     必須です。

imap.user
     サーバーにログインするときに使用するユーザー名。

imap.pass
     サーバーにログインするときに使用するパスワード。

imap.port
     サーバー上で接続する整数のポート番号。 デフォルトは、 imap:// ホス
     トの場合は143、 imaps:// ホストの場合は993です。 imap.tunnel が設定
     されている場合は無視されます。

imap.sslverify
     SSL/TLS接続で使用されるサーバー証明書の検証を有効/無効にするブール
     値。デフォルトは ‘true’ です。 imap.tunnel が設定されている場合は無
     視されます。

imap.preformattedHTML
     パッチを送信するときにhtmlエンコーディングの使用を有効/無効にするブ
     ール値。 htmlでエンコードされたパッチは <pre> で囲まれ、コンテンツ
     タイプは text/html になります。皮肉なことに、このオプションを有効に
     すると、Thunderbirdはパッチを plane/text の format=fixed メールとし
     て送信します。デフォルトは ‘false’ です。

imap.authMethod
     IMAPサーバーでの認証の認証方法を指定します。GitがNO_CURLオプション
     を使用してビルドされた場合、curlバージョンが7.34.0より古い場合、ま
     たはgit-imap-sendを ‘--no-curl’ オプションを指定して実行している場
     合、サポートされるメソッドは _CRAM-MD5_ のみです。これが設定されて
     いない場合、「git imap-send」は基本的なIMAPプレーンテキストLOGINコ
     マンドを使用します。


EXAMPLES
********

トンネル(tunnel)モード使用:

     [imap]
         folder = "INBOX.Drafts"
         tunnel = "ssh -q -C user@example.com /usr/bin/imapd ./Maildir 2> /dev/null"

   直接(direct)モード使用:

     [imap]
         folder = "INBOX.Drafts"
         host = imap://imap.example.com
         user = bob
         pass = p4ssw0rd

   SSLで直接モードを使用:

     [imap]
         folder = "INBOX.Drafts"
         host = imaps://imap.example.com
         user = bob
         pass = p4ssw0rd
         port = 123
         ; sslVerify = false

     *Note*

     接続の問題が、セットアップしようとしている(またはセットアップ済の
     )プライベートサーバー ‘example.com’ で使用している証明書が正しく検
     証されていないことが原因であると思われる場合、トラブルシューティン
     グ中に ‘sslVerify=false’ を使用することをお勧めします。

   GmailのIMAPインターフェースの使用:

     [imap]
             folder = "[Gmail]/Drafts"
             host = imaps://imap.gmail.com
             user = user@gmail.com
             port = 993

     *Note*

     "Folder doesn’t exist" というエラーが発生した場合は、代わりに
     ‘folder = "[Google Mail]/Drafts"’ を使用する必要があります。

     *Note*

     Gmailアカウントが英語以外の言語に設定されている場合、 "Drafts" フォ
     ルダの名前がローカライズされます。

   コミットを送信する準備ができたら、以下のコマンドを実行します:

     $ git format-patch --cover-letter -M --stdout origin/master | git imap-send

   メールクライアントで行の折り返しを無効にしてください(GmailのWebインタ
ーフェイスは何があっても行を折り返すため、実際のIMAPクライアント(real
IMAP client)を使用する必要があります)。


CAUTION
*******

電子メールプログラムによって送信される電子メールメッセージがプロジェクト
の基準を満たしていることを確認するのは、依然としてあなたの責任です。多く
のプロジェクトは、パッチを電子メールに添付することを好みません。一部のメ
ールエージェントは、パッチを失敗させる方法でパッチを変換します(たとえば
、行を折り返し、format=flowed として送信します)。これをチェックしておか
ないと、怒りの炎があなたを襲います。

   特に Thunderbird は問題があることが知られています。 Thunderbird のユ
ーザーは右記のWebページにアクセスして詳細を確認できます:
http://kb.mozillazine.org/Plain_text_e-mail_-_Thunderbird#Completely_plain_email
(http://kb.mozillazine.org/Plain_text_e-mail_-_Thunderbird#Completely_plain_email)


SEE ALSO
********

git-format-patch(1), git-send-email(1), mbox(5)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-index-pack,  Up: Top

Name
****

git-index-pack — Build pack index file for an existing packed archive


Synopsis
********

     git index-pack [-v] [-o <index-file>] [–[no-]rev-index] <pack-file>
     git index-pack –stdin [–fix-thin] [–keep] [-v] [-o <index-file>]
                       [–[no-]rev-index] [<pack-file>]


DESCRIPTION
***********

Reads a packed archive (.pack) from the specified file, and builds a
pack index file (.idx) for it.  Optionally writes a reverse-index (.rev)
for the specified pack.  The packed archive together with the pack index
can then be placed in the objects/pack/ directory of a Git repository.


OPTIONS
*******

‘-v’
     Be verbose about what is going on, including progress status.

‘-o <index-file>’
     Write the generated pack index into the specified file.  Without
     this option the name of pack index file is constructed from the
     name of packed archive file by replacing .pack with .idx (and the
     program fails if the name of packed archive does not end with
     .pack).

‘--[no-]rev-index’
     When this flag is provided, generate a reverse index (a ‘.rev’
     file) corresponding to the given pack.  If ‘--verify’ is given,
     ensure that the existing reverse index is correct.  Takes
     precedence over ‘pack.writeReverseIndex’.

‘--stdin’
     When this flag is provided, the pack is read from stdin instead and
     a copy is then written to <pack-file>.  If <pack-file> is not
     specified, the pack is written to objects/pack/ directory of the
     current Git repository with a default name determined from the pack
     content.  If <pack-file> is not specified consider using –keep to
     prevent a race condition between this process and _git repack_.

‘--fix-thin’
     Fix a "thin" pack produced by ‘git pack-objects --thin’ (see
     git-pack-objects(1) for details) by adding the excluded objects the
     deltified objects are based on to the pack.  This option only makes
     sense in conjunction with –stdin.

‘--keep’
     Before moving the index into its final destination create an empty
     .keep file for the associated pack file.  This option is usually
     necessary with –stdin to prevent a simultaneous _git repack_
     process from deleting the newly constructed pack and index before
     refs can be updated to use objects contained in the pack.

‘--keep=<msg>’
     Like –keep create a .keep file before moving the index into its
     final destination, but rather than creating an empty file place
     _<msg>_ followed by an LF into the .keep file.  The _<msg>_ message
     can later be searched for within all .keep files to locate any
     which have outlived their usefulness.

‘--index-version=<version>[,<offset>]’
     This is intended to be used by the test suite only.  It allows to
     force the version for the generated pack index, and to force 64-bit
     index entries on objects located above the given offset.

‘--strict’
     Die, if the pack contains broken objects or links.

‘--progress-title’
     For internal use only.

     Set the title of the progress bar.  The title is "Receiving
     objects" by default and "Indexing objects" when ‘--stdin’ is
     specified.

‘--check-self-contained-and-connected’
     Die if the pack contains broken links.  For internal use only.

‘--fsck-objects’
     For internal use only.

     Die if the pack contains broken objects.  If the pack contains a
     tree pointing to a .gitmodules blob that does not exist, prints the
     hash of that blob (for the caller to check) after the hash that
     goes into the name of the pack/idx file (see "Notes").

‘--threads=<n>’
     Specifies the number of threads to spawn when resolving deltas.
     This requires that index-pack be compiled with pthreads otherwise
     this option is ignored with a warning.  This is meant to reduce
     packing time on multiprocessor machines.  The required amount of
     memory for the delta search window is however multiplied by the
     number of threads.  Specifying 0 will cause Git to auto-detect the
     number of CPU’s and use maximum 3 threads.

‘--max-input-size=<size>’
     Die, if the pack is larger than <size>.

‘--object-format=<hash-algorithm>’
     Specify the given object format (hash algorithm) for the pack.  The
     valid values are _sha1_ and (if enabled) _sha256_.  The default is
     the algorithm for the current repository (set by
     ‘extensions.objectFormat’), or _sha1_ if no value is set or outside
     a repository.

     This option cannot be used with –stdin.

     このオプションは実験的なものです！ SHA-256のサポートは実験的なもの
     であり、まだ初期段階です。 SHA-256リポジトリは、通常、「通常の」
     SHA-1リポジトリと作業を共有できません。 たとえば、SHA-256リポジトリ
     に関連するGit内部ファイル形式は、下位互換性のない方法で変更される可
     能性があると想定する必要があります。テスト目的でのみ
     ‘--object-format=sha256’ を使用してください。


NOTES
*****

Once the index has been created, the hash that goes into the name of the
pack/idx file is printed to stdout.  If –stdin was also used then this
is prefixed by either "pack\t", or "keep\t" if a new .keep file was
successfully created.  This is useful to remove a .keep file used as a
lock to prevent the race with _git repack_ mentioned above.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-init-db,  Up: Top

Name
****

git-init-db — 空のGitリポジトリを作成


Synopsis
********

     git init-db [-q | –quiet] [–bare] [–template=<template_directory>] [–separate-git-dir <git dir>] [–shared[=<permissions>]]


DESCRIPTION
***********

これは git-init(1) の同義語です。 git-init(1) コマンドの文書を参照してく
ださい。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-init,  Up: Top

Name
****

git-init — Create an empty Git repository or reinitialize an existing
one


Synopsis
********

     git init [-q | –quiet] [–bare] [–template=<template_directory>]
               [–separate-git-dir <git dir>] [–object-format=<format>]
               [-b <branch-name> | –initial-branch=<branch-name>]
               [–shared[=<permissions>]] [directory]


DESCRIPTION
***********

This command creates an empty Git repository - basically a ‘.git’
directory with subdirectories for ‘objects’, ‘refs/heads’, ‘refs/tags’,
and template files.  An initial branch without any commits will be
created (see the ‘--initial-branch’ option below for its name).

   If the ‘$GIT_DIR’ environment variable is set then it specifies a
path to use instead of ‘./.git’ for the base of the repository.

   If the object storage directory is specified via the
‘$GIT_OBJECT_DIRECTORY’ environment variable then the sha1 directories
are created underneath - otherwise the default ‘$GIT_DIR/objects’
directory is used.

   Running _git init_ in an existing repository is safe.  It will not
overwrite things that are already there.  The primary reason for
rerunning _git init_ is to pick up newly added templates (or to move the
repository to another place if –separate-git-dir is given).


OPTIONS
*******

‘-q’
‘--quiet’
     Only print error and warning messages; all other output will be
     suppressed.

‘--bare’
     Create a bare repository.  If ‘GIT_DIR’ environment is not set, it
     is set to the current working directory.

‘--object-format=<format>’
     Specify the given object format (hash algorithm) for the
     repository.  The valid values are _sha1_ and (if enabled) _sha256_.
     _sha1_ is the default.

     このオプションは実験的なものです！ SHA-256のサポートは実験的なもの
     であり、まだ初期段階です。 SHA-256リポジトリは、通常、「通常の」
     SHA-1リポジトリと作業を共有できません。 たとえば、SHA-256リポジトリ
     に関連するGit内部ファイル形式は、下位互換性のない方法で変更される可
     能性があると想定する必要があります。テスト目的でのみ
     ‘--object-format=sha256’ を使用してください。

‘--template=<template_directory>’
     Specify the directory from which templates will be used.  (See the
     "TEMPLATE DIRECTORY" section below.)

‘--separate-git-dir=<git dir>’
     Instead of initializing the repository as a directory to either
     ‘$GIT_DIR’ or ‘./.git/’, create a text file there containing the
     path to the actual repository.  This file acts as
     filesystem-agnostic Git symbolic link to the repository.

     If this is reinitialization, the repository will be moved to the
     specified path.

‘-b <branch-name>’
‘--initial-branch=<branch-name>’
     Use the specified name for the initial branch in the newly created
     repository.  If not specified, fall back to the default name
     (currently ‘master’, but this is subject to change in the future;
     the name can be customized via the ‘init.defaultBranch’
     configuration variable).

‘--shared[=(false|true|umask|group|all|world|everybody|0xxx)]’
     Specify that the Git repository is to be shared amongst several
     users.  This allows users belonging to the same group to push into
     that repository.  When specified, the config variable
     "core.sharedRepository" is set so that files and directories under
     ‘$GIT_DIR’ are created with the requested permissions.  When not
     specified, Git will use permissions reported by umask(2).

     The option can have the following values, defaulting to _group_ if
     no value is given:

     _umask_ (or _false_)
          Use permissions reported by umask(2).  The default, when
          ‘--shared’ is not specified.

     _group_ (or _true_)
          Make the repository group-writable, (and g+sx, since the git
          group may be not the primary group of all users).  This is
          used to loosen the permissions of an otherwise safe umask(2)
          value.  Note that the umask still applies to the other
          permission bits (e.g.  if umask is _0022_, using _group_ will
          not remove read privileges from other (non-group) users).  See
          _0xxx_ for how to exactly specify the repository permissions.

     _all_ (or _world_ or _everybody_)
          Same as _group_, but make the repository readable by all
          users.

     _0xxx_
          _0xxx_ is an octal number and each file will have mode _0xxx_.
          _0xxx_ will override users’ umask(2) value (and not only
          loosen permissions as _group_ and _all_ does).  _0640_ will
          create a repository which is group-readable, but not
          group-writable or accessible to others.  _0660_ will create a
          repo that is readable and writable to the current user and
          group, but inaccessible to others.

   By default, the configuration flag ‘receive.denyNonFastForwards’ is
enabled in shared repositories, so that you cannot force a non
fast-forwarding push into it.

   If you provide a _directory_, the command is run inside it.  If this
directory does not exist, it will be created.


TEMPLATE DIRECTORY
******************

Files and directories in the template directory whose name do not start
with a dot will be copied to the ‘$GIT_DIR’ after it is created.

   The template directory will be one of the following (in order):

   • the argument given with the ‘--template’ option;

   • the contents of the ‘$GIT_TEMPLATE_DIR’ environment variable;

   • the ‘init.templateDir’ configuration variable; or

   • the default template directory: ‘/usr/share/git-core/templates’.

   The default template directory includes some directory structure,
suggested "exclude patterns" (see gitignore(5)), and sample hook files.

   The sample hooks are all disabled by default.  To enable one of the
sample hooks rename it by removing its ‘.sample’ suffix.

   See githooks(5) for more general info on hook execution.


EXAMPLES
********

Start a new Git repository for an existing code base
          $ cd /path/to/my/codebase
          $ git init      (1)
          $ git add .     (2)
          $ git commit    (3)

     *note (1): CO1-1.
          Create a /path/to/my/codebase/.git directory.

     *note (2): CO1-2.
          Add all existing files to the index.

     *note (3): CO1-3.
          Record the pristine state as the first commit in the history.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-instaweb,  Up: Top

Name
****

git-instaweb — gitwebで作業リポジトリをインスタントにブラウズします


Synopsis
********

     git instaweb [–local] [–httpd=<httpd>] [–port=<port>]
                    [–browser=<browser>]
     git instaweb [–start] [–stop] [–restart]


DESCRIPTION
***********

ローカルリポジトリを参照するための ‘gitweb’ とWebサーバーを設定するため
の簡単なスクリプト。


OPTIONS
*******

‘-l’
‘--local’
     WebサーバーをローカルIP(127.0.0.1)にのみバインドします。

‘-d’
‘--httpd’
     実行されるHTTPデーモンのコマンドライン。コマンドラインオプションは
     ここで指定でき、構成ファイルはコマンドラインの最後に追加されます。
     現在、apache2、lighttpd、mongoose、plackup、python、webrickがサポー
     トされています。（デフォルト：lighttpd）

‘-m’
‘--module-path’
     モジュールパス(httpdがApacheの場合にのみ必要)。(デフォルト:
     /usr/lib/apache2/modules )

‘-p’
‘--port’
     httpdをバインドするポート番号。(デフォルト: 1234)

‘-b’
‘--browser’
     gitwebページを表示するために使用する必要があるWebブラウザー。これは
     、gitwebインスタンスのURLとともに _git web–browse_ ヘルパースクリプ
     トに渡されます。詳細については、 git-web–browse(1) を参照してくださ
     い。スクリプトが失敗した場合、URLはstdoutに出力されます。

start
‘--start’
     httpdインスタンスを開始して本コマンドを終了します。新しいインスタン
     スを生成するために、必要に応じて構成ファイルを再生成します。

stop
‘--stop’
     httpdインスタンスを停止して本コマンドを終了します。これにより、新し
     いインスタンスを生成するための構成ファイルが生成されたり、ブラウザ
     ーが閉じられたりすることはありません。

restart
‘--restart’
     httpdインスタンスを再起動して本コマンドを終了します。 新しいインス
     タンスを生成するために、必要に応じて構成ファイルを再生成します。


CONFIGURATION
*************

あなたは .git/config で構成を指定できます

     [instaweb]
             local = true
             httpd = apache2 -f
             port = 4321
             browser = konqueror
             modulePath = /usr/lib/apache2/modules

   構成変数 ‘instaweb.browser’ が設定されていない場合に、‘web.browser’ が
定義されていれば、代わりに ‘web.browser’ が使用されます。詳細については
、 git-web–browse(1) を参照してください。


SEE ALSO
********

gitweb(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-interpret-trailers,  Up: Top

Name
****

git-interpret-trailers — コミットメッセージの構造化情報を追加またはパー
スします


Synopsis
********

     git interpret-trailers [<options>] [(–trailer <token>[(=|:)<value>])…] [<file>…]
     git interpret-trailers [<options>] [–parse] [<file>…]


DESCRIPTION
***********

コミットメッセージの自由形式の部分の最後に、RFC 822 電子メールヘッダーに
似た「トレーラー」(trailers)行の追加またはパースを支援します。

   This command reads some patches or commit messages from either the
<file> arguments or the standard input if no <file> is specified.  If
‘--parse’ is specified, the output consists of the parsed trailers.

   Otherwise, this command applies the arguments passed using the
‘--trailer’ option, if any, to the commit message part of each input
file.  The result is emitted on the standard output.

   Some configuration variables control the way the ‘--trailer’
arguments are applied to each commit message and the way any existing
trailer in the commit message is changed.  They also make it possible to
automatically add some trailers.

   By default, a _<token>=<value>_ or _<token>:<value>_ argument given
using ‘--trailer’ will be appended after the existing trailers only if
the last trailer has a different (<token>, <value>) pair (or if there is
no existing trailer).  The <token> and <value> parts will be trimmed to
remove starting and trailing whitespace, and the resulting trimmed
<token> and <value> will appear in the message like this:

     token: value

   This means that the trimmed <token> and <value> will be separated by
‘': '’ (one colon followed by one space).

   By default the new trailer will appear at the end of all the existing
trailers.  If there is no existing trailer, the new trailer will appear
after the commit message part of the output, and, if there is no line
with only spaces at the end of the commit message part, one blank line
will be added before the new trailer.

   Existing trailers are extracted from the input message by looking for
a group of one or more lines that (i) is all trailers, or (ii) contains
at least one Git-generated or user-configured trailer and consists of at
least 25% trailers.  The group must be preceded by one or more empty (or
whitespace-only) lines.  The group must either be at the end of the
message or be the last non-whitespace lines before a line that starts
with _—_ (followed by a space or the end of the line).  Such three minus
signs start the patch part of the message.  See also ‘--no-divider’
below.

   When reading trailers, there can be whitespaces after the token, the
separator and the value.  There can also be whitespaces inside the token
and the value.  The value may be split over multiple lines with each
subsequent line starting with whitespace, like the "folding" in RFC 822.

   Note that _trailers_ do not follow and are not intended to follow
many rules for RFC 822 headers.  For example they do not follow the
encoding rules and probably many other rules.


OPTIONS
*******

‘--in-place’
     Edit the files in place.

‘--trim-empty’
     If the <value> part of any trailer contains only whitespace, the
     whole trailer will be removed from the resulting message.  This
     applies to existing trailers as well as new trailers.

‘--trailer <token>[(=|:)<value>]’
     Specify a (<token>, <value>) pair that should be applied as a
     trailer to the input messages.  See the description of this
     command.

‘--where <placement>’
‘--no-where’
     Specify where all new trailers will be added.  A setting provided
     with _–where_ overrides all configuration variables and applies to
     all _–trailer_ options until the next occurrence of _–where_ or
     _–no-where_.  Possible values are ‘after’, ‘before’, ‘end’ or
     ‘start’.

‘--if-exists <action>’
‘--no-if-exists’
     Specify what action will be performed when there is already at
     least one trailer with the same <token> in the message.  A setting
     provided with _–if-exists_ overrides all configuration variables
     and applies to all _–trailer_ options until the next occurrence of
     _–if-exists_ or _–no-if-exists_.  Possible actions are
     ‘addIfDifferent’, ‘addIfDifferentNeighbor’, ‘add’, ‘replace’ and
     ‘doNothing’.

‘--if-missing <action>’
‘--no-if-missing’
     Specify what action will be performed when there is no other
     trailer with the same <token> in the message.  A setting provided
     with _–if-missing_ overrides all configuration variables and
     applies to all _–trailer_ options until the next occurrence of
     _–if-missing_ or _–no-if-missing_.  Possible actions are
     ‘doNothing’ or ‘add’.

‘--only-trailers’
     Output only the trailers, not any other parts of the input.

‘--only-input’
     Output only trailers that exist in the input; do not add any from
     the command-line or by following configured ‘trailer.*’ rules.

‘--unfold’
     Remove any whitespace-continuation in trailers, so that each
     trailer appears on a line by itself with its full content.

‘--parse’
     A convenience alias for ‘--only-trailers --only-input --unfold’.

‘--no-divider’
     Do not treat ‘---’ as the end of the commit message.  Use this when
     you know your input contains just the commit message itself (and
     not an email or the output of ‘git format-patch’).


CONFIGURATION VARIABLES
***********************

trailer.separators
     This option tells which characters are recognized as trailer
     separators.  By default only _:_ is recognized as a trailer
     separator, except that _=_ is always accepted on the command line
     for compatibility with other git commands.

     The first character given by this option will be the default
     character used when another separator is not specified in the
     config for this trailer.

     For example, if the value for this option is "%=$", then only lines
     using the format _<token><sep><value>_ with <sep> containing _%_,
     _=_ or _$_ and then spaces will be considered trailers.  And _%_
     will be the default separator used, so by default trailers will
     appear like: _<token>% <value>_ (one percent sign and one space
     will appear between the token and the value).

trailer.where
     This option tells where a new trailer will be added.

     This can be ‘end’, which is the default, ‘start’, ‘after’ or
     ‘before’.

     If it is ‘end’, then each new trailer will appear at the end of the
     existing trailers.

     If it is ‘start’, then each new trailer will appear at the start,
     instead of the end, of the existing trailers.

     If it is ‘after’, then each new trailer will appear just after the
     last trailer with the same <token>.

     If it is ‘before’, then each new trailer will appear just before
     the first trailer with the same <token>.

trailer.ifexists
     This option makes it possible to choose what action will be
     performed when there is already at least one trailer with the same
     <token> in the message.

     The valid values for this option are: ‘addIfDifferentNeighbor’
     (this is the default), ‘addIfDifferent’, ‘add’, ‘replace’ or
     ‘doNothing’.

     With ‘addIfDifferentNeighbor’, a new trailer will be added only if
     no trailer with the same (<token>, <value>) pair is above or below
     the line where the new trailer will be added.

     With ‘addIfDifferent’, a new trailer will be added only if no
     trailer with the same (<token>, <value>) pair is already in the
     message.

     With ‘add’, a new trailer will be added, even if some trailers with
     the same (<token>, <value>) pair are already in the message.

     With ‘replace’, an existing trailer with the same <token> will be
     deleted and the new trailer will be added.  The deleted trailer
     will be the closest one (with the same <token>) to the place where
     the new one will be added.

     With ‘doNothing’, nothing will be done; that is no new trailer will
     be added if there is already one with the same <token> in the
     message.

trailer.ifmissing
     This option makes it possible to choose what action will be
     performed when there is not yet any trailer with the same <token>
     in the message.

     The valid values for this option are: ‘add’ (this is the default)
     and ‘doNothing’.

     With ‘add’, a new trailer will be added.

     With ‘doNothing’, nothing will be done.

trailer.<token>.key
     This ‘key’ will be used instead of <token> in the trailer.  At the
     end of this key, a separator can appear and then some space
     characters.  By default the only valid separator is _:_, but this
     can be changed using the ‘trailer.separators’ config variable.

     If there is a separator, then the key will be used instead of both
     the <token> and the default separator when adding the trailer.

trailer.<token>.where
     This option takes the same values as the _trailer.where_
     configuration variable and it overrides what is specified by that
     option for trailers with the specified <token>.

trailer.<token>.ifexists
     This option takes the same values as the _trailer.ifexists_
     configuration variable and it overrides what is specified by that
     option for trailers with the specified <token>.

trailer.<token>.ifmissing
     This option takes the same values as the _trailer.ifmissing_
     configuration variable and it overrides what is specified by that
     option for trailers with the specified <token>.

trailer.<token>.command
     This option behaves in the same way as _trailer.<token>.cmd_,
     except that it doesn’t pass anything as argument to the specified
     command.  Instead the first occurrence of substring $ARG is
     replaced by the value that would be passed as argument.

     The _trailer.<token>.command_ option has been deprecated in favor
     of _trailer.<token>.cmd_ due to the fact that $ARG in the user’s
     command is only replaced once and that the original way of
     replacing $ARG is not safe.

     When both _trailer.<token>.cmd_ and _trailer.<token>.command_ are
     given for the same <token>, _trailer.<token>.cmd_ is used and
     _trailer.<token>.command_ is ignored.

trailer.<token>.cmd
     This option can be used to specify a shell command that will be
     called: once to automatically add a trailer with the specified
     <token>, and then each time a _–trailer <token>=<value>_ argument
     to modify the <value> of the trailer that this option would
     produce.

     When the specified command is first called to add a trailer with
     the specified <token>, the behavior is as if a special _–trailer
     <token>=<value>_ argument was added at the beginning of the "git
     interpret-trailers" command, where <value> is taken to be the
     standard output of the command with any leading and trailing
     whitespace trimmed off.

     If some _–trailer <token>=<value>_ arguments are also passed on the
     command line, the command is called again once for each of these
     arguments with the same <token>.  And the <value> part of these
     arguments, if any, will be passed to the command as its first
     argument.  This way the command can produce a <value> computed from
     the <value> passed in the _–trailer <token>=<value>_ argument.


EXAMPLES
********

   • Configure a _sign_ trailer with a _Signed-off-by_ key, and then add
     two of these trailers to a message:

          $ git config trailer.sign.key "Signed-off-by"
          $ cat msg.txt
          subject

          message
          $ cat msg.txt | git interpret-trailers --trailer 'sign: Alice <alice@example.com>' --trailer 'sign: Bob <bob@example.com>'
          subject

          message

          Signed-off-by: Alice <alice@example.com>
          Signed-off-by: Bob <bob@example.com>

   • Use the ‘--in-place’ option to edit a message file in place:

          $ cat msg.txt
          subject

          message

          Signed-off-by: Bob <bob@example.com>
          $ git interpret-trailers --trailer 'Acked-by: Alice <alice@example.com>' --in-place msg.txt
          $ cat msg.txt
          subject

          message

          Signed-off-by: Bob <bob@example.com>
          Acked-by: Alice <alice@example.com>

   • Extract the last commit as a patch, and add a _Cc_ and a
     _Reviewed-by_ trailer to it:

          $ git format-patch -1
          0001-foo.patch
          $ git interpret-trailers --trailer 'Cc: Alice <alice@example.com>' --trailer 'Reviewed-by: Bob <bob@example.com>' 0001-foo.patch >0001-bar.patch

   • Configure a _sign_ trailer with a command to automatically add a
     ’Signed-off-by: ’ with the author information only if there is no
     ’Signed-off-by: ’ already, and show how it works:

          $ git config trailer.sign.key "Signed-off-by: "
          $ git config trailer.sign.ifmissing add
          $ git config trailer.sign.ifexists doNothing
          $ git config trailer.sign.command 'echo "$(git config user.name) <$(git config user.email)>"'
          $ git interpret-trailers <<EOF
          > EOF

          Signed-off-by: Bob <bob@example.com>
          $ git interpret-trailers <<EOF
          > Signed-off-by: Alice <alice@example.com>
          > EOF

          Signed-off-by: Alice <alice@example.com>

   • Configure a _fix_ trailer with a key that contains a _#_ and no
     space after this character, and show how it works:

          $ git config trailer.separators ":#"
          $ git config trailer.fix.key "Fix #"
          $ echo "subject" | git interpret-trailers --trailer fix=42
          subject

          Fix #42

   • Configure a _help_ trailer with a cmd use a script
     ‘glog-find-author’ which search specified author identity from git
     log in git repository and show how it works:

          $ cat ~/bin/glog-find-author
          #!/bin/sh
          test -n "$1" && git log --author="$1" --pretty="%an <%ae>" -1 || true
          $ git config trailer.help.key "Helped-by: "
          $ git config trailer.help.ifExists "addIfDifferentNeighbor"
          $ git config trailer.help.cmd "~/bin/glog-find-author"
          $ git interpret-trailers --trailer="help:Junio" --trailer="help:Couder" <<EOF
          > subject
          >
          > message
          >
          > EOF
          subject

          message

          Helped-by: Junio C Hamano <gitster@pobox.com>
          Helped-by: Christian Couder <christian.couder@gmail.com>

   • Configure a _ref_ trailer with a cmd use a script ‘glog-grep’ to
     grep last relevant commit from git log in the git repository and
     show how it works:

          $ cat ~/bin/glog-grep
          #!/bin/sh
          test -n "$1" && git log --grep "$1" --pretty=reference -1 || true
          $ git config trailer.ref.key "Reference-to: "
          $ git config trailer.ref.ifExists "replace"
          $ git config trailer.ref.cmd "~/bin/glog-grep"
          $ git interpret-trailers --trailer="ref:Add copyright notices." <<EOF
          > subject
          >
          > message
          >
          > EOF
          subject

          message

          Reference-to: 8bc9a0c769 (Add copyright notices., 2005-04-07)

   • Configure a _see_ trailer with a command to show the subject of a
     commit that is related, and show how it works:

          $ git config trailer.see.key "See-also: "
          $ git config trailer.see.ifExists "replace"
          $ git config trailer.see.ifMissing "doNothing"
          $ git config trailer.see.command "git log -1 --oneline --format=\"%h (%s)\" --abbrev-commit --abbrev=14 \$ARG"
          $ git interpret-trailers <<EOF
          > subject
          >
          > message
          >
          > see: HEAD~2
          > EOF
          subject

          message

          See-also: fe3187489d69c4 (subject of related commit)

   • Configure a commit template with some trailers with empty values
     (using sed to show and keep the trailing spaces at the end of the
     trailers), then configure a commit-msg hook that uses _git
     interpret-trailers_ to remove trailers with empty values and to add
     a _git-version_ trailer:

          $ sed -e 's/ Z$/ /' >commit_template.txt <<EOF
          > ***subject***
          >
          > ***message***
          >
          > Fixes: Z
          > Cc: Z
          > Reviewed-by: Z
          > Signed-off-by: Z
          > EOF
          $ git config commit.template commit_template.txt
          $ cat >.git/hooks/commit-msg <<EOF
          > #!/bin/sh
          > git interpret-trailers --trim-empty --trailer "git-version: \$(git describe)" "\$1" > "\$1.new"
          > mv "\$1.new" "\$1"
          > EOF
          $ chmod +x .git/hooks/commit-msg


SEE ALSO
********

git-commit(1), git-format-patch(1), git-config(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-log,  Up: Top

Name
****

git-log — コミットのログを表示


Synopsis
********

     git log [<options>] [<revision range>] [[–] <path>…]


DESCRIPTION
***********

コミットのログを表示します。

   指定されたコミットから「親」リンクをたどることによって到達可能なコミ
ットをリストしますが、その前に _^_ が付いているコミットから到達可能なコ
ミットは除外します。デフォルトでは、出力は時系列の逆順で表示されます。

   これは集合演算と考えることができます。 コマンドラインで指定されたコミ
ットのいずれかから到達可能なコミットのセットを形成し、 _^_ が前に付いた
コミットのいずれかから到達可能なコミットがそのセットから差し引かれます。
差し引かれた残りのコミットは、コマンドの出力に出力されるものです。他のさ
まざまなオプションとパスパラメータ(pats parameters)を使用して、結果をさ
らに制限できます。

   したがって、以下のコマンド:

     $ git log foo bar ^baz

   は、「 _foo_ または _bar_ から到達可能であるが、 _baz_ からは到達でき
ないすべてのコミットをリストする」を意味します。

   特別な表記 "_<commit1>_.._<commit2>_" は、 "^_<commit1>_ _<commit2>_"
の省略形として使用できます。たとえば、以下のどちらかを同じ意味で使用でき
ます:

     $ git log origin..HEAD
     $ git log HEAD ^origin

   もう1つの特別な表記法は、マージに役立つ "_<commit1>_…_<commit2>_" で
す。結果として得られるコミットのセットは、2つのオペランド間の対称差
(symmetric difference)です。以下の2つのコマンドは同等です:

     $ git log A B --not $(git merge-base --all A B)
     $ git log A...B

   このコマンドは、 git-rev-list(1) コマンドに適用可能なオプションを使用
して、表示内容と方法を制御し、そして git-diff(1) コマンドに適用可能なオ
プションを使用して、各コミットによって導入される変更の表示方法を制御しま
す。


OPTIONS
*******

‘--follow’
     ファイル名が途中でリネームされていてもそこで中断することなく、その
     ファイルの一覧を続けて表示します(単一のファイルに対してのみ機能しま
     す)。

‘--no-decorate’
‘--decorate[=short|full|auto|no]’
     表示されているコミットのref名を出力します。 _short_ が指定されてい
     る場合、ref名の接頭辞 _refs/heads/_ と _refs/tags/_ と
     _refs/remotes/_ は出力されません。 _full_ が指定されている場合、完
     全なref名(接頭辞を含む)が出力されます。_auto_ が指定されている場合
     、出力が端末に送られると、ref名は _short_ が指定されているかのよう
     に表示され、それ以外の場合はref名は表示されません。オプション
     ‘--decorate’ は ‘--decorate=short’ の省略形です。構成されている場合
     はデフォルトで構成値の ‘log.decorate’ になり、構成されていない場合
     は ‘auto’ になります。

‘--decorate-refs=<pattern>’
‘--decorate-refs-exclude=<pattern>’
     ‘--decorate-refs’ が指定されていない場合は、すべてのrefが含まれてい
     るように見せかけます。候補ごとに、‘--decorate-refs-exclude’ に指定
     されたパターンのいずれにもマッチしない場合、または
     ‘--decorate-refs’ に指定されたパターンのいずれにもマッチしない場合
     は、装飾に使用しないでください。 ‘log.excludeDecoration’ 構成オプシ
     ョンを使用すると、装飾からrefを除外できますが、明示的な
     ‘--decorate-refs’ パターンは ‘log.excludeDecoration’ のマッチングを
     オーバーライドします。

‘--source’
     各コミットがコマンドラインで指定のコミットのいずれかから到達できる
     祖先である場合、当該コミット毎にコマンドラインで指定のコミットの
     ref名で表示します。

‘--[no-]mailmap’
‘--[no-]use-mailmap’
     mailmapファイルを使用して、作者名(author names)とコミッター名
     (committer names)と電子メールアドレス(email addresses)を、正式な本
     名と電子メールアドレスにマップします。 git-shortlog(1) 参照。

‘--full-diff’
     このフラグがない場合、 ‘git log -p <path>...’ は、指定されたパスに
     関連(touch)するコミットを示し、その指定されたパスについての差分を取
     ります。これにより、指定されたパスに関連するコミットの完全な差分が
     表示されます。これは、 "<path>…" がコミットのみを制限し、それらのコ
     ミットの差分を制限しないことを意味します。

     これは、例えば ‘--stat’ によって生成されたものなど、すべての差分ベ
     ースの出力タイプに影響することに注意してください。

‘--log-size’
     各コミットの出力に “log size <number>” という行を含めます。ここで、
     <number> はそのコミットのメッセージの長さ(バイト単位)です。プログラ
     ムがスペースをコミットのメッセージ読み込み前に割り当てられるように
     して、 ‘git log’ 出力からログメッセージを読み取るツールを高速化する
     ことを目的としています。

‘-L<start>,<end>:<file>’
‘-L:<funcname>:<file>’
     _<file>_ 内で、 _<start>,<end>_ 、または関数名 regex _<funcname>_ で
     指定された行範囲をトレースします。pathspec リミッターを指定すること
     はできません。これは現在、単一のリビジョンから開始するウォークに制
     限されています。つまり、0個または1個の正のリビジョン引数のみを指定
     でき、 _<start>_ と _<end>_ (または _<funcname>_) が開始リビジョン
     に存在する必要があります。このオプションは複数回指定できます。これ
     は ‘--patch’ オプションの機能を内包しています。パッチ出力は
     ‘--no-patch’ を使用して抑制できますが、他の差分形式(つまり、
     ‘--raw’、 ‘--numstat’、 ‘--shortstat’、 ‘--dirstat’、 ‘--summary’、
     ‘--name-only’、 ‘--name-status’、 ‘--check’)は現在実装されていませ
     ん。

     _<start>_ と _<end>_ は、以下のいずれかの形式です:

        • number

          _<start>_ または _<end>_ が数値の場合、絶対行番号を指定します
          (行は1から数えます)。

        • ‘/regex/’

          この形式は、指定されたPOSIX正規表現に一致する最初の行を使用し
          ます。 _<start>_ が正規表現の場合、前の ‘-L’ 範囲の末尾から検
          索します。それ以外の場合は、ファイルの先頭から検索します。
          _<start>_ が ‘^/regex/’ の場合、ファイルの先頭から検索します。
          _<end>_ が正規表現の場合、 _<start>_ で指定された行から検索開
          始します。

        • +offset or -offset

          これは <end> に対してのみ有効であり、 <start> で指定された行の
          前後の行数を指定します。

     _<start>_ および _<end>_ の代わりに ‘:<funcname>’ が指定されている
     場合、これは _<funcname>_ に一致する最初の関数名行から次の関数名行
     までの範囲を示す正規表現です。 ‘:<funcname>’ は、前の ‘-L’ 範囲の末
     尾から検索します。それ以外の場合は、ファイルの先頭から検索します。
     ‘^:<funcname>’ はファイルの先頭から検索します。関数名は、 ‘git
     diff’ がパッチハンクヘッダーを処理するのと同じ方法で決定されます
     (gitattributes(5) の _Defining a custom hunk-header_ 参照)。

<revision range>
     指定されたリビジョン範囲のコミットのみを表示します。 <revision
     range> が指定されていない場合、デフォルトで ‘HEAD’ (つまり、現在の
     コミットにつながる履歴全体)になります。 ‘origin..HEAD’ は、現在のコ
     ミット(つまり、‘HEAD’)から到達可能なすべてのコミットを指定しますが
     、‘origin‘からは指定しません。 <revision range> の綴り方の完全なリ
     ストについては、 gitrevisions(7) の「Specifying Ranges」節を参照し
     てください。

[–] <path>…
     指定されたパスに一致するファイルがどのようになったかを説明するのに
     必要十分なコミットのみを表示します。詳細およびその他の簡略化モード
     については、以下の _History Simplification_ を参照してください。

     混乱が生じた場合、パスをオプションまたはリビジョン範囲から分離する
     ために、パスの前に ‘--’ を付ける必要がある場合があります。


Commit Limiting
===============

ここで説明されている特別な表記法を使用してリストする必要があるコミットの
範囲を指定することに加えて、追加のコミット制限が適用される場合があります
。

   より多くのオプションを使用すると、通常、出力がさらに制限されます(たと
えば、‘--since=<date1>`は’<date1>‘より新しいコミットに制限され、
’–grep=<pattern>‘と一緒に使用すると、ログメッセージに’<pattern>‘と一致す
る行があるコミットにさらに制限されます)。

   注意: これらは、‘–reverse‘などのコミット順序およびフォーマットオプシ
ョンの前に適用されることに注意してください。

‘-<number>’
‘-n <number>’
‘--max-count=<number>’
     出力するコミットの数を制限します。

‘--skip=<number>’
     コミット出力の表示を開始する前に、’number’個のコミットをスキップし
     ます。

–since=<date>
‘--after=<date>’
     指定の日付よりも新しいコミットを表示します。

‘--until=<date>’
‘--before=<date>’
     指定の日付より古いコミットを表示します。

‘--author=<pattern>’
‘--committer=<pattern>’
     コミット出力を、指定されたパターン(正規表現)に一致する作者
     (author)/コミッター(committer)ヘッダー行を持つものに制限します。複
     数の ‘--author=<pattern>’ がある場合、作者が指定されたパターンのい
     ずれかに一致するコミットが選択されます(複数の
     ‘--committer=<pattern>’ の場合も同様)。

‘--grep-reflog=<pattern>’
     コミット出力を、指定されたパターン(正規表現)に一致するreflogエント
     リを持つものに制限します。複数の‘–grep-reflog‘を使用すると、指定さ
     れたパターンのいずれかに一致するreflogメッセージを持つコミットが選
     択されます。‘–walk-reflogs‘が使用されていない限り、このオプションを
     使用するとエラーになります。

‘--grep=<pattern>’
     コミット出力を、指定されたパターン(正規表現)に一致するログメッセー
     ジを持つものに制限します。複数の‘–grep=<pattern>‘を使用すると、指定
     されたパターンのいずれかにメッセージが一致するコミットが選択されま
     す(全てに一致するコミットだけを選択したい場合、’–all-match‘を参照し
     てください)。

     ‘–notes‘が有効な場合、ノートからのメッセージは、ログメッセージの一
     部であるかのようにマッチングされます。

‘--all-match’
     コミット出力を、少なくとも1つに一致するものではなく、指定されたすべ
     ての‘–grep‘に一致するものに制限します。

‘--invert-grep’
     コミット出力を、‘–grep=<pattern>‘で指定されたパターンと一致しないロ
     グメッセージを持つものに制限します。

‘-i’
‘--regexp-ignore-case’
     大文字小文字に関係なく、正規表現の制限パターンに一致します。

‘--basic-regexp’
     制限パターンを基本正規表現として扱います。これがデフォルトです。

‘-E’
‘--extended-regexp’
     制限パターンを、デフォルトの基本正規表現の代わりに拡張正規表現とし
     て扱います。

‘-F’
‘--fixed-strings’
     制限パターンを固定文字列として扱います(パターンを正規表現として解釈
     しないでください)。

‘-P’
‘--perl-regexp’
     制限パターンをPerl互換の正規表現として扱います。

     これらのタイプの正規表現のサポートは、コンパイル時オプションに依存
     します。Gitが当該のサポート付きでコンパイルされていない場合、このオ
     プションを提供すると、Gitが死にます(die)。

‘--remove-empty’
     指定されたパスがツリーから見えなくなったら停止(stop)します。

‘--merges’
     マージコミットのみを印刷します。これは‘–min-parents=2‘とまったく同
     じです。

‘--no-merges’
     複数の親を持つコミットを出力しない。これは‘–max-parents=1‘とまった
     く同じです。

‘--min-parents=<number>’
‘--max-parents=<number>’
‘--no-min-parents’
‘--no-max-parents’
     量の多少に関わらず、とにかく複数の親コミットがあるコミットのみを表
     示します。特に、‘--max-parents=1`は’–no-merges‘と同じであり、
     ‘--min-parents=2`は’–merges‘と同じです。‘--max-parents=0`はすべての
     ルートコミットを提供し、’–min-parents=3‘はすべてのタコ足マージ
     (octopus merges)を示します。

     ‘--no-min-parents`と’–no-max-parents‘は、これらの制限を(制限なしに
     )再度リセットします。同等の形式は、‘--min-parents=0’(すべてのコミッ
     トに0個以上の親があります)および‘–max-parents=-1‘(マイナスの数は上
     限がないことを示します)です。

‘--first-parent’
     マージコミットを確認したら、最初の親コミットのみを探索します。この
     オプションは、特定のトピックブランチの進化を表示するときに、より良
     い概要を提供できます。トピックブランチへのマージは、時々更新される
     アップストリームに調整することだけである傾向があり、このオプション
     を使用すると、そのようなマージによって履歴に取り込まれた個々のコミ
     ットを無視できます。

     このオプションは、マージコミットのデフォルトのdiff形式も
     ‘first-parent‘に変更します。詳細については、
     ‘–diff-merges=first-parent‘を参照してください。

‘--not’
     次に現れる‘–not‘までの間、後続のすべてのリビジョン指定子の’^’プレフ
     ィックス(またはその欠如)の意味を逆にします。

‘--all’
     ‘refs/‘内のすべてのrefが‘HEAD‘とともに、コマンドラインに
     ’<commit>’としてリストされているかのように見せかけます。

‘--branches[=<pattern>]’
     ‘refs/heads‘内のすべてのrefがコマンドラインに’<commit>’としてリスト
     されているかのように見せかけます。_<pattern>’が指定されている場合、
     ブランチを指定されたシェルグロブ(shell glob)に一致するものに制限し
     ます。パターンに_?_または_*’または’[_がない場合、最後に_/*’が含まれ
     ます。

‘--tags[=<pattern>]’
     ‘refs/tags‘内のすべてのrefがコマンドラインに’<commit>’としてリスト
     されているかのように見せかけます。_<pattern>’が指定されている場合は
     、指定されたシェルグロブ(shell glob)に一致するタグにタグを制限しま
     す。パターンに_?_または_*’または’[_がない場合、最後に_/*’が含まれま
     す。

‘--remotes[=<pattern>]’
     ‘refs/remotes‘内のすべてのrefがコマンドラインに’<commit>’としてリス
     トされているかのように見せかけます。_<pattern>’が指定されている場合
     、リモート追跡ブランチを指定されたシェルグロブ(shell glob)に一致す
     るものに制限します。パターンに_?_または_*’または’[_がない場合、最後
     に_/*’が含まれます。

‘--glob=<glob-pattern>’
     シェルグロブ’<glob-pattern>’に一致するすべてのrefがコマンドラインに
     ’<commit>’としてリストされているかのように見せかけます。先頭の
     ’refs/_は、欠落している場合は自動的に先頭に追加されます。パターンに
     _?_または_*’または’[_がない場合、最後に_/*’が含まれます。

‘--exclude=<glob-pattern>’
     次の‘–all‘または‘–branches‘または‘–tags‘または‘–remotes‘または
     ‘–glob‘が別の方法で考慮する’<glob-pattern>’に一致するrefを含めない
     でください。このオプションを繰り返すと、次の‘–all‘または
     ‘–branches‘または‘–tags‘または‘–remotes‘または‘–glob‘オプションまで
     除外パターンが蓄積されます(他のオプションまたは引数は、蓄積されたパ
     ターンをクリアしません)。

     与えられたパターンは、それぞれ‘–branches‘または‘ –tags‘または
     ‘–remotes‘に適用される場合、‘refs/heads‘または‘refs/tags‘または
     ‘refs/remotes‘で始まるべきではありません。‘--glob`または’–all‘に適
     用する場合は、‘refs/‘で始める必要があります。末尾の’/*’を意図してい
     る場合は、明示的に指定する必要があります。

‘--reflog’
     reflogsで言及されているすべてのオブジェクトがコマンドラインに
     ‘<commit>‘としてリストされているかのように見せかけます。

‘--alternate-refs’
     代替リポジトリのref先端として言及されているすべてのオブジェクトがコ
     マンドラインにリストされているかのように見せかけます。代替リポジト
     リは、オブジェクトディレクトリが‘objects/info/alternates‘で指定され
     ているリポジトリです。インクルードされたオブジェクトのセットは、
     ‘core.alternateRefsCommand‘などによって変更できます。
     git-config(1)を参照してください。

‘--single-worktree’
     デフォルトでは、作業ツリーが複数ある場合、‘--all`と’-reflog‘と
     ‘–indexed-objects‘では、すべての作業ツリーが検査されます
     (git-worktree(1)を参照)。このオプションは、現在の作業ツリーのみを調
     べるように強制します。

‘--ignore-missing’
     入力に無効なオブジェクト名が含まれている場合、そもそもその不正な入
     力が行われていないかのように見せかけます。

‘--bisect’
     コマンドラインで、bad bisection ref ‘refs/bisect/bad’ がリストされ
     、その後に ‘--not’ と good bisection ref ‘refs/bisect/good-*’ が続
     くかのように見せかけます。

‘--stdin’
     コマンドラインにリストされている’<commit>’に加えて、標準入力からそ
     れらを読み取ります。‘–‘区切り文字が表示された場合は、コミットの読み
     取りを停止し、パスの読み取りを開始して結果を制限します。

‘--cherry-mark’
     ‘--cherry-pick’（以下を参照）と同様ですが、同等のコミットを省略せず
     に‘=‘と印し、同等でないコミットを’+‘と印します。

‘--cherry-pick’
     コミットの組を対称差(symmetric difference)に制限する場合、「反対側
     」の別のコミットと同じ変更を導入するコミットを省略します。

     たとえば、‘A`と`B`の2つのブランチがある場合、それらの片側だけですべ
     てのコミットを一覧表示する通常の方法は、’–left-right‘を使用すること
     です(‘–left-right‘オプションの説明の以下の例を参照してください)。た
     だし、他のブランチからは(ブランチAと重複しない)厳選されたコミットが
     表示されます(たとえば、「3rd onb」はブランチAからチェリーピックされ
     る可能性があります)。このオプションを使用すると、そのようなコミット
     のペアは出力から除外されます。

‘--left-only’
‘--right-only’
     リストは、対称差のそれぞれの側でのみコミットします。つまり、
     ‘--left-right`で `<’ と印されるのだけか、あるいは‘–left-right‘で
     ‘>‘と印されるものだけです。

     たとえば、‘--cherry-pick --right-only A...B`は、`A`にある、または
     `A`のコミットとパッチと同等のコミットを`B`から省略します。つまり、
     これは`git cherry A B`からの’+‘コミットをリストします。より正確に書
     くと、’–cherry-pick –right-only –no-merges‘により正確なリストを提供
     します。

‘--cherry’
     ‘–right-only –cherry-mark –no-merges‘の同義語です。出力を私たちの側
     のコミットに制限し、フォークされた履歴の反対の側に適用されたものを
     、‘git cherry upstream mybranch‘と同様に‘git log –cherry
     upstream…mybranch‘で印するのに役立ちます。

‘-g’
‘--walk-reflogs’
     コミットの祖先チェーンをたどる代わりに、reflogエントリを最新のもの
     から古いものに移動します。このオプションを使用する場合、除外するコ
     ミットを指定することはできません(つまり、’^commit’や
     ’commit1..commit2’や’commit1...commit2’表記は使用できません)。

     (明らかな理由で、)‘oneline`と`reference`以外の’–pretty‘形式では、こ
     れにより、出力にreflogから取得された2行の追加情報が含まれます。出力
     のreflog指定子は、‘ref@{Nth}’(‘Nth`はreflogの逆時系列インデックス
     (reverse-chronological index))または`ref@{timestamp}’(そのエントリ
     のタイムスタンプ付き)として表示されます。表示は下記のいくつかのルー
     ルに依存します:

       1. 開始点が ‘ref@{Nth}’ として指定されている場合は、インデックス
          形式を表示します。

       2. 開始点が ‘ref@{now}’ として指定されている場合は、タイムスタン
          プ形式を表示します。

       3. 上記のどちらも使用されていないが、コマンドラインで‘–date‘が指
          定されている場合は、‘–date‘で要求された形式でタイムスタンプを
          表示します。

       4. それ以外の場合は、インデックス形式を表示します。

     ‘--pretty = oneline`では、コミットメッセージの前にこの情報が同じ行
     に付けられます。このオプションを’–reverse‘と組み合わせることはでき
     ません。git-reflog(1)も参照してください。

     ‘–pretty=reference‘では、この情報はまったく表示されません。

‘--merge’
     マージが失敗した後、競合があり、マージするすべてのheadに存在しない
     ファイルに関連(touch)するrefを表示します。

‘--boundary’
     除外された境界コミットを出力します。 境界コミットの前には ‘-‘が付い
     ています。


History Simplification
======================

特定の<path>を変更するコミットなど、履歴の一部のみに関心がある場合があり
ます。ただし、「履歴の簡略化」(History Simplification)は2つの部分から成
ります。履歴を簡略化するためにはさまざまな戦略があるためです。その1つは
コミットの選択であり、もう1つはそれを行う方法です。

   以下のオプションは、表示するコミットを選択します:

<paths>
     指定された<パス>を変更するコミットが選択されます。

‘--simplify-by-decoration’
     いくつかのブランチまたはタグによって参照されるコミットが選択されま
     す。

   注意: 意味のある重要な履歴のために、追加のコミットを表示できることに
注意してください。

   以下のオプションは、簡略化の実行方法に影響します。

Default mode
     履歴を、ツリーの最終状態を説明する最も単純な履歴に単純化します。最
     終結果が同じである場合(つまり、同じコンテンツのブランチをマージする
     場合)、いくつかの傍流ブランチ(side branches)を削除するため、最も単
     純です。

‘--show-pulls’
     デフォルトモードからのすべてのコミットを含めますが、最初の親への
     TREESAMEではなく、後の親へのTREESAMEであるマージコミットも含めます
     。このモードは、ブランチに変更を「最初に導入した」マージコミットを
     表示するのに役立ちます。(訳注:TREESAME=pathspecが全く同一であるツリ
     ー)

‘--full-history’
     デフォルトモードと同じですが、一部の履歴を削除しません。

‘--dense’
     選択したコミットのみが表示され、重大で意味のある履歴を持つコミット
     もいくつか表示されます。

‘--sparse’
     簡略化された履歴内のすべてのコミットが表示されます。

‘--simplify-merges’
     このマージに寄与する選択されたコミットがないため、結果の履歴からい
     くつかの不要なマージを削除するための‘–full-history‘への追加オプショ
     ン。

‘--ancestry-path’
     表示するコミットの範囲が指定されている場合(たとえば、
     _commit1..commit2’または’commit2 ^commit1_)、 _commit1_ と
     _commit2_ の間の祖先チェーンに直接存在するコミットのみ、つまり、
     _commit1_ の子孫であり、 _commit2_ の祖先であるコミットを表示します
     。

   より詳細な説明は以下のとおりです。

   <paths> として ‘foo’ を指定したとします。 ‘foo’ !TREESAME を変更する
コミットを呼び出し、残りをTREESAMEと呼びます。( ‘foo’ のためにフィルタリ
ングされた差分では、それぞれ異なって見えたりたり等しく見えたりします。）

   以下、簡略化設定の違いを説明するために、同じ履歴例を使います。このコ
ミットグラフでは、ファイル ‘foo’ をフィルタリングしていると想定していま
す:

               .-A---M---N---O---P---Q
              /     /   /   /   /   /
             I     B   C   D   E   Y
              \   /   /   /   /   /
               `-------------'   X

   履歴 A—Q の水平線は、各マージの最初の親と見なされます。その各コミット
は以下のとおりです:

   • ‘I’ は最初のコミットであり、ファイル ‘foo’ が内容 “asdf” で存在し、
     ファイル ‘quux’ は内容 “quux” で存在します。最初のコミットは空のツ
     リーと比較されるため、‘I’ は !TREESAME です。

   • ‘A’ では、 ‘foo’ には “foo” だけが含まれています。

   • ‘B’ には ‘A’ と同じ変更が含まれています。そのマージ ‘M’ は些細なこ
     とであり、したがってすべての親にとって TREESAME です。

   • ‘C’ は ‘foo’ を変更しませんが、そのマージ ‘N’ はそれを “foobar” に
     変更するので、どの親にとっても TREESAME ではありません。

   • ‘D’ は ‘foo’ を “baz” に設定します。そのマージ ‘O’ は、 ‘N’ と ‘D’
     から “foobarbaz” への文字列を結合します。つまり、どの親にとっても
     TREESAME ではありません。

   • ‘E’ は ‘quux’ を “xyzzy” に変更し、そのマージ ‘P’ は文字列を
     “quuxxyzzy” に結合します。 ‘P’ は ‘O’ に対して TREESAME ですが、
     ‘E’ に対してはそうではありません。

   • ‘X’ は、新ファイル ‘side’ を追加し、 ‘Y’ がそれを変更した独立したル
     ートコミットです。 ‘Y’ は ‘X’ へのTREESAMEです。そのマージ ‘Q’ は
     ‘P’ に ‘side’ を追加し、 ‘Q’ は ‘P’ にはTREESAMEですが、‘Y’ に対し
     てはそうではありません。

   ‘rev-list’ は、 ‘--full-history’ および/または、( ‘--parents’ または
‘--children’ を介して)親の書き換えが使用されているかどうかに基づいて、コ
ミットを含めたり除外したりして、履歴を逆方向にウォークスルーします。以下
の設定が可能です。

Default mode
     コミットは、どの親に対してもTREESAMEでない場合に含まれます(これは変
     更できますが、以下の ‘--sparse’ を参照してください)。コミットがマー
     ジであり、一方の親に対するTREESAMEであった場合は、その親のみをフォ
     ローします。(TREESAMEの親が複数ある場合でも、そのうちの1つだけをフ
     ォローします)。それ以外の場合は、すべての親をフォローします。

     これにより、以下のようになります:

                    .-A---N---O
                   /     /   /
                  I---------D

     TREESAMEの親のみに従うルールが利用可能な場合は、 ‘B’ を検討対象から
     完全に削除したことに注意してください。 ‘C’ は ‘N’ を介して考慮され
     ましたが、しかしそれはTREESAMEです。ルートコミットは空のツリーと比
     較されるため、 ‘I’ は !TREESAME です。

     親子関係は ‘--parents’ でのみ表示されますが、デフォルトモードで選択
     されたコミットには影響しないため、親の行を示しました。

‘--full-history without parent rewriting’
     このモードは、デフォルトとはある一点で異なります。つまり、いずれか
     の親に対してTREESAMEであっても、常にマージのすべての親に従います。
     マージの複数の側にコミットが含まれている場合でも、これはマージ自体
     が含まれていることを意味するものではありません！ 例では以下のように
     なります。

                  I  A  B  N  D  O  P  Q

     ‘M’ は、両方の親にとってTREESAMEであるため、除外されました。 ‘E’ と
     ‘C’ と ‘B’ をすべて巡りましたが、 ‘B’ だけが !TREESAME だったので、
     他は表示されません。

     注意: 親の書き換え(rewrite)がないと、コミット間の親子関係について話
     す(talk)ことは実際には不可能であるため、それらが切断されている
     (disconnected)ことを示していることに注意してください。

‘--full-history with parent rewriting’
     通常のコミットは !TREESAME の場合にのみ含まれます(これは変更できま
     すが、以下の ‘--sparse’ を参照してください)。

     マージは常に含まれます。ただし、親リストは書き直されます。各親に沿
     って、自分自身に含まれていないコミットを削除します。 これにより以下
     のようになります。

                    .-A---M---N---O---P---Q
                   /     /   /   /   /
                  I     B   /   D   /
                   \   /   /   /   /
                    `-------------'

     上記を書き直さずに ‘--full-history’ と比較してください。 ‘E’ は
     TREESAMEであるため削除されましたが、Pの親リストは ‘E’ の親 ‘I’ を含
     むように書き直されていることに注意してください。 ‘C’ と ‘N’ および
     ‘X’ と ‘Y’ と ‘Q’ についても同じことが起こりました。

   上記の設定に加えて、あなたはTREESAMEが包含に影響を与えるかどうかを変
更できます:

‘--dense’
     巡ったコミットは、親にとってTREESAMEでない場合に含まれます。

‘--sparse’
     巡ったすべてのコミットが含まれます。

     ‘--full-history’ がなくても、これによりマージが単純化されることに注
     意してください。親の1つがTREESAMEの場合、その1つだけに従うため、マ
     ージの反対側を巡ることはありません。

‘--simplify-merges’
     最初に、親を書き換えた ‘--full-history’ と同じ方法で履歴グラフを作
     成します(上記を参照)。

     それから、以下のルールに従って、各コミット ‘C’ を最終履歴内の置換
     ‘C'’ に単純化します:

        • ‘C'’ を ‘C’ にセットします。

        • ‘C'’ の各親 ‘P’ をその簡略化された ‘P'’ に置き換えます。その過
          程で、他の親の祖先であるか、ルートである親を削除すると、
          TREESAMEが空のツリーにコミットされ、重複が削除されますが、
          TREESAMEであるすべての親を削除しないように注意してください。

        • この親の書き換え後、 ‘C'’ がルートまたはマージコミット(0または
          >1 の親を持つ)、境界コミット、または !TREESAMEである場合、それ
          は残ります。それ以外の場合は、唯一の親に置き換えられます。

     この効果は、親の書き換えを使用した ‘--full-history’ と比較すること
     で最もよく示されます。例は以下のようになります:

                    .-A---M---N---O
                   /     /       /
                  I     B       D
                   \   /       /
                    `---------'

     注意: ‘--full-history’ に対する ‘N’ と ‘P’ と ‘Q’ の主な違いに注意
     してください:

        • ‘N’ の親リストは、他の親 ‘M’ の祖先であるため、 ‘I’ が削除され
          ました。それでも、 !TREESAME なので ‘N’ が残りました。

        • ‘P’ の親リストも同様に ‘I’ が削除されました。 ‘P’ は、親が1つ
          で TREESAMEであるため、完全に削除されました。

        • ‘Q’ の親リストでは、 ‘Y’ が ‘X’ に簡略化されていました。その後
          、 ‘X’ はTREESAMEルートであったため、削除されました。 ‘Q’ は、
          親が1つで TREESAMEであるため、完全に削除されました。

   利用可能な別の簡略化モードがあります:

‘--ancestry-path’
     表示されるコミットを、指定されたコミット範囲内の “from” コミットと
     “to” コミットの間の祖先チェーンに直接あるコミットに制限します。つま
     り、 “to” コミットの祖先であるコミットと “from” コミットの子孫であ
     るコミットのみを表示します。

     ユースケースの例として、以下のコミット履歴について考えます:

                      D---E-------F
                     /     \       \
                    B---C---G---H---I---J
                   /                     \
                  A-------K---------------L--M

     通常の _D..M_ は、 ‘M’ の祖先であるコミットのセットを計算しますが、
     ‘D’ の祖先であるコミットは除外します。 これは、「 ‘M’ には ‘D’ には
     存在しなかったものがある」という意味で、 ‘D’ 以降の ‘M`に至るまでの
     歴史に何が起こったのかを知るのに役立ちます。この例の結果は、 `A’ と
     ‘B’ (そしてもちろん ‘D’ 自体)を除くすべてのコミットになります。

     ただし、 ‘M’ のコミットが ‘D’ で入ったバグで汚染されており、修正が
     必要な場合は、実際には ‘D’ の子孫である _D..M_ のサブセットのみを表
     示する必要があります。つまり、 ‘C’ と ‘K’ を除外します。これはまさ
     に ‘--ancestry-path’ オプションが行うことです。これを _D..M_ 範囲に
     適用すると、以下のようになります:

                          E-------F
                           \       \
                            G---H---I---J
                                         \
                                          L--M

   別のオプション ‘--show-pulls’ について説明する前に、新しいサンプル履
歴を作成する必要があります。

   簡略化された履歴を見るときにユーザーが直面する一般的な問題は、ファイ
ルを変更したことがわかっているコミットが、ファイルの簡略化された履歴に表
示されないことです。そこで、新しい例を示し、その場合に ‘--full-history’
や ‘--simplify-merges’ などのオプションがどのように機能するかを示しまし
ょう。

               .-A---M-----C--N---O---P
              /     / \  \  \/   /   /
             I     B   \  R-'`-Z'   /
              \   /     \/         /
               \ /      /\        /
                `---X--'  `---Y--'

   この例では、 ‘I’ が ‘file.txt’ を作成し、それが ‘A’ と‘B‘ と ‘X’ にて
さまざまな方法で変更されたとします。ひとり親のコミット ‘C’ と ‘Z’ と ‘Y’
は ‘file.txt’ を変更していません。マージコミット ‘M’ は、マージの競合を
解決して、 ‘A’ と ‘B’ の両方の変更を含めることによって作成されたため、ど
ちらにもTREESAMEではありません。ただし、マージコミット ‘R’ は、 ‘M’ の
‘file.txt`の内容を無視し、 `X’ の ‘file.txt’ の内容のみを取得することに
よって作成されました。 したがって、 ‘R’ は ‘X’ へのTREESAMEですが、 ‘M’
はそうではありません。最後に、 ‘N’ を作成するための自然なマージ解決は、
‘R’ で ‘file.txt’ の内容を取得することです。したがって、 ‘N’ は ‘C’ では
なく ‘R’ へのTREESAMEです。マージコミット ‘O’ と ‘P’ は、最初の親には
TREESAMEですが、2番目の親である ‘Z’ と ‘Y’ にはついてはそうではありませ
ん。

   デフォルトモードを使用する場合、 ‘N’ と ‘R’ は両方ともTREESAMEの親を
持っているため、これらのエッジはウォークされ、他のエッジは無視されます。
結果の履歴グラフは以下のとおりです:

             I---X

   ‘--full-history’ を使用する場合、Gitはすべてのエッジを巡ります。これ
により、コミット ‘A’ と ‘B’ と マージ ‘M’ が検出されますが、マージコミッ
ト ‘O’ と ‘P’ も明らかになります。 親を書き換えると、結果のグラフは以下
のようになります:

               .-A---M--------N---O---P
              /     / \  \  \/   /   /
             I     B   \  R-'`--'   /
              \   /     \/         /
               \ /      /\        /
                `---X--'  `------'

   ここで、マージコミット ‘O’ と ‘P’ は、実際には ‘file.txt’ への変更を
提供しなかったため、余分なノイズを提供します。古いバージョンの
‘file.txt’ に基づいたトピックのみをマージしました。これは、多くの寄稿者
が並行して作業し、トピックブランチを単一のトランクに沿ってマージするワー
クフローを使用するリポジトリの一般的な問題です。開発に関係のないマージが
‘--full-history’ の結果に表示されます。

   ‘--simplify-merges’ オプションを使用すると、コミット ‘O’ と ‘P’ が結
果から消えます。 これは、 ‘O’ と ‘P’ の書き直された2番目の親が、最初の親
から到達可能であるためです。これらのエッジが削除されると、コミットは、親
にとってTREESAMEである単一の親のコミットのように見えます。これはコミット
‘N’ にも発生し、以下のような履歴ビューが表示されます:

               .-A---M--.
              /     /    \
             I     B      R
              \   /      /
               \ /      /
                `---X--'

   このビューでは、 ‘A’ と ‘B’ と ‘X’ からの重要なひとり親の変更がすべて
表示されます。また、慎重に解決されたマージ ‘M’ とそれほど慎重に解決され
ていないマージ ‘R’ も表示されます。これは通常、コミット ‘A’ と ‘B’ がデ
フォルトのビューの履歴から「消えた」理由を判断するのに十分な情報です。た
だし、このアプローチにはいくつかの問題があります。

   最初の問題はパフォーマンスです。以前のオプションとは異なり、
‘--simplify-merges’ オプションでは、単一の結果を返す前にコミット履歴全体
をウォークする必要があります。これにより、非常に大規模なリポジトリでこの
オプションを使用するのが難しくなる可能性があります。

   2番目の問題は監査の1つです。多くの寄稿者が同じリポジトリで作業してい
る場合、どのマージコミットが重要なブランチに変更を導入したかが重要です。
上記の問題のあるマージ ‘R’ は、重要なブランチにマージするために使用され
たマージコミットではない可能性があります。 代わりに、マージ ‘N’ を使用し
て ‘R’ と ‘X’ を重要なブランチにマージしました。このコミットには、変更
‘X’ がコミットメッセージの ‘A’ と ‘B’ からの変更を上書きするようになった
理由に関する情報が含まれている可能性があります。

‘--show-pulls’
     デフォルトの履歴に表示されるコミットに加えて、最初の親には
     TREESAMEではなく、後の親にはTREESAMEである各マージコミットを表示し
     ます。

     マージコミットが ‘--show-pulls’ に含まれている場合、マージは別のブ
     ランチから変更を「プル」したかのように扱われます。この例で
     ‘--show-pulls’ を使用すると(他のオプションは使用しない場合、)結果の
     グラフは行かのようになります:

                  I---X---R---N

     ここで、コミット ‘X’ と ‘R’ をそれぞれベースブランチにプルしたため
     、マージコミット ‘R’ と ‘N’ が含まれています。これらのマージは、コ
     ミット ‘A’ と ‘B’ がデフォルトの履歴に表示されない理由です。

     ‘--show-pulls’ が ‘--simplify-merges’ とペアになっている場合、グラ
     フには必要なすべての情報が含まれます:

                    .-A---M--.   N
                   /     /    \ /
                  I     B      R
                   \   /      /
                    \ /      /
                     `---X--'

     ‘M’ は ‘R’ から到達可能であるため、 ‘N’ から ‘M’ へのエッジが単純化
     されていることに注意してください。ただし、 ‘N’ は、変更 ‘R’ をメイ
     ンブランチに「プル」したため、重要なコミットとして履歴に表示されま
     す。

   ‘--simplify-by-decoration’ オプションを使用すると、タグで参照されてい
ないコミットを省略して、履歴のトポロジの全体像のみを表示できます。コミッ
トは、(1)タグによって参照されている場合、または (2)コマンドラインで指定
されたパスの内容を変更した場合に、!TREESAMEとしてマークされます(つまり、
上記の履歴簡略化ルールの後に保持されます)。他のすべてのコミットは
TREESAMEとしてマークされます(簡略化される可能性があります)。


Commit Ordering
===============

デフォルトでは、コミットは新しい順に表示されます。

‘--date-order’
     すべての子が表示されるまで親を表示しませんが、それ以外の場合はコミ
     ットタイムスタンプの順序でコミットを表示します。

‘--author-date-order’
     すべての子が表示されるまで親を表示しませんが、それ以外の場合は、作
     者(author)のタイムスタンプ順にコミットを表示します。

‘--topo-order’
     すべての子が表示されるまで親を表示せず、複数の履歴行が混在するコミ
     ットを表示しないようにします。

     たとえば、以下のようなコミット履歴があります:

              ---1----2----4----7
                  \              \
                   3----5----6----8---

     ここで、数字はコミットタイムスタンプの順序を示し、 ‘gitrev-list’ と
     ‘--date-order’ のある友達は、タイムスタンプの順序でコミットを示しま
     す。つまり、8 7 6 5 4 3 2 1

     ‘--topo-order’ を使用すると、8 6 5 3 7 4 2 1（または8 7 4 2 6 5 3
     1）が表示されます。2つの並列開発トラックからのコミットが混在して表
     示されないようにするために、いくつかの古いコミットが新しいコミット
     の前に表示されます。

‘--reverse’
     表示するように選択したコミットを逆の順序で出力します(上記の Commit
     Limiting 節を参照)。 ‘--walk-reflogs’ と組み合わせることはできませ
     ん。


Object Traversal
================

これらのオプションは、主にGitリポジトリのパッキングを対象としています。

‘--unsorted-input’
     コミット時間で時系列の逆順に並べ替えるのではなく、コマンドラインで
     指定された順序でコミットを表示します。‘--no-walk’ または
     ‘--no-walk=sorted’ と組み合わせることはできません。

‘--no-walk[=(sorted|unsorted)]’
     指定されたコミットのみを表示し、祖先をトラバースしない。範囲が指定
     されている場合、これは効果がありません。引数 ‘unsorted’ が指定され
     ている場合、コミットはコマンドラインで指定された順序で表示されます
     。それ以外の場合( ‘sorted’ または引数が指定されていない場合)、コミ
     ットはコミット時間の逆順に表示されます。 ‘--graph’ と組み合わせるこ
     とはできません。 ‘sorted’ または引数が指定されていない場合、
     ‘--unsorted-input’ と組み合わせることはできません。

‘--do-walk’
     以前の ‘--no-walk’ を上書きします。


Commit Formatting
=================

‘--pretty[=<format>]’
‘--format=<format>’
     コミットログの内容を指定された形式できれいに印刷(pretty-print)しま
     す。 _<format>_ は oneline・short・medium・full・fuller・
     reference・email・raw・format:<string>・tformat:<string> のいずれか
     になります。 _<format>_ が上記のいずれでもなく、 _%placeholder_ が
     含まれている場合、 _–pretty=tformat:<format>_ が指定されたかのよう
     に動作します。

     各フォーマットの詳細については、 "PRETTY FORMATS" セクションを参照
     してください。 _=<format>_ の部分を省略すると、デフォルトで
     _medium_ になります。

     注意: リポジトリー構成でデフォルトのpretty formatを指定できます
     (git-config(1) 参照)。

‘--abbrev-commit’
     40バイトの16進コミットオブジェクト名全体を表示する代わりに、オブジ
     ェクトに一意の名前を付けるプレフィックスを表示します。
     "–abbrev=<n>" (表示されている場合はdiff出力も変更します)オプション
     を使用して、プレフィックスの最小長を指定できます。

     これにより、80桁幅の端末を使用している人にとって "–pretty=oneline"
     がずっと読みやすくなるはずです。

‘--no-abbrev-commit’
     完全な40バイトの16進コミットオブジェクト名を表示します。 これにより
     、明示的または "–oneline" などの他のオプションによって暗黙的に示さ
     れる ‘--abbrev-commit’ が無効になります。また、 ‘log.abbrevCommit’
     変数をオーバーライドします。

‘--oneline’
     これは、 "–pretty=oneline –abbrev-commit" を一緒に使用するための省
     略形です。

‘--encoding=<encoding>’
     コミットオブジェクトは、ログメッセージに使用される文字エンコードを
     エンコードヘッダーに記録します。このオプションを使用して、ユーザー
     が好むエンコーディングでコミットログメッセージを再コーディングする
     ようにコマンドに指示できます。配管以外のコマンドの場合、これはデフ
     ォルトでUTF-8になります。オブジェクトが ‘X’ でエンコードされている
     と主張し、 ‘X’ で出力している場合、オブジェクトをそのまま出力するこ
     とに注意してください。これは、元のコミットの無効なシーケンスが出力
     にコピーされる可能性があることを意味します。同様に、 iconv(3) コミ
     ットの変換に失敗した場合、警告とともに元のオブジェクトをそのまま出
     力します。

‘--expand-tabs=<n>’
‘--expand-tabs’
‘--no-expand-tabs’
     出力に表示する前に、ログメッセージでタブ展開を実行します(タブ幅を
     <n> とみなして <n> 境界に揃うように空白で調整する)。
     ‘--expand-tabs’ は ‘--expand-tabs=8’ の省略形であり、
     ‘--no-expand-tabs’ は ‘--expand-tabs=0’ の省略形です。タブの展開を
     無効にします。

     デフォルトでは、タブはログメッセージを4つのスペースでインデントする
     きれいな形式(pretty formats)で展開されます(つまり、デフォルトの
     _medium_ と’full’ と _fuller_)。

‘--notes[=<ref>]’
     コミットログメッセージを表示するときに、コミットに注釈を付ける
     notes(git-notes(1) 参照)を表示します。これは、コマンドラインに
     ‘--pretty’ 、‘--format’ または ‘--oneline’ オプションが指定されてい
     ない場合の、 ‘git log’ と ‘git show’ と ‘ git whatchanged‘ コマンド
     のデフォルトです。

     デフォルトでは、表示されるnotesは、 ‘core.notesRef’ および
     ‘notes.displayRef’ 変数(または対応する環境変数オーバーライド)にリス
     トされているnote refからのものです。詳細については git-config(1) を
     参照してください。

     オプションの _<ref>_ 引数を使用して、refを使用して表示するnotesを検
     索します。 refは、 ‘refs/notes/’ で始まる完全なrefnameを指定できま
     す。 ‘notes/’ で始まるか、 ‘refs/’ で始まるか、それ以外で始まる場合
     、 ‘refs/notes/’ が接頭辞として付けられ、refのフルネームを形成しま
     す。

     複数の –notes オプションを組み合わせて、表示するノートを制御できま
     す。 例: "–notes=foo" は "refs/notes/foo" からのnotesのみを表示しま
     す。 "–notes=foo –notes" は、 "refs/notes/foo" とデフォルトのnotes
     ref(s) の両方のnotesを表示します。

‘--no-notes’
     notesを表示しないでください。 これは、notesが表示されるnotes refの
     リストをリセットすることにより、上記の ‘--notes’ オプションを無効に
     します。 オプションは、コマンドラインで指定された順序で解析されます
     。 "–notes –notes=foo –no-notes –notes=bar" は、 "refs/notes/bar" か
     らのnotesのみを表示します。

‘--show-notes[=<ref>]’
‘--[no-]standard-notes’
     これらのオプションは非推奨です。 代わりに、上記の –notes/–no-notes
     オプションを使用してください。

‘--show-signature’
     署名を ‘gpg --verify’ に渡して、署名されたコミットオブジェクトの有
     効性を確認し、出力を表示します。

‘--relative-date’
     ‘--date=relative’ と同じ。

‘--date=<format>’
     ‘--pretty’ を使用する場合など、人間が読める形式で表示される日付に対
     してのみ有効になります。 ‘log.date’ 構成変数(config variable)は、
     logコマンドの ‘--date’ オプションのデフォルト値を設定します。デフォ
     ルトでは、日付は元のタイムゾーン(コミッターの、または作者のいずれか
     )で表示されます。フォーマットに ‘-local’ が追加されている場合(例:
     ‘iso-local’ )、代わりにユーザーのローカルタイムゾーンが使用されます
     。

     ‘--date=relative’ は、現在の時刻を基準にした日付を示します。例: “2
     hours ago” 。 ‘-local’ オプションは ‘--date = relative’ には効果が
     ありません。

     ‘--date=local’ は ‘--date=default-local’ のエイリアスです。

     ‘--date=iso’ (または ‘--date=iso8601’ )は、タイムスタンプをISO
     8601のような形式で表示します。厳密なISO 8601形式との違いは以下のと
     おりです:

        • ‘T’ 日付/時刻区切り文字の代わりにスペース

        • 時間とタイムゾーンの間のスペース

        • タイムゾーンの時間と分の間にコロンがありません

     ‘--date=iso-strict’ (または ‘--date=iso8601-strict’ )は、タイムスタ
     ンプを厳密なISO 8601形式で表示します。

     ‘--date=rfc’ (または ‘--date=rfc2822’ )は、RFC 2822形式のタイムスタ
     ンプを示します。これは、電子メールメッセージでよく見られます。

     ‘--date=short’ は、日付のみを表示し、時刻は表示せず、 ‘YYYY-MM-DD’
     形式で表示します。

     ‘--date=raw’ は、エポック(1970-01-01 00:00:00 UTC)からの秒数、スペ
     ース、UTCからのオフセット(‘+’ または ‘-’ の付いた4桁数字で、最初の
     2つは時間、次の2つは分です)。つまり、タイムスタンプが ‘strftime("%s
     %z")’ でフォーマットされているかのようになります。 ‘-local’ オプシ
     ョンは、seconds-since-epoch値(常にUTCで測定されます)には影響しませ
     んが、付随するタイムゾーン値を切り替えることに注意してください。

     ‘--date=human’ は、タイムゾーンが現在のタイムゾーンと一致しない場合
     はタイムゾーンを表示し、一致する場合は日付全体を印刷しません(つまり
     、「今年」の日付の場合は年の印刷をスキップしますが、何があったか覚
     えてるような過去数日については日付自体もスキップします)。 古い日付
     の場合、時と分も省略されます。

     ‘--date=unix’ は、日付をUnixエポックタイムスタンプ(1970年からの秒数
     )として表示します。 ‘--raw’ と同様に、これは常にUTCであるため、 ‘
     -local‘ は効果がありません。

     ‘--date=format:...’ は、内部で処理される%zと%Zを除いて、フォーマッ
     ト ‘...’ をあなたのシステムの ‘strftime’ に送ります。
     ‘--date=format:%c’ を使用して、システムロケールの推奨形式で日付を表
     示します。フォーマットプレースホルダーの完全なリストについては、
     ‘strftime’ マニュアルを参照してください。 ‘-local’ を使用する場合、
     正しい構文は ‘--date=format-local:...’ です。

     ‘--date=default’ はデフォルトの形式であり、いくつかの例外を除いて
     ‘--date=rfc2822’ に似ています:

        • 曜日の後にコンマはありません

        • ローカルタイムゾーンを使用する場合、タイムゾーンは省略されます

‘--parents’
     コミットの親も出力します( "commit parent…" の形式で)。親の書き換え
     も可能にします。上記の _History Simplification_ 参照してください。

‘--children’
     コミットの子も出力します( "commit child…" の形式で)。親の書き換えも
     可能にします。上記の _History Simplification_ を参照してください。

‘--left-right’
     対称差のどちら側からコミットに到達できるかをマークします。左側から
     のコミットには‘<‘が付けられ、右側からのコミットには `>`が付けられま
     す。’–boundary‘と組み合わせると、それらのコミットの前に‘-‘が付きま
     す。

     たとえば、以下のトポロジーの場合:

                       y---b---b  branch B
                      / \ /
                     /   .
                    /   / \
                   o---x---a---a  branch A

     以下のような出力が得られます:

                  $ git rev-list --left-right --boundary --pretty=oneline A...B

                  >bbbbbbb... 3rd on b
                  >bbbbbbb... 2nd on b
                  <aaaaaaa... 3rd on a
                  <aaaaaaa... 2nd on a
                  -yyyyyyy... 1st on b
                  -xxxxxxx... 1st on a

‘--graph’
     出力の左側に、コミット履歴のテキストベースのグラフィック表現を描画
     します。グラフ履歴を適切に描画するために、コミットの間に余分な行が
     出力される可能性があります。 ‘--no-walk’ と組み合わせることはできま
     せん。

     これにより、親の書き換えが可能になります。上記の _History
     Simplification_ を参照してください。

     これは、デフォルトで ‘--topo-order’ オプションを意味しますが、
     ‘--date-order’ オプションも指定できます。

‘--show-linear-break[=<barrier>]’
     –graph を使用しない場合、すべての履歴ブランチがフラット化されるため
     、2つの連続するコミットが線形ブランチに属していないことがわかりにく
     くなる可能性があります。このオプションは、その場合、それらの間に障
     壁を置きます。 ‘<barrier>’ が指定されている場合、デフォルトの障壁文
     字列の代わりに ‘<barrier>’ が表示されます。


PRETTY FORMATS
**************

コミットがマージであり、 pretty-format が _oneline_ または _email_ また
は _raw_ でない場合、 _Author:_ 行の前に追加の行が挿入されます。この行は
"Merge: " で始まり、先祖のコミットのハッシュがスペースで区切られて出力さ
れます。履歴の表示を制限している場合、たとえば、特定のディレクトリまたは
ファイルに関連する変更のみに関心がある場合、リストされたコミットは必ずし
も *直接* の親コミットのリストではない可能性があることに注意してください
。

   いくつかの組み込みフォーマットがあります。そして以下で説明するように
、 pretty.<name> 構成オプション(config option)を別のフォーマット名または
_format:_ 文字列に設定することで、追加のフォーマットを定義できます
(git-config(1) 参照)。組み込みフォーマットの詳細は以下のとおりです:

   • _oneline_

          <hash> <title line>

     これは、可能な限りコンパクトになるように設計されています。

   • _short_

          commit <hash>
          Author: <author>

          <title line>

   • _medium_

          commit <hash>
          Author: <author>
          Date:   <author date>

          <title line>

          <full commit message>

   • _full_

          commit <hash>
          Author: <author>
          Commit: <committer>

          <title line>

          <full commit message>

   • _fuller_

          commit <hash>
          Author:     <author>
          AuthorDate: <author date>
          Commit:     <committer>
          CommitDate: <committer date>

          <title line>

          <full commit message>

   • _reference_

          <abbrev hash> (<title line>, <short author date>)

     この形式は、コミットメッセージ内の別のコミットを参照するために使用
     され、 ‘--pretty='format:%C(auto)%h (%s, %ad)'’ と同じです。 デフォ
     ルトでは、別の ‘--date’ オプションが明示的に指定されていない限り、
     日付は ‘--date=short’ でフォーマットされます。formatプレースホルダ
     ーを使用する他の ‘format:’ と同様に、その出力は、 ‘--decorate’ や
     ‘--walk-reflogs’ などの他のオプションの影響を受けません。

   • _email_

          From <hash> <date>
          From: <author>
          Date: <author date>
          Subject: [PATCH] <title line>

          <full commit message>

   • _mboxrd_

     _email_ と同様ですが、コミットメッセージの "From " で始まる行(前に
     0個以上の ">" が付いている)は ">" でクォートされているため、新しい
     コミットの開始と混同されることはありません。

   • _raw_

     _raw_ 形式は、コミットオブジェクトに格納されているとおりにコミット
     全体を正確に表示します。とりわけ –abbrev または –no-abbrev のどちら
     が使用されているかに関係なく、ハッシュは完全に表示され、「親」
     (parents)情報は、移植や履歴の単純化を考慮せずに、真の親のコミットを
     示します。この形式は、コミットの表示方法に影響しますが、いわゆる
     ‘git log --raw’ の差分の表示方法ではありません。生のdiff形式で完全
     なオブジェクト名を取得するには、 ‘--no-abbrev’ を使用します。

   • _format:<string>_

     _format:<string>_ 形式を使用すると、表示する情報を指定できます。注
     意: これはprintf書式に少し似ていますが、 _\n_ の代わりに _%n_ を使
     用して改行を取得するという例外に注意してください。

     例: _format:"The author of %h was %an, %ar%nThe title was
     >>%s<<%n"_ は以下のように表示されます:

          The author of fe6e0ee was Junio C Hamano, 23 hours ago
          The title was >>t4119: test autocomputing -p<n> for traditional diff input.<<

     さて、以下がプレースホルダー達です:

        • 単一のリテラル文字に展開されるプレースホルダー:

          _%n_
               改行(newline)

          _%%_
               ’%’そのもの

          _%x00_
               16進数のバイト値を出力

        • うしろのプレースホルダーのフォーマッティングに影響するプレース
          ホルダー:

          _%Cred_
               赤色に切り替える

          _%Cgreen_
               緑色に切り替える

          _%Cblue_
               青色に切り替える。

          _%Creset_
               色をリセットする

          _%C(…)_
               git-config(1) の "CONFIGURATION FILE" 節の Values で説明
               されている色の指定。 デフォルトでは、色はログ出力が有効に
               なっている場合にのみ表示されます（ ‘color.diff’ または ‘
               color.ui‘ または ‘--color`によって、ターミナルに行く場合
               は前者の `auto’ 設定を尊重します)。 ‘%C(auto,...)’ は、
               default の歴史的同義語として受け入れられます(例:
               ‘%C(auto,red)’)。 ‘%C(always,...)’ を指定すると、色が有効
               になっていない場合でも色が表示されます(この形式やgitが色
               付けする可能性のある他のすべてのものを含め、出力全体の色
               を有効にするために ‘--color = always’ の使用を検討してく
               ださい)。 ‘auto’ のみ(つまり、 ‘%C(auto)’ )は、色が再び切
               り替わるまで、続くプレースホルダーで自動色付けをオンにし
               ます。

          _%m_
               左(‘<’) または 右(‘>’) または 境界 (‘-’) の印

          _%w([<w>[,<i1>[,<i2>]]])_
               git-shortlog(1) の -w オプションのように、 行の折り返しを
               切り替えます。

          _%<(<N>[,trunc|ltrunc|mtrunc])_
               次のプレースホルダーに少なくともN列を使用させ、 必要に応
               じて右側にスペースを埋め込みます。オプションで、出力がN列
               より長い場合は、先頭(ltrunc)または中間(mtrunc)または末尾
               (trunc)で切り捨てます。注意: 切り捨ては、 N >= 2 でのみ正
               しく機能することに注意してください。

          _%<|(<N>)_
               次のプレースホルダーを少なくともN番目の列まで取得し、 必
               要に応じて右側にスペースを埋め込みます

          _%>(<N>)_, _%>|(<N>)_
               それぞれ _%<(<N>)_ 、 _%<|(<N>)_ に似ていますが、 左側に
               スペースが埋め込まれています

          _%>>(<N>)_, _%>>|(<N>)_
               _%>(<N>)_ 、 _%>|(<N>)_ とそれぞれ似ていますが、 次のプレ
               ースホルダーが指定されたよりも多くのスペースを取り、その
               左側にスペースがある場合は、それらのスペースを使用します
               。

          _%><(<N>)_, _%><|(<N>)_
               それぞれ _%<(<N>)_ 、 _%<|(<N>)_ に似ていますが、 両側に
               パディングがあります(つまり、テキストが中央に配置されます
               )

        • コミットから抽出された情報に展開するプレースホルダー:

          _%H_
               コミットハッシュ

          _%h_
               省略されたコミットハッシュ

          _%T_
               ツリーハッシュ

          _%t_
               省略されたツリーハッシュ

          _%P_
               親のハッシュ達

          _%p_
               省略された親のハッシュ達

          _%an_
               作者名

          _%aN_
               作者名( .mailmap に関しては、git-shortlog(1) または
               git-blame(1) を参照)

          _%ae_
               作者電子メールアドレス

          _%aE_
               作者電子メールアドレス(.mailmap に関しては
               git-shortlog(1) または git-blame(1) を参照)

          _%al_
               作者電子メールアドレスアカウント名(local-part)( _@_ の前
               の部分)

          _%aL_
               作者電子メールアドレスアカウント名(local-part)(_%al_ 参照
               ) .mailmap に関しては git-shortlog(1) または git-blame(1)
               参照)

          _%ad_
               作成日(フォーマットに関しては –date= オプション参照)

          _%aD_
               作成日 RFC2822形式

          _%ar_
               作成日 相対(relative)形式

          _%at_
               作成日 UNIXタイムスタンプ形式

          _%ai_
               作成日 ISO 8601風形式

          _%aI_
               作成日 厳密なISO 8601形式

          _%as_
               作成日 短い形式(‘YYYY-MM-DD’)

          _%ah_
               作成日 human形式( git-rev-list(1) の ‘--date=human’ オプ
               ションのようなかんじ)

          _%cn_
               コミッター名

          _%cN_
               コミッター名( .mailmap に関しては git-shortlog(1) または
               git-blame(1) 参照)

          _%ce_
               コミッター電子メールアドレス

          _%cE_
               コミッター電子メールアドレス(.mailmap に関しては
               git-shortlog(1) または git-blame(1) 参照)

          _%cl_
               コミッター電子メールアドレスアカウント名(local-part)( _@_
               の前の部分)

          _%cL_
               コミッター電子メールアドレスアカウント名(local-part)(
               _%cl_ 参照) .mailmap に関しては git-shortlog(1) または
               git-blame(1) 参照)

          _%cd_
               コミッター日付(フォーマットに関しては –date= オプション参
               照)

          _%cD_
               コミッター日付 RFC2822形式

          _%cr_
               コミッター日付 相対(relative)形式

          _%ct_
               コミッター日付 UNIXタイムスタンプ形式

          _%ci_
               コミッター日付 ISO 8601風形式

          _%cI_
               コミッター日付 厳密なISO 8601形式

          _%cs_
               コミッター日付 短い形式(‘YYYY-MM-DD’)

          _%ch_
               コミッター日付 human形式(git-rev-list(1) の
               ‘--date=human’ オプションのようなかんじ)

          _%d_
               ref名 git-log(1) の –decorate オプションみたいなの

          _%D_
               " (", ")" で囲ってないref名

          _%(describe[:options])_
               git-describe(1) のような人間が読める名前。 説明できないコ
               ミットの場合は空の文字列。 ‘describe’ 文字列の後には、コ
               ロンと0個以上のカンマ区切りオプションを続けることができま
               す。タグが同時に追加または削除されると、説明に一貫性がな
               くなる可能性があります。

                  • _match=<pattern>_: "refs/tags/" プレフィックスを除い
                    て、指定された ‘glob(7)’ パターンに一致するタグのみ
                    を考慮します。

                  • _exclude=<pattern>_: "refs/tags/" プレフィックスを除
                    いて、指定された ‘glob(7)’ パターンに一致するタグを
                    考慮しないでください。

          _%S_
               コミットに到達したコマンドラインで指定されたref名 ( ‘git
               log --source’ など)は、 ‘git log’ でのみ機能します

          _%e_
               エンコーディング

          _%s_
               件名(subject)

          _%f_
               ファイル名に適した、サニタイズされた件名

          _%b_
               本文(body)

          _%B_
               生本文(raw body)(ラップされてない件名と本文)

          _%N_
               コミットノート(commit notes)

          _%GG_
               署名されたコミットの為のGPSからの生の検証メッセージ

          _%G?_
               良い(good)な(有効な)署名の場合は "G" 、 悪い(bad)な署名の
               場合は "B" 、有効性が不明(unknown)な良い署名の場合は "U"
               、期限切れ(eXpired)の良い署名の場合は "X" 、期限切れのキ
               ーで作成された良い署名の場合は "Y" 、取り消されたキーによ
               って作成された良い署名の場合は "R" 、署名を確認できない場
               合(キーの欠落など)は "E" 、署名がない場合は "N" を表示し
               ます。

          _%GS_
               署名されたコミットの署名者の名前を表示する

          _%GK_
               署名されたコミットに署名するために使用されるキーを表示す
               る

          _%GF_
               署名されたコミットに署名するために使用されるキーのフィン
               ガープリントを表示する

          _%GP_
               署名されたコミットに署名するためにサブキーが使用された 主
               キーのフィンガープリントを表示します

          _%GT_
               署名されたコミットに署名するために使用されるキーの信頼レ
               ベル(trust level)を表示します

          _%gD_
               reflogセレクター(例:‘refs/stash@{1}’ or ‘refs/stash@{2
               minutes ago}’) この形式は、 ‘-g’ オプションで説明されてい
               る規則に従います。 ‘@’ の前の部分は、コマンドラインで指定
               されたrefnameです(したがって、 ‘git log -g
               refs/heads/master’ は ‘refs/heads/master@{0}’ を生成しま
               す)。

          _%gd_
               短縮されたreflogセレクター。 ‘%gD’ と同じですが、 人間が
               読みやすいようにrefname部分が短縮されています(したがって
               、 ‘refs/heads/master’ は単に ‘master’ になります)。

          _%gn_
               reflog ID名

          _%gN_
               reflog ID名( .mailmap に関しては git-shortlog(1) または
               git-blame(1) 参照)

          _%ge_
               reflog ID 電子メールアドレス

          _%gE_
               reflog ID 電子メールアドレス( .mailmap に関しては
               git-shortlog(1) または git-blame(1) 参照)

          _%gs_
               reflog 件名

          _%(trailers[:options])_
               git-interpret-trailers(1) によって解釈されるようにボディ
               のトレーラーを表示します。 ‘trailers’ 文字列の後には、コ
               ロンと0個以上のカンマ区切りオプションを続けることができま
               す。いずれかのオプションが複数回提供された場合、それぞれ
               最後のものが優先されます。

               ブール値オプションは、オプションの値 ‘[=<BOOL>]’ を受け入
               れます。 値 ‘true’ 、‘false’ 、 ‘on’ 、‘off’ などはすべて
               受け入れられます。 git-config(1) の "EXAMPLES" の
               "boolean" サブセクションを参照してください。ブール値オプ
               ションが値なしで指定された場合、それは有効を指定した事に
               なります。

                  • _key=<K>_ は指定されたキーを持つトレーラーのみを表示
                    します。マッチングは大文字と小文字を区別せずに行われ
                    、末尾のコロンはオプションです。オプションが複数回指
                    定されている場合、いずれかのキーに一致するトレーラー
                    行が表示されます。このオプションは自動的に ‘only’ オ
                    プションを有効にして、トレーラーブロック内の非トレー
                    ラー行が非表示になるようにします。それが望ましくない
                    場合は、 ‘only=false’ で無効にすることができます。 た
                    とえば、 ‘%(trailers:key=Reviewed-by)’ は、キーが
                    ‘Reviewed-by‘のトレーラー行を表示します。

                  • _only[=<BOOL>]_ はトレーラーブロックに非トレーラー行
                    を含めるかどうかを選択します。

                  • _separator=<SEP>_ はトレーラー行の間に挿入される区切
                    り文字を指定します。このオプションが指定されていない
                    場合、各トレーラー行は改行文字で終了します。文字列
                    SEPには、上記のリテラルフォーマットコードが含まれる
                    場合があります。区切り文字としてコンマを使用するには
                    、次のオプションとして解析されないよう ‘%x2C’ を使用
                    する必要があります。 たとえば、
                    %(trailers:key=Ticket,separator=%x2C )‘ は、キーが
                    "Ticket" であるすべてのトレーラー行をカンマとスペー
                    スで区切って表示します。

                  • _unfold[=<BOOL>]_ は interpret-trailer の ‘--unfold’
                    オプションが指定されたかのように動作させます。たとえ
                    ば、 ‘%(trailers:only,unfold=true)’ が展開され、すべ
                    てのトレーラー行が表示されます。

                  • _keyonly[=<BOOL>]_ トレーラーのキー部分のみを表示。

                  • _valueonly[=<BOOL>]_ トレーラーの値部分のみ表示。

                  • _key_value_separator=<SEP>_ トレーラー行の間に挿入さ
                    れる区切り文字を指定します。このオプションが指定され
                    ていない場合、各トレーラーのキーと値のペアは ": " で
                    区切られます。 それ以外の場合は、上記の
                    _separator=<SEP>_ と同じセマンティクスを共有します。

     *Note*

     一部のプレースホルダーは、リビジョントラバーサルエンジンに指定され
     た他のオプションに依存する場合があります。 たとえば、 ‘%g*’ reflogオ
     プションは、reflogエントリをトラバースしない限り(たとえば、 ‘git
     log -g`によって)空の文字列を挿入します。コマンドラインで
     `--decorate’ がまだ指定されていない場合、 ‘%d’ と ‘%D’ プレースホル
     ダーは「短い」(short)装飾形式を使用します。

   プレースホルダーの _%_ の後に ‘+’ (プラス記号)を追加すると、プレース
ホルダーが空でない文字列に展開される場合に限り、展開の直前に改行が挿入さ
れます。

   プレースホルダーの _%_ の後に ‘-’ (マイナス記号)を追加すると、プレー
スホルダーが空の文字列に展開された場合にのみ、展開の直前の連続するすべて
の改行が削除されます。

   プレースホルダーの _%_ の後に ‘ ‘ (スペース)を追加すると、プレースホ
ルダーが空でない文字列に展開される場合に限り、展開の直前にスペースが挿入
されます。

   • _tformat:_

     _tformat:_ 形式は、 "separator" セマンティクスの代わりに
     "terminator" セマンティクスを提供することを除いて、 _format:_ とま
     ったく同じように機能します。 つまり、各コミットには、エントリ間に区
     切り文字を配置するのではなく、メッセージターミネータ文字(通常は改行
     )が追加されます。 これは、「1行」形式と同様に、1行形式の最終エント
     リが新しい行で適切に終了することを意味します。 例えば:

          $ git log -2 --pretty=format:%h 4da45bef \
            | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
          4da45be
          7134973 -- NO NEWLINE

          $ git log -2 --pretty=tformat:%h 4da45bef \
            | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
          4da45be
          7134973

     加えて、 ‘%’ が含まれている認識されない文字列は、その前に
     ‘tformat:’ があるかのように解釈(interpret)されます。 たとえば、以下
     の2つは同等です:

          $ git log -2 --pretty=tformat:%h 4da45bef
          $ git log -2 --pretty=%h 4da45bef


DIFF FORMATTING
***************

デフォルトでは、 ‘git log’ はdiff出力を生成しません。以下のオプションを
使用して、各コミットによって行われた変更を表示できます。

   注意: ‘--diff-merges’ のバリエーション(短い ‘-m’、 ‘-c’、 ‘--cc’ オプ
ションを含む)の1つが明示的に指定されていない限り、マージコミットはdiffを
表示しませんし、‘--patch`のようなdiff書式が選択されていても、’-S‘のよう
な検索オプションと一致しません。例外は、‘–first-parent‘が使用されている
場合です。この場合、‘first-parent‘がデフォルトの書式です。

‘-p’
‘-u’
‘--patch’
     パッチを生成します(generating patches に関するセクションを参照)。

‘-s’
‘--no-patch’
     diff出力を抑制します。デフォルトでパッチを表示する ‘git show’ のよ
     うなコマンド、または ‘--patch’ の効果をキャンセルする場合に便利です
     。

‘--diff-merges=(off|none|on|first-parent|1|separate|m|combined|c|dense-combined|cc)’
‘--no-diff-merges’
     マージコミットに使用するdiff形式を指定します。 ‘--first-parent’ が
     使用されている場合を除き、デフォルトは ‘off’ です。使用されている場
     合は、 ‘first-parent’ がデフォルトです。

     ‘--diff-merges=(off|none)’
     ‘--no-diff-merges’
          マージコミットのdiffの出力を無効にします。暗黙の値を上書きする
          のに便利です。

     ‘--diff-merges=on’
     ‘--diff-merges=m’
     ‘-m’
          このオプションにより、マージコミットのdiff出力がデフォルトの形
          式で表示されます。 ‘-m’ は、 ‘-p’ も指定されている場合にのみ出
          力を生成します。デフォルトの形式は、 ‘log.diffMerges’ 構成パラ
          メーター(configuration parameter)を使用して変更できます。デフ
          ォルト値は ‘separate’ です。

     ‘--diff-merges=first-parent’
     ‘--diff-merges=1’
          このオプションにより、マージコミットは最初の親に関してのみ完全
          なdiffを表示します。

     ‘--diff-merges=separate’
          これにより、マージコミットは各親に関して完全なdiffを表示します
          。親ごとに個別のログエントリとdiffが生成されます。

     ‘--diff-merges=combined’
     ‘--diff-merges=c’

‘-c:’
     このオプションを使用すると、マージコミットのdiff出力は、親と結果の
     ペアごとの差分を一度に1つずつ表示するのではなく、各親からの差分をマ
     ージ結果に同時に表示します。さらに、すべての親から変更されたファイ
     ルのみが一覧表示されます。 ‘-c’ は ‘-p’ の機能を含んでいます。

     ‘--diff-merges=dense-combined’
     ‘--diff-merges=cc’
     ‘--cc’
          このオプションを使用すると、 ‘--diff-merges=Combined’ によって
          生成される出力は、親のコンテンツに2つの派生(variants)しかない
          、興味のないハンクを省略してさらに圧縮され、マージ結果は変更な
          しでそのうちの1つを選択します。 ‘--cc’ は ‘-p’ の機能を含んで
          います。

‘--combined-all-paths’
     このフラグにより、結合された差分(マージコミットに使用)にすべての親
     からのファイルの名前が一覧表示されます。したがって、これは
     ‘--diff-merges=[dense-]combined’ が使用されている場合にのみ有効であ
     り、ファイル名の変更が検出された場合(つまり、名前の変更またはコピー
     の検出が要求された場合)にのみ役立つ可能性があります。

‘-U<n>’
‘--unified=<n>’
     通常の3行ではなく、<n> 行の内容でdiffを生成します。 ‘--patch’ の機
     能を含んでいます。

‘--output=<file>’
     stdout ではなく指定のファイルに出力します。

‘--output-indicator-new=<char>’
‘--output-indicator-old=<char>’
‘--output-indicator-context=<char>’
     生成されたパッチの新しい行、古い行、またはコンテキスト行を示すため
     に使用される文字を指定します。 通常、それらはそれぞれ _+_ 、 _-_ 、
     ’ ’ です。

‘--raw’
     コミットごとに、生の差分形式を使用して変更の概要を表示します。
     git-diff(1) の "RAW OUTPUT FORMAT" セクションを参照してください。 こ
     れは、ログ自体をraw形式で表示することとは異なります。 これは
     ‘--format=raw’ で 実現できます。

‘--patch-with-raw’
     ‘-p --raw’ の同義語。

‘-t’
     diff出力にツリーオブジェクトを表示します。

‘--indent-heuristic’
     diffハンクの境界をずらす(shift)ヒューリスティックを有効にして、パッ
     チを読みやすくします。 これがデフォルトです。

‘--no-indent-heuristic’
     インデントヒューリスティック(indent heuristic)を無効にします。

‘--minimal’
     より多くの時間を費やして、可能な限り最小のdiffが生成されるようにし
     ます。

‘--patience’
     "patience diff" アルゴリズムを使用してdiffを生成します。

‘--histogram’
     "histogram diff" アルゴリズムを使用してdiffを生成します。

‘--anchored=<text>’
     "anchored diff" アルゴリズムを使用してdiffを生成します。

     このオプションは複数回指定できます。

     行がソースと宛先の両方に存在し、1回だけ存在し、このテキストで始まる
     場合、このアルゴリズムは、その行が出力に削除または追加として表示さ
     れないようにします。内部で "patience diff" アルゴリズムを使用します
     。

‘--diff-algorithm={patience|minimal|histogram|myers}’
     diffアルゴリズムを選択します。その派生(variants)は以下のとおりです:

     ‘default’, ‘myers’
          基本的な貪欲な差分アルゴリズム(greedy diff algorithm)。現在、
          これがデフォルトです。

     ‘minimal’
          より多くの時間を費やして、可能な限り最小のdiffが生成されるよう
          にします。

     ‘patience’
          パッチを生成する時に "patience diff" アルゴリズムを使います。

     ‘histogram’
          このアルゴリズムは、忍耐アルゴリズム(patience algorithm)を拡張
          して、「発生率の低い共通要素をサポート」(support
          low-occurrence common elements)します。

     たとえば、 あなたが ‘diff.algorithm’ 変数をデフォルト以外の値に設定
     した上で、それでもデフォルト値を使用する場合は、
     ‘--diff-algorithm=default’ オプションを使用する必要があります。

‘--stat[=<width>[,<name-width>[,<count>]]]’
     diffstatを生成します。 デフォルトでは、必要なだけのスペースがファイ
     ル名部分に使用され、残りはグラフ部分に使用されます。最大幅はデフォ
     ルトで端末幅、または端末に接続されていない場合は80桁であり、
     ‘<width>’ で上書きできます。ファイル名部分の幅は、コンマの後に別の
     幅 ‘<name-width>’ を指定することで制限できます。グラフ部分の幅は、
     ‘--stat-graph-width=<width>’ (統計グラフを生成するすべてのコマンド
     に影響します)を使用するか、 ‘diff.statGraphWidth=<width>’ ( ‘git
     format-patch’ に影響しません)を設定することによって制限できます。
     3番目のパラメータ ‘<count>’ を指定することにより、出力を最初の
     ‘<count>’ 行に制限し、それに ‘...’ が続く形にできます。

     これらのパラメータは、 ‘--stat-width=<width>’ と
     ‘--stat-name-width=<name-width>’ と ‘--stat-count=<count>’ を使用し
     て個別に設定することもできます。

‘--compact-summary’
     ファイルの作成や削除( "new" または "gone" 。オプションでシンボリッ
     クリンクの場合は "+l" )、diffstatのモード変更(実行可能ビットを追加
     または削除する場合は、それぞれ "+x" または "-x" )など、拡張ヘッダー
     情報の要約を出力します。情報はファイル名部分とグラフ部分の間に置か
     れます。本機能は ‘--stat’ の機能を含んでいます。

‘--numstat’
     ‘--stat`に似ていますが、プログラムで処理しやすい(machine friendly)よ
     うに、追加および削除された行数を10進表記とパス名で省略形なしで表示
     します。バイナリファイルの場合、 `0 0’ の代わりに2つの ‘-’ を出力し
     ます。

‘--shortstat’
     変更されたファイルの総数と、追加および削除された行の数を含む
     ‘--stat’ 形式の最後の行のみを出力します。

‘-X[<param1,param2,...>]’
‘--dirstat[=<param1,param2,...>]’
     各サブディレクトリの相対的な変更量の分布を出力します。 ‘--dirstat’
     の動作は、パラメータのコンマ区切りリストを渡すことでカスタマイズで
     きます。デフォルトは、 ‘diff.dirstat’ 構成変数によって制御されます
     (git-config(1) 参照)。以下のパラメータを使用できます:

     ‘changes’
          ソースから削除された、または宛先に追加された行をカウントして、
          dirstat数を計算します。これは、ファイル内の純粋なコード移動の
          量を無視します。つまり、ファイル内の行の再配置は、他の変更ほど
          カウントされません。これは、パラメーターが指定されていない場合
          のデフォルトの動作です。

     ‘lines’
          通常の行ベースのdiff分析を実行し、削除/追加された行数を合計し
          て、dirstat数を計算します。 (バイナリファイルの場合、バイナリ
          ファイルには行の概念がないため、代わりに64バイトのチャンクをカ
          ウントします)。 これは ‘changes’ 動作よりも高価な ‘--dirstat’
          動作ですが、他の変更と同じようにファイル内の再配置された行をカ
          ウントします。結果の出力は、他の ‘--*stat’ オプションから得ら
          れるものと一致しています。

     ‘files’
          変更されたファイルの数を数えて、dirstat数を計算します。変更さ
          れた各ファイルは、dirstat分析で等しくカウントされます。これは
          、ファイルの内容をまったく調べる必要がないため、計算コストが最
          もかからない ‘--dirstat’ の動作です。

     ‘cumulative’
          親ディレクトリの子ディレクトリの変更も同様にカウントします。
          ‘cumulative’(累積的) を使用する場合、報告されるパーセンテージ
          の合計が100%を超える場合があることに注意してください。デフォル
          トの(非累積的な)動作は、‘noncumulative’ パラメーターで指定でき
          ます。

     <limit>
          整数パラメーターは、カットオフパーセント(デフォルトでは3%)を指
          定します。指定の割合より少ないディレクトリは、出力に表示されま
          せん。

     例: 変更されたファイルの総数の10%未満のディレクトリを無視し、親ディ
     レクトリに子ディレクトリの数を累積しながら、変更されたファイルをカ
     ウント: ‘--dirstat=files,10,cumulative’

‘--cumulative’
     ‘--dirstat=cumulative’ と同義語

‘--dirstat-by-file[=<param1,param2>...]’
     ‘--dirstat=files,param1,param2...’ と同義語

‘--summary’
     作成、名前変更、モード変更などの拡張ヘッダー情報の短い要約
     (condensed summary)を出力します。

‘--patch-with-stat’
     ‘-p --stat’ と同義語。

‘-z’
     改行(newline)ではなく、NULでコミットを区切ります。

     また、 ‘--raw’ または ‘--numstat’ を指定した場合は、パス名を難読化
     (munge)したり、出力フィールドターミネータとしてNULを使用したりしな
     いでください。

     このオプションがないと、構成変数 ‘core.quotePath’ で説明されている
     ように、 通常の文字以外(unusual characters)を含むパス名が引用符で囲
     まれます(git-config(1) 参照)。

‘--name-only’
     変更されたファイルの名前のみを表示します。 多くの場合、ファイル名は
     UTF-8でエンコードされます。 詳細については、 git-log(1) のマニュア
     ルページにあるエンコーディングに関する議論(the discussion about
     encoding)を参照してください。

‘--name-status’
     変更されたファイルの名前とステータスのみを表示します。ステータス文
     字の意味については、 ‘--diff-filter’ オプションの説明を参照してくだ
     さい。 ‘--name-only’ と同じように、ファイル名はしばしばUTF-8でエン
     コードされます。

‘--submodule[=<format>]’
     サブモジュールの違いをどのように表示するかを指定します。
     ‘--submodule=short’ を指定する場合、 _short_ 形式が使用されます。こ
     の形式は、範囲の最初と最後にコミットの名前を表示するだけです。
     ‘--submodule’ または ‘--submodule=log’ が指定されている場合、 _log_
     形式が使用されます。この形式では、 git-submodule(1) ‘summary’ のよ
     うに範囲内のコミットが一覧表示されます。 ‘--submodule=diff’ が指定
     されている場合、 _diff_ 形式が使用されます。この形式は、コミット範
     囲間のサブモジュールの内容の変更のインラインdiffを示します。
     configオプションが設定されていない場合、デフォルトは
     ‘diff.submodule’ または _short_ 形式です。

‘--color[=<when>]’
     色付きのdiffを表示します。 ‘--color’ (つまり、 _=<when>_ ) は
     ‘--color=always’ と同じです。 _<when>_ は、 ‘always’ または ‘never’
     または ‘auto’ のいずれかになります。

‘--no-color’
     カラーdiffをオフにします。 ‘--color=never’ と同じです。

‘--color-moved[=<mode>]’
     ソースコードの移動した行を別の色にします。 <mode>は、オプションが指
     定されていない場合はデフォルトで _no_ になり、 モードが指定されてい
     ないオプションが指定されている場合は _zebra_ になります。 モードは
     以下のいずれかでなければなりません:

     no
          移動行をハイライトしません。

     default
          ‘zebra’ の同義語です。これは、将来、より賢明なモードに変更され
          る可能性があります。

     plain
          ある場所で追加され、別の場所で削除された行は、
          _color.diff.newMoved_ で色付けされます。 同様に、
          _color.diff.oldMoved_ は、差分の別の場所に追加された削除された
          行に使用されます。このモードは移動された行をピックアップします
          が、コードのブロックが順列なしで移動されたかどうかを判断するこ
          とはレビューではあまり役に立ちません。

     blocks
          少なくとも20文字の英数字の移動テキストのブロックが貪欲に検出さ
          れます。検出されたブロックは、 _color.diff.{old,new}Moved_ 色
          のいずれかを使用して色付けされます。隣接するブロックを区別する
          ことはできません。

     zebra
          移動されたテキストのブロックは、 _blocks_ モードの場合と同様に
          検出されます。 ブロックは、 _color.diff.{old,new}Moved_ 色また
          は _color.diff.{old,new}MovedAlternative_ 色のいずれかを使用し
          て色付けされます。2つの色の間の変化は、新しいブロックが検出さ
          れたことを示します。

     dimmed-zebra
          _zebra_ に似ていますが、移動されたコードの重要でない部分の追加
          の調光(dimmed)が実行されます。隣接する2つのブロックの境界線は
          興味深いと見なされ、残りは興味深いものではありません。
          ‘dimmed_zebra’ は非推奨の同義語です。

‘--no-color-moved’
     移動検出をオフにします。 これは、構成設定を上書きするために使用でき
     ます。 ‘--color-moved=no’ と同じです。

‘--color-moved-ws=<modes>’
     これは、 ‘--color-moved’ の移動検出を実行するときに空白を無視する方
     法を設定します。 これらのモードは、コンマ区切りのリストとして指定で
     きます:

     no
          移動行検出を実行するときに、空白(whitespace)を無視しない。

     ignore-space-at-eol
          行末(EOL)での空白(whitespace)の変更を無視します。

     ignore-space-change
          空白(whitespace)の数の変更は無視してください。これは、行末の空
          白(whitespace)を無視し、1つ以上の空白文字(whitespace
          characters)の他のすべてのシーケンスを同等と見なします。

     ignore-all-space
          行を比較するときは空白(whitespace)を無視します。これにより、一
          方の行に空白があり、もう一方の行に空白がない場合でも、違いは無
          視されます。

     allow-indentation-change
          最初に移動検出で空白(whitespace)を無視し、空白(whitespace)の変
          更が行ごとに同じである場合にのみ、移動されたコードブロックをブ
          ロックにグループ化します。 これは他のモードと互換性がありませ
          ん。

‘--no-color-moved-ws’
     移動検出を実行するときは、空白(whitespace)を無視しないでください。
     これは、構成設定を上書きするために使用できます。
     ‘--color-moved-ws=no’ と同じです。

‘--word-diff[=<mode>]’
     <mode> を使用して変更された単語を区切ることにより、単語のdiffを表示
     します。デフォルトでは、単語は空白で区切られます。 以下の
     ‘--word-diff-regex’ を参照してください。 <mode> のデフォルトは
     ’plain’です。 <mode> は以下のいずれかである必要があります:

     color
          変更された単語(word)を色のみを使用して強調表示します。
          ‘--color’ を意味します。

     plain
          単語を ‘[-removed-]’ および ‘{+added+}’ として表示します。 区
          切り文字が入力に表示されている場合、区切り文字をエスケープしよ
          うとしないため、出力があいまいになる可能性があります。

     porcelain
          スクリプトの使用を目的とした特別な行ベースの形式を使用します。
          追加/削除/無変更については、通常の統一されたdiff形式で印刷され
          、行の先頭の ‘+’/‘-’/‘ ‘ 文字で始まり、行の終わりまで続きます
          。入力の改行は、それ自体の行のチルダ ‘~’ で表されます。

     none
          単語(word)のdiffを再度無効にします。

     注意: 最初のモードの名前にもかかわらず、有効になっている場合、すべ
     てのモードで変更された部分を強調するために色が使用されることに注意
     してください。

‘--word-diff-regex=<regex>’
     空白以外を単語と見なす代わりに、 <regex> を使用して単語が何であるか
     を決定します。また、すでに有効になっていない限り、この機能は
     ‘--word-diff’ の機能を含んでいます。

     <regex> の重複しないマッチはすべて、単語と見なされます。これらのマ
     ッチの間のすべては空白と見なされ、違いを見つけるためとしては無視さ
     れます！ 正規表現に ‘|[^[:space:]]’ を追加して、空白以外のすべての
     文字とマッチすることを確認することをお勧めします。改行を含むマッチ
     は、改行で黙って切り捨てられます！

     たとえば、 ‘--word-diff-regex=.’ は各文字を単語として扱い、それに応
     じて文字ごとの違いを表示します。

     正規表現は、diffドライバーまたは構成オプション(configuration
     option)を介して設定することもできます。 gitattributes(5) または
     git-config(1) を参照してください。これを指定すると、diffドライバー
     または構成設定(configuration settings)が明示的にオーバーライドされ
     ます。diffドライバーは構成設定を上書きします。

‘--color-words[=<regex>]’
     ‘--word-diff=color’ に ‘--word-diff-regex=<regex>’ を加えたものに相
     当します(正規表現が指定されている場合)。

‘--no-renames’
     構成ファイルにデフォルトで指定されている場合でも、名前変更の検出を
     オフにします。

‘--[no-]rename-empty’
     名前変更ソースとして空のブロブを使用するかどうか。

‘--check’
     変更によって競合マーカーまたは空白エラーが発生した場合に警告します
     。空白エラーと見なされるものは、 ‘core.whitespace’ 構成によって制御
     されます。 デフォルトでは、末尾の空白(空白のみで構成される行を含む
     )と、行の最初のインデント内で直後にタブ文字が続くスペース文字は、空
     白エラーと見なされます。問題が見つかった場合は、ゼロ以外のステータ
     スで終了します。なお、 –exit-code とは互換性がありません。

‘--ws-error-highlight=<kind>’
     diffの ‘context’ または ‘old’ または ‘new’ 行の空白エラーを強調表示
     します。複数の値はコンマで区切られ、 ‘none’ は前の値をリセットし、
     ‘default’ はリストを ‘new’ にリセットし、 ‘all’ は old、new、
     context の省略形です。このオプションが指定されておらず、構成変数
     ‘diff.wsErrorHighlight’ が設定されていない場合、 ‘new’ 行の空白エラ
     ーのみが強調表示されます。空白エラーは ‘color.diff.whitespace’ で色
     分けされています。

‘--full-index’
     パッチ形式の出力を生成するときは、最初の一握りの文字(first handful
     of characters)の代わりに、「インデックス」行にイメージ前およびイメ
     ージ後の完全ブロブオブジェクト名を表示します。

‘--binary’
     ‘--full-index’ に加えて、 ‘git-apply’ で適用できるバイナリ差分を出
     力します。 ‘--patch’ の機能を含んでいます。

‘--abbrev[=<n>]’
     完全な40バイトの16進オブジェクト名をdiff-raw形式の出力とdiff-treeヘ
     ッダー行に表示する代わりに、オブジェクトを一意に参照する、少なくと
     も _<n>_ 桁の16進数の長さの最短のプレフィックスを表示します。diffパ
     ッチ出力形式では、 ‘--full-index’ が優先されます。つまり、
     ‘--full-index’ が指定されている場合、 ‘--abbrev’ に関係なく、完全な
     ブロブ名が表示されます。デフォルト以外の桁数は、 ‘--abbrev=<n>’ で
     指定できます。

‘-B[<n>][/<m>]’
‘--break-rewrites[=[<n>][/<m>]]’
     完全な書き換えの変更を削除と作成のペアに分割します。これには以下の
     2つの目的があります:

     これは、ファイルの完全な書き換えに相当する変更が、コンテキストとし
     てテキストで一致する非常に少数の行と混合された一連の削除と挿入とし
     てではなく、古いものすべての単一の削除とそれに続く すべての新しいも
     のを1回挿入し、数値 ‘m’ が -B オプションのこの側面を制御します(デフ
     ォルトは60%)。 ‘-B/70%’ は、Gitがそれを完全な書き換えと見なすために
     、元の30%未満が結果に残る必要があることを指定します(つまり、結果の
     パッチは、コンテキスト行と混合された一連の削除と挿入になります)。

     -M と一緒に使用すると、完全に書き換えられたファイルも名前変更のソー
     スと見なされ(通常、 -M は、消えたファイルのみを名前変更のソースと見
     なします)、数 ‘n’ が -Bオプションのこの側面を制御します(デフォルト
     は50%)。 ‘-B20%’ は、ファイルのサイズの20%以上と比較して、追加およ
     び削除を伴う変更が、別のファイルへの名前変更の可能なソースとして取
     得される資格があることを指定します。

‘-M[<n>]’
‘--find-renames[=<n>]’
     diffを生成する場合は、コミットごとに名前の変更を検出して報告します
     。 履歴をトラバースしながら名前を変更してファイルをフォローする方法
     については、 ‘--follow’ を参照してください。 ‘n’ が指定されている場
     合、それは類似性インデックスのしきい値です (つまり、ファイルのサイ
     ズと比較した追加/削除の量)。 たとえば、 ‘-M90%’ は、ファイルの90%以
     上が変更されていない場合、 Gitが削除/追加のペアを名前変更と見なす必
     要があることを意味します。 ‘%’ 記号がない場合、数値は小数として読み
     取られ、その前に小数点が付きます。 つまり、 ‘-M5’ は0.5になるため、
     ‘-M50%’ と同じになります。 同様に、 ‘-M05’ は ‘-M5%’ と同じです。 検
     出を正確な名前変更に制限するには、 ‘-M100%’ を使用します。 デフォル
     トの類似性インデックスは50%です。

‘-C[<n>]’
‘--find-copies[=<n>]’
     名前と同様コピーを検出します。 ‘--find-copies-harder’ ‘も参照してく
     ださい。 `n’ を指定すると、 ‘-M<n>’ と同じ意味になります。

‘--find-copies-harder’
     パフォーマンス上の理由から、デフォルトでは、 ‘-C’ オプションは、コ
     ピーの元のファイルが同じ変更組(changeset)で変更された場合にのみコピ
     ーを検索します。このフラグにより、コマンドは変更されていないファイ
     ルをコピー元の候補として検査します。これは大規模なプロジェクトでは
     非常にコストのかかる操作であるため、注意して使用してください。 複数
     の ‘-C’ オプションを指定しても同じ効果があります。

‘-D’
‘--irreversible-delete’
     削除するプレイメージ(preimage)を省略します。つまり、ヘッダーのみを
     出力し、プレイメージと ‘/dev/null’ の差分は出力しません。結果のパッ
     チは、 ‘patch’ または ‘git apply’ で適用されることを意図していませ
     ん。これは、変更後にテキストを確認することに集中したい人のためだけ
     のものです。さらに、出力には明らかに、そのようなパッチを手動でも逆
     に適用するのに十分な情報が不足しているため、オプションの名前が付け
     られています。

     ‘-B’ と併用する場合は、削除/作成ペアの削除部分のプリイメージ
     (preimage)も省略してください。

‘-l<num>’
     ‘-M’ および ‘-C’ オプションには、名前変更/コピーのサブセットを安価
     に検出できるいくつかの準備手順が含まれ、その後に、残りのすべてのペ
     アになっていない宛先をすべての関連ソースと比較する徹底的なフォール
     バック部分が続きます。(名前の変更の場合、残りのペアになっていないソ
     ースのみが関係します。コピーの場合、すべての元のソースが関係します
     )。Nのソースと宛先の場合、この徹底的なチェックのコストは O(N^2) で
     す。このオプションは、関係するソース/宛先ファイルの数が指定された数
     を超えた場合に、名前変更/コピー検出の完全な部分が実行されないように
     します。デフォルトは diff.renameLimit です。 値0は無制限として扱わ
     れることに注意してください。

‘--diff-filter=[(A|C|D|M|R|T|U|X|B)...[*]]’
     追加(Add)・コピー(Copy)・削除(Delete)・変更(Modify)・名前変更
     (Rename)されたファイル、タイプが変更されたファイル(T)、マージされて
     いないファイル(U)、不明なファイル(X)、またはペアリングが壊れている
     ファイル(B)のみを選択します。フィルタ文字(無しも含む)の任意の組み合
     わせを使用できます。 組み合わせに ‘*’ (全てまたは無し)が追加される
     と、比較で他の基準に一致するファイルがある場合、すべてのパスが選択
     されます。 他の基準に一致するファイルがない場合、何も選択されません
     。

     また、逆に、除外したい時はこれらの各大文字指定を小文字にして指定し
     ます。例えば ‘--diff-filter=ad’ は、追加および削除されたパスを除外
     します。

     注意:すべてのdiffがすべてのタイプを特徴とするわけではないことに注意
     してください。 たとえば、インデックスから作業ツリーへのdiffにエント
     リを追加することはできません(diffに含まれるパスのセットは、インデッ
     クスの内容によって制限されるため)。 同様に、これらのタイプの検出が
     無効になっている場合、コピーおよび名前変更されたエントリは表示され
     ません。

‘-S<string>’
     ファイル内の指定の文字列(つまり、 addition 、deletion)の出現回数の
     差分を調べます。スクリプターが使用することを目的としています。

     (構造体など)コードの正確なブロックを探していて、そのブロックが最初
     に作成されてからの履歴を知りたい場合に便利です。この機能を繰り返し
     使用して、プリイメージ(preimage)内の興味深いブロックを ‘-S’ にフィ
     ードバックし、そしてあなたはそれをブロックの最初のバージョンを取得
     するまで続けます。

     バイナリファイルも検索されます。

‘-G<regex>’
     パッチテキストに <regex> にマッチする 追加/削除 された行が含まれて
     いる差分を探します。

     ‘-S<regex>-pickaxe-regex’ と ‘-G<regex>’ の違いを説明するために、同
     じファイル内で以下のdiffを使用してコミットすることを検討してくださ
     い:

          +    return frotz(nitfol, two->ptr, 1, 0);
          ...
          -    hit = frotz(nitfol, mf2.ptr, 1, 0);

     ‘git log -G"frotz\(nitfol"’ はこのコミットを表示しますが、 ‘git log
     -S"frotz\(nitfol" --pickaxe-regex’ は表示しません(その文字列の出現
     回数が変更されなかったため)。

     ‘--text’ が提供されていない限り、 textconv フィルターのないバイナリ
     ファイルのパッチは無視されます。

     詳細については gitdiffcore(7) の _pickaxe_ エントリを参照してくださ
     い。

‘--find-object=<object-id>’
     指定されたオブジェクトの出現回数を変更する違いを探します。 ‘-S’ と
     同様に、引数だけが異なり、特定の文字列ではなく特定のオブジェクト
     IDを検索します。

     オブジェクトは、ブロブまたはサブモジュールのコミットにすることがで
     きます。 これは、 ‘git-log’ の ‘-t’ オプションがツリーも探すことを
     意味します。

‘--pickaxe-all’
     ‘-S’ または ‘-G’ が変更を見つけたら、 <string> の変更を含むファイル
     だけでなく、その変更セット(changeset)のすべての変更を表示します。

‘--pickaxe-regex’
     ‘-S’ に指定した <string> を拡張POSIX正規表現として扱います。

‘-O<orderfile>’
     ファイルが出力に表示される順序を制御します。これは ‘diff.orderFile’
     構成変数をオーバーライドします(git-config(1) 参照)。
     ‘diff.orderFile’ をキャンセルするには、 ‘-O/dev/null’ を使用します
     。

     出力順序は、 <orderfile> 内のglobパターンの順序によって決定されます
     。最初のパターンに一致するパス名を持つすべてのファイルが最初に出力
     され、2番目のパターンに一致する(ただし最初のパターンには一致しない
     )パス名を持つすべてのファイルが次に出力されます。パス名がどのパター
     ンとも一致しないすべてのファイルは、ファイルの最後に暗黙のすべて一
     致パターンがあるかのように、最後に出力されます。複数のパス名のラン
     クが同じである場合(同じパターンに一致するが、以前のパターンには一致
     しない)、相互の出力順序は通常の順序です。

     <orderfile> は以下のとおりパースされます:

        • 空白行は無視されるため、読みやすくするための区切りとして使用で
          きます。

        • ハッシュ ("‘#’") で始まる行は無視されるため、コメントに使用で
          きます。 パターンがハッシュで始まる場合は、パターンの先頭にバ
          ックスラッシュ(訳注:日本では環境により円記号)("‘\’") を追加し
          ます。

        • 他の各行には、単一のパターンが含まれています。

     パターンは、 FNM_PATHNAME フラグなしで fnmatch(3) に使用されるパタ
     ーンと同じ構文とセマンティクスを持ちますが、最終的なパス名コンポー
     ネントをいくつも削除するとパターンと一致する場合、パス名もパターン
     と一致する点が異なります。 たとえば、パターン "‘foo*bar’" は、
     "‘fooasdfbar’" および "‘foo/bar/baz/asdf’" と一致しますが、
     "‘foobarx’" とは一致しません。

‘--skip-to=<file>’
‘--rotate-to=<file>’
     名前付き <file> の前のファイルを出力から破棄するか(スキップして)、
     出力の最後に移動させます(ローテーションさせます)。 これらは主に
     ‘git difftool’ コマンドを使用するために考案されたものであり、それ以
     外の場合はあまり役に立たない可能性があります。

‘-R’
     2つの入力を交換します。 つまり、インデックスまたはディスク上のファ
     イルとツリーの内容の違いを表示します。

‘--relative[=<path>]’
‘--no-relative’
     プロジェクトのサブディレクトリから実行する場合、このオプションを使
     用して、ディレクトリ外の変更を除外し、それに関連するパス名を表示す
     るように指示できます。サブディレクトリ(ベアリポジトリなど)にいない
     場合は、引数として <path> を指定することで、出力を作成するサブディ
     レクトリに名前を付けることができます。 ‘--no-relative`は、
     `diff.relative’ 設定オプションと以前の ‘--relative’ の両方を打ち消
     すために使用できます。

‘-a’
‘--text’
     すべてのファイルをテキストとして扱います。

‘--ignore-cr-at-eol’
     比較を行うときは、行末のキャリッジリターン(carriage-return)を無視し
     ます。

‘--ignore-space-at-eol’
     行末(EOL)での空白(whitespace)の変更を無視します。

‘-b’
‘--ignore-space-change’
     空白(whitespace)の数の変更は無視してください。これは、行末の空白
     (whitespace)を無視し、1つ以上の空白文字(whitespace characters)の他
     のすべてのシーケンスを同等と見なします。

‘-w’
‘--ignore-all-space’
     行を比較するときは空白を無視します。 これにより、一方の行に空白があ
     り、もう一方の行に空白がない場合でも、違いは無視されます。

‘--ignore-blank-lines’
     全て空白の行の変更は無視します。

‘-I<regex>’
‘--ignore-matching-lines=<regex>’
     すべての行が <regex> にマッチする変更を無視します。このオプションは
     複数回指定できます。

‘--inter-hunk-context=<lines>’
     指定された行数までの差分ハンク間のコンテキストを表示し、それによっ
     て互いに近いハンクを融合します。デフォルトは
     ‘diff.interHunkContext’ で、設定オプションが設定されていない場合は
     0です。

‘-W’
‘--function-context’
     関数全体を各変更のコンテキスト行として表示します。関数名は、 ‘git
     diff’ がパッチハンクヘッダーを処理するのと同じ方法で決定されます
     (gitattributes(5) の _Defining a custom hunk-header_ を参照)。

‘--ext-diff’
     外部diffヘルパーの実行を許可します。 gitattributes(5) を使用して外
     部diffドライバーを設定する場合は、 git-log(1) およびその仲間と一緒
     にこのオプションを使用する必要があります。

‘--no-ext-diff’
     外部diffドライバーを禁止します。

‘--textconv’
‘--no-textconv’
     バイナリファイルを比較するときに、外部テキスト変換フィルターの実行
     を許可(または禁止)します。 詳細については、 gitattributes(5) を参照
     してください。textconvフィルターは通常、一方向の変換であるため、結
     果のdiffは人間の消費に適していますが、適用(apply)することはできませ
     ん。このため、textconvフィルターは、 git-diff(1) および git-log(1)
     に対してのみデフォルトで有効になりますが、 git-format-patch(1) また
     はdiff配管コマンドに対しては有効になりません。

‘--ignore-submodules[=<when>]’
     diff生成のサブモジュールへの変更を無視します。 <when> は、 none・
     untracked・dirty・allのいずれかになります。これがデフォルトです。
     noneを使用すると、追跡されていないファイルまたは変更されたファイル
     が含まれている場合、またはそのHEADがスーパープロジェクトに記録され
     ているコミットと異なる場合にサブモジュールが変更されたと見なされ、
     git-config(1) または gitmodules(5) の ignoreオプションの設定をオー
     バーライドするために使用できます。untrackedが使用されている場合、サ
     ブモジュールには追跡されていないコンテンツのみが含まれている場合、
     サブモジュールはダーティとは見なされません(ただし、変更されたコンテ
     ンツはスキャンされます)。「dirty」を使用すると、サブモジュールの作
     業ツリーへのすべての変更が無視され、スーパープロジェクトに格納され
     ているコミットへの変更のみが表示されます(これは1.7.0までの動作でし
     た)。「all」を使用すると、サブモジュールへのすべての変更が非表示に
     なります。

‘--src-prefix=<prefix>’
     "a/" の代わりに、与えられたソースプレフィックス(source prefix)を表
     示します。

‘--dst-prefix=<prefix>’
     "b/" の代わりに、指定された宛先プレフィックス(destination prefix)を
     表示します。

‘--no-prefix’
     送信元(source)または宛先(destination)のプレフィックスを表示しません
     。

‘--line-prefix=<prefix>’
     出力のすべての行に追加のプレフィックスを付加します。

‘--ita-invisible-in-index’
     デフォルトでは、 "git add -N" によって追加されたエントリは、 "git
     diff" に既存の空のファイルとして表示され、 "git diff –cached" に新
     しいファイルとして表示されます。このオプションを使用すると、エント
     リは "git diff" では新しいファイルとして表示され、 "git diff
     –cached" では存在しません。このオプションは、
     ‘--ita-visible-in-index’ で元に戻すことができます。どちらのオプショ
     ンも実験的なものであり、将来削除される可能性があります。

   これらの一般的なオプションの詳細については、 gitdiffcore(7) も参照し
てください。


Generating patch text with -p
*****************************

git-diff(1) 、 git-log(1) 、 git-show(1) 、 git-diff-index(1) 、
git-diff-tree(1) 、 git-diff-files(1) に ‘-p’ オプションを付けて実行する
とパッチテキストを生成します。パッチテキストの作成は、
‘GIT_EXTERNAL_DIFF’ と ‘GIT_DIFF_OPTS’ 環境変数( git(1) 参照)、および
‘diff’ 属性( gitattributes(5) 参照)を介してカスタマイズできます。

   -pオプションが生成するものは、従来のdiff形式とは少々異なります:

  1. 先行して、以下のような "git diff" ヘッダーがあります:

          diff --git a/file1 b/file2

     名前の変更/コピーが含まれない限り、 ‘a/’ と ‘b/’ のファイル名は同じ
     です。 特に、作成または削除の場合でも、 ‘a/’ または ‘b/’ ファイル名
     の代わりに ‘/dev/ null’ が使用されることはありません。

     名前変更/コピーが含まれる場合、 ‘file1’ と‘file2‘ は、それぞれ名前
     変更/コピーのソースファイルの名前と、名前変更/コピーが生成するファ
     イルの名前を示します。

  2. その後に、1つ以上の拡張ヘッダー行達が続きます:

          old mode <mode>
          new mode <mode>
          deleted file mode <mode>
          new file mode <mode>
          copy from <path>
          copy to <path>
          rename from <path>
          rename to <path>
          similarity index <number>
          dissimilarity index <number>
          index <hash>..<hash> <mode>

     ファイルモードは、ファイルタイプとファイル許可ビットを含む6桁の8進
     数として出力されます。

     拡張ヘッダーのパス名には、 ‘a/’ および ‘b/’ プレフィックスは含まれ
     ません。

     類似インデックス(similarity index)は変更されていない行のパーセンテ
     ージであり、非類似インデックス(dissimilarity index)は変更された行の
     パーセンテージです。これは切り捨てられた整数であり、その後にパーセ
     ント記号が続きます。したがって、100％の類似インデックス値は2つの等
     しいファイルを表し、100％の非類似性は古いファイルから新しいファイル
     に移行された行がないことを意味します。

     インデックス行には、変更前後のブロブオブジェクト名が含まれます。
     <mode> は、ファイルモードが変更されない場合に含まれます。それ以外の
     場合、別々の行は古いモードと新しいモードを示します。

  3. 通常の文字でないキャラクタ(\"unusual\" characters)を含むパス名は、
     構成変数 ‘core.quotePath’ で説明されているように引用符で囲まれてい
     ます( git-config(1)参照)。

  4. 出力内のすべての ‘file1’ ファイルはコミット前のファイルを参照し、す
     べての ‘file2’ ファイルはコミット後のファイルを参照します。各変更を
     各ファイルに順番に適用するのは誤りです。たとえば、以下のパッチはaと
     bを交換します:

          diff --git a/a b/b
          rename from a
          rename to b
          diff --git a/b b/a
          rename from b
          rename to a

  5. ハンクのヘッダーには、ハンクが適用される関数の名前が記載されていま
     す。特定の言語に合わせてこれを調整する方法の詳細については、
     gitattributes(5) の "Defining a custom hunk-header" を参照してくだ
     さい。


Combined diff format
********************

diffを生成するコマンドは、マージを表示するときに ‘-c’ または ‘--cc’ オプ
ションを使用して「合成diff」(combined diff)を生成できます。これは
git-diff(1) または git-show(1) でのマージを表示するときのデフォルトの形
式です。 注意: これらのコマンドのいずれかに適切な ‘--diff-merges’ オプシ
ョンを指定して、特定の形式で差分を強制的に生成できることにも注意してくだ
さい。

   合成diff形式は以下のようになります:

     diff --combined describe.c
     index fabadb8,cc95eb0..4866510
     --- a/describe.c
     +++ b/describe.c
     @@@ -98,20 -98,12 +98,20 @@@
             return (a_date > b_date) ? -1 : (a_date == b_date) ? 0 : 1;
       }

     - static void describe(char *arg)
      -static void describe(struct commit *cmit, int last_one)
     ++static void describe(char *arg, int last_one)
       {
      +      unsigned char sha1[20];
      +      struct commit *cmit;
             struct commit_list *list;
             static int initialized = 0;
             struct commit_name *n;

      +      if (get_sha1(arg, sha1) < 0)
      +              usage(describe_usage);
      +      cmit = lookup_commit_reference(sha1);
      +      if (!cmit)
      +              usage(describe_usage);
      +
             if (!initialized) {
                     initialized = 1;
                     for_each_ref(get_name);

  1. まず "git diff" ヘッダーがあり、以下のようになります( ‘-c’ オプショ
     ンが使用されている場合):

          diff --combined file

     または、以下のようになります( ‘--cc’ オプションが使用されている場合
     ):

          diff --cc file

  2. その後に1つ以上の拡張ヘッダー行が続きます(以下の例は、2つの親とのマ
     ージを示しています):

          index <hash>,<hash>..<hash>
          mode <mode>,<mode>..<mode>
          new file mode <mode>
          deleted file mode <mode>,<mode>

     ‘mode <mode>,<mode>..<mode>’ 行は、<mode> の少なくとも1つが他の
     <mode> と異なる場合にのみ表示されます。検出されたコンテンツの移動
     (名前の変更とコピーの検出)に関する情報を含む拡張ヘッダーは、2つの
     <tree-ish> のdiffで機能するように設計されており、合成diff形式では使
     用されません。

  3. その後に2行の from-file/to-file ヘッダーが続きます

          --- a/file
          +++ b/file

     従来の統一diff形式の2行ヘッダーと同様に、 ‘/dev/null’ は、作成また
     は削除されたファイルを通知するために使用されます。

     ただし、 –combined-all-paths オプションが指定されている場合、2行の
     from-file/to-file の代わりに、 N+1 行の from-file/to-file ヘッダー
     が取得されます。ここで、 N はマージコミットの親の数です。

          --- a/file
          --- a/file
          --- a/file
          +++ b/file

     この拡張形式は、名前変更またはコピー検出がアクティブな場合に役立ち
     、別の親のファイルの元の名前を確認できます。

  4. チャンクヘッダーの形式が変更され、誤って ‘patch-p1’ にフィードされ
     るのを防ぎます。合成差分形式は、マージコミットの変更を確認するため
     に作成されたものであり、適用されることを意図したものではありません
     。この変更は、拡張された「インデックス」ヘッダーの変更に似ています:

          @@@ <from-file-range> <from-file-range> <to-file-range> @@@

     合成diff形式のチャンクヘッダーには親の数+1の ‘@’ 文字があります。

   従来の統一diff形式とは異なり、2つのファイルAとBが、 ‘-’ (マイナスは
Aに表示されますが、Bでは削除されます) または ‘+’ (プラスはAにはありませ
んが、Bには追加されます)、または ‘" "’（スペースは変更なし) プレフィック
スを持つ単一の列で表示される場合、この形式は2つ以上のファイル file1,
file2,… を1つのファイルXと比較し、Xが各 fileN とどのように異なるかを示し
ます。ファイルNごとに1つの列が出力行の前に追加され、Xの行が出力行とどの
ように異なるかを示します。

   列Nの ‘-’ 文字は、その行が fileN に表示されているが、結果には表示され
ていないことを意味します。 列Nの ‘+’ 文字は、結果に行が表示され、 fileN
にその行がないことを意味します(つまり、その親の観点から見て行が追加され
たことを示す)。

   上記の出力例では、関数のシグネチャが両方のファイルから見て変更されて
います(したがって、 file1 と file2 の両方から2つの ‘-’ が削除され、さら
に ‘++’ が追加されたため、 file1 と file2 のどちらにも表示されません)。
また、他の8行は file1 と同じですが、 file2 には表示されません(したがって
、接頭辞として ‘+’ が付けられます)。

   ‘git diff-tree -c’ で表示される場合、マージコミットの親をマージ結果と
比較します(つまり、 file1..fileN が親です)。 ‘git diff-files -c’ で表示
される場合、2つの未解決のマージ親を作業ツリーファイルと比較します(つまり
、 file1 はステージ2、別名「私たちのバージョン」、 file2 はステージ3、別
名「彼らのバージョン」です)。


EXAMPLES
********

‘git log --no-merges’
     コミット履歴全体を表示しますが、マージはスキップします

‘git log v2.6.12.. include/scsi drivers/scsi’
     バージョン _v2.6.12_ 以降で ‘include/scsi’ または ‘drivers/scsi’ サ
     ブディレクトリ内のファイルの変更がある、すべてのコミットを表示しま
     す

‘git log --since="2 weeks ago" -- gitk’
     _gitk_ ファイルの変更について過去2週間の範囲で表示します。‘–‘は*ブ
     ランチ*名 _gitk_ と混同しないようにするために必要です。

‘git log --name-status release..test’
     「test」ブランチにはあるがまだ「release」ブランチにはないコミットを
     、各コミットが変更するパスのリストとともに表示します。

‘git log --follow builtin/rev-list.c’
     ファイルに現在の名前が付けられる前に発生したコミット(訳注:つまりフ
     ァイル名が変更される前の当該ファイル)を含め、‘builtin/rev-list.c‘を
     変更したコミットを表示します。

‘git log --branches --not --remotes=origin’
     ローカルブランチ’origin’にあり、’origin’のリモートトラッキングブラ
     ンチのいずれにも存在していないコミットを表示します。

‘git log master --not --remotes=*/master’
     ローカルmasterにはあるが、リモートリポジトリmasterブランチにはない
     すべてのコミットを表示します。

‘git log -p -m --first-parent’
     変更の差分を含む履歴を表示しますが、‘‘main branch’’の観点からのみ、
     マージされたブランチからのコミットをスキップし、マージによって導入
     された変更の完全な差分を表示します。これは、単一の統合ブランチにと
     どまり、そのブランチにすべてのトピックブランチをマージするという厳
     格なポリシーに従う場合にのみ意味があります。

‘git log -L '/int main/',/^}/:main.c’
     ファイル‘main.c‘の関数‘main()‘が時間の経過とともにどのように進化し
     たかを示します。

‘git log -3’
     表示するコミットの数を3個に制限します。


DISCUSSION
**********

Gitは、ある程度までは文字エンコードに依存しません。

   • ブロブオブジェクトの内容は、解釈されていないバイトのシーケンスです
     。コアレベルでのエンコーディング変換はありません。

   • パス名はUTF-8正規化形式C(UTF-8 normalization form C)でエンコードさ
     れます。これは、ツリーオブジェクト、インデックスファイル、ref名、お
     よびコマンドライン引数、環境変数、構成ファイル( ‘.git/config’
     (git-config(1) 参照) と gitignore(5) と gitattributes(5) と
     gitmodules(5)) のパス名に適用されます。

     コアレベルのGitは、パス名を単に非NULバイトのシーケンスとして扱い、
     パス名をエンコードする変換はありません(MacとWindowsを除く)。したが
     って、非ASCIIパス名の使用は、レガシー拡張ASCIIエンコーディングを使
     用するプラットフォームやファイルシステムでもほとんど機能します。た
     だし、そのようなシステムで作成されたリポジトリは、UTF-8ベースのシス
     テム(Linux、Mac、Windowsなど)では正しく機能しません。その逆も同様で
     す。さらに、多くのGitベースのツールは、パス名がUTF-8であると単純に
     想定しており、他のエンコーディングを正しく表示できません。

   • コミットログメッセージは通常UTF-8でエンコードされますが、他の拡張
     ASCIIエンコードもサポートされています。これには、ISO-8859-x、
     CP125xなどが含まれますが、UTF-16/32、EBCDIC、およびCJKマルチバイト
     エンコーディング(GBK、Shift-JIS、Big5、EUC-x、CP9xxなど)は含まれま
     せん。

   我々はコミットログメッセージをUTF-8でエンコードすることをお勧めします
が、コアとGit Porcelainはどちらも、プロジェクトでUTF-8を強制しないように
設計されています。特定のプロジェクトのすべての参加者がレガシーエンコーデ
ィングを使用する方が便利だと感じた場合、Gitはそれを禁止しません。 ただし
、覚えておくべきことがいくつかあります。

  1. _git commit_ と _git commit-tree_ は、プロジェクトがレガシーエンコ
     ーディングを使用していることを明示的に指定しない限り、与えられたコ
     ミットログメッセージが有効なUTF-8文字列のように見えない場合に警告を
     発します。明示的に指定する方法は、以下のように、 ‘.git/config’ ファ
     イルに ‘i18n.commitEncoding’ を含めることです。

          [i18n]
                  commitEncoding = ISO-8859-1

     上記の設定で作成されたコミットオブジェクトは、 ‘encoding’ ヘッダー
     に ‘i18n.commitEncoding’ の値を記録します。 これは、後でそれらを見
     る他の人々を助けるためです。このヘッダーがないということは、コミッ
     トログメッセージがUTF-8でエンコードされていることを意味します。

  2. _git log_ と _git show_ と _git blame_ とその仲間たちは、コミットオ
     ブジェクトの ‘encoding’ ヘッダーを見て、特に指定がない限り、ログメ
     ッセージをUTF-8に再コーディングしようとします。あなたは以下のように
     、 ‘.git/config’ ファイルの ‘i18n.logOutputEncoding’ を使用して目的
     の出力エンコーディングを指定できます。

          [i18n]
                  logOutputEncoding = ISO-8859-1

     この構成変数がない場合は、代わりに ‘i18n.commitEncoding’ の値が使用
     されます。

   UTF-8への再コーディングは必ずしも可逆的な操作ではないため、我々はコミ
ットが行われたときにコミットログメッセージを再コーディングしないことを意
図的に選択したことに注意してください。


CONFIGURATION
*************

コア変数については git-config(1) を、diff生成に関連する設定については
git-diff(1) を参照してください。

format.pretty
     ‘–format‘オプションのデフォルト。(上記’Pretty Formats’を参照してく
     ださい。)デフォルトは‘medium‘です。

i18n.logOutputEncoding
     ログを表示するときに使用するエンコーディング。(上記’Discussion’を参
     照してください。)デフォルトでは、設定されている場合は
     ‘i18n.commitEncoding’ の値になり、そうでない場合は UTF-8 になります
     。

log.date
     人間が読める形式の日付のデフォルト形式。(‘--date`オプションと比べて
     みてください。)デフォルトは "default" です。これは、`Sat May 8
     19:35:34 2010 -0500’ のような日付を書き込むことを意味します。

     フォーマットが"auto:foo"に設定されていて、かつ、ページャーが使用さ
     れている場合、フォーマット "foo" が日付フォーマットに使用されます。
     それ以外の場合は"default"が使用されます。

log.follow
     ‘true`の場合、`git log`は、単一の<path>が指定されたときに
     ’–follow‘オプションが使用されたかのように機能します。これには
     ‘–follow‘と同じ制限があります。つまり、複数のファイルを追跡するため
     に使用することはできず、非線形履歴(non-linear history)ではうまく機
     能しません。

log.showRoot
     ‘false‘の場合、‘git log‘および関連するコマンドは最初のコミットを大
     きな作成イベント(big creation event)として扱いません。‘git log -p‘出
     力のルートコミットは、差分を添付せずに表示されます。デフォルトは
     ‘true‘です。

log.showSignature
     ‘true`の場合、`git log`および関連するコマンドは’–show-signature‘オ
     プションが渡されたかのように動作します。

mailmap.*
     git-shortlog(1) 参照。

notes.displayRef
     ‘core.notesRef‘または‘GIT_NOTES_REF‘によって設定されたデフォルトに
     加えて、コマンドの‘log‘ファミリーでコミットメッセージを表示するとき
     にメモを読み取るためのrefs。git-notes(1)を参照してください。

     省略されていないref名またはグロブ(glob)である可能性があり、複数回指
     定される可能性があります。存在しないrefsに対しては警告が発行されま
     すが、どのrefsとも一致しないグロブ(glob)は黙って無視されます。

     この設定は、‘--no-notes`オプションで無効にしたり、
     `GIT_NOTES_DISPLAY_REF`環境変数で上書きしたり、’–notes=<ref>‘オプシ
     ョンで上書きしたりできます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-ls-files,  Up: Top

Name
****

git-ls-files — インデックスと作業ツリーのファイルに関する情報を表示する


Synopsis
********

     git ls-files [-z] [-t] [-v] [-f]
                     (–[cached|deleted|others|ignored|stage|unmerged|killed|modified])*
                     (-[c|d|o|i|s|u|k|m])*
                     [–eol]
                     [–deduplicate]
                     [-x <pattern>|–exclude=<pattern>]
                     [-X <file>|–exclude-from=<file>]
                     [–exclude-per-directory=<file>]
                     [–exclude-standard]
                     [–error-unmatch] [–with-tree=<tree-ish>]
                     [–full-name] [–recurse-submodules]
                     [–abbrev[=<n>]] [–] [<file>…]


DESCRIPTION
***********

これにより、インデックス内のファイルリストが実際の作業ディレクトリリスト
とマージされ、2つのさまざまな組み合わせが表示されます。

   以下の1つ以上のオプションを使用して、表示されるファイルを判別できます
:


OPTIONS
*******

‘-c’
‘--cached’
     キャッシュされたファイルを出力に表示します(デフォルト)

‘-d’
‘--deleted’
     削除されたファイルを出力に表示します

‘-m’
‘--modified’
     変更されたファイルを出力に表示

‘-o’
‘--others’
     その他(たとえば 追跡されていない)ファイルを出力に表示します

‘-i’
‘--ignored’
     無視されたファイル(ignored files)のみを出力に表示します。インデック
     のファイルを表示する場合は、除外パターンに一致するファイルのみを印
     刷してください。 「その他」のファイルを表示する場合は、除外パターン
     に一致するファイルのみを表示してください。標準の無視ルールは自動的
     にアクティブ化されないため、少なくとも1つの ‘--exclude*’ オプション
     が必要です。

‘-s’
‘--stage’
     ステージングされたコンテンツのモードビット、オブジェクト名、ステー
     ジ番号を出力に表示します。

‘--directory’
     If a whole directory is classified as "other", show just its name
     (with a trailing slash) and not its whole contents.

‘--no-empty-directory’
     Do not list empty directories.  Has no effect without –directory.

‘-u’
‘--unmerged’
     Show unmerged files in the output (forces –stage)

‘-k’
‘--killed’
     Show files on the filesystem that need to be removed due to
     file/directory conflicts for checkout-index to succeed.

‘-z’
     \0 line termination on output and do not quote filenames.  See
     OUTPUT below for more information.

‘--deduplicate’
     When only filenames are shown, suppress duplicates that may come
     from having multiple stages during a merge, or giving ‘--deleted’
     and ‘--modified’ option at the same time.  When any of the ‘-t’,
     ‘--unmerged’, or ‘--stage’ option is in use, this option has no
     effect.

‘-x <pattern>’
‘--exclude=<pattern>’
     Skip untracked files matching pattern.  Note that pattern is a
     shell wildcard pattern.  See EXCLUDE PATTERNS below for more
     information.

‘-X <file>’
‘--exclude-from=<file>’
     Read exclude patterns from <file>; 1 per line.

‘--exclude-per-directory=<file>’
     Read additional exclude patterns that apply only to the directory
     and its subdirectories in <file>.

‘--exclude-standard’
     Add the standard Git exclusions: .git/info/exclude, .gitignore in
     each directory, and the user’s global exclusion file.

‘--error-unmatch’
     If any <file> does not appear in the index, treat this as an error
     (return 1).

‘--with-tree=<tree-ish>’
     When using –error-unmatch to expand the user supplied <file> (i.e.
     path pattern) arguments to paths, pretend that paths which were
     removed in the index since the named <tree-ish> are still present.
     Using this option with ‘-s’ or ‘-u’ options does not make any
     sense.

‘-t’
     This feature is semi-deprecated.  For scripting purpose,
     git-status(1) ‘--porcelain’ and git-diff-files(1) ‘--name-status’
     are almost always superior alternatives, and users should look at
     git-status(1) ‘--short’ or git-diff(1) ‘--name-status’ for more
     user-friendly alternatives.

     This option identifies the file status with the following tags
     (followed by a space) at the start of each line:

     H
          cached

     S
          skip-worktree

     M
          unmerged

     R
          removed/deleted

     C
          modified/changed

     K
          to be killed

     ?
          other

‘-v’
     Similar to ‘-t’, but use lowercase letters for files that are
     marked as _assume unchanged_ (see git-update-index(1)).

‘-f’
     Similar to ‘-t’, but use lowercase letters for files that are
     marked as _fsmonitor valid_ (see git-update-index(1)).

‘--full-name’
     When run from a subdirectory, the command usually outputs paths
     relative to the current directory.  This option forces paths to be
     output relative to the project top directory.

‘--recurse-submodules’
     Recursively calls ls-files on each active submodule in the
     repository.  Currently there is only support for the –cached mode.

‘--abbrev[=<n>]’
     Instead of showing the full 40-byte hexadecimal object lines, show
     the shortest prefix that is at least _<n>_ hexdigits long that
     uniquely refers the object.  Non default number of digits can be
     specified with –abbrev=<n>.

‘--debug’
     After each line that describes a file, add more data about its
     cache entry.  This is intended to show as much information as
     possible for manual inspection; the exact format may change at any
     time.

‘--eol’
     Show <eolinfo> and <eolattr> of files.  <eolinfo> is the file
     content identification used by Git when the "text" attribute is
     "auto" (or not set and core.autocrlf is not false).  <eolinfo> is
     either "-text", "none", "lf", "crlf", "mixed" or "".

     "" means the file is not a regular file, it is not in the index or
     not accessible in the working tree.

     <eolattr> is the attribute that is used when checking out or
     committing, it is either "", "-text", "text", "text=auto", "text
     eol=lf", "text eol=crlf".  Since Git 2.10 "text=auto eol=lf" and
     "text=auto eol=crlf" are supported.

     Both the <eolinfo> in the index ("i/<eolinfo>") and in the working
     tree ("w/<eolinfo>") are shown for regular files, followed by the
     ("attr/<eolattr>").

–
     Do not interpret any more arguments as options.

<file>
     Files to show.  If no files are given all files which match the
     other specified criteria are shown.


OUTPUT
******

_git ls-files_ just outputs the filenames unless ‘--stage’ is specified
in which case it outputs:

     [<tag> ]<mode> <object> <stage> <file>

   _git ls-files –eol_ will show
i/<eolinfo><SPACES>w/<eolinfo><SPACES>attr/<eolattr><SPACE*><TAB><file>

   _git ls-files –unmerged_ and _git ls-files –stage_ can be used to
examine detailed information on unmerged paths.

   For an unmerged path, instead of recording a single mode/SHA-1 pair,
the index records up to three such pairs; one from tree O in stage 1, A
in stage 2, and B in stage 3.  This information can be used by the user
(or the porcelain) to see what should eventually be recorded at the
path.  (see git-read-tree(1) for more information on state)

   Without the ‘-z’ option, pathnames with "unusual" characters are
quoted as explained for the configuration variable ‘core.quotePath’ (see
git-config(1)).  Using ‘-z’ the filename is output verbatim and the line
is terminated by a NUL byte.


EXCLUDE PATTERNS
****************

_git ls-files_ can use a list of "exclude patterns" when traversing the
directory tree and finding files to show when the flags –others or
–ignored are specified.  gitignore(5) specifies the format of exclude
patterns.

   These exclude patterns come from these places, in order:

  1. The command-line flag –exclude=<pattern> specifies a single
     pattern.  Patterns are ordered in the same order they appear in the
     command line.

  2. The command-line flag –exclude-from=<file> specifies a file
     containing a list of patterns.  Patterns are ordered in the same
     order they appear in the file.

  3. The command-line flag –exclude-per-directory=<name> specifies a
     name of the file in each directory _git ls-files_ examines,
     normally ‘.gitignore’.  Files in deeper directories take
     precedence.  Patterns are ordered in the same order they appear in
     the files.

   A pattern specified on the command line with –exclude or read from
the file specified with –exclude-from is relative to the top of the
directory tree.  A pattern read from a file specified by
–exclude-per-directory is relative to the directory that the pattern
file appears in.


SEE ALSO
********

git-read-tree(1), gitignore(5)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-ls-remote,  Up: Top

Name
****

git-ls-remote — リモートリポジトリの参照を一覧表示する


Synopsis
********

     git ls-remote [–heads] [–tags] [–refs] [–upload-pack=<exec>]
                   [-q | –quiet] [–exit-code] [–get-url] [–sort=<key>]
                   [–symref] [<repository> [<refs>…]]


DESCRIPTION
***********

リモートリポジトリで有効な参照を、関連するコミットIDとともに表示します。


OPTIONS
*******

‘-h’
‘--heads’
‘-t’
‘--tags’
     それぞれ、refs/heads と refs/tags のみに制限します。これらのオプシ
     ョンは相互に排他的ではありません。両方を指定すると、 refs/heads と
     refs/tags に保存されている参照が表示されます。コマンドラインで他に
     何も指定せずに使用された ‘git ls-remote -h’ は、他のgitサブコマンド
     と同じようにヘルプを提供することに注意してください。

‘--refs’
     ピーリングされたタグ(peeled tag)や ‘HEAD’ のような疑似参照
     (pseudoref)を出力に表示しないでください。

‘-q’
‘--quiet’
     stderrにリモートURLを出力しないでください。

‘--upload-pack=<exec>’
     リモートホストの「git-upload-pack」のフルパスを指定します。これによ
     り、SSH経由でアクセスされ、SSHデーモンがユーザーによって構成された
     PATHを使用しないリポジトリからの参照を一覧表示できます。

‘--exit-code’
     リモートリポジトリに一致する参照が見つからない場合は、ステータス「
     2」で終了します。通常、コマンドはステータス「0」で終了し、一致する
     参照が見つかったかどうかに関係なく、リモートリポジトリと正常に通信
     したことを示します。

‘--get-url’
     ‘url.<base>.insteadOf’ 構成設定(git-config(1)を参照)を考慮して、指
     定されたリモートリポジトリのURLを展開し、リモートと通信せずに終了し
     ます。

‘--symref’
     それが指すオブジェクトに加えて、シンボリックrefを表示するときに、そ
     れが指す基になるrefを表示します。 現在、upload-packはsymref HEADの
     みを表示するため、ls-remoteによって表示されるのはこれだけです。

‘--sort=<key>’
     指定されたキーに基づいて並べ替えます。接頭辞 ‘-’ を使用して、値の降
     順で並べ替えます。 ‘version:refname’ または ‘v:refname’ をサポート
     します(タグ名はバージョンとして扱われます)。 ‘version:refname’ のソ
     ート順は、 ‘versionsort.suffix’ 構成変数の影響も受ける可能性があり
     ます。 その他の並べ替えオプションについては git-for-each-ref(1) を
     参照してください。ただし、オブジェクト自体へのアクセスを必要とする
     ‘committerdate’ のようなキーは、オブジェクトがまだリモートからフェ
     ッチされていないrefに対しては機能せず、 ‘missing object’ エラーが発
     生することに注意してください。

‘-o <option>’
‘--server-option=<option>’
     プロトコルバージョン2を使用して通信する場合は、指定された文字列をサ
     ーバーに送信します。指定された文字列には、NULまたはLF文字を含めるこ
     とはできません。 複数の ‘--server-option=<option>’ が指定されている
     場合、それらはコマンドラインにリストされている順序で送信されます。

<repository>
     クエリする「リモート」リポジトリ。 このパラメーターは、URLまたはリ
     モートの名前のいずれかです(git-fetch(1) の「GIT URLS」と「REMOTES」
     セクションを参照してください)。

<refs>…
     指定しない場合、 ‘--heads’ と ‘--tags’ でフィルタリングを行った後の
     すべての参照が表示されます。 <refs>… を指定すると、指定したパターン
     に一致する参照のみが表示されます。


EXAMPLES
********

     $ git ls-remote --tags ./.
     d6602ec5194c87b0fc87103ca4d67251c76f233a        refs/tags/v0.99
     f25a265a342aed6041ab0cc484224d9ca54b6f41        refs/tags/v0.99.1
     7ceca275d047c90c0c7d5afb13ab97efdf51bd6e        refs/tags/v0.99.3
     c5db5456ae3b0873fc659c19fafdde22313cc441        refs/tags/v0.99.2
     0918385dbd9656cab0d1d81ba7453d49bbc16250        refs/tags/junio-gpg-pub
     $ git ls-remote http://www.kernel.org/pub/scm/git/git.git master seen rc
     5fe978a5381f1fbad26a80e682ddd2a401966740        refs/heads/master
     c781a84b5204fb294c9ccc79f8b3baceeb32c061        refs/heads/seen
     $ git remote add korg http://www.kernel.org/pub/scm/git/git.git
     $ git ls-remote --tags korg v\*
     d6602ec5194c87b0fc87103ca4d67251c76f233a        refs/tags/v0.99
     f25a265a342aed6041ab0cc484224d9ca54b6f41        refs/tags/v0.99.1
     c5db5456ae3b0873fc659c19fafdde22313cc441        refs/tags/v0.99.2
     7ceca275d047c90c0c7d5afb13ab97efdf51bd6e        refs/tags/v0.99.3


SEE ALSO
********

git-check-ref-format(1).


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-ls-tree,  Up: Top

Name
****

git-ls-tree — ツリーオブジェクトの内容を一覧表示します


Synopsis
********

     git ls-tree [-d] [-r] [-t] [-l] [-z]
                 [–name-only] [–name-status] [–full-name] [–full-tree] [–abbrev[=<n>]]
                 <tree-ish> [<path>…]


DESCRIPTION
***********

「/bin/ls -a」が現在の作業ディレクトリで行うことのように、特定のツリーオ
ブジェクトの内容を一覧表示します。 ただし以下の点に注意してください:

   • 動作は「/bin/ls」の動作とは少し異なり、「<path>」は一致するパターン
     のリストのみを示します。 したがって、( ‘-r’ なしで)ディレクトリ名を
     指定すると動作が異なり、引数の順序は重要ではありません。

   • _<path>_ が現在の作業ディレクトリを基準にして取得されるという点で、
     動作は「/bin/ls」の動作と似ています。例えば、あなたの現在の作業ディ
     レクトリが「sub」で、その下にサブディレクトリ「dir」がある場合は、
     「git ls-tree -r HEAD dir」を実行すると、「dir」ツリーの内容を一覧
     表示できます(つまり、「HEAD」の「sub/dir」) 。あなたが、ルートレベ
     ル以外のツリーを直接指定したいとします(たとえば ‘git ls-tree -r
     HEAD:sub dir’ と指定します)。しかし、この場合は結果として ‘HEAD’ コ
     ミットで ‘sub/sub/dir’ を要求したことになります(そしてそんなディレ
     クトリはないので何も表示されない)。ただし、 ‘--full-tree’ プション
     を渡すと、現在の作業ディレクトリを無視できます(つまり、 ‘git
     ls-tree --fulltree -r HEAD:sub dir’ とすれば意図したとおりに動く)


OPTIONS
*******

<tree-ish>
     ツリーっぽい何か(tree-ish)のID

‘-d’
     名前付きツリーエントリ自体のみを表示し、その子供たちは表示しません
     。

‘-r’
     サブツリーに再帰的に入っていきます

‘-t’
     サブツリーに再帰的入っていく場合でも、ツリーエントリを表示します。
     ‘-r’ が渡されなかった場合は効果がありません。 ‘-d’ は ‘-t’ の意味を
     含んでいます。

‘-l’
‘--long’
     ブロブ(ファイル)エントリのオブジェクトサイズを表示します。

‘-z’
     ‘\0’ (NULバイト)出力での行終了であり、ファイル名をクォートしません
     。 詳細については、以下の OUTPUT FORMAT を参照してください。

‘--name-only’
‘--name-status’
     (「long」出力ではなく)ファイル名のみを1行に1つずつリストします。

‘--abbrev[=<n>]’
     40バイトの16進オブジェクト行全体を表示する代わりに、オブジェクトを
     一意に参照できる、少なくとも _<n>_ 以上の長さの最短のプレフィックス
     を表示します。デフォルト以外の桁数は ‘--abbrev=<n>’ で指定できます
     。(訳注:手元ではデフォルトは10桁で表示された。 ‘--abbrev=1’ とする
     と5桁(一部6桁)表示となった)

‘--full-name’
     現在の作業ディレクトリに関連するパス名を表示する代わりに、フルパス
     名を表示します。

‘--full-tree’
     現在の作業ディレクトリを無視して、ルートレベルを起点として一覧表示
     します。 ‘--full-name’ の意味を含んでいます。

[<path>…]
     パスが指定されたら、それらを表示します(これは実際には生のパス名では
     なく、一致するパターンのリストであることに注意してください)。 それ
     以外の場合は、ツリーのルートレベルを唯一のパス引数として暗黙的に使
     用します。


Output Format
*************

     <mode> SP <type> SP <object> TAB <file>

   この出力形式は、「git update-index」の「–index-info—stdin」が期待する
ものと互換性があります。

   ‘-l’ オプションを使用すると、形式が以下のように変わります

     <mode> SP <type> SP <object> SP <object size> TAB <file>

   <object> で識別されるオブジェクトサイズはバイト単位で指定され、最小幅
7文字で右寄せされます。オブジェクトサイズは、ブロブ(ファイル)エントリに
対してのみ指定されます。他のエントリの場合、サイズの代わりに ‘-’ 文字が
使用されます。

   ‘-z’ オプションを指定しない場合、構成変数 ‘core.quotePath’ で説明され
ているように、「異常な」文字を含むパス名が引用符で囲まれます
(git-config(1) を参照)。 ‘-z’ を使用すると、ファイル名がそのまま出力され
、行はNULバイトで終了します。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-mailinfo,  Up: Top

Name
****

git-mailinfo — 単一の電子メールメッセージからパッチと作成者を抽出します


Synopsis
********

     git mailinfo [-k|-b] [-u | –encoding=<encoding> | -n]
                    [–[no-]scissors] [–quoted-cr=<action>]
                    <msg> <patch>


DESCRIPTION
***********

標準入力から単一の電子メールメッセージを読み取り、コミットログメッセージ
を <msg> ファイルに書き込み、パッチを <patch> ファイルに書き込みます。作
者名と電子メールアドレスと電子メールの件名は、コミットを作成する ‘git
am’ で使用するために標準出力に書き出されます。通常、このコマンドをユーザ
ーが直接使用する必要はありません。代わりに git-am(1) を参照してください
。


OPTIONS
*******

‘-k’
     通常、プログラムは、 ‘Subject:’ ヘッダー行から電子メール特有の断片
     文字列を取り除き、コミットログメッセージのタイトル行を取り出します
     。このオプションは、この変更をある程度防ぎ、 ‘git format-patch -k’
     出力を読み返すために使用する場合に最も役立つようにします。

     具体的には、以下のものがなくなるまでは削除を行います:

        • 先頭と末尾の空白(whitespace)を削除。

        • 先頭の ‘Re:’ や ‘re:’ や ‘:’ を削除。

        • 先頭のブラケットで囲まれた文字列( ‘[’ 〜 ‘]’ 、 通常は
          ‘[PATCH]’ ) 。

     最後に、空白類(whitespace)は単一のASCIIスペース文字(\x20)に正規化さ
     れます。

‘-b’
     ‘-k’ が有効でない場合、 先頭のブラケット ‘[’ と ‘]’ のペアで囲まれ
     たすべての文字列が削除されます。このオプションは、括弧で囲まれた文
     字列に ‘PATCH’ という単語が含まれているペアのみに削除を制限します。

‘-u’
     コミットログメッセージ、作者名、作者の電子メールアドレスは電子メー
     ルから取得され、MIME転送エンコーディングを最小限にデコードした後、
     それらを変換することにより、 ‘i18n.commitEncoding’ (デフォルトは
     UTF-8) で指定された文字セットに再コーディングされます。これは以前は
     オプションでしたが、現在はデフォルトです。

     注意: このフラグがあっても、パッチは常に文字セット変換なしでそのま
     ま使用されることに注意してください。

‘--encoding=<encoding>’
     ‘-u’ に似ています。 ただし、再コーディング時には、
     ‘i18n.commitEncoding’ で指定された文字セットまたはUTF-8の代わりに、
     ここで指定した文字セットが使用されます。

‘-n’
     メタデータのすべての文字セットの再コーディングを無効にします。

‘-m’
‘--message-id’
     コミットメッセージの最後にあるMessage-IDヘッダーをコピーします。こ
     れは、コミットをメーリングリストのディスカッションに関連付けるのに
     役立ちます。

‘--scissors’
     本文で切り取り線(例えば ‘-- >8 --’ )の前にあるすべてを取り除きます
     。 この線は、はさみ(scissors)とミシン目マークを表しており、その行で
     メッセージをカットするように読者に要求するために使用されます。パッ
     チの前のメッセージの本文にその行が表示されている場合、このオプショ
     ンを使用すると、その行の前のすべて(切り取り線の行自体を含む)が無視
     されます(訳注: ‘>8’ や ‘8<’ は「ハサミ」を示す絵文字)。

     これは、返信するメッセージに関するコメントと提案を含むディスカッシ
     ョンスレッドでメッセージを開始し、パッチの送信でメッセージを終了し
     、ディスカッションと提案されたコミットログメッセージの開始を切り取
     り線で区切る場合に役立ちます。

     これは、構成オプション mailinfo.scissors を使用してデフォルトで有効
     にできます。

‘--no-scissors’
     切り取り線を無視します。 mailinfo.scissors 設定を上書きするのに便利
     です。

‘--quoted-cr=<action>’
     base64またはquoted-printableエンコーディングで送信された電子メール
     メッセージを処理し、デコードされた行が単純なLFではなくCRLFで終了す
     る場合の操作(action)を指定。

     有効な操作(action)は:

        • ‘nowarn’: そのようなCRLFが見つかった場合、Gitは何もしません。

        • ‘warn’: そのようなCRLFが見つかった場合、 Gitはメッセージごとに
          警告を発行します。

        • ‘strip’: GitはそれらのCRLFをLFに変換します。

     デフォルトの操作(action)は、構成オプション ‘mailinfo.quotedCR’ で設
     定できます。そのような構成オプションが設定されていない場合、 ‘warn’
     が使用されます。

<msg>
     電子メールから抽出されたコミットログメッセージ。通常、電子メールの
     件名から抽出したタイトル行は除きます。

<patch>
     電子メールから抽出されたパッチ。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-mailsplit,  Up: Top

Name
****

git-mailsplit — 簡易 UNIX mbox 分割プログラム


Synopsis
********

     git mailsplit [-b] [-f<nn>] [-d<prec>] [–keep-cr] [–mboxrd]
                     -o<directory> [–] [(<mbox>|<Maildir>)…]


DESCRIPTION
***********

mboxファイルまたはMaildirを指定のディレクトリ内でファイルのリストに分割
し("0001" "0002" ..)、そこからさらに処理できるようにします。

     *Important*

     Maildirの分割は、ファイル名が正しい順序でパッチを出力するためにソー
     トされていることに依存しています。


OPTIONS
*******

<mbox>
     分割するmboxファイル。指定しない場合、mboxは標準入力から読み取られ
     ます。

<Maildir>
     分割するMaildirのルート。このディレクトリには、cur と tmp とnew サ
     ブディレクトリが含まれている必要があります。

‘-o<directory>’
     個々のメッセージを配置するディレクトリ。

‘-b’
     ファイルがFrom行で始まらない場合は、エラーにするのではなく、単一の
     メールメッセージであると想定してください。

‘-d<prec>’
     先行ゼロを含むデフォルトの4桁の代わりに、生成するファイル名に異なる
     桁数を指定できます。

‘-f<nn>’
     出力ファイル名の最初の <nn> 番号までをスキップします。たとえば、
     -f3 が指定されている場合は、番号を0004から始めます。

‘--keep-cr’
     ‘\r\n’ で終わる行から ‘\r’ を削除しないでください。

‘--mboxrd’
     入力は「mboxrd」形式であり、 "^>+From " 行のエスケープは逆になりま
     す。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-maintenance,  Up: Top

Name
****

git-maintenance — Run tasks to optimize Git repository data


Synopsis
********

     git maintenance run [<options>]


DESCRIPTION
***********

Run tasks to optimize Git repository data, speeding up other Git
commands and reducing storage requirements for the repository.

   Git commands that add repository data, such as ‘git add’ or ‘git
fetch’, are optimized for a responsive user experience.  These commands
do not take time to optimize the Git data, since such optimizations
scale with the full size of the repository while these user commands
each perform a relatively small action.

   The ‘git maintenance’ command provides flexibility for how to
optimize the Git repository.


SUBCOMMANDS
***********

register
     Initialize Git config values so any scheduled maintenance will
     start running on this repository.  This adds the repository to the
     ‘maintenance.repo’ config variable in the current user’s global
     config and enables some recommended configuration values for
     ‘maintenance.<task>.schedule’.  The tasks that are enabled are safe
     for running in the background without disrupting foreground
     processes.

     The ‘register’ subcommand will also set the ‘maintenance.strategy’
     config value to ‘incremental’, if this value is not previously set.
     The ‘incremental’ strategy uses the following schedule for each
     maintenance task:

        • ‘gc’: disabled.

        • ‘commit-graph’: hourly.

        • ‘prefetch’: hourly.

        • ‘loose-objects’: daily.

        • ‘incremental-repack’: daily.

     ‘git maintenance register’ will also disable foreground maintenance
     by setting ‘maintenance.auto = false’ in the current repository.
     This config setting will remain after a ‘git maintenance
     unregister’ command.

run
     Run one or more maintenance tasks.  If one or more ‘--task’ options
     are specified, then those tasks are run in that order.  Otherwise,
     the tasks are determined by which ‘maintenance.<task>.enabled’
     config options are true.  By default, only ‘maintenance.gc.enabled’
     is true.

start
     Start running maintenance on the current repository.  This performs
     the same config updates as the ‘register’ subcommand, then updates
     the background scheduler to run ‘git maintenance run --scheduled’
     on an hourly basis.

stop
     Halt the background maintenance schedule.  The current repository
     is not removed from the list of maintained repositories, in case
     the background maintenance is restarted later.

unregister
     Remove the current repository from background maintenance.  This
     only removes the repository from the configured list.  It does not
     stop the background maintenance processes from running.


TASKS
*****

commit-graph
     The ‘commit-graph’ job updates the ‘commit-graph’ files
     incrementally, then verifies that the written data is correct.  The
     incremental write is safe to run alongside concurrent Git processes
     since it will not expire ‘.graph’ files that were in the previous
     ‘commit-graph-chain’ file.  They will be deleted by a later run
     based on the expiration delay.

prefetch
     The ‘prefetch’ task updates the object directory with the latest
     objects from all registered remotes.  For each remote, a ‘git
     fetch’ command is run.  The configured refspec is modified to place
     all requested refs within ‘refs/prefetch/’.  Also, tags are not
     updated.

     This is done to avoid disrupting the remote-tracking branches.  The
     end users expect these refs to stay unmoved unless they initiate a
     fetch.  With prefetch task, however, the objects necessary to
     complete a later real fetch would already be obtained, so the real
     fetch would go faster.  In the ideal case, it will just become an
     update to a bunch of remote-tracking branches without any object
     transfer.

gc
     Clean up unnecessary files and optimize the local repository.  "GC"
     stands for "garbage collection," but this task performs many
     smaller tasks.  This task can be expensive for large repositories,
     as it repacks all Git objects into a single pack-file.  It can also
     be disruptive in some situations, as it deletes stale data.  See
     git-gc(1) for more details on garbage collection in Git.

loose-objects
     The ‘loose-objects’ job cleans up loose objects and places them
     into pack-files.  In order to prevent race conditions with
     concurrent Git commands, it follows a two-step process.  First, it
     deletes any loose objects that already exist in a pack-file;
     concurrent Git processes will examine the pack-file for the object
     data instead of the loose object.  Second, it creates a new
     pack-file (starting with "loose-") containing a batch of loose
     objects.  The batch size is limited to 50 thousand objects to
     prevent the job from taking too long on a repository with many
     loose objects.  The ‘gc’ task writes unreachable objects as loose
     objects to be cleaned up by a later step only if they are not
     re-added to a pack-file; for this reason it is not advisable to
     enable both the ‘loose-objects’ and ‘gc’ tasks at the same time.

incremental-repack
     The ‘incremental-repack’ job repacks the object directory using the
     ‘multi-pack-index’ feature.  In order to prevent race conditions
     with concurrent Git commands, it follows a two-step process.
     First, it calls ‘git multi-pack-index expire’ to delete pack-files
     unreferenced by the ‘multi-pack-index’ file.  Second, it calls ‘git
     multi-pack-index repack’ to select several small pack-files and
     repack them into a bigger one, and then update the
     ‘multi-pack-index’ entries that refer to the small pack-files to
     refer to the new pack-file.  This prepares those small pack-files
     for deletion upon the next run of ‘git multi-pack-index expire’.
     The selection of the small pack-files is such that the expected
     size of the big pack-file is at least the batch size; see the
     ‘--batch-size’ option for the ‘repack’ subcommand in
     git-multi-pack-index(1).  The default batch-size is zero, which is
     a special case that attempts to repack all pack-files into a single
     pack-file.

pack-refs
     The ‘pack-refs’ task collects the loose reference files and
     collects them into a single file.  This speeds up operations that
     need to iterate across many references.  See git-pack-refs(1) for
     more information.


OPTIONS
*******

‘--auto’
     When combined with the ‘run’ subcommand, run maintenance tasks only
     if certain thresholds are met.  For example, the ‘gc’ task runs
     when the number of loose objects exceeds the number stored in the
     ‘gc.auto’ config setting, or when the number of pack-files exceeds
     the ‘gc.autoPackLimit’ config setting.  Not compatible with the
     ‘--schedule’ option.

‘--schedule’
     When combined with the ‘run’ subcommand, run maintenance tasks only
     if certain time conditions are met, as specified by the
     ‘maintenance.<task>.schedule’ config value for each ‘<task>’.  This
     config value specifies a number of seconds since the last time that
     task ran, according to the ‘maintenance.<task>.lastRun’ config
     value.  The tasks that are tested are those provided by the
     ‘--task=<task>’ option(s) or those with
     ‘maintenance.<task>.enabled’ set to true.

‘--quiet’
     Do not report progress or other information over ‘stderr’.

‘--task=<task>’
     If this option is specified one or more times, then only run the
     specified tasks in the specified order.  If no ‘--task=<task>’
     arguments are specified, then only the tasks with
     ‘maintenance.<task>.enabled’ configured as ‘true’ are considered.
     See the _TASKS_ section for the list of accepted ‘<task>’ values.

‘--scheduler=auto|crontab|systemd-timer|launchctl|schtasks’
     When combined with the ‘start’ subcommand, specify the scheduler
     for running the hourly, daily and weekly executions of ‘git
     maintenance run’.  Possible values for ‘<scheduler>’ are ‘auto’,
     ‘crontab’ (POSIX), ‘systemd-timer’ (Linux), ‘launchctl’ (macOS),
     and ‘schtasks’ (Windows).  When ‘auto’ is specified, the
     appropriate platform-specific scheduler is used; on Linux,
     ‘systemd-timer’ is used if available, otherwise ‘crontab’.  Default
     is ‘auto’.


TROUBLESHOOTING
***************

The ‘git maintenance’ command is designed to simplify the repository
maintenance patterns while minimizing user wait time during Git
commands.  A variety of configuration options are available to allow
customizing this process.  The default maintenance options focus on
operations that complete quickly, even on large repositories.

   Users may find some cases where scheduled maintenance tasks do not
run as frequently as intended.  Each ‘git maintenance run’ command takes
a lock on the repository’s object database, and this prevents other
concurrent ‘git maintenance run’ commands from running on the same
repository.  Without this safeguard, competing processes could leave the
repository in an unpredictable state.

   The background maintenance schedule runs ‘git maintenance run’
processes on an hourly basis.  Each run executes the "hourly" tasks.  At
midnight, that process also executes the "daily" tasks.  At midnight on
the first day of the week, that process also executes the "weekly"
tasks.  A single process iterates over each registered repository,
performing the scheduled tasks for that frequency.  Depending on the
number of registered repositories and their sizes, this process may take
longer than an hour.  In this case, multiple ‘git maintenance run’
commands may run on the same repository at the same time, colliding on
the object database lock.  This results in one of the two tasks not
running.

   If you find that some maintenance windows are taking longer than one
hour to complete, then consider reducing the complexity of your
maintenance tasks.  For example, the ‘gc’ task is much slower than the
‘incremental-repack’ task.  However, this comes at a cost of a slightly
larger object database.  Consider moving more expensive tasks to be run
less frequently.

   Expert users may consider scheduling their own maintenance tasks
using a different schedule than is available through ‘git maintenance
start’ and Git configuration options.  These users should be aware of
the object database lock and how concurrent ‘git maintenance run’
commands behave.  Further, the ‘git gc’ command should not be combined
with ‘git maintenance run’ commands.  ‘git gc’ modifies the object
database but does not take the lock in the same way as ‘git maintenance
run’.  If possible, use ‘git maintenance run --task=gc’ instead of ‘git
gc’.

   The following sections describe the mechanisms put in place to run
background maintenance by ‘git maintenance start’ and how to customize
them.


BACKGROUND MAINTENANCE ON POSIX SYSTEMS
***************************************

The standard mechanism for scheduling background tasks on POSIX systems
is cron(8).  This tool executes commands based on a given schedule.  The
current list of user-scheduled tasks can be found by running ‘crontab
-l’.  The schedule written by ‘git maintenance start’ is similar to
this:

     # BEGIN GIT MAINTENANCE SCHEDULE
     # The following schedule was created by Git
     # Any edits made in this region might be
     # replaced in the future by a Git command.

     0 1-23 * * * "/<path>/git" --exec-path="/<path>" for-each-repo --config=maintenance.repo maintenance run --schedule=hourly
     0 0 * * 1-6 "/<path>/git" --exec-path="/<path>" for-each-repo --config=maintenance.repo maintenance run --schedule=daily
     0 0 * * 0 "/<path>/git" --exec-path="/<path>" for-each-repo --config=maintenance.repo maintenance run --schedule=weekly

     # END GIT MAINTENANCE SCHEDULE

   The comments are used as a region to mark the schedule as written by
Git.  Any modifications within this region will be completely deleted by
‘git maintenance stop’ or overwritten by ‘git maintenance start’.

   The ‘crontab’ entry specifies the full path of the ‘git’ executable
to ensure that the executed ‘git’ command is the same one with which
‘git maintenance start’ was issued independent of ‘PATH’.  If the same
user runs ‘git maintenance start’ with multiple Git executables, then
only the latest executable is used.

   These commands use ‘git for-each-repo --config=maintenance.repo’ to
run ‘git maintenance run --schedule=<frequency>’ on each repository
listed in the multi-valued ‘maintenance.repo’ config option.  These are
typically loaded from the user-specific global config.  The ‘git
maintenance’ process then determines which maintenance tasks are
configured to run on each repository with each ‘<frequency>’ using the
‘maintenance.<task>.schedule’ config options.  These values are loaded
from the global or repository config values.

   If the config values are insufficient to achieve your desired
background maintenance schedule, then you can create your own schedule.
If you run ‘crontab -e’, then an editor will load with your
user-specific ‘cron’ schedule.  In that editor, you can add your own
schedule lines.  You could start by adapting the default schedule listed
earlier, or you could read the crontab(5) documentation for advanced
scheduling techniques.  Please do use the full path and ‘--exec-path’
techniques from the default schedule to ensure you are executing the
correct binaries in your schedule.


BACKGROUND MAINTENANCE ON LINUX SYSTEMD SYSTEMS
***********************************************

While Linux supports ‘cron’, depending on the distribution, ‘cron’ may
be an optional package not necessarily installed.  On modern Linux
distributions, systemd timers are superseding it.

   If user systemd timers are available, they will be used as a
replacement of ‘cron’.

   In this case, ‘git maintenance start’ will create user systemd timer
units and start the timers.  The current list of user-scheduled tasks
can be found by running ‘systemctl --user list-timers’.  The timers
written by ‘git maintenance start’ are similar to this:

     $ systemctl --user list-timers
     NEXT                         LEFT          LAST                         PASSED     UNIT                         ACTIVATES
     Thu 2021-04-29 19:00:00 CEST 42min left    Thu 2021-04-29 18:00:11 CEST 17min ago  git-maintenance@hourly.timer git-maintenance@hourly.service
     Fri 2021-04-30 00:00:00 CEST 5h 42min left Thu 2021-04-29 00:00:11 CEST 18h ago    git-maintenance@daily.timer  git-maintenance@daily.service
     Mon 2021-05-03 00:00:00 CEST 3 days left   Mon 2021-04-26 00:00:11 CEST 3 days ago git-maintenance@weekly.timer git-maintenance@weekly.service

   One timer is registered for each ‘--schedule=<frequency>’ option.

   The definition of the systemd units can be inspected in the following
files:

     ~/.config/systemd/user/git-maintenance@.timer
     ~/.config/systemd/user/git-maintenance@.service
     ~/.config/systemd/user/timers.target.wants/git-maintenance@hourly.timer
     ~/.config/systemd/user/timers.target.wants/git-maintenance@daily.timer
     ~/.config/systemd/user/timers.target.wants/git-maintenance@weekly.timer

   ‘git maintenance start’ will overwrite these files and start the
timer again with ‘systemctl --user’, so any customization should be done
by creating a drop-in file, i.e.  a ‘.conf’ suffixed file in the
‘~/.config/systemd/user/git-maintenance@.service.d’ directory.

   ‘git maintenance stop’ will stop the user systemd timers and delete
the above mentioned files.

   For more details, see ‘systemd.timer(5)’.


BACKGROUND MAINTENANCE ON MACOS SYSTEMS
***************************************

While macOS technically supports ‘cron’, using ‘crontab -e’ requires
elevated privileges and the executed process does not have a full user
context.  Without a full user context, Git and its credential helpers
cannot access stored credentials, so some maintenance tasks are not
functional.

   Instead, ‘git maintenance start’ interacts with the ‘launchctl’ tool,
which is the recommended way to schedule timed jobs in macOS. Scheduling
maintenance through ‘git maintenance (start|stop)’ requires some
‘launchctl’ features available only in macOS 10.11 or later.

   Your user-specific scheduled tasks are stored as XML-formatted
‘.plist’ files in ‘~/Library/LaunchAgents/’.  You can see the
currently-registered tasks using the following command:

     $ ls ~/Library/LaunchAgents/org.git-scm.git*
     org.git-scm.git.daily.plist
     org.git-scm.git.hourly.plist
     org.git-scm.git.weekly.plist

   One task is registered for each ‘--schedule=<frequency>’ option.  To
inspect how the XML format describes each schedule, open one of these
‘.plist’ files in an editor and inspect the ‘<array>’ element following
the ‘<key>StartCalendarInterval</key>’ element.

   ‘git maintenance start’ will overwrite these files and register the
tasks again with ‘launchctl’, so any customizations should be done by
creating your own ‘.plist’ files with distinct names.  Similarly, the
‘git maintenance stop’ command will unregister the tasks with
‘launchctl’ and delete the ‘.plist’ files.

   To create more advanced customizations to your background tasks, see
launchctl.plist(5) for more information.


BACKGROUND MAINTENANCE ON WINDOWS SYSTEMS
*****************************************

Windows does not support ‘cron’ and instead has its own system for
scheduling background tasks.  The ‘git maintenance start’ command uses
the ‘schtasks’ command to submit tasks to this system.  You can inspect
all background tasks using the Task Scheduler application.  The tasks
added by Git have names of the form ‘Git Maintenance (<frequency>)’.
The Task Scheduler GUI has ways to inspect these tasks, but you can also
export the tasks to XML files and view the details there.

   Note that since Git is a console application, these background tasks
create a console window visible to the current user.  This can be
changed manually by selecting the "Run whether user is logged in or not"
option in Task Scheduler.  This change requires a password input, which
is why ‘git maintenance start’ does not select it by default.

   If you want to customize the background tasks, please rename the
tasks so future calls to ‘git maintenance (start|stop)’ do not overwrite
your custom tasks.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-merge-base,  Up: Top

Name
****

git-merge-base — Find as good common ancestors as possible for a merge


Synopsis
********

     git merge-base [-a|–all] <commit> <commit>…
     git merge-base [-a|–all] –octopus <commit>…
     git merge-base –is-ancestor <commit> <commit>
     git merge-base –independent <commit>…
     git merge-base –fork-point <ref> [<commit>]


DESCRIPTION
***********

_git merge-base_ finds best common ancestor(s) between two commits to
use in a three-way merge.  One common ancestor is _better_ than another
common ancestor if the latter is an ancestor of the former.  A common
ancestor that does not have any better common ancestor is a _best common
ancestor_, i.e.  a _merge base_.  Note that there can be more than one
merge base for a pair of commits.


OPERATION MODES
***************

As the most common special case, specifying only two commits on the
command line means computing the merge base between the given two
commits.

   More generally, among the two commits to compute the merge base from,
one is specified by the first commit argument on the command line; the
other commit is a (possibly hypothetical) commit that is a merge across
all the remaining commits on the command line.

   As a consequence, the _merge base_ is not necessarily contained in
each of the commit arguments if more than two commits are specified.
This is different from git-show-branch(1) when used with the
‘--merge-base’ option.

‘--octopus’
     Compute the best common ancestors of all supplied commits, in
     preparation for an n-way merge.  This mimics the behavior of _git
     show-branch –merge-base_.

‘--independent’
     Instead of printing merge bases, print a minimal subset of the
     supplied commits with the same ancestors.  In other words, among
     the commits given, list those which cannot be reached from any
     other.  This mimics the behavior of _git show-branch –independent_.

‘--is-ancestor’
     Check if the first <commit> is an ancestor of the second <commit>,
     and exit with status 0 if true, or with status 1 if not.  Errors
     are signaled by a non-zero status that is not 1.

‘--fork-point’
     Find the point at which a branch (or any history that leads to
     <commit>) forked from another branch (or any reference) <ref>.
     This does not just look for the common ancestor of the two commits,
     but also takes into account the reflog of <ref> to see if the
     history leading to <commit> forked from an earlier incarnation of
     the branch <ref> (see discussion on this mode below).


OPTIONS
*******

‘-a’
‘--all’
     Output all merge bases for the commits, instead of just one.


DISCUSSION
**********

Given two commits _A_ and _B_, ‘git merge-base A B’ will output a commit
which is reachable from both _A_ and _B_ through the parent
relationship.

   For example, with this topology:

              o---o---o---B
             /
     ---o---1---o---o---o---A

   the merge base between _A_ and _B_ is _1_.

   Given three commits _A_, _B_ and _C_, ‘git merge-base A B C’ will
compute the merge base between _A_ and a hypothetical commit _M_, which
is a merge between _B_ and _C_. For example, with this topology:

            o---o---o---o---C
           /
          /   o---o---o---B
         /   /
     ---2---1---o---o---o---A

   the result of ‘git merge-base A B C’ is _1_.  This is because the
equivalent topology with a merge commit _M_ between _B_ and _C_ is:

            o---o---o---o---o
           /                 \
          /   o---o---o---o---M
         /   /
     ---2---1---o---o---o---A

   and the result of ‘git merge-base A M’ is _1_.  Commit _2_ is also a
common ancestor between _A_ and _M_, but _1_ is a better common
ancestor, because _2_ is an ancestor of _1_.  Hence, _2_ is not a merge
base.

   The result of ‘git merge-base --octopus A B C’ is _2_, because _2_ is
the best common ancestor of all commits.

   When the history involves criss-cross merges, there can be more than
one _best_ common ancestor for two commits.  For example, with this
topology:

     ---1---o---A
         \ /
          X
         / \
     ---2---o---o---B

   both _1_ and _2_ are merge-bases of A and B. Neither one is better
than the other (both are _best_ merge bases).  When the ‘--all’ option
is not given, it is unspecified which best one is output.

   A common idiom to check "fast-forward-ness" between two commits A and
B is (or at least used to be) to compute the merge base between A and B,
and check if it is the same as A, in which case, A is an ancestor of B.
You will see this idiom used often in older scripts.

     A=$(git rev-parse --verify A)
     if test "$A" = "$(git merge-base A B)"
     then
             ... A is an ancestor of B ...
     fi

   In modern git, you can say this in a more direct way:

     if git merge-base --is-ancestor A B
     then
             ... A is an ancestor of B ...
     fi

   instead.


Discussion on fork-point mode
*****************************

After working on the ‘topic’ branch created with ‘git switch -c topic
origin/master’, the history of remote-tracking branch ‘origin/master’
may have been rewound and rebuilt, leading to a history of this shape:

                      o---B2
                     /
     ---o---o---B1--o---o---o---B (origin/master)
             \
              B0
               \
                D0---D1---D (topic)

   where ‘origin/master’ used to point at commits B0, B1, B2 and now it
points at B, and your ‘topic’ branch was started on top of it back when
‘origin/master’ was at B0, and you built three commits, D0, D1, and D,
on top of it.  Imagine that you now want to rebase the work you did on
the topic on top of the updated origin/master.

   In such a case, ‘git merge-base origin/master topic’ would return the
parent of B0 in the above picture, but B0^..D is *not* the range of
commits you would want to replay on top of B (it includes B0, which is
not what you wrote; it is a commit the other side discarded when it
moved its tip from B0 to B1).

   ‘git merge-base --fork-point origin/master topic’ is designed to help
in such a case.  It takes not only B but also B0, B1, and B2 (i.e.  old
tips of the remote-tracking branches your repository’s reflog knows
about) into account to see on which commit your topic branch was built
and finds B0, allowing you to replay only the commits on your topic,
excluding the commits the other side later discarded.

   Hence

     $ fork_point=$(git merge-base --fork-point origin/master topic)

   will find B0, and

     $ git rebase --onto origin/master $fork_point topic

   will replay D0, D1 and D on top of B to create a new history of this
shape:

                      o---B2
                     /
     ---o---o---B1--o---o---o---B (origin/master)
             \                   \
              B0                  D0'--D1'--D' (topic - updated)
               \
                D0---D1---D (topic - old)

   A caveat is that older reflog entries in your repository may be
expired by ‘git gc’.  If B0 no longer appears in the reflog of the
remote-tracking branch ‘origin/master’, the ‘--fork-point’ mode
obviously cannot find it and fails, avoiding to give a random and
useless result (such as the parent of B0, like the same command without
the ‘--fork-point’ option gives).

   Also, the remote-tracking branch you use the ‘--fork-point’ mode with
must be the one your topic forked from its tip.  If you forked from an
older commit than the tip, this mode would not find the fork point
(imagine in the above sample history B0 did not exist, origin/master
started at B1, moved to B2 and then B, and you forked your topic at
origin/master^ when origin/master was B1; the shape of the history would
be the same as above, without B0, and the parent of B1 is what ‘git
merge-base origin/master topic’ correctly finds, but the ‘--fork-point’
mode will not, because it is not one of the commits that used to be at
the tip of origin/master).


See also
********

git-rev-list(1), git-show-branch(1), git-merge(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-merge-file,  Up: Top

Name
****

git-merge-file — 3方向ファイルマージを実行する


Synopsis
********

     git merge-file [-L <current-name> [-L <base-name> [-L <other-name>]]]
             [–ours|–theirs|–union] [-p|–stdout] [-q|–quiet] [–marker-size=<n>]
             [–[no-]diff3] <current-file> <base-file> <other-file>


DESCRIPTION
***********

_git merge-file_ は、 ‘<base-file>’ から ‘<other-file>’ へのすべての変更
を ‘<current-file>’ に組み込みます。結果は通常 ‘<current-file>’ に入りま
す。 _git merge-file_ は、元のファイルへの個別の変更を組み合わせるのに役
立ちます。 ‘<base-file>’ がオリジナルであり、 ‘<current-file>’ と
‘<other-file>’ の両方が ‘<base-file>’ の変更であるとすると、 _git
merge-file_ は両方の変更を結合します。

   ‘<current-file>’ と ‘<other-file>’ の両方の行の共通セグメントに変更が
ある場合、競合が発生します。競合が見つかった場合、「git merge-file」は通
常、警告を出力し、 ‘<<<<<<<’ および ‘>>>>>>>’ マーカーを含む行で競合を囲
みます。典型的な競合は以下のようになります:

     <<<<<<< A
     lines in file A
     =======
     lines in file B
     >>>>>>> B

   競合がある場合、ユーザーは結果を編集して、選択肢の1つを削除する必要が
あります。 ただし ‘--ours’ または ‘--theirs’ または ‘--union’ オプション
が有効な場合、これらの競合は、 ‘<current-file>’ の行または
‘<other-file>’ の行または両方からの行を優先して解決します。競合マーカー
の長さは ‘--marker-size’ オプションで指定できます。

   このプログラムの終了値は、エラーの場合は負数であり、それ以外の場合は
競合した数です(競合たくさんの場合は127に切り捨てられます)。マージがクリ
ーンだった場合、終了値は0です。

   _git merge-file_ は、RCS用マージの最小限のクローンになるように設計さ
れています。つまり git(1) に必要なRCSのマージ機能をすべて実装します。


OPTIONS
*******

‘-L <label>’
     このオプションは最大3回指定でき、競合レポートで対応するファイル名の
     代わりに使用するラベルを指定します。 つまり ‘git merge-file -L x -L
     y -L z a b c’ は、ファイルa、b、cからではなく、ファイルx、y、zから
     来たように見える出力を生成します。

‘-p’
     ‘<current-file>’ を上書きする代わりに、結果を標準出力に送信します。

‘-q’
     静かにします(quiet)。競合について警告しないでください。

‘--diff3’
     「diff3」スタイルで競合を表示します。

‘--ours’
‘--theirs’
‘--union’
     ファイルに競合を残す代わりに、競合部分の、our (または their または
     両方)側に有利な競合解決します。


EXAMPLES
********

‘git merge-file README.my README README.upstream’
     README以降のREADME.myとREADME.upstreamの変更を組み合わせて、それら
     をマージしようとし、結果をREADME.myに書き込みます。

‘git merge-file -L a -L b -L c tmp/a123 tmp/b234 tmp/c345’
     tmp/a123 と tmp/c345 をベースの tmp/b234 とマージしますが、
     ‘tmp/a123’ と ‘tmp/c345’ の代わりにラベル ‘a’ と ‘c’ を使用します。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-merge-index,  Up: Top

Name
****

git-merge-index — マージが必要なファイルのマージを実行します


Synopsis
********

     git merge-index [-o] [-q] <merge-program> (-a | [–] <file>*)


DESCRIPTION
***********

これにより、インデックス内の <file> が検索され、マージエントリがある場合
は、それらのファイルのSHA-1ハッシュが引数1、2、3（ファイルがない場合は空
の引数）として、および、引数4として <file> が渡されます。引数1、2、3の
3つのファイルのファイルモードは、引数5、6、7として渡されます。


OPTIONS
*******

‘--’
     これ以後の引数をオプションとして解釈しないでください。

‘-a’
     インデックス内のマージが必要なすべてのファイルに対してマージを実行
     します。

‘-o’
     最初に失敗したマージで停止するのではなく、すべてを一度に実行します
     。前のマージでエラーが返された場合でもマージを続行し、すべてのマー
     ジ後にエラーコードを返します。

‘-q’
     マージプログラムの失敗について文句を言わないでください(マージプログ
     ラムの失敗は通常、マージ中の競合を示します)。 これは、カスタムメッ
     セージを送信する可能性のある磁器コマンド用です。

   _git merge-index_ が複数の <file> (または ‘-a’ )で呼び出された場合、
それらを順番に処理し、マージがゼロ以外の終了コードを返した場合にのみ停止
します。

   通常、これは、RCSパッケージの「マージ」コマンドのGitの模倣を呼び出す
スクリプトで実行されます。

   _git merge-one-file_ というサンプルスクリプトがディストリビューション
に含まれています。

   警告！警告！警告！ Gitの「オブジェクトのマージ順序」は、RCSの「マージ
」プログラムのオブジェクトのマージ順序とは異なります。上記の順番では、オ
リジナルが最初です。しかし、3方向マージプログラム「マージ」の引数の順序
は、オリジナルを中央に置きます。理由は聞かないで…

   例:

     torvalds@ppc970:~/merge-test> git merge-index cat MM
     This is MM from the original tree.              # original
     This is modified MM in the branch A.            # merge1
     This is modified MM in the branch B.            # merge2
     This is modified MM in the branch B.            # current contents

   または

     torvalds@ppc970:~/merge-test> git merge-index cat AA MM
     cat: : No such file or directory
     This is added AA in the branch A.
     This is added AA in the branch B.
     This is added AA in the branch B.
     fatal: merge program failed

   後者の例は、何かがエラーを返した後、「git merge-index」がマージの試行
を停止する方法を示しています(つまり、「cat」は元のファイルに存在しなかっ
たため、AAファイルのエラーを返しました。 _git merge-index_ はMMをマージ
しようとさえしませんでした)。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-merge-one-file,  Up: Top

Name
****

git-merge-one-file — git-merge-indexで使用する標準のヘルパープログラム


Synopsis
********

     git merge-one-file


DESCRIPTION
***********

これは、 _git merge-index_ で行われた簡単なマージの後にマージを解決する
ために、 _git read-tree -m_ で使用する標準のヘルパープログラムです。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-merge-tree,  Up: Top

Name
****

git-merge-tree — インデックスに触れずに(without touching)3者間マージを表
示する


Synopsis
********

     git merge-tree <base-tree> <branch1> <branch2>


DESCRIPTION
***********

3つのツリーっぽいものを読み取り、些細なマージ結果と競合するステージを標
準出力に出力します。 これは、3者間の _git read-tree -m_ と似ていますが、
結果をインデックスに格納する代わりに、コマンドはエントリを標準出力に出力
します。

   これは、インデックスの外部でマージ結果を計算し、結果をインデックスに
戻すために、より高いレベルのスクリプトによって使用されることを意図してい
ます。 このため、コマンドからの出力では、 <branch1> ツリーに一致するエン
トリが省略されます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-merge,  Up: Top

Name
****

git-merge — Join two or more development histories together


Synopsis
********

     git merge [-n] [–stat] [–no-commit] [–squash] [–[no-]edit]
             [–no-verify] [-s <strategy>] [-X <strategy-option>] [-S[<keyid>]]
             [–[no-]allow-unrelated-histories]
             [–[no-]rerere-autoupdate] [-m <msg>] [-F <file>] [<commit>…]
     git merge (–continue | –abort | –quit)


DESCRIPTION
***********

Incorporates changes from the named commits (since the time their
histories diverged from the current branch) into the current branch.
This command is used by _git pull_ to incorporate changes from another
repository and can be used by hand to merge changes from one branch into
another.

   Assume the following history exists and the current branch is
"‘master’":

               A---B---C topic
              /
         D---E---F---G master

   Then "‘git merge topic’" will replay the changes made on the ‘topic’
branch since it diverged from ‘master’ (i.e., ‘E’) until its current
commit (‘C’) on top of ‘master’, and record the result in a new commit
along with the names of the two parent commits and a log message from
the user describing the changes.

               A---B---C topic
              /         \
         D---E---F---G---H master

   The second syntax ("‘git merge --abort’") can only be run after the
merge has resulted in conflicts.  _git merge –abort_ will abort the
merge process and try to reconstruct the pre-merge state.  However, if
there were uncommitted changes when the merge started (and especially if
those changes were further modified after the merge was started), _git
merge –abort_ will in some cases be unable to reconstruct the original
(pre-merge) changes.  Therefore:

   *Warning*: Running _git merge_ with non-trivial uncommitted changes
is discouraged: while possible, it may leave you in a state that is hard
to back out of in the case of a conflict.

   The third syntax ("‘git merge --continue’") can only be run after the
merge has resulted in conflicts.


OPTIONS
*******

‘--commit’
‘--no-commit’
     Perform the merge and commit the result.  This option can be used
     to override –no-commit.

     With –no-commit perform the merge and stop just before creating a
     merge commit, to give the user a chance to inspect and further
     tweak the merge result before committing.

     Note that fast-forward updates do not create a merge commit and
     therefore there is no way to stop those merges with –no-commit.
     Thus, if you want to ensure your branch is not changed or updated
     by the merge command, use –no-ff with –no-commit.

‘--edit’
‘-e’
‘--no-edit’
     Invoke an editor before committing successful mechanical merge to
     further edit the auto-generated merge message, so that the user can
     explain and justify the merge.  The ‘--no-edit’ option can be used
     to accept the auto-generated message (this is generally
     discouraged).  The ‘--edit’ (or ‘-e’) option is still useful if you
     are giving a draft message with the ‘-m’ option from the command
     line and want to edit it in the editor.

     Older scripts may depend on the historical behaviour of not
     allowing the user to edit the merge log message.  They will see an
     editor opened when they run ‘git merge’.  To make it easier to
     adjust such scripts to the updated behaviour, the environment
     variable ‘GIT_MERGE_AUTOEDIT’ can be set to ‘no’ at the beginning
     of them.

‘--cleanup=<mode>’
     This option determines how the merge message will be cleaned up
     before committing.  See git-commit(1) for more details.  In
     addition, if the _<mode>_ is given a value of ‘scissors’, scissors
     will be appended to ‘MERGE_MSG’ before being passed on to the
     commit machinery in the case of a merge conflict.

‘--ff’
‘--no-ff’
‘--ff-only’
     Specifies how a merge is handled when the merged-in history is
     already a descendant of the current history.  ‘--ff’ is the default
     unless merging an annotated (and possibly signed) tag that is not
     stored in its natural place in the ‘refs/tags/’ hierarchy, in which
     case ‘--no-ff’ is assumed.

     With ‘--ff’, when possible resolve the merge as a fast-forward
     (only update the branch pointer to match the merged branch; do not
     create a merge commit).  When not possible (when the merged-in
     history is not a descendant of the current history), create a merge
     commit.

     With ‘--no-ff’, create a merge commit in all cases, even when the
     merge could instead be resolved as a fast-forward.

     With ‘--ff-only’, resolve the merge as a fast-forward when
     possible.  When not possible, refuse to merge and exit with a
     non-zero status.

‘-S[<keyid>]’
‘--gpg-sign[=<keyid>]’
‘--no-gpg-sign’
     GPG-sign the resulting merge commit.  The ‘keyid’ argument is
     optional and defaults to the committer identity; if specified, it
     must be stuck to the option without a space.  ‘--no-gpg-sign’ is
     useful to countermand both ‘commit.gpgSign’ configuration variable,
     and earlier ‘--gpg-sign’.

‘--log[=<n>]’
‘--no-log’
     In addition to branch names, populate the log message with one-line
     descriptions from at most <n> actual commits that are being merged.
     See also git-fmt-merge-msg(1).

     With –no-log do not list one-line descriptions from the actual
     commits being merged.

‘--signoff’
‘--no-signoff’
     コミットログメッセージの最後に、コミッターによる「Signed-off-by」ト
     レーラーを追加します。signoffの意味は、コミットしているプロジェクト
     によって異なります。たとえば、コミッターがプロジェクトのライセンス
     に基づいて作品を提出する権利を持っていることを証明したり、開発者の
     原産地証明書などの寄稿者の代表に同意したりする場合があります。
     (LinuxカーネルおよびGitプロジェクトで使用されるものについては、
     http：//developercertificate.orgを参照してください)。プロジェクトで
     signoffがどのように使用されるかを理解するには、貢献しているプロジェ
     クトのドキュメントまたはリーダーシップ(leadership)を参照してくださ
     い。

     ‘--no-signoff’ オプションを使用すると、コマンドラインで以前の
     ‘--signoff’ オプションを無効にすることができます。

‘--stat’
‘-n’
‘--no-stat’
     Show a diffstat at the end of the merge.  The diffstat is also
     controlled by the configuration option merge.stat.

     With -n or –no-stat do not show a diffstat at the end of the merge.

‘--squash’
‘--no-squash’
     Produce the working tree and index state as if a real merge
     happened (except for the merge information), but do not actually
     make a commit, move the ‘HEAD’, or record ‘$GIT_DIR/MERGE_HEAD’ (to
     cause the next ‘git commit’ command to create a merge commit).
     This allows you to create a single commit on top of the current
     branch whose effect is the same as merging another branch (or more
     in case of an octopus).

     With –no-squash perform the merge and commit the result.  This
     option can be used to override –squash.

     With –squash, –commit is not allowed, and will fail.

‘--no-verify’
     This option bypasses the pre-merge and commit-msg hooks.  See also
     githooks(5).

‘-s <strategy>’
‘--strategy=<strategy>’
     Use the given merge strategy; can be supplied more than once to
     specify them in the order they should be tried.  If there is no
     ‘-s’ option, a built-in list of strategies is used instead (‘ort’
     when merging a single head, ‘octopus’ otherwise).

‘-X <option>’
‘--strategy-option=<option>’
     Pass merge strategy specific option through to the merge strategy.

‘--verify-signatures’
‘--no-verify-signatures’
     Verify that the tip commit of the side branch being merged is
     signed with a valid key, i.e.  a key that has a valid uid: in the
     default trust model, this means the signing key has been signed by
     a trusted key.  If the tip commit of the side branch is not signed
     with a valid key, the merge is aborted.

‘--summary’
‘--no-summary’
     Synonyms to –stat and –no-stat; these are deprecated and will be
     removed in the future.

‘-q’
‘--quiet’
     Operate quietly.  Implies –no-progress.

‘-v’
‘--verbose’
     Be verbose.

‘--progress’
‘--no-progress’
     Turn progress on/off explicitly.  If neither is specified, progress
     is shown if standard error is connected to a terminal.  Note that
     not all merge strategies may support progress reporting.

‘--autostash’
‘--no-autostash’
     Automatically create a temporary stash entry before the operation
     begins, record it in the special ref ‘MERGE_AUTOSTASH’ and apply it
     after the operation ends.  This means that you can run the
     operation on a dirty worktree.  However, use with care: the final
     stash application after a successful merge might result in
     non-trivial conflicts.

‘--allow-unrelated-histories’
     By default, ‘git merge’ command refuses to merge histories that do
     not share a common ancestor.  This option can be used to override
     this safety when merging histories of two projects that started
     their lives independently.  As that is a very rare occasion, no
     configuration variable to enable this by default exists and will
     not be added.

‘-m <msg>’
     Set the commit message to be used for the merge commit (in case one
     is created).

     If ‘--log’ is specified, a shortlog of the commits being merged
     will be appended to the specified message.

     The _git fmt-merge-msg_ command can be used to give a good default
     for automated _git merge_ invocations.  The automated message can
     include the branch description.

‘-F <file>’
‘--file=<file>’
     Read the commit message to be used for the merge commit (in case
     one is created).

     If ‘--log’ is specified, a shortlog of the commits being merged
     will be appended to the specified message.

‘--rerere-autoupdate’
‘--no-rerere-autoupdate’
     Allow the rerere mechanism to update the index with the result of
     auto-conflict resolution if possible.

‘--overwrite-ignore’
‘--no-overwrite-ignore’
     Silently overwrite ignored files from the merge result.  This is
     the default behavior.  Use ‘--no-overwrite-ignore’ to abort.

‘--abort’
     Abort the current conflict resolution process, and try to
     reconstruct the pre-merge state.  If an autostash entry is present,
     apply it to the worktree.

     If there were uncommitted worktree changes present when the merge
     started, _git merge –abort_ will in some cases be unable to
     reconstruct these changes.  It is therefore recommended to always
     commit or stash your changes before running _git merge_.

     _git merge –abort_ is equivalent to _git reset –merge_ when
     ‘MERGE_HEAD’ is present unless ‘MERGE_AUTOSTASH’ is also present in
     which case _git merge –abort_ applies the stash entry to the
     worktree whereas _git reset –merge_ will save the stashed changes
     in the stash list.

‘--quit’
     Forget about the current merge in progress.  Leave the index and
     the working tree as-is.  If ‘MERGE_AUTOSTASH’ is present, the stash
     entry will be saved to the stash list.

‘--continue’
     After a _git merge_ stops due to conflicts you can conclude the
     merge by running _git merge –continue_ (see "HOW TO RESOLVE
     CONFLICTS" section below).

<commit>…
     Commits, usually other branch heads, to merge into our branch.
     Specifying more than one commit will create a merge with more than
     two parents (affectionately called an Octopus merge).

     If no commit is given from the command line, merge the
     remote-tracking branches that the current branch is configured to
     use as its upstream.  See also the configuration section of this
     manual page.

     When ‘FETCH_HEAD’ (and no other commit) is specified, the branches
     recorded in the ‘.git/FETCH_HEAD’ file by the previous invocation
     of ‘git fetch’ for merging are merged to the current branch.


PRE-MERGE CHECKS
****************

Before applying outside changes, you should get your own work in good
shape and committed locally, so it will not be clobbered if there are
conflicts.  See also git-stash(1).  _git pull_ and _git merge_ will stop
without doing anything when local uncommitted changes overlap with files
that _git pull_/_git merge_ may need to update.

   To avoid recording unrelated changes in the merge commit, _git pull_
and _git merge_ will also abort if there are any changes registered in
the index relative to the ‘HEAD’ commit.  (Special narrow exceptions to
this rule may exist depending on which merge strategy is in use, but
generally, the index must match HEAD.)

   If all named commits are already ancestors of ‘HEAD’, _git merge_
will exit early with the message "Already up to date."


FAST-FORWARD MERGE
******************

Often the current branch head is an ancestor of the named commit.  This
is the most common case especially when invoked from _git pull_: you are
tracking an upstream repository, you have committed no local changes,
and now you want to update to a newer upstream revision.  In this case,
a new commit is not needed to store the combined history; instead, the
‘HEAD’ (along with the index) is updated to point at the named commit,
without creating an extra merge commit.

   This behavior can be suppressed with the ‘--no-ff’ option.


TRUE MERGE
**********

Except in a fast-forward merge (see above), the branches to be merged
must be tied together by a merge commit that has both of them as its
parents.

   A merged version reconciling the changes from all branches to be
merged is committed, and your ‘HEAD’, index, and working tree are
updated to it.  It is possible to have modifications in the working tree
as long as they do not overlap; the update will preserve them.

   When it is not obvious how to reconcile the changes, the following
happens:

  1. The ‘HEAD’ pointer stays the same.

  2. The ‘MERGE_HEAD’ ref is set to point to the other branch head.

  3. Paths that merged cleanly are updated both in the index file and in
     your working tree.

  4. For conflicting paths, the index file records up to three versions:
     stage 1 stores the version from the common ancestor, stage 2 from
     ‘HEAD’, and stage 3 from ‘MERGE_HEAD’ (you can inspect the stages
     with ‘git ls-files -u’).  The working tree files contain the result
     of the "merge" program; i.e.  3-way merge results with familiar
     conflict markers ‘<<<’ ‘===’ ‘>>>’.

  5. No other changes are made.  In particular, the local modifications
     you had before you started merge will stay the same and the index
     entries for them stay as they were, i.e.  matching ‘HEAD’.

   If you tried a merge which resulted in complex conflicts and want to
start over, you can recover with ‘git merge --abort’.


MERGING TAG
***********

When merging an annotated (and possibly signed) tag, Git always creates
a merge commit even if a fast-forward merge is possible, and the commit
message template is prepared with the tag message.  Additionally, if the
tag is signed, the signature check is reported as a comment in the
message template.  See also git-tag(1).

   When you want to just integrate with the work leading to the commit
that happens to be tagged, e.g.  synchronizing with an upstream release
point, you may not want to make an unnecessary merge commit.

   In such a case, you can "unwrap" the tag yourself before feeding it
to ‘git merge’, or pass ‘--ff-only’ when you do not have any work on
your own.  e.g.

     git fetch origin
     git merge v1.2.3^0
     git merge --ff-only v1.2.3


HOW CONFLICTS ARE PRESENTED
***************************

During a merge, the working tree files are updated to reflect the result
of the merge.  Among the changes made to the common ancestor’s version,
non-overlapping ones (that is, you changed an area of the file while the
other side left that area intact, or vice versa) are incorporated in the
final result verbatim.  When both sides made changes to the same area,
however, Git cannot randomly pick one side over the other, and asks you
to resolve it by leaving what both sides did to that area.

   By default, Git uses the same style as the one used by the "merge"
program from the RCS suite to present such a conflicted hunk, like this:

     Here are lines that are either unchanged from the common
     ancestor, or cleanly resolved because only one side changed.
     <<<<<<< yours:sample.txt
     Conflict resolution is hard;
     let's go shopping.
     =======
     Git makes conflict resolution easy.
     >>>>>>> theirs:sample.txt
     And here is another line that is cleanly resolved or unmodified.

   The area where a pair of conflicting changes happened is marked with
markers ‘<<<<<<<’, ‘=======’, and ‘>>>>>>>’.  The part before the
‘=======’ is typically your side, and the part afterwards is typically
their side.

   The default format does not show what the original said in the
conflicting area.  You cannot tell how many lines are deleted and
replaced with Barbie’s remark on your side.  The only thing you can tell
is that your side wants to say it is hard and you’d prefer to go
shopping, while the other side wants to claim it is easy.

   An alternative style can be used by setting the "merge.conflictStyle"
configuration variable to "diff3".  In "diff3" style, the above conflict
may look like this:

     Here are lines that are either unchanged from the common
     ancestor, or cleanly resolved because only one side changed.
     <<<<<<< yours:sample.txt
     Conflict resolution is hard;
     let's go shopping.
     |||||||
     Conflict resolution is hard.
     =======
     Git makes conflict resolution easy.
     >>>>>>> theirs:sample.txt
     And here is another line that is cleanly resolved or unmodified.

   In addition to the ‘<<<<<<<’, ‘=======’, and ‘>>>>>>>’ markers, it
uses another ‘|||||||’ marker that is followed by the original text.
You can tell that the original just stated a fact, and your side simply
gave in to that statement and gave up, while the other side tried to
have a more positive attitude.  You can sometimes come up with a better
resolution by viewing the original.


HOW TO RESOLVE CONFLICTS
************************

After seeing a conflict, you can do two things:

   • Decide not to merge.  The only clean-ups you need are to reset the
     index file to the ‘HEAD’ commit to reverse 2.  and to clean up
     working tree changes made by 2.  and 3.; ‘git merge --abort’ can be
     used for this.

   • Resolve the conflicts.  Git will mark the conflicts in the working
     tree.  Edit the files into shape and _git add_ them to the index.
     Use _git commit_ or _git merge –continue_ to seal the deal.  The
     latter command checks whether there is a (interrupted) merge in
     progress before calling _git commit_.

   You can work through the conflict with a number of tools:

   • Use a mergetool.  ‘git mergetool’ to launch a graphical mergetool
     which will work you through the merge.

   • Look at the diffs.  ‘git diff’ will show a three-way diff,
     highlighting changes from both the ‘HEAD’ and ‘MERGE_HEAD’
     versions.

   • Look at the diffs from each branch.  ‘git log --merge -p <path>’
     will show diffs first for the ‘HEAD’ version and then the
     ‘MERGE_HEAD’ version.

   • Look at the originals.  ‘git show :1:filename’ shows the common
     ancestor, ‘git show :2:filename’ shows the ‘HEAD’ version, and ‘git
     show :3:filename’ shows the ‘MERGE_HEAD’ version.


EXAMPLES
********

   • Merge branches ‘fixes’ and ‘enhancements’ on top of the current
     branch, making an octopus merge:

          $ git merge fixes enhancements

   • Merge branch ‘obsolete’ into the current branch, using ‘ours’ merge
     strategy:

          $ git merge -s ours obsolete

   • Merge branch ‘maint’ into the current branch, but do not make a new
     commit automatically:

          $ git merge --no-commit maint

     This can be used when you want to include further changes to the
     merge, or want to write your own merge commit message.

     You should refrain from abusing this option to sneak substantial
     changes into a merge commit.  Small fixups like bumping
     release/version name would be acceptable.


MERGE STRATEGIES
****************

The merge mechanism (‘git merge’ and ‘git pull’ commands) allows the
backend _merge strategies_ to be chosen with ‘-s’ option.  Some
strategies can also take their own options, which can be passed by
giving ‘-X<option>’ arguments to ‘git merge’ and/or ‘git pull’.

ort
     This is the default merge strategy when pulling or merging one
     branch.  This strategy can only resolve two heads using a 3-way
     merge algorithm.  When there is more than one common ancestor that
     can be used for 3-way merge, it creates a merged tree of the common
     ancestors and uses that as the reference tree for the 3-way merge.
     This has been reported to result in fewer merge conflicts without
     causing mismerges by tests done on actual merge commits taken from
     Linux 2.6 kernel development history.  Additionally this strategy
     can detect and handle merges involving renames.  It does not make
     use of detected copies.  The name for this algorithm is an acronym
     ("Ostensibly Recursive’s Twin") and came from the fact that it was
     written as a replacement for the previous default algorithm,
     ‘recursive’.

     The _ort_ strategy can take the following options:

     ours
          This option forces conflicting hunks to be auto-resolved
          cleanly by favoring _our_ version.  Changes from the other
          tree that do not conflict with our side are reflected in the
          merge result.  For a binary file, the entire contents are
          taken from our side.

          This should not be confused with the _ours_ merge strategy,
          which does not even look at what the other tree contains at
          all.  It discards everything the other tree did, declaring
          _our_ history contains all that happened in it.

     theirs
          This is the opposite of _ours_; note that, unlike _ours_,
          there is no _theirs_ merge strategy to confuse this merge
          option with.

     ignore-space-change
     ignore-all-space
     ignore-space-at-eol
     ignore-cr-at-eol
          Treats lines with the indicated type of whitespace change as
          unchanged for the sake of a three-way merge.  Whitespace
          changes mixed with other changes to a line are not ignored.
          See also git-diff(1) ‘-b’, ‘-w’, ‘--ignore-space-at-eol’, and
          ‘--ignore-cr-at-eol’.

             • If _their_ version only introduces whitespace changes to
               a line, _our_ version is used;

             • If _our_ version introduces whitespace changes but
               _their_ version includes a substantial change, _their_
               version is used;

             • Otherwise, the merge proceeds in the usual way.

     renormalize
          This runs a virtual check-out and check-in of all three stages
          of a file when resolving a three-way merge.  This option is
          meant to be used when merging branches with different clean
          filters or end-of-line normalization rules.  See "Merging
          branches with differing checkin/checkout attributes" in
          gitattributes(5) for details.

     no-renormalize
          Disables the ‘renormalize’ option.  This overrides the
          ‘merge.renormalize’ configuration variable.

     find-renames[=<n>]
          Turn on rename detection, optionally setting the similarity
          threshold.  This is the default.  This overrides the
          _merge.renames_ configuration variable.  See also git-diff(1)
          ‘--find-renames’.

     rename-threshold=<n>
          Deprecated synonym for ‘find-renames=<n>’.

     subtree[=<path>]
          This option is a more advanced form of _subtree_ strategy,
          where the strategy makes a guess on how two trees must be
          shifted to match with each other when merging.  Instead, the
          specified path is prefixed (or stripped from the beginning) to
          make the shape of two trees to match.

recursive
     This can only resolve two heads using a 3-way merge algorithm.
     When there is more than one common ancestor that can be used for
     3-way merge, it creates a merged tree of the common ancestors and
     uses that as the reference tree for the 3-way merge.  This has been
     reported to result in fewer merge conflicts without causing
     mismerges by tests done on actual merge commits taken from Linux
     2.6 kernel development history.  Additionally this can detect and
     handle merges involving renames.  It does not make use of detected
     copies.  This was the default strategy for resolving two heads from
     Git v0.99.9k until v2.33.0.

     The _recursive_ strategy takes the same options as _ort_.  However,
     there are three additional options that _ort_ ignores (not
     documented above) that are potentially useful with the _recursive_
     strategy:

     patience
          Deprecated synonym for ‘diff-algorithm=patience’.

     diff-algorithm=[patience|minimal|histogram|myers]
          Use a different diff algorithm while merging, which can help
          avoid mismerges that occur due to unimportant matching lines
          (such as braces from distinct functions).  See also
          git-diff(1) ‘--diff-algorithm’.  Note that ‘ort’ specifically
          uses ‘diff-algorithm=histogram’, while ‘recursive’ defaults to
          the ‘diff.algorithm’ config setting.

     no-renames
          Turn off rename detection.  This overrides the ‘merge.renames’
          configuration variable.  See also git-diff(1) ‘--no-renames’.

resolve
     This can only resolve two heads (i.e.  the current branch and
     another branch you pulled from) using a 3-way merge algorithm.  It
     tries to carefully detect criss-cross merge ambiguities.  It does
     not handle renames.

octopus
     This resolves cases with more than two heads, but refuses to do a
     complex merge that needs manual resolution.  It is primarily meant
     to be used for bundling topic branch heads together.  This is the
     default merge strategy when pulling or merging more than one
     branch.

ours
     This resolves any number of heads, but the resulting tree of the
     merge is always that of the current branch head, effectively
     ignoring all changes from all other branches.  It is meant to be
     used to supersede old development history of side branches.  Note
     that this is different from the -Xours option to the _recursive_
     merge strategy.

subtree
     This is a modified ‘ort’ strategy.  When merging trees A and B, if
     B corresponds to a subtree of A, B is first adjusted to match the
     tree structure of A, instead of reading the trees at the same
     level.  This adjustment is also done to the common ancestor tree.

   With the strategies that use 3-way merge (including the default,
_ort_), if a change is made on both branches, but later reverted on one
of the branches, that change will be present in the merged result; some
people find this behavior confusing.  It occurs because only the heads
and the merge base are considered when performing a merge, not the
individual commits.  The merge algorithm therefore considers the
reverted change as no change at all, and substitutes the changed version
instead.


CONFIGURATION
*************

merge.conflictStyle
     Specify the style in which conflicted hunks are written out to
     working tree files upon merge.  The default is "merge", which shows
     a ‘<<<<<<<’ conflict marker, changes made by one side, a ‘=======’
     marker, changes made by the other side, and then a ‘>>>>>>>’
     marker.  An alternate style, "diff3", adds a ‘|||||||’ marker and
     the original text before the ‘=======’ marker.

merge.defaultToUpstream
     If merge is called without any commit argument, merge the upstream
     branches configured for the current branch by using their last
     observed values stored in their remote-tracking branches.  The
     values of the ‘branch.<current branch>.merge’ that name the
     branches at the remote named by ‘branch.<current branch>.remote’
     are consulted, and then they are mapped via ‘remote.<remote>.fetch’
     to their corresponding remote-tracking branches, and the tips of
     these tracking branches are merged.  Defaults to true.

merge.ff
     By default, Git does not create an extra merge commit when merging
     a commit that is a descendant of the current commit.  Instead, the
     tip of the current branch is fast-forwarded.  When set to ‘false’,
     this variable tells Git to create an extra merge commit in such a
     case (equivalent to giving the ‘--no-ff’ option from the command
     line).  When set to ‘only’, only such fast-forward merges are
     allowed (equivalent to giving the ‘--ff-only’ option from the
     command line).

merge.verifySignatures
     If true, this is equivalent to the –verify-signatures command line
     option.  See git-merge(1) for details.

merge.branchdesc
     ブランチ名に加えて、それらに関連付けられたブランチの説明テキストを
     ログメッセージに入力します。デフォルトはfalseです。

merge.log
     ブランチ名に加えて、マージされる実際のコミットからの最大「指定の数
     」の親コミットの1行説明をログメッセージに入力します。デフォルトは
     falseで、trueは20の同義語です。

merge.suppressDest
     統合ブランチの名前に一致するグロブをこの複数値の構成変数
     (multi-valued configuration variable)に追加することにより、これらの
     統合ブランチへのマージに対して計算されるデフォルトのマージメッセー
     ジは、タイトルから「into <branch name>」を省略します。

     空の値を持つ要素を使用して、以前の構成エントリから蓄積されたグロブ
     のリストをクリアできます。 ‘merge.suppressDest’ 変数が定義されてい
     ない場合、下位互換性のためにデフォルト値の ‘master’ が使用されます
     。

merge.renameLimit
     The number of files to consider in the exhaustive portion of rename
     detection during a merge.  If not specified, defaults to the value
     of diff.renameLimit.  If neither merge.renameLimit nor
     diff.renameLimit are specified, currently defaults to 7000.  This
     setting has no effect if rename detection is turned off.

merge.renames
     Whether Git detects renames.  If set to "false", rename detection
     is disabled.  If set to "true", basic rename detection is enabled.
     Defaults to the value of diff.renames.

merge.directoryRenames
     Whether Git detects directory renames, affecting what happens at
     merge time to new files added to a directory on one side of history
     when that directory was renamed on the other side of history.  If
     merge.directoryRenames is set to "false", directory rename
     detection is disabled, meaning that such new files will be left
     behind in the old directory.  If set to "true", directory rename
     detection is enabled, meaning that such new files will be moved
     into the new directory.  If set to "conflict", a conflict will be
     reported for such paths.  If merge.renames is false,
     merge.directoryRenames is ignored and treated as false.  Defaults
     to "conflict".

merge.renormalize
     Tell Git that canonical representation of files in the repository
     has changed over time (e.g.  earlier commits record text files with
     CRLF line endings, but recent ones use LF line endings).  In such a
     repository, Git can convert the data recorded in commits to a
     canonical form before performing a merge to reduce unnecessary
     conflicts.  For more information, see section "Merging branches
     with differing checkin/checkout attributes" in gitattributes(5).

merge.stat
     Whether to print the diffstat between ORIG_HEAD and the merge
     result at the end of the merge.  True by default.

merge.autoStash
     When set to true, automatically create a temporary stash entry
     before the operation begins, and apply it after the operation ends.
     This means that you can run merge on a dirty worktree.  However,
     use with care: the final stash application after a successful merge
     might result in non-trivial conflicts.  This option can be
     overridden by the ‘--no-autostash’ and ‘--autostash’ options of
     git-merge(1).  Defaults to false.

merge.tool
     Controls which merge tool is used by git-mergetool(1).  The list
     below shows the valid built-in values.  Any other value is treated
     as a custom merge tool and requires that a corresponding
     mergetool.<tool>.cmd variable is defined.

merge.guitool
     Controls which merge tool is used by git-mergetool(1) when the
     -g/–gui flag is specified.  The list below shows the valid built-in
     values.  Any other value is treated as a custom merge tool and
     requires that a corresponding mergetool.<guitool>.cmd variable is
     defined.

        • araxis

        • bc

        • bc3

        • bc4

        • codecompare

        • deltawalker

        • diffmerge

        • diffuse

        • ecmerge

        • emerge

        • examdiff

        • guiffy

        • gvimdiff

        • gvimdiff1

        • gvimdiff2

        • gvimdiff3

        • kdiff3

        • meld

        • nvimdiff

        • nvimdiff1

        • nvimdiff2

        • nvimdiff3

        • opendiff

        • p4merge

        • smerge

        • tkdiff

        • tortoisemerge

        • vimdiff

        • vimdiff1

        • vimdiff2

        • vimdiff3

        • winmerge

        • xxdiff

merge.verbosity
     Controls the amount of output shown by the recursive merge
     strategy.  Level 0 outputs nothing except a final error message if
     conflicts were detected.  Level 1 outputs only conflicts, 2 outputs
     conflicts and file changes.  Level 5 and above outputs debugging
     information.  The default is level 2.  Can be overridden by the
     ‘GIT_MERGE_VERBOSITY’ environment variable.

merge.<driver>.name
     Defines a human-readable name for a custom low-level merge driver.
     See gitattributes(5) for details.

merge.<driver>.driver
     Defines the command that implements a custom low-level merge
     driver.  See gitattributes(5) for details.

merge.<driver>.recursive
     Names a low-level merge driver to be used when performing an
     internal merge between common ancestors.  See gitattributes(5) for
     details.

branch.<name>.mergeOptions
     Sets default options for merging into branch <name>.  The syntax
     and supported options are the same as those of _git merge_, but
     option values containing whitespace characters are currently not
     supported.


SEE ALSO
********

git-fmt-merge-msg(1), git-pull(1), gitattributes(5), git-reset(1),
git-diff(1), git-ls-files(1), git-add(1), git-rm(1), git-mergetool(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-mergetool--lib,  Up: Top

Name
****

git-mergetool–lib — 共通 Gitマージツール シェル スクリプレット群


Synopsis
********

     TOOL_MODE=(diff|merge) . "$(git –exec-path)/git-mergetool–lib"


DESCRIPTION
***********

これは、全くもってエンドユーザー向けコマンドではありません。この文書は、
磁器風のスクリプトを研究している、および/または 新しいスクリプトを書いて
いる人々を対象としています。

   _git-mergetool–lib_ スクリプトレットは、Gitマージツールを操作するため
の関数を設定するために、他のシェルスクリプトから( ‘.‘を使用して)呼び出さ
れる(source)されるように設計されています。

   _git-mergetool–lib_ を(sourceで)実行する前に、スクリプトで
‘TOOL_MODE’ を設定して、以下にリストされている関数の操作モードを定義する
必要があります。 _diff_ と _merge_ は有効な値です。


FUNCTIONS
*********

get_merge_tool
     マージツールを返します。推測されたマージツールを返した場合、戻りコ
     ードは1です。それ以外の場合は0です。適切なGUIツールを検索するために
     、 _$GIT_MERGETOOL_GUI_ を _true_ に設定できます。

get_merge_tool_cmd
     マージツールのカスタムコマンドを返します。

get_merge_tool_path
     マージツールのカスタムパスを返します。

initialize_merge_tool
     マージツール固有の関数をスコープに入れて、使用またはオーバーライド
     できるようにします。

run_merge_tool
     ツール名と true/false フラグを指定してマージツールを起動し、マージ
     ベースが存在するかどうかを示します。 _$MERGED_ ・ _$LOCAL_ ・
     _$REMOTE_ ・ _$BASE_ は、マージツールで使用するために定義する必要が
     あります。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-mergetool,  Up: Top

Name
****

git-mergetool — マージ競合解決ツールを実行して、マージ競合を解決します


Synopsis
********

     git mergetool [–tool=<tool>] [-y | –[no-]prompt] [<file>…]


DESCRIPTION
***********

‘git mergetool’ を使用して、いくつかのマージユーティリティの1つを実行し
、マージの競合を解決します。通常、 ‘git merge’ の後に実行されます。

   1つ以上の <file> パラメーターが指定されている場合、マージツールプログ
ラムが実行され、その各ファイルの違いが解決されます(競合のないものはスキ
ップされます)。ディレクトリを指定すると、そのパスにあるすべての未解決の
ファイルが含まれます。ファイル名が指定されていない場合、 ‘git mergetool’
は、マージで競合するすべてのファイルに対してマージツールプログラムを実行
します。


OPTIONS
*******

‘-t <tool>’
‘--tool=<tool>’
     <tool> で指定したマージ解決プログラムを使用します。 有効な値には
     emerge、gvimdiff、kdiff3、meld、vimdiff、tortoisemerge が含まれます
     。有効な <tool> 設定のリストについては、 ‘git mergetool
     --tool-help’ を実行してください。

     マージ解決プログラムが指定されていない場合、 ‘git mergetool’ は構成
     変数 ‘merge.tool’ を使用します。 構成変数 ‘merge.tool’ が設定されて
     いない場合、 _git mergetool_ は適切なデフォルトを選択します。

     あなたは構成変数 ‘mergetool.<tool>.path’ を設定することにより、ツー
     ルへのフルパスを明示的に指定できます。たとえば、
     ‘mergetool.kdiff3.path’ を設定することにより、kdiff3への絶対パスを
     構成できます。それ以外の場合、 _git mergetool_ はツールがPATHで使用
     可能であると想定します。

     既知のマージツールプログラムの1つを実行する代わりに、構成変数
     ‘mergetool.<tool>.cmd’ で呼び出すコマンドラインを指定することにより
     、 _git mergetool_ をカスタマイズして代替プログラムを実行できます。

     ( ‘-t’ または ‘--tool’ または ‘merge.tool’ 構成変数のいずれかを介し
     て) ‘git mergetool’ をこのツールで呼び出すと、構成されたコマンドラ
     インが呼び出され、 ‘$BASE’ がマージの共通ベースを含む一時ファイルの
     名前に設定され、使用可能な場合、 ‘$LOCAL’ は現在のブランチのファイ
     ルの内容を含む一時ファイルの名前に設定され、 ‘$REMOTE’ はマージされ
     るファイルの内容を含む一時ファイルの名前に設定され、 ‘$REMOTE’ はマ
     ージされるファイルの内容を含む一時ファイルの名前に設定されます。

     カスタムマージツールがその終了コードでマージ解決の成功を正確に示し
     ている場合、構成変数 ‘mergetool.<tool>.trustExitCode’ を ‘true’ に
     設定できます。それ以外の場合、 ‘git mergetool’ は、カスタムツールが
     終了した後、解決の成功を示すようにユーザーに促します。

‘--tool-help’
     ‘--tool’ で使用できるマージツールのリストを出力します。

‘-y’
‘--no-prompt’
     マージ解決プログラムを呼び出す前にプロンプトを表示しないでください
     。これは、マージ解決プログラムが ‘--tool’ オプションまたは
     ‘merge.tool’ 構成変数で明示的に指定されている場合のデフォルトです。

‘--prompt’
     マージ解決プログラムを呼び出す前にプロンプトを表示して、ユーザーに
     パス(path)をスキップする機会を与えます。

‘-g’
‘--gui’
     ‘git-mergetool’ が ‘-g’ または ‘--gui’ オプションを伴って呼び出され
     ると、デフォルトのマージツールは ‘merge.tool’ ではなく設定された
     ‘merge.guitool’ 変数から読み取られます。 ‘merge.guitool’ が設定され
     ていない場合、 ‘merge.tool’ で構成されたツールにフォールバックしま
     す。

‘--no-gui’
     これにより、以前の ‘-g’ または ‘--gui’ 設定が上書きされ、デフォルト
     のマージツールは構成された ‘merge.tool’ 変数から読み取られます。

‘-O<orderfile>’
     <orderfile> で指定された順序でファイルを処理します。これには、1行に
     1つのシェルグロブパターンがあります。 これは ‘diff.orderFile’ 構成
     変数をオーバーライドします(git-config(1) を参照)。 ‘diff.orderFile’
     をキャンセルするには、 ‘-O/dev/null’ を使用します。


CONFIGURATION
*************

mergetool.<tool>.path
     Override the path for the given tool.  This is useful in case your
     tool is not in the PATH.

mergetool.<tool>.cmd
     Specify the command to invoke the specified merge tool.  The
     specified command is evaluated in shell with the following
     variables available: _BASE_ is the name of a temporary file
     containing the common base of the files to be merged, if available;
     _LOCAL_ is the name of a temporary file containing the contents of
     the file on the current branch; _REMOTE_ is the name of a temporary
     file containing the contents of the file from the branch being
     merged; _MERGED_ contains the name of the file to which the merge
     tool should write the results of a successful merge.

mergetool.<tool>.hideResolved
     Allows the user to override the global ‘mergetool.hideResolved’
     value for a specific tool.  See ‘mergetool.hideResolved’ for the
     full description.

mergetool.<tool>.trustExitCode
     For a custom merge command, specify whether the exit code of the
     merge command can be used to determine whether the merge was
     successful.  If this is not set to true then the merge target file
     timestamp is checked and the merge assumed to have been successful
     if the file has been updated, otherwise the user is prompted to
     indicate the success of the merge.

mergetool.meld.hasOutput
     Older versions of ‘meld’ do not support the ‘--output’ option.  Git
     will attempt to detect whether ‘meld’ supports ‘--output’ by
     inspecting the output of ‘meld --help’.  Configuring
     ‘mergetool.meld.hasOutput’ will make Git skip these checks and use
     the configured value instead.  Setting ‘mergetool.meld.hasOutput’
     to ‘true’ tells Git to unconditionally use the ‘--output’ option,
     and ‘false’ avoids using ‘--output’.

mergetool.meld.useAutoMerge
     When the ‘--auto-merge’ is given, meld will merge all
     non-conflicting parts automatically, highlight the conflicting
     parts and wait for user decision.  Setting
     ‘mergetool.meld.useAutoMerge’ to ‘true’ tells Git to
     unconditionally use the ‘--auto-merge’ option with ‘meld’.  Setting
     this value to ‘auto’ makes git detect whether ‘--auto-merge’ is
     supported and will only use ‘--auto-merge’ when available.  A value
     of ‘false’ avoids using ‘--auto-merge’ altogether, and is the
     default value.

mergetool.hideResolved
     During a merge Git will automatically resolve as many conflicts as
     possible and write the _MERGED_ file containing conflict markers
     around any conflicts that it cannot resolve; _LOCAL_ and _REMOTE_
     normally represent the versions of the file from before Git’s
     conflict resolution.  This flag causes _LOCAL_ and _REMOTE_ to be
     overwriten so that only the unresolved conflicts are presented to
     the merge tool.  Can be configured per-tool via the
     ‘mergetool.<tool>.hideResolved’ configuration variable.  Defaults
     to ‘false’.

mergetool.keepBackup
     After performing a merge, the original file with conflict markers
     can be saved as a file with a ‘.orig’ extension.  If this variable
     is set to ‘false’ then this file is not preserved.  Defaults to
     ‘true’ (i.e.  keep the backup files).

mergetool.keepTemporaries
     When invoking a custom merge tool, Git uses a set of temporary
     files to pass to the tool.  If the tool returns an error and this
     variable is set to ‘true’, then these temporary files will be
     preserved, otherwise they will be removed after the tool has
     exited.  Defaults to ‘false’.

mergetool.writeToTemp
     Git writes temporary _BASE_, _LOCAL_, and _REMOTE_ versions of
     conflicting files in the worktree by default.  Git will attempt to
     use a temporary directory for these files when set ‘true’.
     Defaults to ‘false’.

mergetool.prompt
     Prompt before each invocation of the merge resolution program.


TEMPORARY FILES
***************

‘git mergetool’ は、マージの解決中に ‘*.orig’ バックアップファイルを作成
します。これらは、ファイルがマージされ、その ‘git mergetool’ セッション
が完了したら安全に削除できます。

   ‘mergetool.keepBackup’ 構成変数を ‘false’ に設定すると、ファイルが正
常にマージされたときに、 ‘git mergetool’ がバックアップを自動的に削除し
ます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-mktag,  Up: Top

Name
****

git-mktag — 追加の検証(extra validation)でタグオブジェクトを作成します


Synopsis
********

     git mktag


DESCRIPTION
***********

標準入力でタグの内容を読み取り、タグオブジェクトを作成します。 出力は、
新しいタグの <object> IDです。

   このコマンドは、 git-hash-object(1) を ‘-t tag -w --stdin’ オプション
で呼び出すのとほとんど同じです。例:以下は両方とも、 ‘my-tag’ ファイル中
からタグの記述を見つけ、見つけたタグの記述からをタグオブジェクトを作成し
て書き込みます。

     git mktag <my-tag
     git hash-object -t tag -w --stdin <my-tag

   git-hash-object(1) の違いは、タグが git-fsck(1) チェックに合格しない
場合、タグを書き込む前にmktagが停止することです。

   mktagで実行される「fsck」チェックは、すべての ‘fsck.<msg-id>’ メッセ
ージが警告からエラーに昇格されるという点で git-fsck(1) がデフォルトで実
行するものよりも厳密(strict)です(たとえば、tagger行の欠落はエラーです)。

   オブジェクトの余分なヘッダーもmktagではエラーになりますが、
git-fsck(1) では無視されます。この追加のチェックは、適切な
‘fsck.<msg-id>’ 変数を設定することでオフにできます:

     git -c fsck.extraHeaderEntry=ignore mktag <my-tag-with-headers


OPTIONS
*******

‘--strict’
     デフォルトでは、mktagは git-fsck(1) の ‘--strict’ モードに相当する
     ものをオンにします。無効にするには、 ‘--no-strict’ を使用します。


Tag Format
**********

このコマンドの標準入力に供給されるタグ署名ファイル(tag signature file)は
、非常に単純な固定形式です。それは以下の4行からなります。

     object <hash>
     type <typename>
     tag <tagname>
     tagger <tagger>

   この後ろにいくつかのオプションの自由形式のメッセージが続きます(古い
Gitによって作成された一部のタグには ‘tagger’ 行がない場合があります)。メ
ッセージが存在する場合は、ヘッダーとは空白行で区切られます。メッセージ部
分には、Git自体は気にしない署名が含まれている場合がありますが、それは
gpgで確認できます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-mktree,  Up: Top

Name
****

git-mktree — ls-tree形式のテキストからツリーオブジェクトを構築する


Synopsis
********

     git mktree [-z] [–missing] [–batch]


DESCRIPTION
***********

非再帰的な ‘ls-tree’ 出力形式で標準入力を読み取り、ツリーオブジェクトを
作成します。ツリーエントリの順序はmktreeによって正規化されるため、入力を
事前に並べ替える必要はありません。構築されたツリーオブジェクトのオブジェ
クト名が標準出力に書き出されます。


OPTIONS
*******

‘-z’
     通常の ls-tree 出力形式の代わりに、(行終端がNULLである) ‘ls-tree
     -z’ 出力形式を読み取ります。

‘--missing’
     欠落しているオブジェクトを許可します。 (このオプションなしでの)デフ
     ォルトの動作では、各ツリーエントリのSHA1が、存在するオブジェクトを
     識別していることを確認します。なお、このオプションは、常に欠落して
     いることが許可されている gitlink エントリ(別名「サブモジュール」)の
     処理には影響しません。

‘--batch’
     終了せずに、複数のツリーオブジェクトの構築をする事を許可します。入
     力の各ツリーは、空白行1行で区切られています。最後の改行はオプション
     です。注意: ‘-z’ オプションを使用すると、行はNUL終端になります。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-multi-pack-index,  Up: Top

Name
****

git-multi-pack-index — multi-pack-indexを書き出し・検証します


Synopsis
********

     git multi-pack-index [–object-dir=<dir>] [–[no-]progress]
             [–preferred-pack=<pack>] [–[no-]bitmap] <subcommand>


DESCRIPTION
***********

multi-pack-index (MIDX) ファイルを書き出し・検証します。


OPTIONS
*******

‘--object-dir=<dir>’
     Gitオブジェクトの場所として、指定されたディレクトリを使用します。 現
     在のMIDXファイルについては ‘<dir>/packs/multi-pack-index’ をチェッ
     クし、インデックスを作成するパックファイルについては ‘<dir>/packs’
     をチェックします。

     ‘<dir>’ は、現在のリポジトリの代替(alternate)である必要があります。

‘--[no-]progress’
     進行状況を明示的にオン/オフにします。どちらも指定されていない場合、
     標準エラーが端末に接続されていれば進行状況が表示されます。

   以下のサブコマンドを使用できます:

write
     新しいMIDXファイルを書き込みます。 ‘write’ サブコマンドでは、以下の
     オプションを使用できます:

     ‘--preferred-pack=<pack>’
          オプションで、複数のパックに同じオブジェクトが含まれている場合
          に使用されるタイブレークパッキング(tie-breaking pack)を指定し
          ます。 ‘<pack>’ には少なくとも1つのオブジェクトが含まれている
          必要があります。与えられていない場合、mtimeが最も低いパックを
          優先して採用(ties are broken)します。

     ‘--[no-]bitmap’
          マルチパックビットマップ(multi-pack bitmap)を書き込むかどうか
          を制御します。

verify
     MIDXファイルの内容を検証(verify)します。

expire
     MIDXファイルによって追跡されているが、MIDXによって参照されているオ
     ブジェクトがないパックファイルを削除します。その後、MIDXファイルを
     書き直して、これらのパックファイルへのすべての参照を削除します。

repack
     マルチパックインデックス(multi-pack-index)によって参照される小さな
     パックファイル(pack-files)にオブジェクトを含む新しいパックファイル
     を作成します。 ‘--batch-size=<size>’ 引数で指定されたサイズがゼロの
     場合、マルチパックインデックスによって参照されるすべてのオブジェク
     トを含むパックを作成します。ゼロ以外のバッチサイズの場合は、パック
     を古いものから新しいものへと調べてパックファイルを選択します。マル
     チパックインデックスによって参照されるパック内のオブジェクトの数を
     カウントすることにより、「予想サイズ」を計算します。次に、予想サイ
     ズをパック内のオブジェクトの総数で割り、パックサイズを掛けます。パ
     ックのセットが少なくともバッチサイズの合計予想サイズになるまで、ま
     たはすべてのパックファイルが考慮されるまで、予想サイズがバッチサイ
     ズよりも小さいパックを選択します。パックファイルが1つだけ選択されて
     いる場合は、何もしません。 新しいパックファイルが作成された場合は、
     マルチパックインデックスを書き直して(rewrite)、新しいパックファイル
     を参照します。後で ‘git multi-pack-index expire’ を実行すると、この
     バッチの一部であったパックファイルが削除されます。

     ‘repack.packKeptObjects’ が ‘false`の場合、 `.keep’ ファイルが関連
     付けられているパックファイルはバッチで再パックするために選択されま
     せん。


EXAMPLES
********

   • 現在の.gitフォルダーにpackfilesのMIDXファイルを書き込みます。

          $ git multi-pack-index write

   • 対応するビットマップを使用して、現在の ‘.git’ フォルダー内の
     packfilesのMIDXファイルを書き込みます。

          $ git multi-pack-index write --preferred-pack=<pack> --bitmap

   • 代替オブジェクトストア(alternate object store)にパックファイルの
     MIDXファイルを書き込みます。

          $ git multi-pack-index --object-dir <alt> write

   • 現在の ‘.git’ フォルダー内のpackfilesのMIDXファイルを検証(verify)し
     ます。

          $ git multi-pack-index verify


SEE ALSO
********

マルチパックインデックス機能の詳細については、 The Multi-Pack-Index
Design Document (technical/multi-pack-index.html) と The
Multi-Pack-Index Format (technical/pack-format.html) を参照してください
。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-mv,  Up: Top

Name
****

git-mv — ファイルまたはディレクトリまたはシンボリックリンクを移動
(move)または名前変更(rename)します


Synopsis
********

     git mv <options>… <args>…


DESCRIPTION
***********

ファイルまたはディレクトリまたはシンボリックリンクを移動または名前変更し
ます。

     git mv [-v] [-f] [-n] [-k] <source> <destination>
     git mv [-v] [-f] [-n] [-k] <source> ... <destination directory>

   最初の形式では、ファイル・シンボリックリンク・ディレクトリのいずれか
である必要がある <source> の名前を <destination> に変更します。2番目の形
式では、最後の引数は既存のディレクトリである必要があります。指定のソース
はこのディレクトリに移動されます。

   正常に完了するとインデックスは更新されますが、変更はコミットする必要
があります。


OPTIONS
*******

‘-f’
‘--force’
     ターゲットが存在する場合でも、ファイルの名前変更または移動を強制し
     ます

‘-k’
     エラー状態になる移動または名前変更をスキップします。ソースが存在せ
     ず、Gitによって制御されていない場合、または ‘-f’ が指定されていない
     限り、ソースが既存のファイルを上書きする場合、エラーが発生します。

‘-n’
‘--dry-run’
     何も操作しない。何が起こるかを示すだけです。

‘-v’
‘--verbose’
     移動するファイルの名前を報告します。


SUBMODULES
**********

gitfile(つまり、Gitバージョン1.7.8以降で複製された)を使用してサブモジュ
ールを移動すると、gitfileとcore.worktreeの設定が更新され、サブモジュール
が新しい場所で機能するようになります。また、 gitmodules(5) ファイルの
submodule.<name>.path 設定を更新し、そのファイルをステージングしようとし
ます( ‘-n’ が使用されている場合を除く)。


BUGS
****

スーパープロジェクトの更新により、入力されたサブモジュールが移動されるた
びに(たとえば、移動の前後でコミットを切り替える場合)、古いサブモジュール
のチェックアウトは古い場所に残り、空のディレクトリが新しい場所に表示され
ます。新しい場所にサブモジュールを再度入力するには、後で「git submodule
update」を実行する必要があります。古いディレクトリの削除は、gitfileを使
用している場合にのみ安全です。そうでなければ、サブモジュールの履歴も削除
されます。再帰的なサブモジュールの更新が実装されている場合、これらの手順
は廃止されるでしょう。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-name-rev,  Up: Top

Name
****

git-name-rev — 指定のrevのシンボリック名を検索します


Synopsis
********

     git name-rev [–tags] [–refs=<pattern>]
                    ( –all | –stdin | <commit-ish>… )


DESCRIPTION
***********

_gitrev-parse_ で解析可能な任意の形式で指定されたリビジョンの、人間にと
って読みやすい記号名を検索します。


OPTIONS
*******

‘--tags’
     ブランチ名は使用せず、コミットに名前を付けるためにタグのみを使用し
     ます

‘--refs=<pattern>’
     名前が特定のシェルパターンに一致するrefのみを使用します。 パターン
     は、ブランチ名、タグ名、または完全修飾ref名のいずれかです。複数回指
     定する場合は、指定したシェルパターンのいずれかに名前が一致する
     refsを使用します。 ‘--no-refs’ を使用して、既に指定済のrefパターン
     をクリアします。

‘--exclude=<pattern>’
     名前が特定のシェルパターンと一致するrefは使用しない。 パターンは、
     ブランチ名、タグ名、または完全修飾ref名のいずれかです。複数回指定さ
     れた場合、指定されたパターンのいずれかに一致するrefは除外されます。
     ‘--refs’ と一緒に使用すると、refは少なくとも1つの ‘--refs’ パターン
     に一致し、 ‘--exclude’ パターンに一致しない場合にのみ一致として使用
     されます。 ‘--no-exclude’ を使用して、除外パターンのリストをクリア
     します。

‘--all’
     すべてのrefから到達可能なすべてのコミットを一覧表示します

‘--stdin’
     16死ん40文字のSHA-1($hexとする)をすべて "$hex ($rev_name)" に置き換
     えて、stdinを変換します。 ‘--name-only’ と一緒に使用する場合は、
     "$rev_name" に置き換えて、 $hex を完全に省略します。スクリプトで使
     用することを目的としています。

‘--name-only’
     SHA-1と名前の両方を印刷する代わりに、名前のみを印刷します。
     ‘--tags’ を指定すると、通常のタグプレフィックス "tags/" も名前から
     省略され、 ‘git-describe‘の出力とより厳密に一致します。

‘--no-undefined’
     参照が未定義の場合、 ‘undefined’ を出力する代わりに、エラーコード
     != 0 で終了します。

‘--always’
     一意を保つように省略されたコミットオブジェクトをフォールバックとし
     て表示します。


EXAMPLES
********

コミットが与えられたら、そのローカルrefsとの相対的な位置を見つけます。 誰
かがその素晴らしいコミット 33db5f4d9027a10e477ccf054b2c1ab94f74c85a につ
いてあなたに述べたとしましょう。もちろん、あなたはそのコミットを調べます
が、そこでは何が起こったのかを教えてくれるだけで、文脈は教えてくれません
。

   _git name-rev_ に入力します:

     % git name-rev 33db5f4d9027a10e477ccf054b2c1ab94f74c85a
     33db5f4d9027a10e477ccf054b2c1ab94f74c85a tags/v0.99~940

   あなたは今や、v0.99より前に940のリビジョンが発生したことが分かりまし
たね。

   別の方法:

     % git log | git name-rev --stdin


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-notes,  Up: Top

Name
****

git-notes — Add or inspect object notes


Synopsis
********

     git notes [list [<object>]]
     git notes add [-f] [–allow-empty] [-F <file> | -m <msg> | (-c | -C) <object>] [<object>]
     git notes copy [-f] ( –stdin | <from-object> [<to-object>] )
     git notes append [–allow-empty] [-F <file> | -m <msg> | (-c | -C) <object>] [<object>]
     git notes edit [–allow-empty] [<object>]
     git notes show [<object>]
     git notes merge [-v | -q] [-s <strategy> ] <notes-ref>
     git notes merge –commit [-v | -q]
     git notes merge –abort [-v | -q]
     git notes remove [–ignore-missing] [–stdin] [<object>…]
     git notes prune [-n] [-v]
     git notes get-ref


DESCRIPTION
***********

Adds, removes, or reads notes attached to objects, without touching the
objects themselves.

   By default, notes are saved to and read from ‘refs/notes/commits’,
but this default can be overridden.  See the OPTIONS, CONFIGURATION, and
ENVIRONMENT sections below.  If this ref does not exist, it will be
quietly created when it is first needed to store a note.

   A typical use of notes is to supplement a commit message without
changing the commit itself.  Notes can be shown by _git log_ along with
the original commit message.  To distinguish these notes from the
message stored in the commit object, the notes are indented like the
message, after an unindented line saying "Notes (<refname>):" (or
"Notes:" for ‘refs/notes/commits’).

   Notes can also be added to patches prepared with ‘git format-patch’
by using the ‘--notes’ option.  Such notes are added as a patch
commentary after a three dash separator line.

   To change which notes are shown by _git log_, see the
"notes.displayRef" configuration in git-log(1).

   See the "notes.rewrite.<command>" configuration for a way to carry
notes across commands that rewrite commits.


SUBCOMMANDS
***********

list
     List the notes object for a given object.  If no object is given,
     show a list of all note objects and the objects they annotate (in
     the format "<note object> <annotated object>").  This is the
     default subcommand if no subcommand is given.

add
     Add notes for a given object (defaults to HEAD). Abort if the
     object already has notes (use ‘-f’ to overwrite existing notes).
     However, if you’re using ‘add’ interactively (using an editor to
     supply the notes contents), then - instead of aborting - the
     existing notes will be opened in the editor (like the ‘edit’
     subcommand).

copy
     Copy the notes for the first object onto the second object
     (defaults to HEAD). Abort if the second object already has notes,
     or if the first object has none (use -f to overwrite existing notes
     to the second object).  This subcommand is equivalent to: ‘git
     notes add [-f] -C $(git notes list <from-object>) <to-object>’

     In ‘--stdin’ mode, take lines in the format

          <from-object> SP <to-object> [ SP <rest> ] LF

     on standard input, and copy the notes from each <from-object> to
     its corresponding <to-object>.  (The optional ‘<rest>’ is ignored
     so that the command can read the input given to the ‘post-rewrite’
     hook.)

append
     Append to the notes of an existing object (defaults to HEAD).
     Creates a new notes object if needed.

edit
     Edit the notes for a given object (defaults to HEAD).

show
     Show the notes for a given object (defaults to HEAD).

merge
     Merge the given notes ref into the current notes ref.  This will
     try to merge the changes made by the given notes ref (called
     "remote") since the merge-base (if any) into the current notes ref
     (called "local").

     If conflicts arise and a strategy for automatically resolving
     conflicting notes (see the "NOTES MERGE STRATEGIES" section) is not
     given, the "manual" resolver is used.  This resolver checks out the
     conflicting notes in a special worktree
     (‘.git/NOTES_MERGE_WORKTREE’), and instructs the user to manually
     resolve the conflicts there.  When done, the user can either
     finalize the merge with _git notes merge –commit_, or abort the
     merge with _git notes merge –abort_.

remove
     Remove the notes for given objects (defaults to HEAD). When giving
     zero or one object from the command line, this is equivalent to
     specifying an empty note message to the ‘edit’ subcommand.

prune
     Remove all notes for non-existing/unreachable objects.

get-ref
     Print the current notes ref.  This provides an easy way to retrieve
     the current notes ref (e.g.  from scripts).


OPTIONS
*******

‘-f’
‘--force’
     When adding notes to an object that already has notes, overwrite
     the existing notes (instead of aborting).

‘-m <msg>’
‘--message=<msg>’
     Use the given note message (instead of prompting).  If multiple
     ‘-m’ options are given, their values are concatenated as separate
     paragraphs.  Lines starting with ‘#’ and empty lines other than a
     single line between paragraphs will be stripped out.

‘-F <file>’
‘--file=<file>’
     Take the note message from the given file.  Use _-_ to read the
     note message from the standard input.  Lines starting with ‘#’ and
     empty lines other than a single line between paragraphs will be
     stripped out.

‘-C <object>’
‘--reuse-message=<object>’
     Take the given blob object (for example, another note) as the note
     message.  (Use ‘git notes copy <object>’ instead to copy notes
     between objects.)

‘-c <object>’
‘--reedit-message=<object>’
     Like _-C_, but with ‘-c’ the editor is invoked, so that the user
     can further edit the note message.

‘--allow-empty’
     Allow an empty note object to be stored.  The default behavior is
     to automatically remove empty notes.

‘--ref <ref>’
     Manipulate the notes tree in <ref>.  This overrides ‘GIT_NOTES_REF’
     and the "core.notesRef" configuration.  The ref specifies the full
     refname when it begins with ‘refs/notes/’; when it begins with
     ‘notes/’, ‘refs/’ and otherwise ‘refs/notes/’ is prefixed to form a
     full name of the ref.

‘--ignore-missing’
     Do not consider it an error to request removing notes from an
     object that does not have notes attached to it.

‘--stdin’
     Also read the object names to remove notes from the standard input
     (there is no reason you cannot combine this with object names from
     the command line).

‘-n’
‘--dry-run’
     Do not remove anything; just report the object names whose notes
     would be removed.

‘-s <strategy>’
‘--strategy=<strategy>’
     When merging notes, resolve notes conflicts using the given
     strategy.  The following strategies are recognized: "manual"
     (default), "ours", "theirs", "union" and "cat_sort_uniq".  This
     option overrides the "notes.mergeStrategy" configuration setting.
     See the "NOTES MERGE STRATEGIES" section below for more information
     on each notes merge strategy.

‘--commit’
     Finalize an in-progress _git notes merge_.  Use this option when
     you have resolved the conflicts that _git notes merge_ stored in
     .git/NOTES_MERGE_WORKTREE. This amends the partial merge commit
     created by _git notes merge_ (stored in .git/NOTES_MERGE_PARTIAL)
     by adding the notes in .git/NOTES_MERGE_WORKTREE. The notes ref
     stored in the .git/NOTES_MERGE_REF symref is updated to the
     resulting commit.

‘--abort’
     Abort/reset an in-progress _git notes merge_, i.e.  a notes merge
     with conflicts.  This simply removes all files related to the notes
     merge.

‘-q’
‘--quiet’
     When merging notes, operate quietly.

‘-v’
‘--verbose’
     When merging notes, be more verbose.  When pruning notes, report
     all object names whose notes are removed.


DISCUSSION
**********

Commit notes are blobs containing extra information about an object
(usually information to supplement a commit’s message).  These blobs are
taken from notes refs.  A notes ref is usually a branch which contains
"files" whose paths are the object names for the objects they describe,
with some directory separators included for performance reasons (1).

   Every notes change creates a new commit at the specified notes ref.
You can therefore inspect the history of the notes by invoking, e.g.,
‘git log -p notes/commits’.  Currently the commit message only records
which operation triggered the update, and the commit authorship is
determined according to the usual rules (see git-commit(1)).  These
details may change in the future.

   It is also permitted for a notes ref to point directly to a tree
object, in which case the history of the notes can be read with ‘git log
-p -g <refname>’.


NOTES MERGE STRATEGIES
**********************

The default notes merge strategy is "manual", which checks out
conflicting notes in a special work tree for resolving notes conflicts
(‘.git/NOTES_MERGE_WORKTREE’), and instructs the user to resolve the
conflicts in that work tree.  When done, the user can either finalize
the merge with _git notes merge –commit_, or abort the merge with _git
notes merge –abort_.

   Users may select an automated merge strategy from among the following
using either -s/–strategy option or configuring notes.mergeStrategy
accordingly:

   "ours" automatically resolves conflicting notes in favor of the local
version (i.e.  the current notes ref).

   "theirs" automatically resolves notes conflicts in favor of the
remote version (i.e.  the given notes ref being merged into the current
notes ref).

   "union" automatically resolves notes conflicts by concatenating the
local and remote versions.

   "cat_sort_uniq" is similar to "union", but in addition to
concatenating the local and remote versions, this strategy also sorts
the resulting lines, and removes duplicate lines from the result.  This
is equivalent to applying the "cat | sort | uniq" shell pipeline to the
local and remote versions.  This strategy is useful if the notes follow
a line-based format where one wants to avoid duplicated lines in the
merge result.  Note that if either the local or remote version contain
duplicate lines prior to the merge, these will also be removed by this
notes merge strategy.


EXAMPLES
********

You can use notes to add annotations with information that was not
available at the time a commit was written.

     $ git notes add -m 'Tested-by: Johannes Sixt <j6t@kdbg.org>' 72a144e2
     $ git show -s 72a144e
     [...]
         Signed-off-by: Junio C Hamano <gitster@pobox.com>

     Notes:
         Tested-by: Johannes Sixt <j6t@kdbg.org>

   In principle, a note is a regular Git blob, and any kind of
(non-)format is accepted.  You can binary-safely create notes from
arbitrary files using _git hash-object_:

     $ cc *.c
     $ blob=$(git hash-object -w a.out)
     $ git notes --ref=built add --allow-empty -C "$blob" HEAD

   (You cannot simply use ‘git notes --ref=built add -F a.out HEAD’
because that is not binary-safe.)  Of course, it doesn’t make much sense
to display non-text-format notes with _git log_, so if you use such
notes, you’ll probably need to write some special-purpose tools to do
something useful with them.


CONFIGURATION
*************

core.notesRef
     Notes ref to read and manipulate instead of ‘refs/notes/commits’.
     Must be an unabbreviated ref name.  This setting can be overridden
     through the environment and command line.

notes.mergeStrategy
     Which merge strategy to choose by default when resolving notes
     conflicts.  Must be one of ‘manual’, ‘ours’, ‘theirs’, ‘union’, or
     ‘cat_sort_uniq’.  Defaults to ‘manual’.  See "NOTES MERGE
     STRATEGIES" section above for more information on each strategy.

     This setting can be overridden by passing the ‘--strategy’ option.

notes.<name>.mergeStrategy
     Which merge strategy to choose when doing a notes merge into
     refs/notes/<name>.  This overrides the more general
     "notes.mergeStrategy".  See the "NOTES MERGE STRATEGIES" section
     above for more information on each available strategy.

notes.displayRef
     Which ref (or refs, if a glob or specified more than once), in
     addition to the default set by ‘core.notesRef’ or ‘GIT_NOTES_REF’,
     to read notes from when showing commit messages with the _git log_
     family of commands.  This setting can be overridden on the command
     line or by the ‘GIT_NOTES_DISPLAY_REF’ environment variable.  See
     git-log(1).

notes.rewrite.<command>
     When rewriting commits with <command> (currently ‘amend’ or
     ‘rebase’), if this variable is ‘false’, git will not copy notes
     from the original to the rewritten commit.  Defaults to ‘true’.
     See also "‘notes.rewriteRef’" below.

     This setting can be overridden by the ‘GIT_NOTES_REWRITE_REF’
     environment variable.

notes.rewriteMode
     When copying notes during a rewrite, what to do if the target
     commit already has a note.  Must be one of ‘overwrite’,
     ‘concatenate’, ‘cat_sort_uniq’, or ‘ignore’.  Defaults to
     ‘concatenate’.

     This setting can be overridden with the ‘GIT_NOTES_REWRITE_MODE’
     environment variable.

notes.rewriteRef
     When copying notes during a rewrite, specifies the (fully
     qualified) ref whose notes should be copied.  May be a glob, in
     which case notes in all matching refs will be copied.  You may also
     specify this configuration several times.

     Does not have a default value; you must configure this variable to
     enable note rewriting.

     Can be overridden with the ‘GIT_NOTES_REWRITE_REF’ environment
     variable.


ENVIRONMENT
***********

‘GIT_NOTES_REF’
     Which ref to manipulate notes from, instead of
     ‘refs/notes/commits’.  This overrides the ‘core.notesRef’ setting.

‘GIT_NOTES_DISPLAY_REF’
     Colon-delimited list of refs or globs indicating which refs, in
     addition to the default from ‘core.notesRef’ or ‘GIT_NOTES_REF’, to
     read notes from when showing commit messages.  This overrides the
     ‘notes.displayRef’ setting.

     A warning will be issued for refs that do not exist, but a glob
     that does not match any refs is silently ignored.

‘GIT_NOTES_REWRITE_MODE’
     When copying notes during a rewrite, what to do if the target
     commit already has a note.  Must be one of ‘overwrite’,
     ‘concatenate’, ‘cat_sort_uniq’, or ‘ignore’.  This overrides the
     ‘core.rewriteMode’ setting.

‘GIT_NOTES_REWRITE_REF’
     When rewriting commits, which notes to copy from the original to
     the rewritten commit.  Must be a colon-delimited list of refs or
     globs.

     If not set in the environment, the list of notes to copy depends on
     the ‘notes.rewrite.<command>’ and ‘notes.rewriteRef’ settings.


GIT
***

Part of the git(1) suite

   ---------- Footnotes ----------

   (1) Permitted pathnames have the form
_bf_‘/’_fe_‘/’_30_‘/’_…_‘/’_680d5a…_: a sequence of directory names of
two hexadecimal digits each followed by a filename with the rest of the
object ID.


File: gitman.info,  Node: git-p4,  Up: Top

Name
****

git-p4 — Perforceリポジトリからのインポートと、Perforceリポジトリへの
submit


Synopsis
********

     git p4 clone [<sync options>] [<clone options>] <p4 depot path>…
     git p4 sync [<sync options>] [<p4 depot path>…]
     git p4 rebase
     git p4 submit [<submit options>] [<master branch name>]


DESCRIPTION
***********

このコマンドは、Gitを使用してp4リポジトリと対話する方法を提供します。

   ’git p4 clone’を使用して既存のp4リポジトリから新しいGitリポジトリを作
成し、1つ以上のp4デポパス(depot path)を指定します。’git p4sync’を使用し
てp4の変更からの新しいコミットを組み込みます。’sync’コマンドは、他のp4デ
ポパスからの新しいブランチを含めるためにも使用されます。’git p4 submit’を
使用してGitの変更をp4に送信します。 コマンド’git p4 rebase’は同期を実行
し、現在のブランチを更新されたp4リモートブランチにリベースします。


EXAMPLES
********

   • リポジトリをクローンします:

          $ git p4 clone //depot/path/project

   • 新しく作成されたGitリポジトリでいくつかの作業を行います:

          $ cd project
          $ vi foo.h
          $ git commit -a -m "edited foo.h"

   • p4からの最近の変更でGitリポジトリを更新し、あなたの作業ツリーにリベ
     ースします:

          $ git p4 rebase

   • あなたのコミットを送信しp4へ戻します:

          $ git p4 submit


COMMANDS
********


Clone
=====

通常、’git p4 clone’は、既存のp4リポジトリから新しいGitディレクトリを作
成するために使用されます:

     $ git p4 clone //depot/path/project

   これは以下の事を行います:

  1. _project_ というサブディレクトリに空のGitリポジトリを作成します。

  2. 指定されたp4デポパス(p4 depot path)からGitブランチ
     _refs/remotes/p4/master_ の単一のコミットにヘッドリビジョンの全内容
     をインポートします。

  3. このリモートからローカルブランチ _master_ を作成し、チェックアウト
     します。

   Gitでp4履歴全体を再現するには、デポパス(dept path)で _@all_ 修飾子を
使用します:

     $ git p4 clone //depot/path/project@all


Sync
====

p4リポジトリで開発が継続されていて、それらの変更をGitリポジトリに取り込
むには以下を使用します:

     $ git p4 sync

   このコマンドは、p4の新しい変更を検出し、Gitがコミットするときにそれら
をインポートします。

   P4リポジトリは、 _git p4 sync_ を使用して既存のGitリポジトリに追加す
ることもできます:

     $ mkdir repo-git
     $ cd repo-git
     $ git init
     $ git p4 sync //path/in/your/perforce/depot

   これにより、指定したデポが既存のGitリポジトリの
_refs/remotes/p4/master_ にインポートされます。 ‘--branch’ オプションを
使用して、p4コンテンツに使用する別のブランチを指定することも可能です。

   If a Git repository includes branches _refs/remotes/origin/p4_, these
will be fetched and consulted first during a _git p4 sync_.  Since
importing directly from p4 is considerably slower than pulling changes
from a Git remote, this can be useful in a multi-developer environment.

   If there are multiple branches, doing _git p4 sync_ will
automatically use the "BRANCH DETECTION" algorithm to try to partition
new changes into the right branch.  This can be overridden with the
‘--branch’ option to specify just a single branch to update.


Rebase
======

A common working pattern is to fetch the latest changes from the p4
depot and merge them with local uncommitted changes.  Often, the p4
repository is the ultimate location for all code, thus a rebase workflow
makes sense.  This command does _git p4 sync_ followed by _git rebase_
to move local commits on top of updated p4 changes.

     $ git p4 rebase


Submit
======

Submitting changes from a Git repository back to the p4 repository
requires a separate p4 client workspace.  This should be specified using
the ‘P4CLIENT’ environment variable or the Git configuration variable
_git-p4.client_.  The p4 client must exist, but the client root will be
created and populated if it does not already exist.

   To submit all changes that are in the current Git branch but not in
the _p4/master_ branch, use:

     $ git p4 submit

   現在のブランチ以外のブランチを指定するには、以下を使用します:

     $ git p4 submit topicbranch

   単一のコミットまたはコミットの範囲を指定するには、以下を使用します:

     $ git p4 submit --commit <sha1>
     $ git p4 submit --commit <sha1..sha1>

   アップストリーム参照は一般的には _refs/remotes/p4/master_ ですが、
‘--origin=’ コマンドラインオプションを使用してオーバーライドできます。

   The p4 changes will be created as the user invoking _git p4 submit_.
The ‘--preserve-user’ option will cause ownership to be modified
according to the author of the Git commit.  This option requires admin
privileges in p4, which can be granted using _p4 protect_.

   送信する代わりに変更を保存するには、以下のように ‘--shelve’ と
‘--update-shelve’ を使用します:

     $ git p4 submit --shelve
     $ git p4 submit --update-shelve 1234 --update-shelve 2345


Unshelve
========

Unshelving will take a shelved P4 changelist, and produce the equivalent
git commit in the branch refs/remotes/p4-unshelved/<changelist>.

   The git commit is created relative to the current origin revision
(HEAD by default).  A parent commit is created based on the origin, and
then the unshelve commit is created based on that.

   originリビジョンは、 ‘--origin’ オプションで変更できます。

   refs/remotes/p4-unshelved のターゲットブランチがすでに存在する場合、
古いブランチの名前が変更されます。

     $ git p4 sync
     $ git p4 unshelve 12345
     $ git show p4-unshelved/12345
     <submit more changes via p4 to the same files>
     $ git p4 unshelve 12345
     <refuses to unshelve until git is in sync with p4 again>


OPTIONS
*******


General options
===============

cloneを除くすべてのコマンドは、これらのオプションを受け入れます。

‘--git-dir <dir>’
     ‘GIT_DIR’ 環境変数を設定します。 git(1) 参照。

‘-v’
‘--verbose’
     より多くの進捗情報を提供します。


Sync options
============

これらのオプションは、最初の「クローン」(clone)操作と後続の「同期」
(sync)操作で使用できます。

‘--branch <ref>’
     Import changes into <ref> instead of refs/remotes/p4/master.  If
     <ref> starts with refs/, it is used as is.  Otherwise, if it does
     not start with p4/, that prefix is added.

     By default a <ref> not starting with refs/ is treated as the name
     of a remote-tracking branch (under refs/remotes/).  This behavior
     can be modified using the –import-local option.

     <ref> のデフォルトは "master" です。

     This example imports a new remote "p4/proj2" into an existing Git
     repository:

              $ git init
              $ git p4 sync --branch=refs/remotes/p4/proj2 //depot/proj2

‘--detect-branches’
     Use the branch detection algorithm to find new paths in p4.  It is
     documented below in "BRANCH DETECTION".

‘--changesfile <file>’
     Import exactly the p4 change numbers listed in _file_, one per
     line.  Normally, _git p4_ inspects the current p4 repository state
     and detects the changes it should import.

‘--silent’
     進捗情報を出力しません。

‘--detect-labels’
     Query p4 for labels associated with the depot paths, and add them
     as tags in Git.  Limited usefulness as only imports labels
     associated with new changelists.  Deprecated.

‘--import-labels’
     p4からGitにラベルをインポートします。

‘--import-local’
     By default, p4 branches are stored in _refs/remotes/p4/_, where
     they will be treated as remote-tracking branches by git-branch(1)
     and other commands.  This option instead puts p4 branches in
     _refs/heads/p4/_.  Note that future sync operations must specify
     ‘--import-local’ as well so that they can find the p4 branches in
     refs/heads.

‘--max-changes <n>’
     Import at most _n_ changes, rather than the entire range of changes
     included in the given revision specifier.  A typical usage would be
     use _@all_ as the revision specifier, but then to use _–max-changes
     1000_ to import only the last 1000 revisions rather than the entire
     revision history.

‘--changes-block-size <n>’
     The internal block size to use when converting a revision specifier
     such as _@all_ into a list of specific change numbers.  Instead of
     using a single call to _p4 changes_ to find the full list of
     changes for the conversion, there are a sequence of calls to _p4
     changes -m_, each of which requests one block of changes of the
     given size.  The default block size is 500, which should usually be
     suitable.

‘--keep-path’
     The mapping of file names from the p4 depot path to Git, by
     default, involves removing the entire depot path.  With this
     option, the full p4 depot path is retained in Git.  For example,
     path _//depot/main/foo/bar.c_, when imported from _//depot/main/_,
     becomes _foo/bar.c_.  With ‘--keep-path’, the Git path is instead
     _depot/main/foo/bar.c_.

‘--use-client-spec’
     Use a client spec to find the list of interesting files in p4.  See
     the "CLIENT SPEC" section below.

‘-/ <path>’
     クローン作成または同期時に、選択したデポパスを除外します。


Clone options
=============

These options can be used in an initial _clone_, along with the _sync_
options described above.

‘--destination <directory>’
     Where to create the Git repository.  If not provided, the last
     component in the p4 depot path is used to create a new directory.

‘--bare’
     ベアクローン(bare clone)を実行します。 git-clone(1) を参照してくだ
     さい。


Submit options
==============

これらのオプションを使用して、「git p4 submit」の動作を変更できます。

‘--origin <commit>’
     Upstream location from which commits are identified to submit to
     p4.  By default, this is the most recent p4 commit reachable from
     ‘HEAD’.

‘-M’
     Detect renames.  See git-diff(1).  Renames will be represented in
     p4 using explicit _move_ operations.  There is no corresponding
     option to detect copies, but there are variables for both moves and
     copies.

‘--preserve-user’
     Re-author p4 changes before submitting to p4.  This option requires
     p4 admin privileges.

‘--export-labels’
     Export tags from Git as p4 labels.  Tags found in Git are applied
     to the perforce working directory.

‘-n’
‘--dry-run’
     Show just what commits would be submitted to p4; do not change
     state in Git or p4.

‘--prepare-p4-only’
     Apply a commit to the p4 workspace, opening, adding and deleting
     files in p4 as for a normal submit operation.  Do not issue the
     final "p4 submit", but instead print a message about how to submit
     manually or revert.  This option always stops after the first
     (oldest) commit.  Git tags are not exported to p4.

‘--shelve’
     Instead of submitting create a series of shelved changelists.
     After creating each shelve, the relevant files are
     reverted/deleted.  If you have multiple commits pending multiple
     shelves will be created.

‘--update-shelve CHANGELIST’
     Update an existing shelved changelist with this commit.  Implies
     –shelve.  Repeat for multiple shelved changelists.

‘--conflict=(ask|skip|quit)’
     Conflicts can occur when applying a commit to p4.  When this
     happens, the default behavior ("ask") is to prompt whether to skip
     this commit and continue, or quit.  This option can be used to
     bypass the prompt, causing conflicting commits to be automatically
     skipped, or to quit trying to apply commits, without prompting.

‘--branch <branch>’
     After submitting, sync this named branch instead of the default
     p4/master.  See the "Sync options" section above for more
     information.

‘--commit <sha1>|<sha1..sha1>’
     Submit only the specified commit or range of commits, instead of
     the full list of changes that are in the current Git branch.

‘--disable-rebase’
     Disable the automatic rebase after all commits have been
     successfully submitted.  Can also be set with git-p4.disableRebase.

‘--disable-p4sync’
     Disable the automatic sync of p4/master from Perforce after commits
     have been submitted.  Implies –disable-rebase.  Can also be set
     with git-p4.disableP4Sync.  Sync with origin/master still goes
     ahead if possible.


Hooks for submit
****************


p4-pre-submit
=============

The ‘p4-pre-submit’ hook is executed if it exists and is executable.
The hook takes no parameters and nothing from standard input.  Exiting
with non-zero status from this script prevents ‘git-p4 submit’ from
launching.  It can be bypassed with the ‘--no-verify’ command line
option.

   使用シナリオの１つは、フックで単体テストを実行することです。


p4-prepare-changelist
=====================

The ‘p4-prepare-changelist’ hook is executed right after preparing the
default changelist message and before the editor is started.  It takes
one parameter, the name of the file that contains the changelist text.
Exiting with a non-zero status from the script will abort the process.

   The purpose of the hook is to edit the message file in place, and it
is not suppressed by the ‘--no-verify’ option.  This hook is called even
if ‘--prepare-p4-only’ is set.


p4-changelist
=============

The ‘p4-changelist’ hook is executed after the changelist message has
been edited by the user.  It can be bypassed with the ‘--no-verify’
option.  It takes a single parameter, the name of the file that holds
the proposed changelist text.  Exiting with a non-zero status causes the
command to abort.

   The hook is allowed to edit the changelist file and can be used to
normalize the text into some project standard format.  It can also be
used to refuse the Submit after inspect the message file.


p4-post-changelist
==================

The ‘p4-post-changelist’ hook is invoked after the submit has
successfully occurred in P4.  It takes no parameters and is meant
primarily for notification and cannot affect the outcome of the git p4
submit action.


Rebase options
==============

これらのオプションを使用して、「git p4 rebase」の動作を変更できます。

‘--import-labels’
     p4ラベルのインポート。


Unshelve options
================

‘--origin’
     Sets the git refspec against which the shelved P4 changelist is
     compared.  Defaults to p4/master.


DEPOT PATH SYNTAX
*****************

The p4 depot path argument to _git p4 sync_ and _git p4 clone_ can be
one or more space-separated p4 depot paths, with an optional p4 revision
specifier on the end:

"//depot/my/project"
     そのツリーの下の「#head」変更内のすべてのファイルを含む1つのコミッ
     トをインポートします。

"//depot/my/project@all"
     そのデポパスの履歴の変更ごとに1つのコミットをインポートします。

"//depot/my/project@1,6"
     1から6の変更のみをインポートする。

"//depot/proj1@all //depot/proj2@all"
     Import all changes from both named depot paths into a single
     repository.  Only files below these directories are included.
     There is not a subdirectory in Git for each "proj1" and "proj2".
     You must use the ‘--destination’ option when specifying more than
     one depot path.  The revision specifier must be specified
     identically on each depot path.  If there are files in the depot
     paths with the same name, the path with the most recently updated
     version of the file is the one that appears in Git.

   p4リビジョン指定子の完全な構文については、「p4 help revisions」を参照
してください。


CLIENT SPEC
***********

The p4 client specification is maintained with the _p4 client_ command
and contains among other fields, a View that specifies how the depot is
mapped into the client repository.  The _clone_ and _sync_ commands can
consult the client spec when given the ‘--use-client-spec’ option or
when the useClientSpec variable is true.  After _git p4 clone_, the
useClientSpec variable is automatically set in the repository
configuration file.  This allows future _git p4 submit_ commands to work
properly; the submit command looks only at the variable and does not
have a command-line option.

   The full syntax for a p4 view is documented in _p4 help views_.  _git
p4_ knows only a subset of the view syntax.  It understands multi-line
mappings, overlays with _+_, exclusions with _-_ and double-quotes
around whitespace.  Of the possible wildcards, _git p4_ only handles
_…_, and only when it is at the end of the path.  _git p4_ will complain
if it encounters an unhandled wildcard.

   Bugs in the implementation of overlap mappings exist.  If multiple
depot paths map through overlays to the same location in the repository,
_git p4_ can choose the wrong one.  This is hard to solve without
dedicating a client spec just for _git p4_.

   The name of the client can be given to _git p4_ in multiple ways.
The variable _git-p4.client_ takes precedence if it exists.  Otherwise,
normal p4 mechanisms of determining the client are used: environment
variable ‘P4CLIENT’, a file referenced by ‘P4CONFIG’, or the local host
name.


BRANCH DETECTION
****************

P4 does not have the same concept of a branch as Git.  Instead, p4
organizes its content as a directory tree, where by convention different
logical branches are in different locations in the tree.  The _p4
branch_ command is used to maintain mappings between different areas in
the tree, and indicate related content.  _git p4_ can use these mappings
to determine branch relationships.

   If you have a repository where all the branches of interest exist as
subdirectories of a single depot path, you can use ‘--detect-branches’
when cloning or syncing to have _git p4_ automatically find
subdirectories in p4, and to generate these as branches in Git.

   たとえば、P4リポジトリ構造が以下の場合:

     //depot/main/...
     //depot/branch1/...

   そして、「p4 branch -o branch1」は、以下のようなビューライン(View
line)を表示します:

     //depot/main/... //depot/branch1/...

   それから、以下の _git p4 clone_ コマンドを実行します:

     git p4 clone --detect-branches //depot@all

   produces a separate branch in _refs/remotes/p4/_ for //depot/main,
called _master_, and one for //depot/branch1 called _depot/branch1_.

   However, it is not necessary to create branches in p4 to be able to
use them like branches.  Because it is difficult to infer branch
relationships automatically, a Git configuration setting
_git-p4.branchList_ can be used to explicitly identify branch
relationships.  It is a list of "source:destination" pairs, like a
simple p4 branch specification, where the "source" and "destination" are
the path elements in the p4 repository.  The example above relied on the
presence of the p4 branch.  Without p4 branches, the same result will
occur with:

     git init depot
     cd depot
     git config git-p4.branchList main:branch1
     git p4 clone --detect-branches //depot@all .


PERFORMANCE
***********

The fast-import mechanism used by _git p4_ creates one pack file for
each invocation of _git p4 sync_.  Normally, Git garbage compression
(git-gc(1)) automatically compresses these to fewer pack files, but
explicit invocation of _git repack -adf_ may improve performance.


CONFIGURATION VARIABLES
***********************

The following config settings can be used to modify _git p4_ behavior.
They all are in the _git-p4_ section.


General variables
=================

git-p4.user
     User specified as an option to all p4 commands, with _-u <user>_.
     The environment variable ‘P4USER’ can be used instead.

git-p4.password
     Password specified as an option to all p4 commands, with _-P
     <password>_.  The environment variable ‘P4PASS’ can be used
     instead.

git-p4.port
     Port specified as an option to all p4 commands, with _-p <port>_.
     The environment variable ‘P4PORT’ can be used instead.

git-p4.host
     Host specified as an option to all p4 commands, with _-h <host>_.
     The environment variable ‘P4HOST’ can be used instead.

git-p4.client
     Client specified as an option to all p4 commands, with _-c
     <client>_, including the client spec.

git-p4.retries
     Specifies the number of times to retry a p4 command (notably, _p4
     sync_) if the network times out.  The default value is 3.  Set the
     value to 0 to disable retries or if your p4 version does not
     support retries (pre 2012.2).


Clone and sync variables
========================

git-p4.syncFromOrigin
     Because importing commits from other Git repositories is much
     faster than importing them from p4, a mechanism exists to find p4
     changes first in Git remotes.  If branches exist under
     _refs/remote/origin/p4_, those will be fetched and used when
     syncing from p4.  This variable can be set to _false_ to disable
     this behavior.

git-p4.branchUser
     One phase in branch detection involves looking at p4 branches to
     find new ones to import.  By default, all branches are inspected.
     This option limits the search to just those owned by the single
     user named in the variable.

git-p4.branchList
     List of branches to be imported when branch detection is enabled.
     Each entry should be a pair of branch names separated by a colon
     (:).  This example declares that both branchA and branchB were
     created from main:

          git config       git-p4.branchList main:branchA
          git config --add git-p4.branchList main:branchB

git-p4.ignoredP4Labels
     List of p4 labels to ignore.  This is built automatically as
     unimportable labels are discovered.

git-p4.importLabels
     ‘--import-labels’ に従って、p4ラベルをgitにインポートします。

git-p4.labelImportRegexp
     Only p4 labels matching this regular expression will be imported.
     The default value is _[a-zA-Z0-9_\-.]+$_.

git-p4.useClientSpec
     Specify that the p4 client spec should be used to identify p4 depot
     paths of interest.  This is equivalent to specifying the option
     ‘--use-client-spec’.  See the "CLIENT SPEC" section above.  This
     variable is a boolean, not the name of a p4 client.

git-p4.pathEncoding
     Perforce keeps the encoding of a path as given by the originating
     OS. Git expects paths encoded as UTF-8.  Use this config to tell
     git-p4 what encoding Perforce had used for the paths.  This
     encoding is used to transcode the paths to UTF-8.  As an example,
     Perforce on Windows often uses "cp1252" to encode path names.

git-p4.largeFileSystem
     Specify the system that is used for large (binary) files.  Please
     note that large file systems do not support the _git p4 submit_
     command.  Only Git LFS is implemented right now (see
     https://git-lfs.github.com/ (https://git-lfs.github.com/) for more
     information).  Download and install the Git LFS command line
     extension to use this option and configure it like this:

          git config       git-p4.largeFileSystem GitLFS

git-p4.largeFileExtensions
     All files matching a file extension in the list will be processed
     by the large file system.  Do not prefix the extensions with _._.

git-p4.largeFileThreshold
     All files with an uncompressed size exceeding the threshold will be
     processed by the large file system.  By default the threshold is
     defined in bytes.  Add the suffix k, m, or g to change the unit.

git-p4.largeFileCompressedThreshold
     All files with a compressed size exceeding the threshold will be
     processed by the large file system.  This option might slow down
     your clone/sync process.  By default the threshold is defined in
     bytes.  Add the suffix k, m, or g to change the unit.

git-p4.largeFilePush
     Boolean variable which defines if large files are automatically
     pushed to a server.

git-p4.keepEmptyCommits
     A changelist that contains only excluded files will be imported as
     an empty commit if this boolean option is set to true.

git-p4.mapUser
     Map a P4 user to a name and email address in Git.  Use a string
     with the following format to create a mapping:

          git config --add git-p4.mapUser "p4user = First Last <mail@address.com>"

     A mapping will override any user information from P4.  Mappings for
     multiple P4 user can be defined.


Submit variables
================

git-p4.detectRenames
     Detect renames.  See git-diff(1).  This can be true, false, or a
     score as expected by _git diff -M_.

git-p4.detectCopies
     Detect copies.  See git-diff(1).  This can be true, false, or a
     score as expected by _git diff -C_.

git-p4.detectCopiesHarder
     コピーをより厳しく検出します。 git-diff(1) を参照してください。 ブ
     ール値です。

git-p4.preserveUser
     On submit, re-author changes to reflect the Git author, regardless
     of who invokes _git p4 submit_.

git-p4.allowMissingP4Users
     When _preserveUser_ is true, _git p4_ normally dies if it cannot
     find an author in the p4 user map.  This setting submits the change
     regardless.

git-p4.skipSubmitEdit
     The submit process invokes the editor before each p4 change is
     submitted.  If this setting is true, though, the editing step is
     skipped.

git-p4.skipSubmitEditCheck
     After editing the p4 change message, _git p4_ makes sure that the
     description really was changed by looking at the file modification
     time.  This option disables that test.

git-p4.allowSubmit
     By default, any branch can be used as the source for a _git p4
     submit_ operation.  This configuration variable, if set, permits
     only the named branches to be used as submit sources.  Branch names
     must be the short names (no "refs/heads/"), and should be separated
     by commas (","), with no spaces.

git-p4.skipUserNameCheck
     If the user running _git p4 submit_ does not exist in the p4 user
     map, _git p4_ exits.  This option can be used to force submission
     regardless.

git-p4.attemptRCSCleanup
     If enabled, _git p4 submit_ will attempt to cleanup RCS keywords
     ($Header$, etc).  These would otherwise cause merge conflicts and
     prevent the submit going ahead.  This option should be considered
     experimental at present.

git-p4.exportLabels
     ‘--export-labels’ に従って、Gitタグをp4ラベルにエクスポートします。

git-p4.labelExportRegexp
     Only p4 labels matching this regular expression will be exported.
     The default value is _[a-zA-Z0-9_\-.]+$_.

git-p4.conflict
     Specify submit behavior when a conflict with p4 is found, as per
     –conflict.  The default behavior is _ask_.

git-p4.disableRebase
     送信後に p4/master に対してツリーをリベースしないでください。

git-p4.disableP4Sync
     Do not sync p4/master with Perforce following a submit.  Implies
     git-p4.disableRebase.


IMPLEMENTATION DETAILS
**********************

   • p4からのチェンジセットは、Git fast-import を使用してインポートされ
     ます。

   • Cloning or syncing does not require a p4 client; file contents are
     collected using _p4 print_.

   • Submitting requires a p4 client, which is not in the same location
     as the Git repository.  Patches are applied, one at a time, to this
     p4 client and submitted from there.

   • Each commit imported by _git p4_ has a line at the end of the log
     message indicating the p4 depot location and change number.  This
     line is used by later _git p4 sync_ operations to know which p4
     changes are new.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-pack-objects,  Up: Top

Name
****

git-pack-objects — オブジェクトのパックされたアーカイブを作成する


Synopsis
********

     git pack-objects [-q | –progress | –all-progress] [–all-progress-implied]
             [–no-reuse-delta] [–delta-base-offset] [–non-empty]
             [–local] [–incremental] [–window=<n>] [–depth=<n>]
             [–revs [–unpacked | –all]] [–keep-pack=<pack-name>]
             [–stdout [–filter=<filter-spec>] | base-name]
             [–shallow] [–keep-true-parents] [–[no-]sparse] < object-list


DESCRIPTION
***********

標準入力からオブジェクトのリストを読み取り、指定されたベース名を持つ1つ
以上のパックされたアーカイブをディスクに書き込むか、パックされたアーカイ
ブを標準出力に書き出します。

   パックされたアーカイブは、2つのリポジトリ間でオブジェクトのセットを転
送するための効率的な方法であり、アクセス効率の高いアーカイブ形式でもあり
ます。パックされたアーカイブでは、オブジェクトはその全体を圧縮したものと
して、または他のオブジェクトとの差分として保存されます。後者はしばしばデ
ルタ(delta)と呼ばれます。

   パックされたアーカイブ形式(.pack)は、自己完結型であるように設計されて
いるため、それ以上の情報がなくても解凍できます。したがって、デルタが依存
する各オブジェクトがパック内に存在する必要があります。

   パックインデックスファイル(.idx)が、パック内のオブジェクトへの高速で
ランダムなアクセスのために生成されます。インデックスファイル(.idx)とパッ
クされたアーカイブ(.pack)の両方を $GIT_OBJECT_DIRECTORY の pack/ サブデ
ィレクトリ（または $GIT_ALTERNATE_OBJECT_DIRECTORIES の任意のディレクト
リ)に配置すると、Gitはパックアーカイブから読み取ることができます。

   _git unpack-objects_ コマンドは、パックされたアーカイブを読み取り、パ
ックに含まれるオブジェクトを「1ファイル1オブジェクト」形式に展開できます
。これは通常、ピアによる効率的なネットワーク転送のためにパックがオンザフ
ライで作成されるときに、smart-pullコマンドによって実行されます。


OPTIONS
*******

base-name
     Write into pairs of files (.pack and .idx), using <base-name> to
     determine the name of the created file.  When this option is used,
     the two files in a pair are written in
     <base-name>-<SHA-1>.{pack,idx} files.  <SHA-1> is a hash based on
     the pack content and is written to the standard output of the
     command.

‘--stdout’
     Write the pack contents (what would have been written to .pack
     file) out to the standard output.

‘--revs’
     Read the revision arguments from the standard input, instead of
     individual object names.  The revision arguments are processed the
     same way as _git rev-list_ with the ‘--objects’ flag uses its
     ‘commit’ arguments to build the list of objects it outputs.  The
     objects on the resulting list are packed.  Besides revisions,
     ‘--not’ or ‘--shallow <SHA-1>’ lines are also accepted.

‘--unpacked’
     This implies ‘--revs’.  When processing the list of revision
     arguments read from the standard input, limit the objects packed to
     those that are not already packed.

‘--all’
     This implies ‘--revs’.  In addition to the list of revision
     arguments read from the standard input, pretend as if all refs
     under ‘refs/’ are specified to be included.

‘--include-tag’
     Include unasked-for annotated tags if the object they reference was
     included in the resulting packfile.  This can be useful to send new
     tags to native Git clients.

‘--stdin-packs’
     Read the basenames of packfiles (e.g., ‘pack-1234abcd.pack’) from
     the standard input, instead of object names or revision arguments.
     The resulting pack contains all objects listed in the included
     packs (those not beginning with ‘^’), excluding any objects listed
     in the excluded packs (beginning with ‘^’).

     Incompatible with ‘--revs’, or options that imply ‘--revs’ (such as
     ‘--all’), with the exception of ‘--unpacked’, which is compatible.

‘--window=<n>’
‘--depth=<n>’
     These two options affect how the objects contained in the pack are
     stored using delta compression.  The objects are first internally
     sorted by type, size and optionally names and compared against the
     other objects within –window to see if using delta compression
     saves space.  –depth limits the maximum delta depth; making it too
     deep affects the performance on the unpacker side, because delta
     data needs to be applied that many times to get to the necessary
     object.

     The default value for –window is 10 and –depth is 50.  The maximum
     depth is 4095.

‘--window-memory=<n>’
     This option provides an additional limit on top of ‘--window’; the
     window size will dynamically scale down so as to not take up more
     than _<n>_ bytes in memory.  This is useful in repositories with a
     mix of large and small objects to not run out of memory with a
     large window, but still be able to take advantage of the large
     window for the smaller objects.  The size can be suffixed with "k",
     "m", or "g".  ‘--window-memory=0’ makes memory usage unlimited.
     The default is taken from the ‘pack.windowMemory’ configuration
     variable.

‘--max-pack-size=<n>’
     In unusual scenarios, you may not be able to create files larger
     than a certain size on your filesystem, and this option can be used
     to tell the command to split the output packfile into multiple
     independent packfiles, each not larger than the given size.  The
     size can be suffixed with "k", "m", or "g".  The minimum size
     allowed is limited to 1 MiB. The default is unlimited, unless the
     config variable ‘pack.packSizeLimit’ is set.  Note that this option
     may result in a larger and slower repository; see the discussion in
     ‘pack.packSizeLimit’.

‘--honor-pack-keep’
     This flag causes an object already in a local pack that has a .keep
     file to be ignored, even if it would have otherwise been packed.

‘--keep-pack=<pack-name>’
     This flag causes an object already in the given pack to be ignored,
     even if it would have otherwise been packed.  ‘<pack-name>’ is the
     pack file name without leading directory (e.g.  ‘pack-123.pack’).
     The option could be specified multiple times to keep multiple
     packs.

‘--incremental’
     This flag causes an object already in a pack to be ignored even if
     it would have otherwise been packed.

‘--local’
     This flag causes an object that is borrowed from an alternate
     object store to be ignored even if it would have otherwise been
     packed.

‘--non-empty’
     Only create a packed archive if it would contain at least one
     object.

‘--progress’
     Progress status is reported on the standard error stream by default
     when it is attached to a terminal, unless -q is specified.  This
     flag forces progress status even if the standard error stream is
     not directed to a terminal.

‘--all-progress’
     When –stdout is specified then progress report is displayed during
     the object count and compression phases but inhibited during the
     write-out phase.  The reason is that in some cases the output
     stream is directly linked to another command which may wish to
     display progress status of its own as it processes incoming pack
     data.  This flag is like –progress except that it forces progress
     report for the write-out phase as well even if –stdout is used.

‘--all-progress-implied’
     This is used to imply –all-progress whenever progress display is
     activated.  Unlike –all-progress this flag doesn’t actually force
     any progress display by itself.

‘-q’
     This flag makes the command not to report its progress on the
     standard error stream.

‘--no-reuse-delta’
     When creating a packed archive in a repository that has existing
     packs, the command reuses existing deltas.  This sometimes results
     in a slightly suboptimal pack.  This flag tells the command not to
     reuse existing deltas but compute them from scratch.

‘--no-reuse-object’
     This flag tells the command not to reuse existing object data at
     all, including non deltified object, forcing recompression of
     everything.  This implies –no-reuse-delta.  Useful only in the
     obscure case where wholesale enforcement of a different compression
     level on the packed data is desired.

‘--compression=<n>’
     Specifies compression level for newly-compressed data in the
     generated pack.  If not specified, pack compression level is
     determined first by pack.compression, then by core.compression, and
     defaults to -1, the zlib default, if neither is set.  Add
     –no-reuse-object if you want to force a uniform compression level
     on all data no matter the source.

‘--[no-]sparse’
     Toggle the "sparse" algorithm to determine which objects to include
     in the pack, when combined with the "–revs" option.  This algorithm
     only walks trees that appear in paths that introduce new objects.
     This can have significant performance benefits when computing a
     pack to send a small change.  However, it is possible that extra
     objects are added to the pack-file if the included commits contain
     certain types of direct renames.  If this option is not included,
     it defaults to the value of ‘pack.useSparse’, which is true unless
     otherwise specified.

‘--thin’
     Create a "thin" pack by omitting the common objects between a
     sender and a receiver in order to reduce network transfer.  This
     option only makes sense in conjunction with –stdout.

     Note: A thin pack violates the packed archive format by omitting
     required objects and is thus unusable by Git without making it
     self-contained.  Use ‘git index-pack --fix-thin’ (see
     git-index-pack(1)) to restore the self-contained property.

‘--shallow’
     Optimize a pack that will be provided to a client with a shallow
     repository.  This option, combined with –thin, can result in a
     smaller pack at the cost of speed.

‘--delta-base-offset’
     A packed archive can express the base object of a delta as either a
     20-byte object name or as an offset in the stream, but ancient
     versions of Git don’t understand the latter.  By default, _git
     pack-objects_ only uses the former format for better compatibility.
     This option allows the command to use the latter format for
     compactness.  Depending on the average delta chain length, this
     option typically shrinks the resulting packfile by 3-5 per-cent.

     Note: Porcelain commands such as ‘git gc’ (see git-gc(1)), ‘git
     repack’ (see git-repack(1)) pass this option by default in modern
     Git when they put objects in your repository into pack files.  So
     does ‘git bundle’ (see git-bundle(1)) when it creates a bundle.

‘--threads=<n>’
     Specifies the number of threads to spawn when searching for best
     delta matches.  This requires that pack-objects be compiled with
     pthreads otherwise this option is ignored with a warning.  This is
     meant to reduce packing time on multiprocessor machines.  The
     required amount of memory for the delta search window is however
     multiplied by the number of threads.  Specifying 0 will cause Git
     to auto-detect the number of CPU’s and set the number of threads
     accordingly.

‘--index-version=<version>[,<offset>]’
     This is intended to be used by the test suite only.  It allows to
     force the version for the generated pack index, and to force 64-bit
     index entries on objects located above the given offset.

‘--keep-true-parents’
     With this option, parents that are hidden by grafts are packed
     nevertheless.

‘--filter=<filter-spec>’
     Requires ‘--stdout’.  Omits certain objects (usually blobs) from
     the resulting packfile.  See git-rev-list(1) for valid
     ‘<filter-spec>’ forms.

‘--no-filter’
     Turns off any previous ‘--filter=’ argument.

‘--missing=<missing-action>’
     A debug option to help with future "partial clone" development.
     This option specifies how missing objects are handled.

     The form _–missing=error_ requests that pack-objects stop with an
     error if a missing object is encountered.  If the repository is a
     partial clone, an attempt to fetch missing objects will be made
     before declaring them missing.  This is the default action.

     The form _–missing=allow-any_ will allow object traversal to
     continue if a missing object is encountered.  No fetch of a missing
     object will occur.  Missing objects will silently be omitted from
     the results.

     The form _–missing=allow-promisor_ is like _allow-any_, but will
     only allow object traversal to continue for EXPECTED promisor
     missing objects.  No fetch of a missing object will occur.  An
     unexpected missing object will raise an error.

‘--exclude-promisor-objects’
     Omit objects that are known to be in the promisor remote.  (This
     option has the purpose of operating only on locally created
     objects, so that when we repack, we still maintain a distinction
     between locally created objects [without .promisor] and objects
     from the promisor remote [with .promisor].)  This is used with
     partial clone.

‘--keep-unreachable’
     Objects unreachable from the refs in packs named with –unpacked=
     option are added to the resulting pack, in addition to the
     reachable objects that are not in packs marked with *.keep files.
     This implies ‘--revs’.

‘--pack-loose-unreachable’
     Pack unreachable loose objects (and their loose counterparts
     removed).  This implies ‘--revs’.

‘--unpack-unreachable’
     Keep unreachable objects in loose form.  This implies ‘--revs’.

‘--delta-islands’
     「islands」に基づいてデルタのマッチを制限します。 以下の DELTA
     ISLANDS を参照してください。


DELTA ISLANDS
*************

When possible, ‘pack-objects’ tries to reuse existing on-disk deltas to
avoid having to search for new ones on the fly.  This is an important
optimization for serving fetches, because it means the server can avoid
inflating most objects at all and just send the bytes directly from
disk.  This optimization can’t work when an object is stored as a delta
against a base which the receiver does not have (and which we are not
already sending).  In that case the server "breaks" the delta and has to
find a new one, which has a high CPU cost.  Therefore it’s important for
performance that the set of objects in on-disk delta relationships match
what a client would fetch.

   In a normal repository, this tends to work automatically.  The
objects are mostly reachable from the branches and tags, and that’s what
clients fetch.  Any deltas we find on the server are likely to be
between objects the client has or will have.

   But in some repository setups, you may have several related but
separate groups of ref tips, with clients tending to fetch those groups
independently.  For example, imagine that you are hosting several
"forks" of a repository in a single shared object store, and letting
clients view them as separate repositories through ‘GIT_NAMESPACE’ or
separate repos using the alternates mechanism.  A naive repack may find
that the optimal delta for an object is against a base that is only
found in another fork.  But when a client fetches, they will not have
the base object, and we’ll have to find a new delta on the fly.

   A similar situation may exist if you have many refs outside of
‘refs/heads/’ and ‘refs/tags/’ that point to related objects (e.g.,
‘refs/pull’ or ‘refs/changes’ used by some hosting providers).  By
default, clients fetch only heads and tags, and deltas against objects
found only in those other groups cannot be sent as-is.

   Delta islands solve this problem by allowing you to group your refs
into distinct "islands".  Pack-objects computes which objects are
reachable from which islands, and refuses to make a delta from an object
‘A’ against a base which is not present in all of ‘A’’s islands.  This
results in slightly larger packs (because we miss some delta
opportunities), but guarantees that a fetch of one island will not have
to recompute deltas on the fly due to crossing island boundaries.

   When repacking with delta islands the delta window tends to get
clogged with candidates that are forbidden by the config.  Repacking
with a big –window helps (and doesn’t take as long as it otherwise might
because we can reject some object pairs based on islands before doing
any computation on the content).

   Islands are configured via the ‘pack.island’ option, which can be
specified multiple times.  Each value is a left-anchored regular
expressions matching refnames.  For example:

     [pack]
     island = refs/heads/
     island = refs/tags/

   puts heads and tags into an island (whose name is the empty string;
see below for more on naming).  Any refs which do not match those
regular expressions (e.g., ‘refs/pull/123’) is not in any island.  Any
object which is reachable only from ‘refs/pull/’ (but not heads or tags)
is therefore not a candidate to be used as a base for ‘refs/heads/’.

   Refs are grouped into islands based on their "names", and two regexes
that produce the same name are considered to be in the same island.  The
names are computed from the regexes by concatenating any capture groups
from the regex, with a _-_ dash in between.  (And if there are no
capture groups, then the name is the empty string, as in the above
example.)  This allows you to create arbitrary numbers of islands.  Only
up to 14 such capture groups are supported though.

   For example, imagine you store the refs for each fork in
‘refs/virtual/ID’, where ‘ID’ is a numeric identifier.  You might then
configure:

     [pack]
     island = refs/virtual/([0-9]+)/heads/
     island = refs/virtual/([0-9]+)/tags/
     island = refs/virtual/([0-9]+)/(pull)/

   That puts the heads and tags for each fork in their own island (named
"1234" or similar), and the pull refs for each go into their own
"1234-pull".

   Note that we pick a single island for each regex to go into, using
"last one wins" ordering (which allows repo-specific config to take
precedence over user-wide config, and so forth).


CONFIGURATION
*************

Various configuration variables affect packing, see git-config(1)
(search for "pack" and "delta").

   Notably, delta compression is not used on objects larger than the
‘core.bigFileThreshold’ configuration variable and on files with the
attribute ‘delta’ set to false.


SEE ALSO
********

git-rev-list(1) git-repack(1) git-prune-packed(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-pack-redundant,  Up: Top

Name
****

git-pack-redundant — 無駄なパックファイルを探す


Synopsis
********

     git pack-redundant [ –verbose ] [ –alt-odb ] < –all | .pack filename … >


DESCRIPTION
***********

このプログラムは、リポジトリ内のどのパックが無駄であるかを計算します。あ
なたがリポジトリのルートにいる場合、出力は ‘xargsrm’ へのパイプに適して
います。

   _git pack-redundant_ は、標準入力のオブジェクトのリストを受け入れます
。無駄でない必要なパックを確認するとき、指定した任意のオブジェクトはすべ
て無視されます。これにより、到達不能なオブジェクトを含むパックを削除する
場合に、以下のコマンドが役立ちます。

   git fsck –full –unreachable | cut -d ’ ’ -f3 | \ git pack-redundant
–all | xargs rm


OPTIONS
*******

‘--all’
     すべてのパックを処理します。コマンドラインのファイル名はすべて無視
     されます。

‘--alt-odb’
     代替オブジェクトディレクトリのパックに存在するオブジェクトがローカ
     ルパックに存在する必要なしとします。

‘--verbose’
     いくつかの統計をstderrに出力します。 パフォーマンスの低下はわずかで
     す。


SEE ALSO
********

git-pack-objects(1) git-repack(1) git-prune-packed(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-pack-refs,  Up: Top

Name
****

git-pack-refs — 効率的なリポジトリアクセスのためにヘッド(heads)とタグ
(tags)をパックします


Synopsis
********

     git pack-refs [–all] [–no-prune]


DESCRIPTION
***********

旧来、ブランチとタグのヒント(まとめて「refs」と呼ばれます)は、refごとに
1つのファイルを ‘$GIT_DIR/refs’ ディレクトリの下のディレクトリ(サブディ
レクトリ)に保存していました。多くのブランチヒントは頻繁に更新される傾向
がありますが、ほとんどのタグと一部のブランチヒントは更新されません。リポ
ジトリに数百または数千のタグがある場合、この 1ファイル毎に1ref形式 はス
トレージを浪費し、パフォーマンスを低下させます。

   このコマンドは、refを単一のファイル ‘$GIT_DIR/packed-refs’ に保存する
ことにより、ストレージとパフォーマンスの問題を解決するために使用されます
。旧来の ‘$GIT_DIR/refs’ ディレクトリ階層にrefがない場合、このファイルの
中から探し、見つかればそれが使用されます。

   その後のブランチの更新では、常に ‘$GIT_DIR/refs’ ディレクトリ階層の下
に新しいファイルが作成されます。

   refが多すぎるリポジトリを処理するための推奨される方法は、refを
‘--all’ で一度パックし、ときどき ‘git pack-refs’ を実行することです。タ
グは定義上静止しており、変更されることは期待されていません。ブランチヘッ
ドは最初の ‘pack-refs --all’ でパックされますが、現在アクティブなブラン
チヘッドのみはアンパックされ、その後 ‘pack-refs’ ( ‘--all’ なし)ではアン
パックされたままになります。


OPTIONS
*******

‘--all’
     このコマンドはデフォルトでは、すでにパックされているすべてのタグと
     refをパックし、他のrefはそのままにします。これは、ブランチが積極的
     に開発されることが期待されており、そのヒントをパックしてもパフォー
     マンスが向上しないためです。このオプションを使用すると、ブランチの
     ヒントもパックされます。 歴史的な関心のある多くのブランチがあるリポ
     ジトリに役立ちます。

‘--no-prune’
     コマンドは通常、それらをパックした後、 ‘$GIT_DIR/refs’ 階層の下の緩
     いrefを削除します。このオプションは、そうしないように指示します。


BUGS
****

pack-refs メカニズムが導入される前に作成された古い文書では、 "branch
<branch> exists" という意味の場合でも ".git/refs/heads/<branch> file
exists" などと紹介される場合があります。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-patch-id,  Up: Top

Name
****

git-patch-id — パッチの一意のIDを計算します


Synopsis
********

     git patch-id [–stable | –unstable]


DESCRIPTION
***********

標準入力からパッチを読み取り、そのパッチIDを計算します。

   「パッチID」は、パッチに関連付けられたファイル差分のSHA-1の合計に過ぎ
ず、空白と行番号は無視されます。そのため、「適度に安定」していますが、同
時に適度に一意です。つまり、同じ「パッチID」を持つ2つのパッチは、ほぼ同
じものであることが保証されています。

   つまり、これを使用して、重複している可能性のあるコミットを探すことが
できます。

   _git diff-tree_ 出力を処理する場合、パッチの前にコミットのオブジェク
ト名が付いているという事実を利用して、2つの40バイトの16進文字列を出力し
ます。最初の文字列はパッチIDで、2番目の文字列はコミットIDです。これを使
用して、パッチIDからコミットIDへのマッピングを作成できます。


OPTIONS
*******

‘--stable’
     パッチIDとして「安定した」ハッシュの合計を使用します。 このオプショ
     ンを使用すると:

        • パッチを構成するファイル差分を並べ替えても、IDには影響しません
          。特に、 "-O<orderfile>" の異なる2つの設定で同じ2つのツリーを
          比較することによって生成された2つのパッチは、同じパッチIDにな
          ります。これにより、計算結果をキーとして使用して、 2本のツリー
          間の変更に関するメタ情報にインデックスを付ける事ができます。

        • 結果として、 "-O<orderfile>" を使用せずに取得されたdiff出力で
          使用された場合でも、 git 1.9 以前で生成された値、または「
          unstable」ハッシュ(以下 ‘--unstable’ を参照)が構成されたときに
          生成された値とは異なります。これにより、そのような「不安定な」
          または過去のパッチIDを格納している既存のデータベースが使用でき
          なくなります。

               patchid.stable が true に設定されている場合は、こちらがデフォルトになります。

‘--unstable’
     パッチIDとして「不安定な」ハッシュを使用します。このオプションを使
     用すると、生成される結果は git1.9 以前で生成される patch-id 値と互
     換性があります。git 1.9 以前で作成されたパッチIDを保存している既存
     のデータベースを使用しているユーザー(並べ替えられたパッチを処理しな
     いユーザー)は、このオプションを使用することをお勧めします。

          ※これがデフォルトです。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-prune-packed,  Up: Top

Name
****

git-prune-packed — すでにパックファイルにある余分なオブジェクトを削除し
ます


Synopsis
********

     git prune-packed [-n|–dry-run] [-q|–quiet]


DESCRIPTION
***********

このプログラムは、 パックファイルに現在存在するすべてのオブジェクトを、
‘$GIT_OBJECT_DIRECTORY’ で検索し、独立したオブジェクトディレクトリでも検
索します。

   余分なオブジェクトはすべて削除されます。

   パックは、個別に圧縮され、デルタ圧縮が適用され、単一のファイルに格納
され、関連付けられたインデックスファイルを持つオブジェクトのコレクション
です。

   パックは、ミラーシステム、バックアップエンジン、ディスクストレージな
どの負荷を軽減するために使用されます。


OPTIONS
*******

‘-n’
‘--dry-run’
     実際にオブジェクトを削除するのではなく、削除されるはずのオブジェク
     トの表示のみを行います。

‘-q’
‘--quiet’
     進行状況インジケーターを黙らせます。


SEE ALSO
********

git-pack-objects(1) git-repack(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-prune,  Up: Top

Name
****

git-prune — オブジェクトデータベースで、到達不能なすべてのオブジェクトを
剪定(prune)します


Synopsis
********

     git prune [-n] [-v] [–progress] [–expire <time>] [–] [<head>…]


DESCRIPTION
***********

     *Note*

     ほとんどの場合、ユーザーは _git prune_ を呼び出す _git gc_ を実行す
     る必要があります。 以下の「NOTES」セクションを参照してください。

   これは、 ‘refs/’ で使用可能なすべてのrefを使用して _git fsck
–unreachable_ を実行し、オプションでコマンドラインで指定されたオブジェク
トの追加セットを使用して、オブジェクトデータベースのこれらのヘッドオブジ
ェクトから到達できないすべてのアンパックされたオブジェクトを剪定
(prune)します。さらに、「git prune-packed」を実行することにより、パック
内にも同じモノがあるアンパックされたオブジェクトを剪定します。 また、ど
のrefからも到達できないエントリを .git/shallow から削除(removes)します。

   注意: 到達不能なパックされたオブジェクトが残ることに注意してください
。これが望ましくない場合は、 git-repack(1) を参照してください。


OPTIONS
*******

‘-n’
‘--dry-run’
     何も削除しません。何が削除される予定かを報告するだけです。

‘-v’
‘--verbose’
     削除されたすべてのオブジェクトを報告します。

‘--progress’
     進捗状況を表示します。

‘--expire <time>’
     <time> より古いルーズオブジェクトのみを期限切れにします。

‘--’
     これ以降の引数をオプションとして解釈しないでください。

<head>…
     我々の任意の参照から到達可能なオブジェクトに加えて、リストされた
     <head>s から到達可能なオブジェクトを保持します。


EXAMPLES
********

リポジトリで使用されていないオブジェクト、またはリポジトリから
‘.git/objects/info/alternates’ を介して借用しているオブジェクトを剪定
(prune)するには:

     $ git prune $(cd ../another && git rev-parse --all)


NOTES
*****

ほとんどの場合、ユーザーは「git prune」を直接呼び出す必要はありませんが
、代わりに「git gc」を呼び出す必要があります。これは、他の多くのハウスキ
ーピングタスクとともに剪定(plune)を処理します。

   剪定(prune)の対象と見なされるオブジェクトの説明については、「git
fsck」の ‘--unreachable’ オプションを参照してください。


SEE ALSO
********

git-fsck(1), git-gc(1), git-reflog(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-pull,  Up: Top

Name
****

git-pull — Fetch from and integrate with another repository or a local
branch


Synopsis
********

     git pull [<options>] [<repository> [<refspec>…]]


DESCRIPTION
***********

Incorporates changes from a remote repository into the current branch.
If the current branch is behind the remote, then by default it will
fast-forward the current branch to match the remote.  If the current
branch and the remote have diverged, the user needs to specify how to
reconcile the divergent branches with ‘--rebase’ or ‘--no-rebase’ (or
the corresponding configuration option in ‘pull.rebase’).

   More precisely, ‘git pull’ runs ‘git fetch’ with the given parameters
and then depending on configuration options or command line flags, will
call either ‘git rebase’ or ‘git merge’ to reconcile diverging branches.

   <repository> should be the name of a remote repository as passed to
git-fetch(1).  <refspec> can name an arbitrary remote ref (for example,
the name of a tag) or even a collection of refs with corresponding
remote-tracking branches (e.g., refs/heads/*:refs/remotes/origin/*), but
usually it is the name of a branch in the remote repository.

   Default values for <repository> and <branch> are read from the
"remote" and "merge" configuration for the current branch as set by
git-branch(1) ‘--track’.

   Assume the following history exists and the current branch is
"‘master’":

               A---B---C master on origin
              /
         D---E---F---G master
             ^
             origin/master in your repository

   Then "‘git pull’" will fetch and replay the changes from the remote
‘master’ branch since it diverged from the local ‘master’ (i.e., ‘E’)
until its current commit (‘C’) on top of ‘master’ and record the result
in a new commit along with the names of the two parent commits and a log
message from the user describing the changes.

               A---B---C origin/master
              /         \
         D---E---F---G---H master

   See git-merge(1) for details, including how conflicts are presented
and handled.

   In Git 1.7.0 or later, to cancel a conflicting merge, use ‘git reset
--merge’.  *Warning*: In older versions of Git, running _git pull_ with
uncommitted changes is discouraged: while possible, it leaves you in a
state that may be hard to back out of in the case of a conflict.

   If any of the remote changes overlap with local uncommitted changes,
the merge will be automatically canceled and the work tree untouched.
It is generally best to get any local changes in working order before
pulling or stash them away with git-stash(1).


OPTIONS
*******

‘-q’
‘--quiet’
     This is passed to both underlying git-fetch to squelch reporting of
     during transfer, and underlying git-merge to squelch output during
     merging.

‘-v’
‘--verbose’
     Pass –verbose to git-fetch and git-merge.

‘--[no-]recurse-submodules[=yes|on-demand|no]’
     This option controls if new commits of populated submodules should
     be fetched, and if the working trees of active submodules should be
     updated, too (see git-fetch(1), git-config(1) and gitmodules(5)).

     If the checkout is done via rebase, local submodule commits are
     rebased as well.

     If the update is done via merge, the submodule conflicts are
     resolved and checked out.


Options related to merging
==========================

‘--commit’
‘--no-commit’
     Perform the merge and commit the result.  This option can be used
     to override –no-commit.  Only useful when merging.

     With –no-commit perform the merge and stop just before creating a
     merge commit, to give the user a chance to inspect and further
     tweak the merge result before committing.

     Note that fast-forward updates do not create a merge commit and
     therefore there is no way to stop those merges with –no-commit.
     Thus, if you want to ensure your branch is not changed or updated
     by the merge command, use –no-ff with –no-commit.

‘--edit’
‘-e’
‘--no-edit’
     Invoke an editor before committing successful mechanical merge to
     further edit the auto-generated merge message, so that the user can
     explain and justify the merge.  The ‘--no-edit’ option can be used
     to accept the auto-generated message (this is generally
     discouraged).

     Older scripts may depend on the historical behaviour of not
     allowing the user to edit the merge log message.  They will see an
     editor opened when they run ‘git merge’.  To make it easier to
     adjust such scripts to the updated behaviour, the environment
     variable ‘GIT_MERGE_AUTOEDIT’ can be set to ‘no’ at the beginning
     of them.

‘--cleanup=<mode>’
     This option determines how the merge message will be cleaned up
     before committing.  See git-commit(1) for more details.  In
     addition, if the _<mode>_ is given a value of ‘scissors’, scissors
     will be appended to ‘MERGE_MSG’ before being passed on to the
     commit machinery in the case of a merge conflict.

‘--ff-only’
     Only update to the new history if there is no divergent local
     history.  This is the default when no method for reconciling
     divergent histories is provided (via the –rebase=* flags).

‘--ff’
‘--no-ff’
     When merging rather than rebasing, specifies how a merge is handled
     when the merged-in history is already a descendant of the current
     history.  If merging is requested, ‘--ff’ is the default unless
     merging an annotated (and possibly signed) tag that is not stored
     in its natural place in the ‘refs/tags/’ hierarchy, in which case
     ‘--no-ff’ is assumed.

     With ‘--ff’, when possible resolve the merge as a fast-forward
     (only update the branch pointer to match the merged branch; do not
     create a merge commit).  When not possible (when the merged-in
     history is not a descendant of the current history), create a merge
     commit.

     With ‘--no-ff’, create a merge commit in all cases, even when the
     merge could instead be resolved as a fast-forward.

‘-S[<keyid>]’
‘--gpg-sign[=<keyid>]’
‘--no-gpg-sign’
     GPG-sign the resulting merge commit.  The ‘keyid’ argument is
     optional and defaults to the committer identity; if specified, it
     must be stuck to the option without a space.  ‘--no-gpg-sign’ is
     useful to countermand both ‘commit.gpgSign’ configuration variable,
     and earlier ‘--gpg-sign’.

‘--log[=<n>]’
‘--no-log’
     In addition to branch names, populate the log message with one-line
     descriptions from at most <n> actual commits that are being merged.
     See also git-fmt-merge-msg(1).  Only useful when merging.

     With –no-log do not list one-line descriptions from the actual
     commits being merged.

‘--signoff’
‘--no-signoff’
     コミットログメッセージの最後に、コミッターによる「Signed-off-by」ト
     レーラーを追加します。signoffの意味は、コミットしているプロジェクト
     によって異なります。たとえば、コミッターがプロジェクトのライセンス
     に基づいて作品を提出する権利を持っていることを証明したり、開発者の
     原産地証明書などの寄稿者の代表に同意したりする場合があります。
     (LinuxカーネルおよびGitプロジェクトで使用されるものについては、
     http：//developercertificate.orgを参照してください)。プロジェクトで
     signoffがどのように使用されるかを理解するには、貢献しているプロジェ
     クトのドキュメントまたはリーダーシップ(leadership)を参照してくださ
     い。

     ‘--no-signoff’ オプションを使用すると、コマンドラインで以前の
     ‘--signoff’ オプションを無効にすることができます。

‘--stat’
‘-n’
‘--no-stat’
     Show a diffstat at the end of the merge.  The diffstat is also
     controlled by the configuration option merge.stat.

     With -n or –no-stat do not show a diffstat at the end of the merge.

‘--squash’
‘--no-squash’
     Produce the working tree and index state as if a real merge
     happened (except for the merge information), but do not actually
     make a commit, move the ‘HEAD’, or record ‘$GIT_DIR/MERGE_HEAD’ (to
     cause the next ‘git commit’ command to create a merge commit).
     This allows you to create a single commit on top of the current
     branch whose effect is the same as merging another branch (or more
     in case of an octopus).

     With –no-squash perform the merge and commit the result.  This
     option can be used to override –squash.

     With –squash, –commit is not allowed, and will fail.

     Only useful when merging.

‘--no-verify’
     This option bypasses the pre-merge and commit-msg hooks.  See also
     githooks(5).  Only useful when merging.

‘-s <strategy>’
‘--strategy=<strategy>’
     Use the given merge strategy; can be supplied more than once to
     specify them in the order they should be tried.  If there is no
     ‘-s’ option, a built-in list of strategies is used instead (‘ort’
     when merging a single head, ‘octopus’ otherwise).

‘-X <option>’
‘--strategy-option=<option>’
     Pass merge strategy specific option through to the merge strategy.

‘--verify-signatures’
‘--no-verify-signatures’
     Verify that the tip commit of the side branch being merged is
     signed with a valid key, i.e.  a key that has a valid uid: in the
     default trust model, this means the signing key has been signed by
     a trusted key.  If the tip commit of the side branch is not signed
     with a valid key, the merge is aborted.

     Only useful when merging.

‘--summary’
‘--no-summary’
     Synonyms to –stat and –no-stat; these are deprecated and will be
     removed in the future.

‘--autostash’
‘--no-autostash’
     Automatically create a temporary stash entry before the operation
     begins, record it in the special ref ‘MERGE_AUTOSTASH’ and apply it
     after the operation ends.  This means that you can run the
     operation on a dirty worktree.  However, use with care: the final
     stash application after a successful merge might result in
     non-trivial conflicts.

‘--allow-unrelated-histories’
     By default, ‘git merge’ command refuses to merge histories that do
     not share a common ancestor.  This option can be used to override
     this safety when merging histories of two projects that started
     their lives independently.  As that is a very rare occasion, no
     configuration variable to enable this by default exists and will
     not be added.

     Only useful when merging.

‘-r’
‘--rebase[=false|true|merges|preserve|interactive]’
     When true, rebase the current branch on top of the upstream branch
     after fetching.  If there is a remote-tracking branch corresponding
     to the upstream branch and the upstream branch was rebased since
     last fetched, the rebase uses that information to avoid rebasing
     non-local changes.

     When set to ‘merges’, rebase using ‘git rebase --rebase-merges’ so
     that the local merge commits are included in the rebase (see
     git-rebase(1) for details).

     When set to ‘preserve’ (deprecated in favor of ‘merges’), rebase
     with the ‘--preserve-merges’ option passed to ‘git rebase’ so that
     locally created merge commits will not be flattened.

     When false, merge the upstream branch into the current branch.

     When ‘interactive’, enable the interactive mode of rebase.

     See ‘pull.rebase’, ‘branch.<name>.rebase’ and
     ‘branch.autoSetupRebase’ in git-config(1) if you want to make ‘git
     pull’ always use ‘--rebase’ instead of merging.

          *Note*

          This is a potentially _dangerous_ mode of operation.  It
          rewrites history, which does not bode well when you published
          that history already.  Do *not* use this option unless you
          have read git-rebase(1) carefully.

‘--no-rebase’
     This is shorthand for –rebase=false.


Options related to fetching
===========================

‘--all’
     Fetch all remotes.

‘-a’
‘--append’
     Append ref names and object names of fetched refs to the existing
     contents of ‘.git/FETCH_HEAD’.  Without this option old data in
     ‘.git/FETCH_HEAD’ will be overwritten.

‘--atomic’
     Use an atomic transaction to update local refs.  Either all refs
     are updated, or on error, no refs are updated.

‘--depth=<depth>’
     Limit fetching to the specified number of commits from the tip of
     each remote branch history.  If fetching to a _shallow_ repository
     created by ‘git clone’ with ‘--depth=<depth>’ option (see
     git-clone(1)), deepen or shorten the history to the specified
     number of commits.  Tags for the deepened commits are not fetched.

‘--deepen=<depth>’
     Similar to –depth, except it specifies the number of commits from
     the current shallow boundary instead of from the tip of each remote
     branch history.

‘--shallow-since=<date>’
     Deepen or shorten the history of a shallow repository to include
     all reachable commits after <date>.

‘--shallow-exclude=<revision>’
     Deepen or shorten the history of a shallow repository to exclude
     commits reachable from a specified remote branch or tag.  This
     option can be specified multiple times.

‘--unshallow’
     If the source repository is complete, convert a shallow repository
     to a complete one, removing all the limitations imposed by shallow
     repositories.

     If the source repository is shallow, fetch as much as possible so
     that the current repository has the same history as the source
     repository.

‘--update-shallow’
     By default when fetching from a shallow repository, ‘git fetch’
     refuses refs that require updating .git/shallow.  This option
     updates .git/shallow and accept such refs.

‘--negotiation-tip=<commit|glob>’
     By default, Git will report, to the server, commits reachable from
     all local refs to find common commits in an attempt to reduce the
     size of the to-be-received packfile.  If specified, Git will only
     report commits reachable from the given tips.  This is useful to
     speed up fetches when the user knows which local ref is likely to
     have commits in common with the upstream ref being fetched.

     This option may be specified more than once; if so, Git will report
     commits reachable from any of the given commits.

     The argument to this option may be a glob on ref names, a ref, or
     the (possibly abbreviated) SHA-1 of a commit.  Specifying a glob is
     equivalent to specifying this option multiple times, one for each
     matching ref name.

     See also the ‘fetch.negotiationAlgorithm’ and ‘push.negotiate’
     configuration variables documented in git-config(1), and the
     ‘--negotiate-only’ option below.

‘--negotiate-only’
     Do not fetch anything from the server, and instead print the
     ancestors of the provided ‘--negotiation-tip=*’ arguments, which we
     have in common with the server.

     Internally this is used to implement the ‘push.negotiate’ option,
     see git-config(1).

‘--dry-run’
     Show what would be done, without making any changes.

‘-f’
‘--force’
     When _git fetch_ is used with ‘<src>:<dst>’ refspec it may refuse
     to update the local branch as discussed in the ‘<refspec>’ part of
     the git-fetch(1) documentation.  This option overrides that check.

‘-k’
‘--keep’
     Keep downloaded pack.

‘--prefetch’
     Modify the configured refspec to place all refs into the
     ‘refs/prefetch/’ namespace.  See the ‘prefetch’ task in
     git-maintenance(1).

‘-p’
‘--prune’
     Before fetching, remove any remote-tracking references that no
     longer exist on the remote.  Tags are not subject to pruning if
     they are fetched only because of the default tag auto-following or
     due to a –tags option.  However, if tags are fetched due to an
     explicit refspec (either on the command line or in the remote
     configuration, for example if the remote was cloned with the
     –mirror option), then they are also subject to pruning.  Supplying
     ‘--prune-tags’ is a shorthand for providing the tag refspec.

‘--no-tags’
     By default, tags that point at objects that are downloaded from the
     remote repository are fetched and stored locally.  This option
     disables this automatic tag following.  The default behavior for a
     remote may be specified with the remote.<name>.tagOpt setting.  See
     git-config(1).

‘--refmap=<refspec>’
     When fetching refs listed on the command line, use the specified
     refspec (can be given more than once) to map the refs to
     remote-tracking branches, instead of the values of ‘remote.*.fetch’
     configuration variables for the remote repository.  Providing an
     empty ‘<refspec>’ to the ‘--refmap’ option causes Git to ignore the
     configured refspecs and rely entirely on the refspecs supplied as
     command-line arguments.  See section on "Configured Remote-tracking
     Branches" for details.

‘-t’
‘--tags’
     Fetch all tags from the remote (i.e., fetch remote tags
     ‘refs/tags/*’ into local tags with the same name), in addition to
     whatever else would otherwise be fetched.  Using this option alone
     does not subject tags to pruning, even if –prune is used (though
     tags may be pruned anyway if they are also the destination of an
     explicit refspec; see ‘--prune’).

‘-j’
‘--jobs=<n>’
     Number of parallel children to be used for all forms of fetching.

     If the ‘--multiple’ option was specified, the different remotes
     will be fetched in parallel.  If multiple submodules are fetched,
     they will be fetched in parallel.  To control them independently,
     use the config settings ‘fetch.parallel’ and ‘submodule.fetchJobs’
     (see git-config(1)).

     Typically, parallel recursive and multi-remote fetches will be
     faster.  By default fetches are performed sequentially, not in
     parallel.

‘--set-upstream’
     If the remote is fetched successfully, add upstream (tracking)
     reference, used by argument-less git-pull(1) and other commands.
     For more information, see ‘branch.<name>.merge’ and
     ‘branch.<name>.remote’ in git-config(1).

‘--upload-pack <upload-pack>’
     When given, and the repository to fetch from is handled by _git
     fetch-pack_, ‘--exec=<upload-pack>’ is passed to the command to
     specify non-default path for the command run on the other end.

‘--progress’
     Progress status is reported on the standard error stream by default
     when it is attached to a terminal, unless -q is specified.  This
     flag forces progress status even if the standard error stream is
     not directed to a terminal.

‘-o <option>’
‘--server-option=<option>’
     Transmit the given string to the server when communicating using
     protocol version 2.  The given string must not contain a NUL or LF
     character.  The server’s handling of server options, including
     unknown ones, is server-specific.  When multiple
     ‘--server-option=<option>’ are given, they are all sent to the
     other side in the order listed on the command line.

‘--show-forced-updates’
     By default, git checks if a branch is force-updated during fetch.
     This can be disabled through fetch.showForcedUpdates, but the
     –show-forced-updates option guarantees this check occurs.  See
     git-config(1).

‘--no-show-forced-updates’
     By default, git checks if a branch is force-updated during fetch.
     Pass –no-show-forced-updates or set fetch.showForcedUpdates to
     false to skip this check for performance reasons.  If used during
     _git-pull_ the –ff-only option will still check for forced updates
     before attempting a fast-forward update.  See git-config(1).

‘-4’
‘--ipv4’
     Use IPv4 addresses only, ignoring IPv6 addresses.

‘-6’
‘--ipv6’
     Use IPv6 addresses only, ignoring IPv4 addresses.

<repository>
     フェッチまたはプル操作のソースである「リモート」リポジトリ。このパ
     ラメーターは、URL(以下の GIT URLS セクションを参照)またはリモートの
     名前(以下の REMOTES セクションを参照)のいずれかです。

<refspec>
     フェッチするrefと更新するローカルrefを指定します。コマンドラインに
     <refspec> がない場合、フェッチするrefは代わりに
     ‘remote.<repository>.fetch’ 変数から読み取られます。 (git-fetch(1)
     の 「CONFIGURED REMOTE-TRACKING BRANCHES」セクション参照)

     <refspec> パラメータの組織は、オプションのプラス ‘+’ に続いて ソー
     スの <src> 、コロン ‘:’ 宛先refの <dst> の順です。 <dst> が空の場合
     、コロン(‘:’)は省略できます。 <src> は通常、refですが、フルスペルの
     16進オブジェクト名にすることもできます。

     <refspec> の <src> には、単純なパターン一致を示すための ‘*’ が含ま
     れている場合があります。このようなrefspecは、同じプレフィックスを持
     つ任意のrefに一致するglobのように機能します。パターン<refspec>では
     、 <src> と <dst> の両方に ‘*’ が含まれている必要があります。 ‘*’ を
     ソースから一致したコンテンツに置き換えることにより、refを宛先にマッ
     ピングします。

     refspecの前に ‘^’ が付いている場合、それはネガティブのrefspecとして
     解釈されます。このようなrefspecは、フェッチするrefや更新するローカ
     ルrefを指定するのではなく、除外するrefを指定します。 refは、少なく
     とも1つのポジティブ(通常)のrefspecと一致し、ネガティブのrefspecと一
     致しない場合、一致すると見なされます。ネガティブのrefspecは、特定の
     refが含まれないように、パターンrefspecのスコープを制限するのに役立
     ちます。ネガティブのrefspecは、それ自体がパターンrefspecである可能
     性があります。 ただし、 <src> のみを含めることができ、 <dst> を指定
     することはできません。 フルスペルの16進オブジェクト名もサポートされ
     ていません。

     ‘tag <tag>’ は、 ‘refs/tags/<tag>:refs/tags/<tag>’ と同じ意味です。
     指定されたタグまでのすべてをフェッチするように要求します。

     <src> に一致するリモートrefがフェッチされ、 <dst> が空の文字列でな
     い場合は、それに一致するローカルrefを更新しようとします。

     その更新が ‘--force’ なしで許可されるかどうかは、フェッチ先のref名
     前空間、フェッチされるオブジェクトのタイプ、および更新が
     fast-forwardであると見なされるかどうかによって異なります。一般に、
     プッシュする場合と同じルールがフェッチに適用されます。それらが何で
     あるかについては、 git-push(1)の ‘<refspec>...’ セクションを参照し
     てください。 _git fetch_ に固有の例外ルールを以下に示します。

     Gitバージョン2.20までは、 git-push(1) でプッシュする場合とは異なり
     、 ‘refs/tags/*’ の更新は、 refspec に ‘+’ がなくても(または
     ‘--force’ 指定が無くても)受け入れられます。フェッチするとき、リモー
     トからのすべてのタグ更新を強制フェッチとしていました。Gitバージョン
     2.20以降では、 ‘refs/tags/*’ を更新するためのフェッチは、プッシュす
     る場合と同じように機能します。 つまり refspecに ‘+’ が無い場合(また
     は ‘--force’ が無い場合)、更新は拒否されます。

     git-push(1) でプッシュするときとは異なり、 ‘refs/{tags,heads}/*’ 以
     外の更新は、 refspecに ‘+’ がなくても(あるいは ‘--force’ 指定が無く
     ても)受け付けられます。例えば、ツリーオブジェクトとブロブを交換した
     り、あるコミットを、祖先を持たない別のコミットと交換したりできます
     。

     git-push(1) でプッシュする場合とは異なり、これらのルールを修正する
     構成はなく、 ‘pre-receive’ フックに類似した ‘pre-fetch’ フックのよ
     うなものはありません。

     git-push(1) を使用したプッシュと同様に、更新として許可されないもの
     に関する上記のすべてのルールは、refspec先頭にオプションで ‘+’ をに
     追加する(または ‘--force’ コマンドラインオプションを使用する)ことで
     オーバーライドできます。これに対する唯一の例外は、 ‘refs/heads/*’ 名
     前空間が非コミットオブジェクトを受け入れるように強制することはない
     ということです。

          *Note*

          フェッチするリモートブランチが定期的に巻き戻されてリベースされ
          ることがわかっている場合、その新しい先端は(最後にフェッチした
          ときにリモートトラッキングブランチに保存された)以前の先端の子
          孫ではないことが予想されます。あなたは ‘+’ 記号を使用して、そ
          のようなブランチにnon-fast-forwardの更新が必要であることを指示
          します。この操作でブランチがリポジトリで使用可能になることを決
          定または宣言する方法はありません。プルするユーザーは、これがブ
          ランチの予想される使用パターンであることを知っている必要があり
          ます。

          *Note*

          _git pull_ コマンドラインに直接複数の <refspec> をリストするこ
          とと、 <repository> の構成に複数の ‘remote.<repository>.fetch’
          エントリを含めることと、明示的な <refspec> パラメーターなしで
          _git pull_ コマンドを実行することには違いがあります。コマンド
          ラインに明示的にリストされている <refspec> は、フェッチ後に常
          に現在のブランチにマージされます。いいかえると、複数のリモート
          refをリストする場合 ‘git pull’ はOctopusマージを作成します。一
          方、コマンドラインに明示的な <refspec> パラメータをリストしな
          い場合 _git pull_ は ‘remote.<repository>.fetch’ 構成で見つか
          ったすべての <refspec> をフェッチし、最初に見つかった
          <refspec> のみを現在のブランチにマージします。これはリモート
          refからOctopusを作成することはめったに行われない為ですが、複数
          のリモートヘッドを追跡するために複数のリモートヘッドを一度にフ
          ェッチすると便利なことがよくあります。


GIT URLS
********

一般に、URLには、トランスポートプロトコル、リモートサーバーのアドレス、
およびリポジトリへのパスに関する情報が含まれています。トランスポートプロ
トコルによっては、一部の情報が欠落している場合があります。

   Gitはsshとgitとhttpとhttpsプロトコルをサポートします(さらにftpと
ftpsをフェッチに使用できますが、これは非効率的で非推奨です。使用しないで
ください)。

   ネイティブトランスポート(つまり、 git:// URL)は認証を行わないため、セ
キュリティで保護されていないネットワークでは注意して使用する必要がありま
す。

   以下の構文を使用できます:

   • ssh://[user@]host.xz[:port]/path/to/repo.git/

   • git://host.xz[:port]/path/to/repo.git/

   • http[s]://host.xz[:port]/path/to/repo.git/

   • ftp[s]://host.xz[:port]/path/to/repo.git/

   代替のscpのような構文をsshプロトコルで使用することもできます:

   • [user@]host.xz:path/to/repo.git/

   この構文は、最初のコロン(:)の前にスラッシュがない場合にのみ認識されま
す。これは、コロンを含むローカルパスを区別するのに役立ちます。たとえば、
ローカルパス ‘foo:bar’ を、絶対パスまたは ‘./foo:bar’ として指定して、
ssh url として誤って解釈されないようにすることができます。

   sshおよびgitプロトコルは、さらに ~username 拡張をサポートします:

   • ssh://[user@]host.xz[:port]/~[user]/path/to/repo.git/

   • git://host.xz[:port]/~[user]/path/to/repo.git/

   • [user@]host.xz:/~[user]/path/to/repo.git/

   Gitでもネイティブにサポートされているローカルリポジトリの場合、以下の
構文を使用できます:

   • /path/to/repo.git/

   • file:///path/to/repo.git/

   これらの2つの構文は、前者が ‘--local’ オプションの機能を含むクローン
作成の場合を除いて、ほとんど同等です。 詳細については、 git-clone(1) を
参照してください。

   「git clone」と「git fetch」と「git pull」は、「git push」と違って適
切なバンドルファイルを受け入れます。 git-bundle(1) を参照してください。

   Gitが特定のトランスポートプロトコルを処理する方法を知らない場合、
Gitは _remote-<transport>_ リモートヘルパー(存在する場合)を使用しようと
します。リモートヘルパーを明示的に要求するには、以下の構文を使用できます
:

   • <transport>::<address>

   ここで、 <address> は、パス、サーバーとパス、または呼び出されている特
定のリモートヘルパーによって認識される任意のURLのような文字列です。詳細
については、 gitremote-helpers(7) を参照してください。

   同じ名前のリモートリポジトリが多数あり、それらに異なる形式を使用する
場合(あなたの使用するURLが機能するURLに書き換えられるように)、以下の形式
の構成セクションを作成できます:

             [url "<actual url base>"]
                     insteadOf = <other url base>

   例えば、以下のようになります:

             [url "git://git.host.xz/"]
                     insteadOf = host.xz:/path/to/
                     insteadOf = work:

   "work:repo.git" や "host.xz:/path/to/repo.git" のようなURLは、任意の
コンテキストで、"git://git.host.xz/repo.git" に書き換えられます。

   プッシュ専用のURLを書き換えたい場合は、以下の形式の構成セクションを作
成できます:

             [url "<actual url base>"]
                     pushInsteadOf = <other url base>

   例えば、以下のようになります:

             [url "ssh://example.org/"]
                     pushInsteadOf = git://example.org/

   "git://example.org/path/to/repo.git" のようなURLは、プッシュの場合は
"ssh://example.org/path/to/repo.git" に書き換えられますが、プルは引き続
き元のURLのままです。


REMOTES
*******

‘<repository>’ 引数として、URLの代わりに以下のいずれかの名前を使用できま
す:

   • Git構成ファイル(configuration file)内のリモート(remote)として、
     ‘$GIT_DIR/config’ または

   • ‘$GIT_DIR/remotes’ ディレクトリ内のファイル または

   • ‘$GIT_DIR/branches’ ディレクトリ内のファイル

   これらはすべて、gitがデフォルトで使用するrefspecをそれぞれ含んでいる
ため、コマンドラインからrefspecを省略できます。


Named remote in configuration file
==================================

あなたは、 git-remote(1) を使うか、または git-config(1) を使うか、または
‘$GIT_DIR/config’ ファイルを手動で編集して、これ以前に構成したリモートの
名前から選択できます。このリモートのURLは、リポジトリへのアクセスに使用
されます。コマンドラインでrefspecを指定しない場合、このリモートの
refspecがデフォルトで使用されます。構成ファイルのエントリは以下のように
なります:

             [remote "<name>"]
                     url = <url>
                     pushurl = <pushurl>
                     push = <refspec>
                     fetch = <refspec>

   ‘<pushurl>’ はプッシュにのみ使用されます。 これはオプションであり、デ
フォルトは ‘<url>’ です。


Named file in $GIT_DIR/remotes
==============================

あなたは、 ‘$GIT_DIR/remotes’ でファイル名を指定できます。このファイルの
URLは、リポジトリへのアクセスに使用されます。コマンドラインでrefspecを指
定しない場合、このファイルのrefspecがデフォルトとして使用されます。この
ファイルの形式は以下のとおりです:

             URL: one of the above URL format
             Push: <refspec>
             Pull: <refspec>

   ‘Push:’ 行は _git push_ で使用され、 ‘Pull:’ 行は _git pull_ と _git
fetch_ で使用されます。追加のブランチマッピングのために、複数の ‘Push:’
および ‘Pull:’ 行を指定できます。


Named file in $GIT_DIR/branches
===============================

‘$GIT_DIR/branches’ でファイル名を指定できます。このファイルのURLは、リ
ポジトリへのアクセスに使用されます。 このファイルの形式は以下のとおりで
す:

             <url>#<head>

   ‘<url>’ は必須です。 ‘#<head>’ はオプションです。

   コマンドラインで指定しない場合、操作に応じて、gitは以下のrefspecのい
ずれかを使用します。 ‘<branch>’ は ‘$GIT_DIR/branchs’ 内のこのファイルの
名前であり、 ‘<head>`はデフォルトで `master’ になります。

   git fetch は以下を使用します:

             refs/heads/<head>:refs/heads/<branch>

   git push は以下を使用します:

             HEAD:refs/heads/<head>


MERGE STRATEGIES
****************

The merge mechanism (‘git merge’ and ‘git pull’ commands) allows the
backend _merge strategies_ to be chosen with ‘-s’ option.  Some
strategies can also take their own options, which can be passed by
giving ‘-X<option>’ arguments to ‘git merge’ and/or ‘git pull’.

ort
     This is the default merge strategy when pulling or merging one
     branch.  This strategy can only resolve two heads using a 3-way
     merge algorithm.  When there is more than one common ancestor that
     can be used for 3-way merge, it creates a merged tree of the common
     ancestors and uses that as the reference tree for the 3-way merge.
     This has been reported to result in fewer merge conflicts without
     causing mismerges by tests done on actual merge commits taken from
     Linux 2.6 kernel development history.  Additionally this strategy
     can detect and handle merges involving renames.  It does not make
     use of detected copies.  The name for this algorithm is an acronym
     ("Ostensibly Recursive’s Twin") and came from the fact that it was
     written as a replacement for the previous default algorithm,
     ‘recursive’.

     The _ort_ strategy can take the following options:

     ours
          This option forces conflicting hunks to be auto-resolved
          cleanly by favoring _our_ version.  Changes from the other
          tree that do not conflict with our side are reflected in the
          merge result.  For a binary file, the entire contents are
          taken from our side.

          This should not be confused with the _ours_ merge strategy,
          which does not even look at what the other tree contains at
          all.  It discards everything the other tree did, declaring
          _our_ history contains all that happened in it.

     theirs
          This is the opposite of _ours_; note that, unlike _ours_,
          there is no _theirs_ merge strategy to confuse this merge
          option with.

     ignore-space-change
     ignore-all-space
     ignore-space-at-eol
     ignore-cr-at-eol
          Treats lines with the indicated type of whitespace change as
          unchanged for the sake of a three-way merge.  Whitespace
          changes mixed with other changes to a line are not ignored.
          See also git-diff(1) ‘-b’, ‘-w’, ‘--ignore-space-at-eol’, and
          ‘--ignore-cr-at-eol’.

             • If _their_ version only introduces whitespace changes to
               a line, _our_ version is used;

             • If _our_ version introduces whitespace changes but
               _their_ version includes a substantial change, _their_
               version is used;

             • Otherwise, the merge proceeds in the usual way.

     renormalize
          This runs a virtual check-out and check-in of all three stages
          of a file when resolving a three-way merge.  This option is
          meant to be used when merging branches with different clean
          filters or end-of-line normalization rules.  See "Merging
          branches with differing checkin/checkout attributes" in
          gitattributes(5) for details.

     no-renormalize
          Disables the ‘renormalize’ option.  This overrides the
          ‘merge.renormalize’ configuration variable.

     find-renames[=<n>]
          Turn on rename detection, optionally setting the similarity
          threshold.  This is the default.  This overrides the
          _merge.renames_ configuration variable.  See also git-diff(1)
          ‘--find-renames’.

     rename-threshold=<n>
          Deprecated synonym for ‘find-renames=<n>’.

     subtree[=<path>]
          This option is a more advanced form of _subtree_ strategy,
          where the strategy makes a guess on how two trees must be
          shifted to match with each other when merging.  Instead, the
          specified path is prefixed (or stripped from the beginning) to
          make the shape of two trees to match.

recursive
     This can only resolve two heads using a 3-way merge algorithm.
     When there is more than one common ancestor that can be used for
     3-way merge, it creates a merged tree of the common ancestors and
     uses that as the reference tree for the 3-way merge.  This has been
     reported to result in fewer merge conflicts without causing
     mismerges by tests done on actual merge commits taken from Linux
     2.6 kernel development history.  Additionally this can detect and
     handle merges involving renames.  It does not make use of detected
     copies.  This was the default strategy for resolving two heads from
     Git v0.99.9k until v2.33.0.

     The _recursive_ strategy takes the same options as _ort_.  However,
     there are three additional options that _ort_ ignores (not
     documented above) that are potentially useful with the _recursive_
     strategy:

     patience
          Deprecated synonym for ‘diff-algorithm=patience’.

     diff-algorithm=[patience|minimal|histogram|myers]
          Use a different diff algorithm while merging, which can help
          avoid mismerges that occur due to unimportant matching lines
          (such as braces from distinct functions).  See also
          git-diff(1) ‘--diff-algorithm’.  Note that ‘ort’ specifically
          uses ‘diff-algorithm=histogram’, while ‘recursive’ defaults to
          the ‘diff.algorithm’ config setting.

     no-renames
          Turn off rename detection.  This overrides the ‘merge.renames’
          configuration variable.  See also git-diff(1) ‘--no-renames’.

resolve
     This can only resolve two heads (i.e.  the current branch and
     another branch you pulled from) using a 3-way merge algorithm.  It
     tries to carefully detect criss-cross merge ambiguities.  It does
     not handle renames.

octopus
     This resolves cases with more than two heads, but refuses to do a
     complex merge that needs manual resolution.  It is primarily meant
     to be used for bundling topic branch heads together.  This is the
     default merge strategy when pulling or merging more than one
     branch.

ours
     This resolves any number of heads, but the resulting tree of the
     merge is always that of the current branch head, effectively
     ignoring all changes from all other branches.  It is meant to be
     used to supersede old development history of side branches.  Note
     that this is different from the -Xours option to the _recursive_
     merge strategy.

subtree
     This is a modified ‘ort’ strategy.  When merging trees A and B, if
     B corresponds to a subtree of A, B is first adjusted to match the
     tree structure of A, instead of reading the trees at the same
     level.  This adjustment is also done to the common ancestor tree.

   With the strategies that use 3-way merge (including the default,
_ort_), if a change is made on both branches, but later reverted on one
of the branches, that change will be present in the merged result; some
people find this behavior confusing.  It occurs because only the heads
and the merge base are considered when performing a merge, not the
individual commits.  The merge algorithm therefore considers the
reverted change as no change at all, and substitutes the changed version
instead.


DEFAULT BEHAVIOUR
*****************

Often people use ‘git pull’ without giving any parameter.
Traditionally, this has been equivalent to saying ‘git pull origin’.
However, when configuration ‘branch.<name>.remote’ is present while on
branch ‘<name>’, that value is used instead of ‘origin’.

   In order to determine what URL to use to fetch from, the value of the
configuration ‘remote.<origin>.url’ is consulted and if there is not any
such variable, the value on the ‘URL:’ line in
‘$GIT_DIR/remotes/<origin>’ is used.

   In order to determine what remote branches to fetch (and optionally
store in the remote-tracking branches) when the command is run without
any refspec parameters on the command line, values of the configuration
variable ‘remote.<origin>.fetch’ are consulted, and if there aren’t any,
‘$GIT_DIR/remotes/<origin>’ is consulted and its ‘Pull:’ lines are used.
In addition to the refspec formats described in the OPTIONS section, you
can have a globbing refspec that looks like this:

     refs/heads/*:refs/remotes/origin/*

   A globbing refspec must have a non-empty RHS (i.e.  must store what
were fetched in remote-tracking branches), and its LHS and RHS must end
with ‘/*’.  The above specifies that all remote branches are tracked
using remote-tracking branches in ‘refs/remotes/origin/’ hierarchy under
the same name.

   The rule to determine which remote branch to merge after fetching is
a bit involved, in order not to break backward compatibility.

   If explicit refspecs were given on the command line of ‘git pull’,
they are all merged.

   When no refspec was given on the command line, then ‘git pull’ uses
the refspec from the configuration or ‘$GIT_DIR/remotes/<origin>’.  In
such cases, the following rules apply:

  1. If ‘branch.<name>.merge’ configuration for the current branch
     ‘<name>’ exists, that is the name of the branch at the remote site
     that is merged.

  2. If the refspec is a globbing one, nothing is merged.

  3. Otherwise the remote branch of the first refspec is merged.


EXAMPLES
********

   • Update the remote-tracking branches for the repository you cloned
     from, then merge one of them into your current branch:

          $ git pull
          $ git pull origin

     Normally the branch merged in is the HEAD of the remote repository,
     but the choice is determined by the branch.<name>.remote and
     branch.<name>.merge options; see git-config(1) for details.

   • Merge into the current branch the remote branch ‘next’:

          $ git pull origin next

     This leaves a copy of ‘next’ temporarily in FETCH_HEAD, and updates
     the remote-tracking branch ‘origin/next’.  The same can be done by
     invoking fetch and merge:

          $ git fetch origin
          $ git merge origin/next

   If you tried a pull which resulted in complex conflicts and would
want to start over, you can recover with _git reset_.


SECURITY
********

フェッチおよびプッシュプロトコルは、共有することを意図していない一方の側
が他方のリポジトリからデータを盗むのを防ぐようには設計されていません。悪
意のある者から保護する必要のあるプライベートデータがある場合、最善のオプ
ションはそれを別のリポジトリに保存することです。これは、クライアントとサ
ーバーの両方に適用されます。特に、サーバー上の名前空間は、読み取りアクセ
ス制御には効果的ではありません。リポジトリ全体への読み取りアクセスで信頼
できるクライアントにのみ、名前空間への読み取りアクセスを許可する必要があ
ります。

   既知の攻撃ベクトル(attack vectors)は以下のとおりです:

  1. 被害者は、明示的に共有することを意図していないオブジェクトのIDをア
     ドバタイズする "have" 行を送信しますが、他にもIDを持っている者が居
     る場合は、転送を最適化するために使用できます。攻撃者はオブジェクト
     ID Xを選択して盗み、refをXに送信しますが、被害者はすでにXのコンテン
     ツを持っているため、Xのコンテンツを送信する必要はありません。 これ
     で、被害者は攻撃者がXを持っていると信じ、Xのコンテンツを後で攻撃者
     に送り返します。 (この攻撃は、クライアントがアクセスできる名前空間
     にXへのrefを作成してフェッチすることにより、クライアントがサーバー
     上で実行するのが最も簡単です。サーバーがクライアント上で実行する最
     も可能性の高い方法は、Xをパブリックブランチにマージし、ユーザーがこ
     のブランチで追加の作業を行い、マージに気付かずにサーバーにプッシュ
     バックすることを期待します。)

  2. #1 と同様に、攻撃者は盗むオブジェクトID Xを選択します。被害者は、攻
     撃者がすでに持っているオブジェクトYを送信し、攻撃者はYではなくXを持
     っていると誤って主張するため、被害者はYをXに対するデルタとして送信
     します。デルタは、攻撃者にYに類似したXの領域を明らかにします。


BUGS
****

Using –recurse-submodules can only fetch new commits in already checked
out submodules right now.  When e.g.  upstream added a new submodule in
the just fetched commits of the superproject the submodule itself cannot
be fetched, making it impossible to check out that submodule later
without having to do a fetch again.  This is expected to be fixed in a
future Git version.


SEE ALSO
********

git-fetch(1), git-merge(1), git-config(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-push,  Up: Top

Name
****

git-push — Update remote refs along with associated objects


Synopsis
********

     git push [–all | –mirror | –tags] [–follow-tags] [–atomic] [-n | –dry-run] [–receive-pack=<git-receive-pack>]
                [–repo=<repository>] [-f | –force] [-d | –delete] [–prune] [-v | –verbose]
                [-u | –set-upstream] [-o <string> | –push-option=<string>]
                [–[no-]signed|–signed=(true|false|if-asked)]
                [–force-with-lease[=<refname>[:<expect>]] [–force-if-includes]]
                [–no-verify] [<repository> [<refspec>…]]


DESCRIPTION
***********

Updates remote refs using local refs, while sending objects necessary to
complete the given refs.

   You can make interesting things happen to a repository every time you
push into it, by setting up _hooks_ there.  See documentation for
git-receive-pack(1).

   When the command line does not specify where to push with the
‘<repository>’ argument, ‘branch.*.remote’ configuration for the current
branch is consulted to determine where to push.  If the configuration is
missing, it defaults to _origin_.

   When the command line does not specify what to push with
‘<refspec>...’ arguments or ‘--all’, ‘--mirror’, ‘--tags’ options, the
command finds the default ‘<refspec>’ by consulting ‘remote.*.push’
configuration, and if it is not found, honors ‘push.default’
configuration to decide what to push (See git-config(1) for the meaning
of ‘push.default’).

   When neither the command-line nor the configuration specify what to
push, the default behavior is used, which corresponds to the ‘simple’
value for ‘push.default’: the current branch is pushed to the
corresponding upstream branch, but as a safety measure, the push is
aborted if the upstream branch does not have the same name as the local
one.


OPTIONS
*******

<repository>
     The "remote" repository that is destination of a push operation.
     This parameter can be either a URL (see the section GIT URLS below)
     or the name of a remote (see the section REMOTES below).

<refspec>…
     Specify what destination ref to update with what source object.
     The format of a <refspec> parameter is an optional plus ‘+’,
     followed by the source object <src>, followed by a colon ‘:’,
     followed by the destination ref <dst>.

     The <src> is often the name of the branch you would want to push,
     but it can be any arbitrary "SHA-1 expression", such as ‘master~4’
     or ‘HEAD’ (see gitrevisions(7)).

     The <dst> tells which ref on the remote side is updated with this
     push.  Arbitrary expressions cannot be used here, an actual ref
     must be named.  If ‘git push [<repository>]’ without any
     ‘<refspec>’ argument is set to update some ref at the destination
     with ‘<src>’ with ‘remote.<repository>.push’ configuration
     variable, ‘:<dst>’ part can be omitted—such a push will update a
     ref that ‘<src>’ normally updates without any ‘<refspec>’ on the
     command line.  Otherwise, missing ‘:<dst>’ means to update the same
     ref as the ‘<src>’.

     If <dst> doesn’t start with ‘refs/’ (e.g.  ‘refs/heads/master’) we
     will try to infer where in ‘refs/*’ on the destination <repository>
     it belongs based on the type of <src> being pushed and whether
     <dst> is ambiguous.

        • If <dst> unambiguously refers to a ref on the <repository>
          remote, then push to that ref.

        • If <src> resolves to a ref starting with refs/heads/ or
          refs/tags/, then prepend that to <dst>.

        • Other ambiguity resolutions might be added in the future, but
          for now any other cases will error out with an error
          indicating what we tried, and depending on the
          ‘advice.pushUnqualifiedRefname’ configuration (see
          git-config(1)) suggest what refs/ namespace you may have
          wanted to push to.

     The object referenced by <src> is used to update the <dst>
     reference on the remote side.  Whether this is allowed depends on
     where in ‘refs/*’ the <dst> reference lives as described in detail
     below, in those sections "update" means any modifications except
     deletes, which as noted after the next few sections are treated
     differently.

     The ‘refs/heads/*’ namespace will only accept commit objects, and
     updates only if they can be fast-forwarded.

     The ‘refs/tags/*’ namespace will accept any kind of object (as
     commits, trees and blobs can be tagged), and any updates to them
     will be rejected.

     It’s possible to push any type of object to any namespace outside
     of ‘refs/{tags,heads}/*’.  In the case of tags and commits, these
     will be treated as if they were the commits inside ‘refs/heads/*’
     for the purposes of whether the update is allowed.

     I.e.  a fast-forward of commits and tags outside
     ‘refs/{tags,heads}/*’ is allowed, even in cases where what’s being
     fast-forwarded is not a commit, but a tag object which happens to
     point to a new commit which is a fast-forward of the commit the
     last tag (or commit) it’s replacing.  Replacing a tag with an
     entirely different tag is also allowed, if it points to the same
     commit, as well as pushing a peeled tag, i.e.  pushing the commit
     that existing tag object points to, or a new tag object which an
     existing commit points to.

     Tree and blob objects outside of ‘refs/{tags,heads}/*’ will be
     treated the same way as if they were inside ‘refs/tags/*’, any
     update of them will be rejected.

     All of the rules described above about what’s not allowed as an
     update can be overridden by adding an the optional leading ‘+’ to a
     refspec (or using ‘--force’ command line option).  The only
     exception to this is that no amount of forcing will make the
     ‘refs/heads/*’ namespace accept a non-commit object.  Hooks and
     configuration can also override or amend these rules, see e.g.
     ‘receive.denyNonFastForwards’ in git-config(1) and ‘pre-receive’
     and ‘update’ in githooks(5).

     Pushing an empty <src> allows you to delete the <dst> ref from the
     remote repository.  Deletions are always accepted without a leading
     ‘+’ in the refspec (or ‘--force’), except when forbidden by
     configuration or hooks.  See ‘receive.denyDeletes’ in git-config(1)
     and ‘pre-receive’ and ‘update’ in githooks(5).

     The special refspec ‘:’ (or ‘+:’ to allow non-fast-forward updates)
     directs Git to push "matching" branches: for every branch that
     exists on the local side, the remote side is updated if a branch of
     the same name already exists on the remote side.

     ‘tag <tag>’ means the same as ‘refs/tags/<tag>:refs/tags/<tag>’.

‘--all’
     Push all branches (i.e.  refs under ‘refs/heads/’); cannot be used
     with other <refspec>.

‘--prune’
     Remove remote branches that don’t have a local counterpart.  For
     example a remote branch ‘tmp’ will be removed if a local branch
     with the same name doesn’t exist any more.  This also respects
     refspecs, e.g.  ‘git push --prune remote refs/heads/*:refs/tmp/*’
     would make sure that remote ‘refs/tmp/foo’ will be removed if
     ‘refs/heads/foo’ doesn’t exist.

‘--mirror’
     Instead of naming each ref to push, specifies that all refs under
     ‘refs/’ (which includes but is not limited to ‘refs/heads/’,
     ‘refs/remotes/’, and ‘refs/tags/’) be mirrored to the remote
     repository.  Newly created local refs will be pushed to the remote
     end, locally updated refs will be force updated on the remote end,
     and deleted refs will be removed from the remote end.  This is the
     default if the configuration option ‘remote.<remote>.mirror’ is
     set.

‘-n’
‘--dry-run’
     Do everything except actually send the updates.

‘--porcelain’
     Produce machine-readable output.  The output status line for each
     ref will be tab-separated and sent to stdout instead of stderr.
     The full symbolic names of the refs will be given.

‘-d’
‘--delete’
     All listed refs are deleted from the remote repository.  This is
     the same as prefixing all refs with a colon.

‘--tags’
     All refs under ‘refs/tags’ are pushed, in addition to refspecs
     explicitly listed on the command line.

‘--follow-tags’
     Push all the refs that would be pushed without this option, and
     also push annotated tags in ‘refs/tags’ that are missing from the
     remote but are pointing at commit-ish that are reachable from the
     refs being pushed.  This can also be specified with configuration
     variable ‘push.followTags’.  For more information, see
     ‘push.followTags’ in git-config(1).

‘--[no-]signed’
‘--signed=(true|false|if-asked)’
     GPG-sign the push request to update refs on the receiving side, to
     allow it to be checked by the hooks and/or be logged.  If ‘false’
     or ‘--no-signed’, no signing will be attempted.  If ‘true’ or
     ‘--signed’, the push will fail if the server does not support
     signed pushes.  If set to ‘if-asked’, sign if and only if the
     server supports signed pushes.  The push will also fail if the
     actual call to ‘gpg --sign’ fails.  See git-receive-pack(1) for the
     details on the receiving end.

‘--[no-]atomic’
     Use an atomic transaction on the remote side if available.  Either
     all refs are updated, or on error, no refs are updated.  If the
     server does not support atomic pushes the push will fail.

‘-o <option>’
‘--push-option=<option>’
     Transmit the given string to the server, which passes them to the
     pre-receive as well as the post-receive hook.  The given string
     must not contain a NUL or LF character.  When multiple
     ‘--push-option=<option>’ are given, they are all sent to the other
     side in the order listed on the command line.  When no
     ‘--push-option=<option>’ is given from the command line, the values
     of configuration variable ‘push.pushOption’ are used instead.

‘--receive-pack=<git-receive-pack>’
‘--exec=<git-receive-pack>’
     Path to the _git-receive-pack_ program on the remote end.
     Sometimes useful when pushing to a remote repository over ssh, and
     you do not have the program in a directory on the default $PATH.

‘--[no-]force-with-lease’
‘--force-with-lease=<refname>’
‘--force-with-lease=<refname>:<expect>’
     Usually, "git push" refuses to update a remote ref that is not an
     ancestor of the local ref used to overwrite it.

     This option overrides this restriction if the current value of the
     remote ref is the expected value.  "git push" fails otherwise.

     Imagine that you have to rebase what you have already published.
     You will have to bypass the "must fast-forward" rule in order to
     replace the history you originally published with the rebased
     history.  If somebody else built on top of your original history
     while you are rebasing, the tip of the branch at the remote may
     advance with their commit, and blindly pushing with ‘--force’ will
     lose their work.

     This option allows you to say that you expect the history you are
     updating is what you rebased and want to replace.  If the remote
     ref still points at the commit you specified, you can be sure that
     no other people did anything to the ref.  It is like taking a
     "lease" on the ref without explicitly locking it, and the remote
     ref is updated only if the "lease" is still valid.

     ‘--force-with-lease’ alone, without specifying the details, will
     protect all remote refs that are going to be updated by requiring
     their current value to be the same as the remote-tracking branch we
     have for them.

     ‘--force-with-lease=<refname>’, without specifying the expected
     value, will protect the named ref (alone), if it is going to be
     updated, by requiring its current value to be the same as the
     remote-tracking branch we have for it.

     ‘--force-with-lease=<refname>:<expect>’ will protect the named ref
     (alone), if it is going to be updated, by requiring its current
     value to be the same as the specified value ‘<expect>’ (which is
     allowed to be different from the remote-tracking branch we have for
     the refname, or we do not even have to have such a remote-tracking
     branch when this form is used).  If ‘<expect>’ is the empty string,
     then the named ref must not already exist.

     Note that all forms other than
     ‘--force-with-lease=<refname>:<expect>’ that specifies the expected
     current value of the ref explicitly are still experimental and
     their semantics may change as we gain experience with this feature.

     "–no-force-with-lease" will cancel all the previous
     –force-with-lease on the command line.

     A general note on safety: supplying this option without an expected
     value, i.e.  as ‘--force-with-lease’ or
     ‘--force-with-lease=<refname>’ interacts very badly with anything
     that implicitly runs ‘git fetch’ on the remote to be pushed to in
     the background, e.g.  ‘git fetch origin’ on your repository in a
     cronjob.

     The protection it offers over ‘--force’ is ensuring that subsequent
     changes your work wasn’t based on aren’t clobbered, but this is
     trivially defeated if some background process is updating refs in
     the background.  We don’t have anything except the remote tracking
     info to go by as a heuristic for refs you’re expected to have seen
     & are willing to clobber.

     If your editor or some other system is running ‘git fetch’ in the
     background for you a way to mitigate this is to simply set up
     another remote:

          git remote add origin-push $(git config remote.origin.url)
          git fetch origin-push

     Now when the background process runs ‘git fetch origin’ the
     references on ‘origin-push’ won’t be updated, and thus commands
     like:

          git push --force-with-lease origin-push

     Will fail unless you manually run ‘git fetch origin-push’.  This
     method is of course entirely defeated by something that runs ‘git
     fetch --all’, in that case you’d need to either disable it or do
     something more tedious like:

          git fetch              # update 'master' from remote
          git tag base master    # mark our base point
          git rebase -i master   # rewrite some commits
          git push --force-with-lease=master:base master:master

     I.e.  create a ‘base’ tag for versions of the upstream code that
     you’ve seen and are willing to overwrite, then rewrite history, and
     finally force push changes to ‘master’ if the remote version is
     still at ‘base’, regardless of what your local
     ‘remotes/origin/master’ has been updated to in the background.

     Alternatively, specifying ‘--force-if-includes’ as an ancillary
     option along with ‘--force-with-lease[=<refname>]’ (i.e., without
     saying what exact commit the ref on the remote side must be
     pointing at, or which refs on the remote side are being protected)
     at the time of "push" will verify if updates from the
     remote-tracking refs that may have been implicitly updated in the
     background are integrated locally before allowing a forced update.

‘-f’
‘--force’
     Usually, the command refuses to update a remote ref that is not an
     ancestor of the local ref used to overwrite it.  Also, when
     ‘--force-with-lease’ option is used, the command refuses to update
     a remote ref whose current value does not match what is expected.

     This flag disables these checks, and can cause the remote
     repository to lose commits; use it with care.

     Note that ‘--force’ applies to all the refs that are pushed, hence
     using it with ‘push.default’ set to ‘matching’ or with multiple
     push destinations configured with ‘remote.*.push’ may overwrite
     refs other than the current branch (including local refs that are
     strictly behind their remote counterpart).  To force a push to only
     one branch, use a ‘+’ in front of the refspec to push (e.g ‘git
     push origin +master’ to force a push to the ‘master’ branch).  See
     the ‘<refspec>...’ section above for details.

‘--[no-]force-if-includes’
     Force an update only if the tip of the remote-tracking ref has been
     integrated locally.

     This option enables a check that verifies if the tip of the
     remote-tracking ref is reachable from one of the "reflog" entries
     of the local branch based in it for a rewrite.  The check ensures
     that any updates from the remote have been incorporated locally by
     rejecting the forced update if that is not the case.

     If the option is passed without specifying ‘--force-with-lease’, or
     specified along with ‘--force-with-lease=<refname>:<expect>’, it is
     a "no-op".

     Specifying ‘--no-force-if-includes’ disables this behavior.

‘--repo=<repository>’
     This option is equivalent to the <repository> argument.  If both
     are specified, the command-line argument takes precedence.

‘-u’
‘--set-upstream’
     For every branch that is up to date or successfully pushed, add
     upstream (tracking) reference, used by argument-less git-pull(1)
     and other commands.  For more information, see
     ‘branch.<name>.merge’ in git-config(1).

‘--[no-]thin’
     These options are passed to git-send-pack(1).  A thin transfer
     significantly reduces the amount of sent data when the sender and
     receiver share many of the same objects in common.  The default is
     ‘--thin’.

‘-q’
‘--quiet’
     Suppress all output, including the listing of updated refs, unless
     an error occurs.  Progress is not reported to the standard error
     stream.

‘-v’
‘--verbose’
     Run verbosely.

‘--progress’
     Progress status is reported on the standard error stream by default
     when it is attached to a terminal, unless -q is specified.  This
     flag forces progress status even if the standard error stream is
     not directed to a terminal.

‘--no-recurse-submodules’
‘--recurse-submodules=check|on-demand|only|no’
     May be used to make sure all submodule commits used by the
     revisions to be pushed are available on a remote-tracking branch.
     If _check_ is used Git will verify that all submodule commits that
     changed in the revisions to be pushed are available on at least one
     remote of the submodule.  If any commits are missing the push will
     be aborted and exit with non-zero status.  If _on-demand_ is used
     all submodules that changed in the revisions to be pushed will be
     pushed.  If on-demand was not able to push all necessary revisions
     it will also be aborted and exit with non-zero status.  If _only_
     is used all submodules will be recursively pushed while the
     superproject is left unpushed.  A value of _no_ or using
     ‘--no-recurse-submodules’ can be used to override the
     push.recurseSubmodules configuration variable when no submodule
     recursion is required.

‘--[no-]verify’
     Toggle the pre-push hook (see githooks(5)).  The default is
     –verify, giving the hook a chance to prevent the push.  With
     –no-verify, the hook is bypassed completely.

‘-4’
‘--ipv4’
     Use IPv4 addresses only, ignoring IPv6 addresses.

‘-6’
‘--ipv6’
     Use IPv6 addresses only, ignoring IPv4 addresses.


GIT URLS
********

一般に、URLには、トランスポートプロトコル、リモートサーバーのアドレス、
およびリポジトリへのパスに関する情報が含まれています。トランスポートプロ
トコルによっては、一部の情報が欠落している場合があります。

   Gitはsshとgitとhttpとhttpsプロトコルをサポートします(さらにftpと
ftpsをフェッチに使用できますが、これは非効率的で非推奨です。使用しないで
ください)。

   ネイティブトランスポート(つまり、 git:// URL)は認証を行わないため、セ
キュリティで保護されていないネットワークでは注意して使用する必要がありま
す。

   以下の構文を使用できます:

   • ssh://[user@]host.xz[:port]/path/to/repo.git/

   • git://host.xz[:port]/path/to/repo.git/

   • http[s]://host.xz[:port]/path/to/repo.git/

   • ftp[s]://host.xz[:port]/path/to/repo.git/

   代替のscpのような構文をsshプロトコルで使用することもできます:

   • [user@]host.xz:path/to/repo.git/

   この構文は、最初のコロン(:)の前にスラッシュがない場合にのみ認識されま
す。これは、コロンを含むローカルパスを区別するのに役立ちます。たとえば、
ローカルパス ‘foo:bar’ を、絶対パスまたは ‘./foo:bar’ として指定して、
ssh url として誤って解釈されないようにすることができます。

   sshおよびgitプロトコルは、さらに ~username 拡張をサポートします:

   • ssh://[user@]host.xz[:port]/~[user]/path/to/repo.git/

   • git://host.xz[:port]/~[user]/path/to/repo.git/

   • [user@]host.xz:/~[user]/path/to/repo.git/

   Gitでもネイティブにサポートされているローカルリポジトリの場合、以下の
構文を使用できます:

   • /path/to/repo.git/

   • file:///path/to/repo.git/

   これらの2つの構文は、前者が ‘--local’ オプションの機能を含むクローン
作成の場合を除いて、ほとんど同等です。 詳細については、 git-clone(1) を
参照してください。

   「git clone」と「git fetch」と「git pull」は、「git push」と違って適
切なバンドルファイルを受け入れます。 git-bundle(1) を参照してください。

   Gitが特定のトランスポートプロトコルを処理する方法を知らない場合、
Gitは _remote-<transport>_ リモートヘルパー(存在する場合)を使用しようと
します。リモートヘルパーを明示的に要求するには、以下の構文を使用できます
:

   • <transport>::<address>

   ここで、 <address> は、パス、サーバーとパス、または呼び出されている特
定のリモートヘルパーによって認識される任意のURLのような文字列です。詳細
については、 gitremote-helpers(7) を参照してください。

   同じ名前のリモートリポジトリが多数あり、それらに異なる形式を使用する
場合(あなたの使用するURLが機能するURLに書き換えられるように)、以下の形式
の構成セクションを作成できます:

             [url "<actual url base>"]
                     insteadOf = <other url base>

   例えば、以下のようになります:

             [url "git://git.host.xz/"]
                     insteadOf = host.xz:/path/to/
                     insteadOf = work:

   "work:repo.git" や "host.xz:/path/to/repo.git" のようなURLは、任意の
コンテキストで、"git://git.host.xz/repo.git" に書き換えられます。

   プッシュ専用のURLを書き換えたい場合は、以下の形式の構成セクションを作
成できます:

             [url "<actual url base>"]
                     pushInsteadOf = <other url base>

   例えば、以下のようになります:

             [url "ssh://example.org/"]
                     pushInsteadOf = git://example.org/

   "git://example.org/path/to/repo.git" のようなURLは、プッシュの場合は
"ssh://example.org/path/to/repo.git" に書き換えられますが、プルは引き続
き元のURLのままです。


REMOTES
*******

‘<repository>’ 引数として、URLの代わりに以下のいずれかの名前を使用できま
す:

   • Git構成ファイル(configuration file)内のリモート(remote)として、
     ‘$GIT_DIR/config’ または

   • ‘$GIT_DIR/remotes’ ディレクトリ内のファイル または

   • ‘$GIT_DIR/branches’ ディレクトリ内のファイル

   これらはすべて、gitがデフォルトで使用するrefspecをそれぞれ含んでいる
ため、コマンドラインからrefspecを省略できます。


Named remote in configuration file
==================================

あなたは、 git-remote(1) を使うか、または git-config(1) を使うか、または
‘$GIT_DIR/config’ ファイルを手動で編集して、これ以前に構成したリモートの
名前から選択できます。このリモートのURLは、リポジトリへのアクセスに使用
されます。コマンドラインでrefspecを指定しない場合、このリモートの
refspecがデフォルトで使用されます。構成ファイルのエントリは以下のように
なります:

             [remote "<name>"]
                     url = <url>
                     pushurl = <pushurl>
                     push = <refspec>
                     fetch = <refspec>

   ‘<pushurl>’ はプッシュにのみ使用されます。 これはオプションであり、デ
フォルトは ‘<url>’ です。


Named file in $GIT_DIR/remotes
==============================

あなたは、 ‘$GIT_DIR/remotes’ でファイル名を指定できます。このファイルの
URLは、リポジトリへのアクセスに使用されます。コマンドラインでrefspecを指
定しない場合、このファイルのrefspecがデフォルトとして使用されます。この
ファイルの形式は以下のとおりです:

             URL: one of the above URL format
             Push: <refspec>
             Pull: <refspec>

   ‘Push:’ 行は _git push_ で使用され、 ‘Pull:’ 行は _git pull_ と _git
fetch_ で使用されます。追加のブランチマッピングのために、複数の ‘Push:’
および ‘Pull:’ 行を指定できます。


Named file in $GIT_DIR/branches
===============================

‘$GIT_DIR/branches’ でファイル名を指定できます。このファイルのURLは、リ
ポジトリへのアクセスに使用されます。 このファイルの形式は以下のとおりで
す:

             <url>#<head>

   ‘<url>’ は必須です。 ‘#<head>’ はオプションです。

   コマンドラインで指定しない場合、操作に応じて、gitは以下のrefspecのい
ずれかを使用します。 ‘<branch>’ は ‘$GIT_DIR/branchs’ 内のこのファイルの
名前であり、 ‘<head>`はデフォルトで `master’ になります。

   git fetch は以下を使用します:

             refs/heads/<head>:refs/heads/<branch>

   git push は以下を使用します:

             HEAD:refs/heads/<head>


OUTPUT
******

The output of "git push" depends on the transport method used; this
section describes the output when pushing over the Git protocol (either
locally or via ssh).

   The status of the push is output in tabular form, with each line
representing the status of a single ref.  Each line is of the form:

      <flag> <summary> <from> -> <to> (<reason>)

   If –porcelain is used, then each line of the output is of the form:

      <flag> \t <from>:<to> \t <summary> (<reason>)

   The status of up-to-date refs is shown only if –porcelain or –verbose
option is used.

flag
     A single character indicating the status of the ref:

     (space)
          for a successfully pushed fast-forward;

     ‘+’
          for a successful forced update;

     ‘-’
          for a successfully deleted ref;

     ‘*’
          for a successfully pushed new ref;

     ‘!’
          for a ref that was rejected or failed to push; and

     ‘=’
          for a ref that was up to date and did not need pushing.

summary
     For a successfully pushed ref, the summary shows the old and new
     values of the ref in a form suitable for using as an argument to
     ‘git log’ (this is ‘<old>..<new>’ in most cases, and
     ‘<old>...<new>’ for forced non-fast-forward updates).

     For a failed update, more details are given:

     rejected
          Git did not try to send the ref at all, typically because it
          is not a fast-forward and you did not force the update.

     remote rejected
          The remote end refused the update.  Usually caused by a hook
          on the remote side, or because the remote repository has one
          of the following safety options in effect:
          ‘receive.denyCurrentBranch’ (for pushes to the checked out
          branch), ‘receive.denyNonFastForwards’ (for forced
          non-fast-forward updates), ‘receive.denyDeletes’ or
          ‘receive.denyDeleteCurrent’.  See git-config(1).

     remote failure
          The remote end did not report the successful update of the
          ref, perhaps because of a temporary error on the remote side,
          a break in the network connection, or other transient error.

from
     The name of the local ref being pushed, minus its ‘refs/<type>/’
     prefix.  In the case of deletion, the name of the local ref is
     omitted.

to
     The name of the remote ref being updated, minus its ‘refs/<type>/’
     prefix.

reason
     A human-readable explanation.  In the case of successfully pushed
     refs, no explanation is needed.  For a failed ref, the reason for
     failure is described.


NOTE ABOUT FAST-FORWARDS
************************

When an update changes a branch (or more in general, a ref) that used to
point at commit A to point at another commit B, it is called a
fast-forward update if and only if B is a descendant of A.

   In a fast-forward update from A to B, the set of commits that the
original commit A built on top of is a subset of the commits the new
commit B builds on top of.  Hence, it does not lose any history.

   In contrast, a non-fast-forward update will lose history.  For
example, suppose you and somebody else started at the same commit X, and
you built a history leading to commit B while the other person built a
history leading to commit A. The history looks like this:

           B
          /
      ---X---A

   Further suppose that the other person already pushed changes leading
to A back to the original repository from which you two obtained the
original commit X.

   The push done by the other person updated the branch that used to
point at commit X to point at commit A. It is a fast-forward.

   But if you try to push, you will attempt to update the branch (that
now points at A) with commit B. This does _not_ fast-forward.  If you
did so, the changes introduced by commit A will be lost, because
everybody will now start building on top of B.

   The command by default does not allow an update that is not a
fast-forward to prevent such loss of history.

   If you do not want to lose your work (history from X to B) or the
work by the other person (history from X to A), you would need to first
fetch the history from the repository, create a history that contains
changes done by both parties, and push the result back.

   You can perform "git pull", resolve potential conflicts, and "git
push" the result.  A "git pull" will create a merge commit C between
commits A and B.

           B---C
          /   /
      ---X---A

   Updating A with the resulting merge commit will fast-forward and your
push will be accepted.

   Alternatively, you can rebase your change between X and B on top of
A, with "git pull –rebase", and push the result back.  The rebase will
create a new commit D that builds the change between X and B on top of
A.

           B   D
          /   /
      ---X---A

   Again, updating A with this commit will fast-forward and your push
will be accepted.

   There is another common situation where you may encounter
non-fast-forward rejection when you try to push, and it is possible even
when you are pushing into a repository nobody else pushes into.  After
you push commit A yourself (in the first picture in this section),
replace it with "git commit –amend" to produce commit B, and you try to
push it out, because forgot that you have pushed A out already.  In such
a case, and only if you are certain that nobody in the meantime fetched
your earlier commit A (and started building on top of it), you can run
"git push –force" to overwrite it.  In other words, "git push –force" is
a method reserved for a case where you do mean to lose history.


EXAMPLES
********

‘git push’
     Works like ‘git push <remote>’, where <remote> is the current
     branch’s remote (or ‘origin’, if no remote is configured for the
     current branch).

‘git push origin’
     Without additional configuration, pushes the current branch to the
     configured upstream (‘branch.<name>.merge’ configuration variable)
     if it has the same name as the current branch, and errors out
     without pushing otherwise.

     The default behavior of this command when no <refspec> is given can
     be configured by setting the ‘push’ option of the remote, or the
     ‘push.default’ configuration variable.

     For example, to default to pushing only the current branch to
     ‘origin’ use ‘git config remote.origin.push HEAD’.  Any valid
     <refspec> (like the ones in the examples below) can be configured
     as the default for ‘git push origin’.

‘git push origin :’
     Push "matching" branches to ‘origin’.  See <refspec> in the OPTIONS
     (*note [OPTIONS]::) section above for a description of "matching"
     branches.

‘git push origin master’
     Find a ref that matches ‘master’ in the source repository (most
     likely, it would find ‘refs/heads/master’), and update the same ref
     (e.g.  ‘refs/heads/master’) in ‘origin’ repository with it.  If
     ‘master’ did not exist remotely, it would be created.

‘git push origin HEAD’
     A handy way to push the current branch to the same name on the
     remote.

‘git push mothership master:satellite/master dev:satellite/dev’
     Use the source ref that matches ‘master’ (e.g.
     ‘refs/heads/master’) to update the ref that matches
     ‘satellite/master’ (most probably ‘refs/remotes/satellite/master’)
     in the ‘mothership’ repository; do the same for ‘dev’ and
     ‘satellite/dev’.

     See the section describing ‘<refspec>...’ above for a discussion of
     the matching semantics.

     This is to emulate ‘git fetch’ run on the ‘mothership’ using ‘git
     push’ that is run in the opposite direction in order to integrate
     the work done on ‘satellite’, and is often necessary when you can
     only make connection in one way (i.e.  satellite can ssh into
     mothership but mothership cannot initiate connection to satellite
     because the latter is behind a firewall or does not run sshd).

     After running this ‘git push’ on the ‘satellite’ machine, you would
     ssh into the ‘mothership’ and run ‘git merge’ there to complete the
     emulation of ‘git pull’ that were run on ‘mothership’ to pull
     changes made on ‘satellite’.

‘git push origin HEAD:master’
     Push the current branch to the remote ref matching ‘master’ in the
     ‘origin’ repository.  This form is convenient to push the current
     branch without thinking about its local name.

‘git push origin master:refs/heads/experimental’
     Create the branch ‘experimental’ in the ‘origin’ repository by
     copying the current ‘master’ branch.  This form is only needed to
     create a new branch or tag in the remote repository when the local
     name and the remote name are different; otherwise, the ref name on
     its own will work.

‘git push origin :experimental’
     Find a ref that matches ‘experimental’ in the ‘origin’ repository
     (e.g.  ‘refs/heads/experimental’), and delete it.

‘git push origin +dev:master’
     Update the origin repository’s master branch with the dev branch,
     allowing non-fast-forward updates.  *This can leave unreferenced
     commits dangling in the origin repository.*  Consider the following
     situation, where a fast-forward is not possible:

                      o---o---o---A---B  origin/master
                               \
                                X---Y---Z  dev

     The above command would change the origin repository to

                                A---B  (unnamed branch)
                               /
                      o---o---o---X---Y---Z  master

     Commits A and B would no longer belong to a branch with a symbolic
     name, and so would be unreachable.  As such, these commits would be
     removed by a ‘git gc’ command on the origin repository.


SECURITY
********

フェッチおよびプッシュプロトコルは、共有することを意図していない一方の側
が他方のリポジトリからデータを盗むのを防ぐようには設計されていません。悪
意のある者から保護する必要のあるプライベートデータがある場合、最善のオプ
ションはそれを別のリポジトリに保存することです。これは、クライアントとサ
ーバーの両方に適用されます。特に、サーバー上の名前空間は、読み取りアクセ
ス制御には効果的ではありません。リポジトリ全体への読み取りアクセスで信頼
できるクライアントにのみ、名前空間への読み取りアクセスを許可する必要があ
ります。

   既知の攻撃ベクトル(attack vectors)は以下のとおりです:

  1. 被害者は、明示的に共有することを意図していないオブジェクトのIDをア
     ドバタイズする "have" 行を送信しますが、他にもIDを持っている者が居
     る場合は、転送を最適化するために使用できます。攻撃者はオブジェクト
     ID Xを選択して盗み、refをXに送信しますが、被害者はすでにXのコンテン
     ツを持っているため、Xのコンテンツを送信する必要はありません。 これ
     で、被害者は攻撃者がXを持っていると信じ、Xのコンテンツを後で攻撃者
     に送り返します。 (この攻撃は、クライアントがアクセスできる名前空間
     にXへのrefを作成してフェッチすることにより、クライアントがサーバー
     上で実行するのが最も簡単です。サーバーがクライアント上で実行する最
     も可能性の高い方法は、Xをパブリックブランチにマージし、ユーザーがこ
     のブランチで追加の作業を行い、マージに気付かずにサーバーにプッシュ
     バックすることを期待します。)

  2. #1 と同様に、攻撃者は盗むオブジェクトID Xを選択します。被害者は、攻
     撃者がすでに持っているオブジェクトYを送信し、攻撃者はYではなくXを持
     っていると誤って主張するため、被害者はYをXに対するデルタとして送信
     します。デルタは、攻撃者にYに類似したXの領域を明らかにします。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-quiltimport,  Up: Top

Name
****

git-quiltimport — quilt(キルト)パッチセットを現在のブランチに適用します


Synopsis
********

     git quiltimport [–dry-run | -n] [–author <author>] [–patches <dir>]
                     [–series <file>] [–keep-non-patch]


DESCRIPTION
***********

quiltパッチセットを現在のGitブランチに適用し、quiltパッチセットに存在す
るパッチ境界、パッチ順序、およびパッチの説明を保持します。

   パッチごとに、コードはパッチの説明から作者を抽出しようとします。それ
が失敗した場合は、 ‘--author’ で指定された作者にフォールバックします。
‘--author’ フラグが指定されていない場合、パッチの説明が表示され、ユーザ
ーはパッチの作者をインタラクティブに入力するように求められます。

   パッチの説明に件名が見つからない場合、パッチ名はGitの説明の1行の件名
として保持されます。


OPTIONS
*******

‘-n’
‘--dry-run’
     一連(series)のパッチをウォークスルーし、パッチをコミットするために
     必要なすべての情報が見つからない場合は警告します。この記事の執筆時
     点では、欠落している作者情報のみを警告します。

‘--author Author Name <Author Email>’
     パッチの説明に作者情報が見つからない場合に使用する作者名と電子メー
     ルアドレス。

‘--patches <dir>’
     quiltパッチを見つけるためのディレクトリ。

     パッチディレクトリのデフォルトは、 patches または ‘$QUILT_PATCHES’
     環境変数の値です。

‘--series <file>’
     キルトシリーズファイル(quilt series file)。

     シリーズファイルのデフォルトは、 <patches>/series または
     ‘$QUILT_SERIES’ 環境変数の値です。

‘--keep-non-patch’
     ‘-b’ フラグを _git mailinfo_ に渡します(git-mailinfo(1) 参照)。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-range-diff,  Up: Top

Name
****

git-range-diff — Compare two commit ranges (e.g.  two versions of a
branch)


Synopsis
********

     git range-diff [–color=[<when>]] [–no-color] [<diff-options>]
             [–no-dual-color] [–creation-factor=<factor>]
             [–left-only | –right-only]
             ( <range1> <range2> | <rev1>…<rev2> | <base> <rev1> <rev2> )


DESCRIPTION
***********

This command shows the differences between two versions of a patch
series, or more generally, two commit ranges (ignoring merge commits).

   To that end, it first finds pairs of commits from both commit ranges
that correspond with each other.  Two commits are said to correspond
when the diff between their patches (i.e.  the author information, the
commit message and the commit diff) is reasonably small compared to the
patches’ size.  See “Algorithm“ below for details.

   Finally, the list of matching commits is shown in the order of the
second commit range, with unmatched commits being inserted just after
all of their ancestors have been shown.

   There are three ways to specify the commit ranges:

   • ‘<range1> <range2>’: Either commit range can be of the form
     ‘<base>..<rev>’, ‘<rev>^!’ or ‘<rev>^-<n>’.  See ‘SPECIFYING
     RANGES’ in gitrevisions(7) for more details.

   • ‘<rev1>...<rev2>’.  This is equivalent to ‘<rev2>..<rev1>
     <rev1>..<rev2>’.

   • ‘<base> <rev1> <rev2>’: This is equivalent to ‘<base>..<rev1>
     <base>..<rev2>’.


OPTIONS
*******

‘--no-dual-color’
     When the commit diffs differ, ‘git range-diff‘ recreates the
     original diffs’ coloring, and adds outer -/+ diff markers with the
     *background* being red/green to make it easier to see e.g.  when
     there was a change in what exact lines were added.

     Additionally, the commit diff lines that are only present in the
     first commit range are shown "dimmed" (this can be overridden using
     the ‘color.diff.<slot>’ config setting where ‘<slot>’ is one of
     ‘contextDimmed’, ‘oldDimmed’ and ‘newDimmed’), and the commit diff
     lines that are only present in the second commit range are shown in
     bold (which can be overridden using the config settings
     ‘color.diff.<slot>’ with ‘<slot>’ being one of ‘contextBold’,
     ‘oldBold’ or ‘newBold’).

     This is known to ‘range-diff’ as "dual coloring".  Use
     ‘--no-dual-color’ to revert to color all lines according to the
     outer diff markers (and completely ignore the inner diff when it
     comes to color).

‘--creation-factor=<percent>’
     Set the creation/deletion cost fudge factor to ‘<percent>’.
     Defaults to

       1. Try a larger value if ‘git range-diff’ erroneously considers a
          large change a total rewrite (deletion of one commit and
          addition of another), and a smaller one in the reverse case.
          See the “Algorithm“ section below for an explanation why this
          is needed.

‘--left-only’
     Suppress commits that are missing from the first specified range
     (or the "left range" when using the ‘<rev1>...<rev2>’ format).

‘--right-only’
     Suppress commits that are missing from the second specified range
     (or the "right range" when using the ‘<rev1>...<rev2>’ format).

‘--[no-]notes[=<ref>]’
     This flag is passed to the ‘git log’ program (see git-log(1)) that
     generates the patches.

<range1> <range2>
     Compare the commits specified by the two ranges, where ‘<range1>’
     is considered an older version of ‘<range2>’.

<rev1>…<rev2>
     Equivalent to passing ‘<rev2>..<rev1>’ and ‘<rev1>..<rev2>’.

<base> <rev1> <rev2>
     Equivalent to passing ‘<base>..<rev1>’ and ‘<base>..<rev2>’.  Note
     that ‘<base>’ does not need to be the exact branch point of the
     branches.  Example: after rebasing a branch ‘my-topic’, ‘git
     range-diff my-topic@{u} my-topic@{1} my-topic’ would show the
     differences introduced by the rebase.

   ‘git range-diff’ also accepts the regular diff options (see
git-diff(1)), most notably the ‘--color=[<when>]’ and ‘--no-color’
options.  These options are used when generating the "diff between
patches", i.e.  to compare the author, commit message and diff of
corresponding old/new commits.  There is currently no means to tweak
most of the diff options passed to ‘git log’ when generating those
patches.


OUTPUT STABILITY
****************

The output of the ‘range-diff’ command is subject to change.  It is
intended to be human-readable porcelain output, not something that can
be used across versions of Git to get a textually stable ‘range-diff’
(as opposed to something like the ‘--stable’ option to git-patch-id(1)).
There’s also no equivalent of git-apply(1) for ‘range-diff’, the output
is not intended to be machine-readable.

   This is particularly true when passing in diff options.  Currently
some options like ‘--stat’ can, as an emergent effect, produce output
that’s quite useless in the context of ‘range-diff’.  Future versions of
‘range-diff’ may learn to interpret such options in a manner specific to
‘range-diff’ (e.g.  for ‘--stat’ producing human-readable output which
summarizes how the diffstat changed).


CONFIGURATION
*************

This command uses the ‘diff.color.*’ and ‘pager.range-diff’ settings
(the latter is on by default).  See git-config(1).


EXAMPLES
********

When a rebase required merge conflicts to be resolved, compare the
changes introduced by the rebase directly afterwards using:

     $ git range-diff @{u} @{1} @

   A typical output of ‘git range-diff’ would look like this:

     -:  ------- > 1:  0ddba11 Prepare for the inevitable!
     1:  c0debee = 2:  cab005e Add a helpful message at the start
     2:  f00dbal ! 3:  decafe1 Describe a bug
         @@ -1,3 +1,3 @@
          Author: A U Thor <author@example.com>

         -TODO: Describe a bug
         +Describe a bug
         @@ -324,5 +324,6
           This is expected.

         -+What is unexpected is that it will also crash.
         ++Unexpectedly, it also crashes. This is a bug, and the jury is
         ++still out there how to fix it best. See ticket #314 for details.

           Contact
     3:  bedead < -:  ------- TO-UNDO

   In this example, there are 3 old and 3 new commits, where the
developer removed the 3rd, added a new one before the first two, and
modified the commit message of the 2nd commit as well its diff.

   When the output goes to a terminal, it is color-coded by default,
just like regular ‘git diff’’s output.  In addition, the first line
(adding a commit) is green, the last line (deleting a commit) is red,
the second line (with a perfect match) is yellow like the commit header
of ‘git show’’s output, and the third line colors the old commit red,
the new one green and the rest like ‘git show’’s commit header.

   A naive color-coded diff of diffs is actually a bit hard to read,
though, as it colors the entire lines red or green.  The line that added
"What is unexpected" in the old commit, for example, is completely red,
even if the intent of the old commit was to add something.

   To help with that, ‘range’ uses the ‘--dual-color’ mode by default.
In this mode, the diff of diffs will retain the original diff colors,
and prefix the lines with -/+ markers that have their *background* red
or green, to make it more obvious that they describe how the diff itself
changed.


Algorithm
*********

The general idea is this: we generate a cost matrix between the commits
in both commit ranges, then solve the least-cost assignment.

   The cost matrix is populated thusly: for each pair of commits, both
diffs are generated and the "diff of diffs" is generated, with 3 context
lines, then the number of lines in that diff is used as cost.

   To avoid false positives (e.g.  when a patch has been removed, and an
unrelated patch has been added between two iterations of the same patch
series), the cost matrix is extended to allow for that, by adding
fixed-cost entries for wholesale deletes/adds.

   Example: Let commits ‘1--2’ be the first iteration of a patch series
and ‘A--C’ the second iteration.  Let’s assume that ‘A’ is a cherry-pick
of ‘2,’ and ‘C’ is a cherry-pick of ‘1’ but with a small modification
(say, a fixed typo).  Visualize the commits as a bipartite graph:

         1            A

         2            B

                      C

   We are looking for a "best" explanation of the new series in terms of
the old one.  We can represent an "explanation" as an edge in the graph:

         1            A
                    /
         2 --------'  B

                      C

   This explanation comes for "free" because there was no change.
Similarly ‘C’ could be explained using ‘1’, but that comes at some cost
c>0 because of the modification:

         1 ----.      A
               |    /
         2 ----+---'  B
               |
               `----- C
               c>0

   In mathematical terms, what we are looking for is some sort of a
minimum cost bipartite matching; ‘1‘ is matched to ‘C’ at some cost,
etc.  The underlying graph is in fact a complete bipartite graph; the
cost we associate with every edge is the size of the diff between the
two commits’ patches.  To explain also new commits, we introduce dummy
nodes on both sides:

         1 ----.      A
               |    /
         2 ----+---'  B
               |
         o     `----- C
               c>0
         o            o

         o            o

   The cost of an edge ‘o--C’ is the size of ‘C’’s diff, modified by a
fudge factor that should be smaller than 100%.  The cost of an edge
‘o--o’ is free.  The fudge factor is necessary because even if ‘1’ and
‘C’ have nothing in common, they may still share a few empty lines and
such, possibly making the assignment ‘1--C’, ‘o--o’ slightly cheaper
than ‘1--o’, ‘o--C’ even if ‘1’ and ‘C’ have nothing in common.  With
the fudge factor we require a much larger common part to consider
patches as corresponding.

   The overall time needed to compute this algorithm is the time needed
to compute n+m commit diffs and then n*m diffs of patches, plus the time
needed to compute the least-cost assignment between n and m diffs.  Git
uses an implementation of the Jonker-Volgenant algorithm to solve the
assignment problem, which has cubic runtime complexity.  The matching
found in this case will look like this:

         1 ----.      A
               |    /
         2 ----+---'  B
            .--+-----'
         o -'  `----- C
               c>0
         o ---------- o

         o ---------- o


SEE ALSO
********

git-log(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-read-tree,  Up: Top

Name
****

git-read-tree — Reads tree information into the index


Synopsis
********

     git read-tree [[-m [–trivial] [–aggressive] | –reset | –prefix=<prefix>]
                     [-u [–exclude-per-directory=<gitignore>] | -i]]
                     [–index-output=<file>] [–no-sparse-checkout]
                     (–empty | <tree-ish1> [<tree-ish2> [<tree-ish3>]])


DESCRIPTION
***********

Reads the tree information given by <tree-ish> into the index, but does
not actually *update* any of the files it "caches".  (see:
git-checkout-index(1))

   Optionally, it can merge a tree into the index, perform a
fast-forward (i.e.  2-way) merge, or a 3-way merge, with the ‘-m’ flag.
When used with ‘-m’, the ‘-u’ flag causes it to also update the files in
the work tree with the result of the merge.

   Trivial merges are done by _git read-tree_ itself.  Only conflicting
paths will be in unmerged state when _git read-tree_ returns.


OPTIONS
*******

‘-m’
     Perform a merge, not just a read.  The command will refuse to run
     if your index file has unmerged entries, indicating that you have
     not finished previous merge you started.

‘--reset’
     Same as -m, except that unmerged entries are discarded instead of
     failing.  When used with ‘-u’, updates leading to loss of working
     tree changes will not abort the operation.

‘-u’
     After a successful merge, update the files in the work tree with
     the result of the merge.

‘-i’
     Usually a merge requires the index file as well as the files in the
     working tree to be up to date with the current head commit, in
     order not to lose local changes.  This flag disables the check with
     the working tree and is meant to be used when creating a merge of
     trees that are not directly related to the current working tree
     status into a temporary index file.

‘-n’
‘--dry-run’
     Check if the command would error out, without updating the index or
     the files in the working tree for real.

‘-v’
     Show the progress of checking files out.

‘--trivial’
     Restrict three-way merge by _git read-tree_ to happen only if there
     is no file-level merging required, instead of resolving merge for
     trivial cases and leaving conflicting files unresolved in the
     index.

‘--aggressive’
     Usually a three-way merge by _git read-tree_ resolves the merge for
     really trivial cases and leaves other cases unresolved in the
     index, so that porcelains can implement different merge policies.
     This flag makes the command resolve a few more cases internally:

        • when one side removes a path and the other side leaves the
          path unmodified.  The resolution is to remove that path.

        • when both sides remove a path.  The resolution is to remove
          that path.

        • when both sides add a path identically.  The resolution is to
          add that path.

‘--prefix=<prefix>’
     Keep the current index contents, and read the contents of the named
     tree-ish under the directory at ‘<prefix>’.  The command will
     refuse to overwrite entries that already existed in the original
     index file.

‘--exclude-per-directory=<gitignore>’
     When running the command with ‘-u’ and ‘-m’ options, the merge
     result may need to overwrite paths that are not tracked in the
     current branch.  The command usually refuses to proceed with the
     merge to avoid losing such a path.  However this safety valve
     sometimes gets in the way.  For example, it often happens that the
     other branch added a file that used to be a generated file in your
     branch, and the safety valve triggers when you try to switch to
     that branch after you ran ‘make’ but before running ‘make clean’ to
     remove the generated file.  This option tells the command to read
     per-directory exclude file (usually _.gitignore_) and allows such
     an untracked but explicitly ignored file to be overwritten.

‘--index-output=<file>’
     Instead of writing the results out to ‘$GIT_INDEX_FILE’, write the
     resulting index in the named file.  While the command is operating,
     the original index file is locked with the same mechanism as usual.
     The file must allow to be rename(2)ed into from a temporary file
     that is created next to the usual index file; typically this means
     it needs to be on the same filesystem as the index file itself, and
     you need write permission to the directories the index file and
     index output file are located in.

‘--[no-]recurse-submodules’
     Using –recurse-submodules will update the content of all active
     submodules according to the commit recorded in the superproject by
     calling read-tree recursively, also setting the submodules’ HEAD to
     be detached at that commit.

‘--no-sparse-checkout’
     Disable sparse checkout support even if ‘core.sparseCheckout’ is
     true.

‘--empty’
     Instead of reading tree object(s) into the index, just empty it.

‘-q’
‘--quiet’
     Quiet, suppress feedback messages.

<tree-ish#>
     The id of the tree object(s) to be read/merged.


MERGING
*******

If ‘-m’ is specified, _git read-tree_ can perform 3 kinds of merge, a
single tree merge if only 1 tree is given, a fast-forward merge with 2
trees, or a 3-way merge if 3 or more trees are provided.


Single Tree Merge
=================

If only 1 tree is specified, _git read-tree_ operates as if the user did
not specify ‘-m’, except that if the original index has an entry for a
given pathname, and the contents of the path match with the tree being
read, the stat info from the index is used.  (In other words, the
index’s stat()s take precedence over the merged tree’s).

   That means that if you do a ‘git read-tree -m <newtree>’ followed by
a ‘git checkout-index -f -u -a’, the _git checkout-index_ only checks
out the stuff that really changed.

   This is used to avoid unnecessary false hits when _git diff-files_ is
run after _git read-tree_.


Two Tree Merge
==============

Typically, this is invoked as ‘git read-tree -m $H $M’, where $H is the
head commit of the current repository, and $M is the head of a foreign
tree, which is simply ahead of $H (i.e.  we are in a fast-forward
situation).

   When two trees are specified, the user is telling _git read-tree_ the
following:

  1. The current index and work tree is derived from $H, but the user
     may have local changes in them since $H.

  2. The user wants to fast-forward to $M.

   In this case, the ‘git read-tree -m $H $M’ command makes sure that no
local change is lost as the result of this "merge".  Here are the "carry
forward" rules, where "I" denotes the index, "clean" means that index
and work tree coincide, and "exists"/"nothing" refer to the presence of
a path in the specified commit:

             I                   H        M        Result
            -------------------------------------------------------
          0  nothing             nothing  nothing  (does not happen)
          1  nothing             nothing  exists   use M
          2  nothing             exists   nothing  remove path from index
          3  nothing             exists   exists,  use M if "initial checkout",
                                          H == M   keep index otherwise
                                          exists,  fail
                                          H != M

             clean I==H  I==M
            ------------------
          4  yes   N/A   N/A     nothing  nothing  keep index
          5  no    N/A   N/A     nothing  nothing  keep index

          6  yes   N/A   yes     nothing  exists   keep index
          7  no    N/A   yes     nothing  exists   keep index
          8  yes   N/A   no      nothing  exists   fail
          9  no    N/A   no      nothing  exists   fail

          10 yes   yes   N/A     exists   nothing  remove path from index
          11 no    yes   N/A     exists   nothing  fail
          12 yes   no    N/A     exists   nothing  fail
          13 no    no    N/A     exists   nothing  fail

             clean (H==M)
            ------
          14 yes                 exists   exists   keep index
          15 no                  exists   exists   keep index

             clean I==H  I==M (H!=M)
            ------------------
          16 yes   no    no      exists   exists   fail
          17 no    no    no      exists   exists   fail
          18 yes   no    yes     exists   exists   keep index
          19 no    no    yes     exists   exists   keep index
          20 yes   yes   no      exists   exists   use M
          21 no    yes   no      exists   exists   fail

   In all "keep index" cases, the index entry stays as in the original
index file.  If the entry is not up to date, _git read-tree_ keeps the
copy in the work tree intact when operating under the -u flag.

   When this form of _git read-tree_ returns successfully, you can see
which of the "local changes" that you made were carried forward by
running ‘git diff-index --cached $M’.  Note that this does not
necessarily match what ‘git diff-index --cached $H’ would have produced
before such a two tree merge.  This is because of cases 18 and 19 — if
you already had the changes in $M (e.g.  maybe you picked it up via
e-mail in a patch form), ‘git diff-index --cached $H’ would have told
you about the change before this merge, but it would not show in ‘git
diff-index --cached $M’ output after the two-tree merge.

   Case 3 is slightly tricky and needs explanation.  The result from
this rule logically should be to remove the path if the user staged the
removal of the path and then switching to a new branch.  That however
will prevent the initial checkout from happening, so the rule is
modified to use M (new tree) only when the content of the index is
empty.  Otherwise the removal of the path is kept as long as $H and $M
are the same.


3-Way Merge
===========

Each "index" entry has two bits worth of "stage" state.  stage 0 is the
normal one, and is the only one you’d see in any kind of normal use.

   However, when you do _git read-tree_ with three trees, the "stage"
starts out at 1.

   This means that you can do

     $ git read-tree -m <tree1> <tree2> <tree3>

   and you will end up with an index with all of the <tree1> entries in
"stage1", all of the <tree2> entries in "stage2" and all of the <tree3>
entries in "stage3".  When performing a merge of another branch into the
current branch, we use the common ancestor tree as <tree1>, the current
branch head as <tree2>, and the other branch head as <tree3>.

   Furthermore, _git read-tree_ has special-case logic that says: if you
see a file that matches in all respects in the following states, it
"collapses" back to "stage0":

   • stage 2 and 3 are the same; take one or the other (it makes no
     difference - the same work has been done on our branch in stage 2
     and their branch in stage 3)

   • stage 1 and stage 2 are the same and stage 3 is different; take
     stage 3 (our branch in stage 2 did not do anything since the
     ancestor in stage 1 while their branch in stage 3 worked on it)

   • stage 1 and stage 3 are the same and stage 2 is different take
     stage 2 (we did something while they did nothing)

   The _git write-tree_ command refuses to write a nonsensical tree, and
it will complain about unmerged entries if it sees a single entry that
is not stage 0.

   OK, this all sounds like a collection of totally nonsensical rules,
but it’s actually exactly what you want in order to do a fast merge.
The different stages represent the "result tree" (stage 0, aka
"merged"), the original tree (stage 1, aka "orig"), and the two trees
you are trying to merge (stage 2 and 3 respectively).

   The order of stages 1, 2 and 3 (hence the order of three <tree-ish>
command-line arguments) are significant when you start a 3-way merge
with an index file that is already populated.  Here is an outline of how
the algorithm works:

   • if a file exists in identical format in all three trees, it will
     automatically collapse to "merged" state by _git read-tree_.

   • a file that has _any_ difference what-so-ever in the three trees
     will stay as separate entries in the index.  It’s up to "porcelain
     policy" to determine how to remove the non-0 stages, and insert a
     merged version.

   • the index file saves and restores with all this information, so you
     can merge things incrementally, but as long as it has entries in
     stages 1/2/3 (i.e., "unmerged entries") you can’t write the result.
     So now the merge algorithm ends up being really simple:

        • you walk the index in order, and ignore all entries of stage
          0, since they’ve already been done.

        • if you find a "stage1", but no matching "stage2" or "stage3",
          you know it’s been removed from both trees (it only existed in
          the original tree), and you remove that entry.

        • if you find a matching "stage2" and "stage3" tree, you remove
          one of them, and turn the other into a "stage0" entry.  Remove
          any matching "stage1" entry if it exists too.  ..  all the
          normal trivial rules ..

   You would normally use _git merge-index_ with supplied _git
merge-one-file_ to do this last step.  The script updates the files in
the working tree as it merges each path and at the end of a successful
merge.

   When you start a 3-way merge with an index file that is already
populated, it is assumed that it represents the state of the files in
your work tree, and you can even have files with changes unrecorded in
the index file.  It is further assumed that this state is "derived" from
the stage 2 tree.  The 3-way merge refuses to run if it finds an entry
in the original index file that does not match stage 2.

   This is done to prevent you from losing your work-in-progress
changes, and mixing your random changes in an unrelated merge commit.
To illustrate, suppose you start from what has been committed last to
your repository:

     $ JC=`git rev-parse --verify "HEAD^0"`
     $ git checkout-index -f -u -a $JC

   You do random edits, without running _git update-index_.  And then
you notice that the tip of your "upstream" tree has advanced since you
pulled from him:

     $ git fetch git://.... linus
     $ LT=`git rev-parse FETCH_HEAD`

   Your work tree is still based on your HEAD ($JC), but you have some
edits since.  Three-way merge makes sure that you have not added or
modified index entries since $JC, and if you haven’t, then does the
right thing.  So with the following sequence:

     $ git read-tree -m -u `git merge-base $JC $LT` $JC $LT
     $ git merge-index git-merge-one-file -a
     $ echo "Merge with Linus" | \
       git commit-tree `git write-tree` -p $JC -p $LT

   what you would commit is a pure merge between $JC and $LT without
your work-in-progress changes, and your work tree would be updated to
the result of the merge.

   However, if you have local changes in the working tree that would be
overwritten by this merge, _git read-tree_ will refuse to run to prevent
your changes from being lost.

   In other words, there is no need to worry about what exists only in
the working tree.  When you have local changes in a part of the project
that is not involved in the merge, your changes do not interfere with
the merge, and are kept intact.  When they *do* interfere, the merge
does not even start (_git read-tree_ complains loudly and fails without
modifying anything).  In such a case, you can simply continue doing what
you were in the middle of doing, and when your working tree is ready
(i.e.  you have finished your work-in-progress), attempt the merge
again.


SPARSE CHECKOUT
***************

"Sparse checkout" allows populating the working directory sparsely.  It
uses the skip-worktree bit (see git-update-index(1)) to tell Git whether
a file in the working directory is worth looking at.

   _git read-tree_ and other merge-based commands (_git merge_, _git
checkout_…) can help maintaining the skip-worktree bitmap and working
directory update.  ‘$GIT_DIR/info/sparse-checkout’ is used to define the
skip-worktree reference bitmap.  When _git read-tree_ needs to update
the working directory, it resets the skip-worktree bit in the index
based on this file, which uses the same syntax as .gitignore files.  If
an entry matches a pattern in this file, skip-worktree will not be set
on that entry.  Otherwise, skip-worktree will be set.

   Then it compares the new skip-worktree value with the previous one.
If skip-worktree turns from set to unset, it will add the corresponding
file back.  If it turns from unset to set, that file will be removed.

   While ‘$GIT_DIR/info/sparse-checkout’ is usually used to specify what
files are in, you can also specify what files are _not_ in, using negate
patterns.  For example, to remove the file ‘unwanted’:

     /*
     !unwanted

   Another tricky thing is fully repopulating the working directory when
you no longer want sparse checkout.  You cannot just disable "sparse
checkout" because skip-worktree bits are still in the index and your
working directory is still sparsely populated.  You should re-populate
the working directory with the ‘$GIT_DIR/info/sparse-checkout’ file
content as follows:

     /*

   Then you can disable sparse checkout.  Sparse checkout support in
_git read-tree_ and similar commands is disabled by default.  You need
to turn ‘core.sparseCheckout’ on in order to have sparse checkout
support.


SEE ALSO
********

git-write-tree(1); git-ls-files(1); gitignore(5);
git-sparse-checkout(1);


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-rebase,  Up: Top

Name
****

git-rebase — Reapply commits on top of another base tip


Synopsis
********

     git rebase [-i | –interactive] [<options>] [–exec <cmd>]
             [–onto <newbase> | –keep-base] [<upstream> [<branch>]]
     git rebase [-i | –interactive] [<options>] [–exec <cmd>] [–onto <newbase>]
             –root [<branch>]
     git rebase (–continue | –skip | –abort | –quit | –edit-todo | –show-current-patch)


DESCRIPTION
***********

If <branch> is specified, _git rebase_ will perform an automatic ‘git
switch <branch>’ before doing anything else.  Otherwise it remains on
the current branch.

   If <upstream> is not specified, the upstream configured in
branch.<name>.remote and branch.<name>.merge options will be used (see
git-config(1) for details) and the ‘--fork-point’ option is assumed.  If
you are currently not on any branch or if the current branch does not
have a configured upstream, the rebase will abort.

   All changes made by commits in the current branch but that are not in
<upstream> are saved to a temporary area.  This is the same set of
commits that would be shown by ‘git log <upstream>..HEAD’; or by ‘git
log 'fork_point'..HEAD’, if ‘--fork-point’ is active (see the
description on ‘--fork-point’ below); or by ‘git log HEAD’, if the
‘--root’ option is specified.

   The current branch is reset to <upstream>, or <newbase> if the –onto
option was supplied.  This has the exact same effect as ‘git reset
--hard <upstream>’ (or <newbase>).  ORIG_HEAD is set to point at the tip
of the branch before the reset.

   The commits that were previously saved into the temporary area are
then reapplied to the current branch, one by one, in order.  Note that
any commits in HEAD which introduce the same textual changes as a commit
in HEAD..<upstream> are omitted (i.e., a patch already accepted upstream
with a different commit message or timestamp will be skipped).

   It is possible that a merge failure will prevent this process from
being completely automatic.  You will have to resolve any such merge
failure and run ‘git rebase --continue’.  Another option is to bypass
the commit that caused the merge failure with ‘git rebase --skip’.  To
check out the original <branch> and remove the .git/rebase-apply working
files, use the command ‘git rebase --abort’ instead.

   Assume the following history exists and the current branch is
"topic":

               A---B---C topic
              /
         D---E---F---G master

   From this point, the result of either of the following commands:

     git rebase master
     git rebase master topic

   would be:

                       A'--B'--C' topic
                      /
         D---E---F---G master

   *NOTE:* The latter form is just a short-hand of ‘git checkout topic’
followed by ‘git rebase master’.  When rebase exits ‘topic’ will remain
the checked-out branch.

   If the upstream branch already contains a change you have made (e.g.,
because you mailed a patch which was applied upstream), then that commit
will be skipped and warnings will be issued (if the ‘merge’ backend is
used).  For example, running ‘git rebase master’ on the following
history (in which ‘A'’ and ‘A’ introduce the same set of changes, but
have different committer information):

               A---B---C topic
              /
         D---E---A'---F master

   will result in:

                        B'---C' topic
                       /
         D---E---A'---F master

   Here is how you would transplant a topic branch based on one branch
to another, to pretend that you forked the topic branch from the latter
branch, using ‘rebase --onto’.

   First let’s assume your _topic_ is based on branch _next_.  For
example, a feature developed in _topic_ depends on some functionality
which is found in _next_.

         o---o---o---o---o  master
              \
               o---o---o---o---o  next
                                \
                                 o---o---o  topic

   We want to make _topic_ forked from branch _master_; for example,
because the functionality on which _topic_ depends was merged into the
more stable _master_ branch.  We want our tree to look like this:

         o---o---o---o---o  master
             |            \
             |             o'--o'--o'  topic
              \
               o---o---o---o---o  next

   We can get this using the following command:

     git rebase --onto master next topic

   Another example of –onto option is to rebase part of a branch.  If we
have the following situation:

                                 H---I---J topicB
                                /
                       E---F---G  topicA
                      /
         A---B---C---D  master

   then the command

     git rebase --onto master topicA topicB

   would result in:

                      H'--I'--J'  topicB
                     /
                     | E---F---G  topicA
                     |/
         A---B---C---D  master

   This is useful when topicB does not depend on topicA.

   A range of commits could also be removed with rebase.  If we have the
following situation:

         E---F---G---H---I---J  topicA

   then the command

     git rebase --onto topicA~5 topicA~3 topicA

   would result in the removal of commits F and G:

         E---H'---I'---J'  topicA

   This is useful if F and G were flawed in some way, or should not be
part of topicA. Note that the argument to –onto and the <upstream>
parameter can be any valid commit-ish.

   In case of conflict, _git rebase_ will stop at the first problematic
commit and leave conflict markers in the tree.  You can use _git diff_
to locate the markers (<<<<<<) and make edits to resolve the conflict.
For each file you edit, you need to tell Git that the conflict has been
resolved, typically this would be done with

     git add <filename>

   After resolving the conflict manually and updating the index with the
desired resolution, you can continue the rebasing process with

     git rebase --continue

   Alternatively, you can undo the _git rebase_ with

     git rebase --abort


OPTIONS
*******

‘--onto <newbase>’
     Starting point at which to create the new commits.  If the –onto
     option is not specified, the starting point is <upstream>.  May be
     any valid commit, and not just an existing branch name.

     As a special case, you may use "A...B" as a shortcut for the merge
     base of A and B if there is exactly one merge base.  You can leave
     out at most one of A and B, in which case it defaults to HEAD.

‘--keep-base’
     Set the starting point at which to create the new commits to the
     merge base of <upstream> <branch>.  Running _git rebase –keep-base
     <upstream> <branch>_ is equivalent to running _git rebase –onto
     <upstream>… <upstream>_.

     This option is useful in the case where one is developing a feature
     on top of an upstream branch.  While the feature is being worked
     on, the upstream branch may advance and it may not be the best idea
     to keep rebasing on top of the upstream but to keep the base commit
     as-is.

     Although both this option and –fork-point find the merge base
     between <upstream> and <branch>, this option uses the merge base as
     the _starting point_ on which new commits will be created, whereas
     –fork-point uses the merge base to determine the _set of commits_
     which will be rebased.

     See also INCOMPATIBLE OPTIONS below.

<upstream>
     Upstream branch to compare against.  May be any valid commit, not
     just an existing branch name.  Defaults to the configured upstream
     for the current branch.

<branch>
     Working branch; defaults to HEAD.

‘--continue’
     Restart the rebasing process after having resolved a merge
     conflict.

‘--abort’
     Abort the rebase operation and reset HEAD to the original branch.
     If <branch> was provided when the rebase operation was started,
     then HEAD will be reset to <branch>.  Otherwise HEAD will be reset
     to where it was when the rebase operation was started.

‘--quit’
     Abort the rebase operation but HEAD is not reset back to the
     original branch.  The index and working tree are also left
     unchanged as a result.  If a temporary stash entry was created
     using –autostash, it will be saved to the stash list.

‘--apply’
     Use applying strategies to rebase (calling ‘git-am’ internally).
     This option may become a no-op in the future once the merge backend
     handles everything the apply one does.

     See also INCOMPATIBLE OPTIONS below.

‘--empty={drop,keep,ask}’
     How to handle commits that are not empty to start and are not clean
     cherry-picks of any upstream commit, but which become empty after
     rebasing (because they contain a subset of already upstream
     changes).  With drop (the default), commits that become empty are
     dropped.  With keep, such commits are kept.  With ask (implied by
     –interactive), the rebase will halt when an empty commit is applied
     allowing you to choose whether to drop it, edit files more, or just
     commit the empty changes.  Other options, like –exec, will use the
     default of drop unless -i/–interactive is explicitly specified.

     Note that commits which start empty are kept (unless –no-keep-empty
     is specified), and commits which are clean cherry-picks (as
     determined by ‘git log --cherry-mark ...’) are detected and dropped
     as a preliminary step (unless –reapply-cherry-picks is passed).

     See also INCOMPATIBLE OPTIONS below.

‘--no-keep-empty’
‘--keep-empty’
     Do not keep commits that start empty before the rebase (i.e.  that
     do not change anything from its parent) in the result.  The default
     is to keep commits which start empty, since creating such commits
     requires passing the –allow-empty override flag to ‘git commit’,
     signifying that a user is very intentionally creating such a commit
     and thus wants to keep it.

     Usage of this flag will probably be rare, since you can get rid of
     commits that start empty by just firing up an interactive rebase
     and removing the lines corresponding to the commits you don’t want.
     This flag exists as a convenient shortcut, such as for cases where
     external tools generate many empty commits and you want them all
     removed.

     For commits which do not start empty but become empty after
     rebasing, see the –empty flag.

     See also INCOMPATIBLE OPTIONS below.

‘--reapply-cherry-picks’
‘--no-reapply-cherry-picks’
     Reapply all clean cherry-picks of any upstream commit instead of
     preemptively dropping them.  (If these commits then become empty
     after rebasing, because they contain a subset of already upstream
     changes, the behavior towards them is controlled by the ‘--empty’
     flag.)

     By default (or if ‘--no-reapply-cherry-picks’ is given), these
     commits will be automatically dropped.  Because this necessitates
     reading all upstream commits, this can be expensive in repos with a
     large number of upstream commits that need to be read.  When using
     the ‘merge’ backend, warnings will be issued for each dropped
     commit (unless ‘--quiet’ is given).  Advice will also be issued
     unless ‘advice.skippedCherryPicks’ is set to false (see
     git-config(1)).

     ‘--reapply-cherry-picks’ allows rebase to forgo reading all
     upstream commits, potentially improving performance.

     See also INCOMPATIBLE OPTIONS below.

‘--allow-empty-message’
     No-op.  Rebasing commits with an empty message used to fail and
     this option would override that behavior, allowing commits with
     empty messages to be rebased.  Now commits with an empty message do
     not cause rebasing to halt.

     See also INCOMPATIBLE OPTIONS below.

‘--skip’
     Restart the rebasing process by skipping the current patch.

‘--edit-todo’
     Edit the todo list during an interactive rebase.

‘--show-current-patch’
     Show the current patch in an interactive rebase or when rebase is
     stopped because of conflicts.  This is the equivalent of ‘git show
     REBASE_HEAD’.

‘-m’
‘--merge’
     Using merging strategies to rebase (default).

     Note that a rebase merge works by replaying each commit from the
     working branch on top of the <upstream> branch.  Because of this,
     when a merge conflict happens, the side reported as _ours_ is the
     so-far rebased series, starting with <upstream>, and _theirs_ is
     the working branch.  In other words, the sides are swapped.

     See also INCOMPATIBLE OPTIONS below.

‘-s <strategy>’
‘--strategy=<strategy>’
     Use the given merge strategy, instead of the default ‘ort’.  This
     implies ‘--merge’.

     Because _git rebase_ replays each commit from the working branch on
     top of the <upstream> branch using the given strategy, using the
     _ours_ strategy simply empties all patches from the <branch>, which
     makes little sense.

     See also INCOMPATIBLE OPTIONS below.

‘-X <strategy-option>’
‘--strategy-option=<strategy-option>’
     Pass the <strategy-option> through to the merge strategy.  This
     implies ‘--merge’ and, if no strategy has been specified, ‘-s ort’.
     Note the reversal of _ours_ and _theirs_ as noted above for the
     ‘-m’ option.

     See also INCOMPATIBLE OPTIONS below.

‘--rerere-autoupdate’
‘--no-rerere-autoupdate’
     Allow the rerere mechanism to update the index with the result of
     auto-conflict resolution if possible.

‘-S[<keyid>]’
‘--gpg-sign[=<keyid>]’
‘--no-gpg-sign’
     GPG-sign commits.  The ‘keyid’ argument is optional and defaults to
     the committer identity; if specified, it must be stuck to the
     option without a space.  ‘--no-gpg-sign’ is useful to countermand
     both ‘commit.gpgSign’ configuration variable, and earlier
     ‘--gpg-sign’.

‘-q’
‘--quiet’
     Be quiet.  Implies –no-stat.

‘-v’
‘--verbose’
     Be verbose.  Implies –stat.

‘--stat’
     Show a diffstat of what changed upstream since the last rebase.
     The diffstat is also controlled by the configuration option
     rebase.stat.

‘-n’
‘--no-stat’
     Do not show a diffstat as part of the rebase process.

‘--no-verify’
     This option bypasses the pre-rebase hook.  See also githooks(5).

‘--verify’
     Allows the pre-rebase hook to run, which is the default.  This
     option can be used to override –no-verify.  See also githooks(5).

‘-C<n>’
     Ensure at least <n> lines of surrounding context match before and
     after each change.  When fewer lines of surrounding context exist
     they all must match.  By default no context is ever ignored.
     Implies –apply.

     See also INCOMPATIBLE OPTIONS below.

‘--no-ff’
‘--force-rebase’
‘-f’
     Individually replay all rebased commits instead of fast-forwarding
     over the unchanged ones.  This ensures that the entire history of
     the rebased branch is composed of new commits.

     You may find this helpful after reverting a topic branch merge, as
     this option recreates the topic branch with fresh commits so it can
     be remerged successfully without needing to "revert the reversion"
     (see the revert-a-faulty-merge How-To
     (howto/revert-a-faulty-merge.html) for details).

‘--fork-point’
‘--no-fork-point’
     Use reflog to find a better common ancestor between <upstream> and
     <branch> when calculating which commits have been introduced by
     <branch>.

     When –fork-point is active, _fork_point_ will be used instead of
     <upstream> to calculate the set of commits to rebase, where
     _fork_point_ is the result of ‘git merge-base --fork-point
     <upstream> <branch>’ command (see git-merge-base(1)).  If
     _fork_point_ ends up being empty, the <upstream> will be used as a
     fallback.

     If <upstream> is given on the command line, then the default is
     ‘--no-fork-point’, otherwise the default is ‘--fork-point’.

     If your branch was based on <upstream> but <upstream> was rewound
     and your branch contains commits which were dropped, this option
     can be used with ‘--keep-base’ in order to drop those commits from
     your branch.

     See also INCOMPATIBLE OPTIONS below.

‘--ignore-whitespace’
     Ignore whitespace differences when trying to reconcile differences.
     Currently, each backend implements an approximation of this
     behavior:

     apply backend: When applying a patch, ignore changes in whitespace
     in context lines.  Unfortunately, this means that if the "old"
     lines being replaced by the patch differ only in whitespace from
     the existing file, you will get a merge conflict instead of a
     successful patch application.

     merge backend: Treat lines with only whitespace changes as
     unchanged when merging.  Unfortunately, this means that any patch
     hunks that were intended to modify whitespace and nothing else will
     be dropped, even if the other side had no changes that conflicted.

‘--whitespace=<option>’
     This flag is passed to the _git apply_ program (see git-apply(1))
     that applies the patch.  Implies –apply.

     See also INCOMPATIBLE OPTIONS below.

‘--committer-date-is-author-date’
     Instead of using the current time as the committer date, use the
     author date of the commit being rebased as the committer date.
     This option implies ‘--force-rebase’.

‘--ignore-date’
‘--reset-author-date’
     Instead of using the author date of the original commit, use the
     current time as the author date of the rebased commit.  This option
     implies ‘--force-rebase’.

     See also INCOMPATIBLE OPTIONS below.

‘--signoff’
     Add a ‘Signed-off-by’ trailer to all the rebased commits.  Note
     that if ‘--interactive’ is given then only commits marked to be
     picked, edited or reworded will have the trailer added.

     See also INCOMPATIBLE OPTIONS below.

‘-i’
‘--interactive’
     Make a list of the commits which are about to be rebased.  Let the
     user edit that list before rebasing.  This mode can also be used to
     split commits (see SPLITTING COMMITS below).

     The commit list format can be changed by setting the configuration
     option rebase.instructionFormat.  A customized instruction format
     will automatically have the long commit hash prepended to the
     format.

     See also INCOMPATIBLE OPTIONS below.

‘-r’
‘--rebase-merges[=(rebase-cousins|no-rebase-cousins)]’
     By default, a rebase will simply drop merge commits from the todo
     list, and put the rebased commits into a single, linear branch.
     With ‘--rebase-merges’, the rebase will instead try to preserve the
     branching structure within the commits that are to be rebased, by
     recreating the merge commits.  Any resolved merge conflicts or
     manual amendments in these merge commits will have to be
     resolved/re-applied manually.

     By default, or when ‘no-rebase-cousins’ was specified, commits
     which do not have ‘<upstream>’ as direct ancestor will keep their
     original branch point, i.e.  commits that would be excluded by
     git-log(1)’s ‘--ancestry-path’ option will keep their original
     ancestry by default.  If the ‘rebase-cousins’ mode is turned on,
     such commits are instead rebased onto ‘<upstream>’ (or ‘<onto>’, if
     specified).

     The ‘--rebase-merges’ mode is similar in spirit to the deprecated
     ‘--preserve-merges’ but works with interactive rebases, where
     commits can be reordered, inserted and dropped at will.

     It is currently only possible to recreate the merge commits using
     the ‘ort’ merge strategy; different merge strategies can be used
     only via explicit ‘exec git merge -s <strategy> [...]’ commands.

     See also REBASING MERGES and INCOMPATIBLE OPTIONS below.

‘-p’
‘--preserve-merges’
     [DEPRECATED: use ‘--rebase-merges’ instead] Recreate merge commits
     instead of flattening the history by replaying commits a merge
     commit introduces.  Merge conflict resolutions or manual amendments
     to merge commits are not preserved.

     This uses the ‘--interactive’ machinery internally, but combining
     it with the ‘--interactive’ option explicitly is generally not a
     good idea unless you know what you are doing (see BUGS below).

     See also INCOMPATIBLE OPTIONS below.

‘-x <cmd>’
‘--exec <cmd>’
     Append "exec <cmd>" after each line creating a commit in the final
     history.  <cmd> will be interpreted as one or more shell commands.
     Any command that fails will interrupt the rebase, with exit code 1.

     You may execute several commands by either using one instance of
     ‘--exec’ with several commands:

          git rebase -i --exec "cmd1 && cmd2 && ..."

     or by giving more than one ‘--exec’:

          git rebase -i --exec "cmd1" --exec "cmd2" --exec ...

     If ‘--autosquash’ is used, "exec" lines will not be appended for
     the intermediate commits, and will only appear at the end of each
     squash/fixup series.

     This uses the ‘--interactive’ machinery internally, but it can be
     run without an explicit ‘--interactive’.

     See also INCOMPATIBLE OPTIONS below.

‘--root’
     Rebase all commits reachable from <branch>, instead of limiting
     them with an <upstream>.  This allows you to rebase the root
     commit(s) on a branch.  When used with –onto, it will skip changes
     already contained in <newbase> (instead of <upstream>) whereas
     without –onto it will operate on every change.  When used together
     with both –onto and –preserve-merges, _all_ root commits will be
     rewritten to have <newbase> as parent instead.

     See also INCOMPATIBLE OPTIONS below.

‘--autosquash’
‘--no-autosquash’
     When the commit log message begins with "squash!  …" or "fixup!  …"
     or "amend!  …", and there is already a commit in the todo list that
     matches the same ‘...’, automatically modify the todo list of
     ‘rebase -i’, so that the commit marked for squashing comes right
     after the commit to be modified, and change the action of the moved
     commit from ‘pick’ to ‘squash’ or ‘fixup’ or ‘fixup -C’
     respectively.  A commit matches the ‘...’ if the commit subject
     matches, or if the ‘...’ refers to the commit’s hash.  As a
     fall-back, partial matches of the commit subject work, too.  The
     recommended way to create fixup/amend/squash commits is by using
     the ‘--fixup’, ‘--fixup=amend:’ or ‘--fixup=reword:’ and ‘--squash’
     options respectively of git-commit(1).

     If the ‘--autosquash’ option is enabled by default using the
     configuration variable ‘rebase.autoSquash’, this option can be used
     to override and disable this setting.

     See also INCOMPATIBLE OPTIONS below.

‘--autostash’
‘--no-autostash’
     Automatically create a temporary stash entry before the operation
     begins, and apply it after the operation ends.  This means that you
     can run rebase on a dirty worktree.  However, use with care: the
     final stash application after a successful rebase might result in
     non-trivial conflicts.

‘--reschedule-failed-exec’
‘--no-reschedule-failed-exec’
     Automatically reschedule ‘exec’ commands that failed.  This only
     makes sense in interactive mode (or when an ‘--exec’ option was
     provided).

     Even though this option applies once a rebase is started, it’s set
     for the whole rebase at the start based on either the
     ‘rebase.rescheduleFailedExec’ configuration (see git-config(1) or
     "CONFIGURATION" below) or whether this option is provided.
     Otherwise an explicit ‘--no-reschedule-failed-exec’ at the start
     would be overridden by the presence of
     ‘rebase.rescheduleFailedExec=true’ configuration.


INCOMPATIBLE OPTIONS
********************

The following options:

   • –apply

   • –whitespace

   • -C

   are incompatible with the following options:

   • –merge

   • –strategy

   • –strategy-option

   • –allow-empty-message

   • –[no-]autosquash

   • –rebase-merges

   • –preserve-merges

   • –interactive

   • –exec

   • –no-keep-empty

   • –empty=

   • –reapply-cherry-picks

   • –edit-todo

   • –root when used in combination with –onto

   In addition, the following pairs of options are incompatible:

   • –preserve-merges and –interactive

   • –preserve-merges and –signoff

   • –preserve-merges and –rebase-merges

   • –preserve-merges and –empty=

   • –preserve-merges and –ignore-whitespace

   • –preserve-merges and –committer-date-is-author-date

   • –preserve-merges and –ignore-date

   • –keep-base and –onto

   • –keep-base and –root

   • –fork-point and –root


BEHAVIORAL DIFFERENCES
**********************

git rebase has two primary backends: apply and merge.  (The apply
backend used to be known as the _am_ backend, but the name led to
confusion as it looks like a verb instead of a noun.  Also, the merge
backend used to be known as the interactive backend, but it is now used
for non-interactive cases as well.  Both were renamed based on
lower-level functionality that underpinned each.)  There are some subtle
differences in how these two backends behave:


Empty commits
=============

The apply backend unfortunately drops intentionally empty commits, i.e.
commits that started empty, though these are rare in practice.  It also
drops commits that become empty and has no option for controlling this
behavior.

   The merge backend keeps intentionally empty commits by default
(though with -i they are marked as empty in the todo list editor, or
they can be dropped automatically with –no-keep-empty).

   Similar to the apply backend, by default the merge backend drops
commits that become empty unless -i/–interactive is specified (in which
case it stops and asks the user what to do).  The merge backend also has
an –empty={drop,keep,ask} option for changing the behavior of handling
commits that become empty.


Directory rename detection
==========================

Due to the lack of accurate tree information (arising from constructing
fake ancestors with the limited information available in patches),
directory rename detection is disabled in the apply backend.  Disabled
directory rename detection means that if one side of history renames a
directory and the other adds new files to the old directory, then the
new files will be left behind in the old directory without any warning
at the time of rebasing that you may want to move these files into the
new directory.

   Directory rename detection works with the merge backend to provide
you warnings in such cases.


Context
=======

The apply backend works by creating a sequence of patches (by calling
‘format-patch’ internally), and then applying the patches in sequence
(calling ‘am’ internally).  Patches are composed of multiple hunks, each
with line numbers, a context region, and the actual changes.  The line
numbers have to be taken with some fuzz, since the other side will
likely have inserted or deleted lines earlier in the file.  The context
region is meant to help find how to adjust the line numbers in order to
apply the changes to the right lines.  However, if multiple areas of the
code have the same surrounding lines of context, the wrong one can be
picked.  There are real-world cases where this has caused commits to be
reapplied incorrectly with no conflicts reported.  Setting diff.context
to a larger value may prevent such types of problems, but increases the
chance of spurious conflicts (since it will require more lines of
matching context to apply).

   The merge backend works with a full copy of each relevant file,
insulating it from these types of problems.


Labelling of conflicts markers
==============================

When there are content conflicts, the merge machinery tries to annotate
each side’s conflict markers with the commits where the content came
from.  Since the apply backend drops the original information about the
rebased commits and their parents (and instead generates new fake
commits based off limited information in the generated patches), those
commits cannot be identified; instead it has to fall back to a commit
summary.  Also, when merge.conflictStyle is set to diff3, the apply
backend will use "constructed merge base" to label the content from the
merge base, and thus provide no information about the merge base commit
whatsoever.

   The merge backend works with the full commits on both sides of
history and thus has no such limitations.


Hooks
=====

The apply backend has not traditionally called the post-commit hook,
while the merge backend has.  Both have called the post-checkout hook,
though the merge backend has squelched its output.  Further, both
backends only call the post-checkout hook with the starting point commit
of the rebase, not the intermediate commits nor the final commit.  In
each case, the calling of these hooks was by accident of implementation
rather than by design (both backends were originally implemented as
shell scripts and happened to invoke other commands like _git checkout_
or _git commit_ that would call the hooks).  Both backends should have
the same behavior, though it is not entirely clear which, if any, is
correct.  We will likely make rebase stop calling either of these hooks
in the future.


Interruptability
================

The apply backend has safety problems with an ill-timed interrupt; if
the user presses Ctrl-C at the wrong time to try to abort the rebase,
the rebase can enter a state where it cannot be aborted with a
subsequent ‘git rebase --abort’.  The merge backend does not appear to
suffer from the same shortcoming.  (See
https://lore.kernel.org/git/20200207132152.GC2868@szeder.dev/
(https://lore.kernel.org/git/20200207132152.GC2868@szeder.dev/) for
details.)


Commit Rewording
================

When a conflict occurs while rebasing, rebase stops and asks the user to
resolve.  Since the user may need to make notable changes while
resolving conflicts, after conflicts are resolved and the user has run
‘git rebase --continue’, the rebase should open an editor and ask the
user to update the commit message.  The merge backend does this, while
the apply backend blindly applies the original commit message.


Miscellaneous differences
=========================

There are a few more behavioral differences that most folks would
probably consider inconsequential but which are mentioned for
completeness:

   • Reflog: The two backends will use different wording when describing
     the changes made in the reflog, though both will make use of the
     word "rebase".

   • Progress, informational, and error messages: The two backends
     provide slightly different progress and informational messages.
     Also, the apply backend writes error messages (such as "Your files
     would be overwritten…") to stdout, while the merge backend writes
     them to stderr.

   • State directories: The two backends keep their state in different
     directories under .git/


MERGE STRATEGIES
****************

The merge mechanism (‘git merge’ and ‘git pull’ commands) allows the
backend _merge strategies_ to be chosen with ‘-s’ option.  Some
strategies can also take their own options, which can be passed by
giving ‘-X<option>’ arguments to ‘git merge’ and/or ‘git pull’.

ort
     This is the default merge strategy when pulling or merging one
     branch.  This strategy can only resolve two heads using a 3-way
     merge algorithm.  When there is more than one common ancestor that
     can be used for 3-way merge, it creates a merged tree of the common
     ancestors and uses that as the reference tree for the 3-way merge.
     This has been reported to result in fewer merge conflicts without
     causing mismerges by tests done on actual merge commits taken from
     Linux 2.6 kernel development history.  Additionally this strategy
     can detect and handle merges involving renames.  It does not make
     use of detected copies.  The name for this algorithm is an acronym
     ("Ostensibly Recursive’s Twin") and came from the fact that it was
     written as a replacement for the previous default algorithm,
     ‘recursive’.

     The _ort_ strategy can take the following options:

     ours
          This option forces conflicting hunks to be auto-resolved
          cleanly by favoring _our_ version.  Changes from the other
          tree that do not conflict with our side are reflected in the
          merge result.  For a binary file, the entire contents are
          taken from our side.

          This should not be confused with the _ours_ merge strategy,
          which does not even look at what the other tree contains at
          all.  It discards everything the other tree did, declaring
          _our_ history contains all that happened in it.

     theirs
          This is the opposite of _ours_; note that, unlike _ours_,
          there is no _theirs_ merge strategy to confuse this merge
          option with.

     ignore-space-change
     ignore-all-space
     ignore-space-at-eol
     ignore-cr-at-eol
          Treats lines with the indicated type of whitespace change as
          unchanged for the sake of a three-way merge.  Whitespace
          changes mixed with other changes to a line are not ignored.
          See also git-diff(1) ‘-b’, ‘-w’, ‘--ignore-space-at-eol’, and
          ‘--ignore-cr-at-eol’.

             • If _their_ version only introduces whitespace changes to
               a line, _our_ version is used;

             • If _our_ version introduces whitespace changes but
               _their_ version includes a substantial change, _their_
               version is used;

             • Otherwise, the merge proceeds in the usual way.

     renormalize
          This runs a virtual check-out and check-in of all three stages
          of a file when resolving a three-way merge.  This option is
          meant to be used when merging branches with different clean
          filters or end-of-line normalization rules.  See "Merging
          branches with differing checkin/checkout attributes" in
          gitattributes(5) for details.

     no-renormalize
          Disables the ‘renormalize’ option.  This overrides the
          ‘merge.renormalize’ configuration variable.

     find-renames[=<n>]
          Turn on rename detection, optionally setting the similarity
          threshold.  This is the default.  This overrides the
          _merge.renames_ configuration variable.  See also git-diff(1)
          ‘--find-renames’.

     rename-threshold=<n>
          Deprecated synonym for ‘find-renames=<n>’.

     subtree[=<path>]
          This option is a more advanced form of _subtree_ strategy,
          where the strategy makes a guess on how two trees must be
          shifted to match with each other when merging.  Instead, the
          specified path is prefixed (or stripped from the beginning) to
          make the shape of two trees to match.

recursive
     This can only resolve two heads using a 3-way merge algorithm.
     When there is more than one common ancestor that can be used for
     3-way merge, it creates a merged tree of the common ancestors and
     uses that as the reference tree for the 3-way merge.  This has been
     reported to result in fewer merge conflicts without causing
     mismerges by tests done on actual merge commits taken from Linux
     2.6 kernel development history.  Additionally this can detect and
     handle merges involving renames.  It does not make use of detected
     copies.  This was the default strategy for resolving two heads from
     Git v0.99.9k until v2.33.0.

     The _recursive_ strategy takes the same options as _ort_.  However,
     there are three additional options that _ort_ ignores (not
     documented above) that are potentially useful with the _recursive_
     strategy:

     patience
          Deprecated synonym for ‘diff-algorithm=patience’.

     diff-algorithm=[patience|minimal|histogram|myers]
          Use a different diff algorithm while merging, which can help
          avoid mismerges that occur due to unimportant matching lines
          (such as braces from distinct functions).  See also
          git-diff(1) ‘--diff-algorithm’.  Note that ‘ort’ specifically
          uses ‘diff-algorithm=histogram’, while ‘recursive’ defaults to
          the ‘diff.algorithm’ config setting.

     no-renames
          Turn off rename detection.  This overrides the ‘merge.renames’
          configuration variable.  See also git-diff(1) ‘--no-renames’.

resolve
     This can only resolve two heads (i.e.  the current branch and
     another branch you pulled from) using a 3-way merge algorithm.  It
     tries to carefully detect criss-cross merge ambiguities.  It does
     not handle renames.

octopus
     This resolves cases with more than two heads, but refuses to do a
     complex merge that needs manual resolution.  It is primarily meant
     to be used for bundling topic branch heads together.  This is the
     default merge strategy when pulling or merging more than one
     branch.

ours
     This resolves any number of heads, but the resulting tree of the
     merge is always that of the current branch head, effectively
     ignoring all changes from all other branches.  It is meant to be
     used to supersede old development history of side branches.  Note
     that this is different from the -Xours option to the _recursive_
     merge strategy.

subtree
     This is a modified ‘ort’ strategy.  When merging trees A and B, if
     B corresponds to a subtree of A, B is first adjusted to match the
     tree structure of A, instead of reading the trees at the same
     level.  This adjustment is also done to the common ancestor tree.

   With the strategies that use 3-way merge (including the default,
_ort_), if a change is made on both branches, but later reverted on one
of the branches, that change will be present in the merged result; some
people find this behavior confusing.  It occurs because only the heads
and the merge base are considered when performing a merge, not the
individual commits.  The merge algorithm therefore considers the
reverted change as no change at all, and substitutes the changed version
instead.


NOTES
*****

You should understand the implications of using _git rebase_ on a
repository that you share.  See also RECOVERING FROM UPSTREAM REBASE
below.

   When the git-rebase command is run, it will first execute a
"pre-rebase" hook if one exists.  You can use this hook to do sanity
checks and reject the rebase if it isn’t appropriate.  Please see the
template pre-rebase hook script for an example.

   Upon completion, <branch> will be the current branch.


INTERACTIVE MODE
****************

Rebasing interactively means that you have a chance to edit the commits
which are rebased.  You can reorder the commits, and you can remove them
(weeding out bad or otherwise unwanted patches).

   The interactive mode is meant for this type of workflow:

  1. have a wonderful idea

  2. hack on the code

  3. prepare a series for submission

  4. submit

   where point 2.  consists of several instances of

   a) regular use

  1. finish something worthy of a commit

  2. commit

   b) independent fixup

  1. realize that something does not work

  2. fix that

  3. commit it

   Sometimes the thing fixed in b.2.  cannot be amended to the not-quite
perfect commit it fixes, because that commit is buried deeply in a patch
series.  That is exactly what interactive rebase is for: use it after
plenty of "a"s and "b"s, by rearranging and editing commits, and
squashing multiple commits into one.

   Start it with the last commit you want to retain as-is:

     git rebase -i <after-this-commit>

   An editor will be fired up with all the commits in your current
branch (ignoring merge commits), which come after the given commit.  You
can reorder the commits in this list to your heart’s content, and you
can remove them.  The list looks more or less like this:

     pick deadbee The oneline of this commit
     pick fa1afe1 The oneline of the next commit
     ...

   The oneline descriptions are purely for your pleasure; _git rebase_
will not look at them but at the commit names ("deadbee" and "fa1afe1"
in this example), so do not delete or edit the names.

   By replacing the command "pick" with the command "edit", you can tell
_git rebase_ to stop after applying that commit, so that you can edit
the files and/or the commit message, amend the commit, and continue
rebasing.

   To interrupt the rebase (just like an "edit" command would do, but
without cherry-picking any commit first), use the "break" command.

   If you just want to edit the commit message for a commit, replace the
command "pick" with the command "reword".

   To drop a commit, replace the command "pick" with "drop", or just
delete the matching line.

   If you want to fold two or more commits into one, replace the command
"pick" for the second and subsequent commits with "squash" or "fixup".
If the commits had different authors, the folded commit will be
attributed to the author of the first commit.  The suggested commit
message for the folded commit is the concatenation of the first commit’s
message with those identified by "squash" commands, omitting the
messages of commits identified by "fixup" commands, unless "fixup -c" is
used.  In that case the suggested commit message is only the message of
the "fixup -c" commit, and an editor is opened allowing you to edit the
message.  The contents (patch) of the "fixup -c" commit are still
incorporated into the folded commit.  If there is more than one "fixup
-c" commit, the message from the final one is used.  You can also use
"fixup -C" to get the same behavior as "fixup -c" except without opening
an editor.

   _git rebase_ will stop when "pick" has been replaced with "edit" or
when a command fails due to merge errors.  When you are done editing
and/or resolving conflicts you can continue with ‘git rebase
--continue’.

   For example, if you want to reorder the last 5 commits, such that
what was HEAD~4 becomes the new HEAD. To achieve that, you would call
_git rebase_ like this:

     $ git rebase -i HEAD~5

   And move the first patch to the end of the list.

   You might want to recreate merge commits, e.g.  if you have a history
like this:

                X
                 \
              A---M---B
             /
     ---o---O---P---Q

   Suppose you want to rebase the side branch starting at "A" to "Q".
Make sure that the current HEAD is "B", and call

     $ git rebase -i -r --onto Q O

   Reordering and editing commits usually creates untested intermediate
steps.  You may want to check that your history editing did not break
anything by running a test, or at least recompiling at intermediate
points in history by using the "exec" command (shortcut "x").  You may
do so by creating a todo list like this one:

     pick deadbee Implement feature XXX
     fixup f1a5c00 Fix to feature XXX
     exec make
     pick c0ffeee The oneline of the next commit
     edit deadbab The oneline of the commit after
     exec cd subdir; make test
     ...

   The interactive rebase will stop when a command fails (i.e.  exits
with non-0 status) to give you an opportunity to fix the problem.  You
can continue with ‘git rebase --continue’.

   The "exec" command launches the command in a shell (the one specified
in ‘$SHELL’, or the default shell if ‘$SHELL’ is not set), so you can
use shell features (like "cd", ">", ";" …).  The command is run from the
root of the working tree.

     $ git rebase -i --exec "make test"

   This command lets you check that intermediate commits are compilable.
The todo list becomes like that:

     pick 5928aea one
     exec make test
     pick 04d0fda two
     exec make test
     pick ba46169 three
     exec make test
     pick f4593f9 four
     exec make test


SPLITTING COMMITS
*****************

In interactive mode, you can mark commits with the action "edit".
However, this does not necessarily mean that _git rebase_ expects the
result of this edit to be exactly one commit.  Indeed, you can undo the
commit, or you can add other commits.  This can be used to split a
commit into two:

   • Start an interactive rebase with ‘git rebase -i <commit>^’, where
     <commit> is the commit you want to split.  In fact, any commit
     range will do, as long as it contains that commit.

   • Mark the commit you want to split with the action "edit".

   • When it comes to editing that commit, execute ‘git reset HEAD^’.
     The effect is that the HEAD is rewound by one, and the index
     follows suit.  However, the working tree stays the same.

   • Now add the changes to the index that you want to have in the first
     commit.  You can use ‘git add’ (possibly interactively) or _git
     gui_ (or both) to do that.

   • Commit the now-current index with whatever commit message is
     appropriate now.

   • Repeat the last two steps until your working tree is clean.

   • Continue the rebase with ‘git rebase --continue’.

   If you are not absolutely sure that the intermediate revisions are
consistent (they compile, pass the testsuite, etc.)  you should use _git
stash_ to stash away the not-yet-committed changes after each commit,
test, and amend the commit if fixes are necessary.


RECOVERING FROM UPSTREAM REBASE
*******************************

Rebasing (or any other form of rewriting) a branch that others have
based work on is a bad idea: anyone downstream of it is forced to
manually fix their history.  This section explains how to do the fix
from the downstream’s point of view.  The real fix, however, would be to
avoid rebasing the upstream in the first place.

   To illustrate, suppose you are in a situation where someone develops
a _subsystem_ branch, and you are working on a _topic_ that is dependent
on this _subsystem_.  You might end up with a history like the
following:

         o---o---o---o---o---o---o---o  master
              \
               o---o---o---o---o  subsystem
                                \
                                 *---*---*  topic

   If _subsystem_ is rebased against _master_, the following happens:

         o---o---o---o---o---o---o---o  master
              \                       \
               o---o---o---o---o       o'--o'--o'--o'--o'  subsystem
                                \
                                 *---*---*  topic

   If you now continue development as usual, and eventually merge
_topic_ to _subsystem_, the commits from _subsystem_ will remain
duplicated forever:

         o---o---o---o---o---o---o---o  master
              \                       \
               o---o---o---o---o       o'--o'--o'--o'--o'--M  subsystem
                                \                         /
                                 *---*---*-..........-*--*  topic

   Such duplicates are generally frowned upon because they clutter up
history, making it harder to follow.  To clean things up, you need to
transplant the commits on _topic_ to the new _subsystem_ tip, i.e.,
rebase _topic_.  This becomes a ripple effect: anyone downstream from
_topic_ is forced to rebase too, and so on!

   There are two kinds of fixes, discussed in the following subsections:

Easy case: The changes are literally the same.
     This happens if the _subsystem_ rebase was a simple rebase and had
     no conflicts.

Hard case: The changes are not the same.
     This happens if the _subsystem_ rebase had conflicts, or used
     ‘--interactive’ to omit, edit, squash, or fixup commits; or if the
     upstream used one of ‘commit --amend’, ‘reset’, or a full history
     rewriting command like ‘filter-repo’
     (https://github.com/newren/git-filter-repo).


The easy case
=============

Only works if the changes (patch IDs based on the diff contents) on
_subsystem_ are literally the same before and after the rebase
_subsystem_ did.

   In that case, the fix is easy because _git rebase_ knows to skip
changes that are already present in the new upstream (unless
‘--reapply-cherry-picks’ is given).  So if you say (assuming you’re on
_topic_)

         $ git rebase subsystem

   you will end up with the fixed history

         o---o---o---o---o---o---o---o  master
                                      \
                                       o'--o'--o'--o'--o'  subsystem
                                                        \
                                                         *---*---*  topic


The hard case
=============

Things get more complicated if the _subsystem_ changes do not exactly
correspond to the ones before the rebase.

     *Note*

     While an "easy case recovery" sometimes appears to be successful
     even in the hard case, it may have unintended consequences.  For
     example, a commit that was removed via ‘git rebase --interactive’
     will be *resurrected*!

   The idea is to manually tell _git rebase_ "where the old _subsystem_
ended and your _topic_ began", that is, what the old merge base between
them was.  You will have to find a way to name the last commit of the
old _subsystem_, for example:

   • With the _subsystem_ reflog: after _git fetch_, the old tip of
     _subsystem_ is at ‘subsystem@{1}’.  Subsequent fetches will
     increase the number.  (See git-reflog(1).)

   • Relative to the tip of _topic_: knowing that your _topic_ has three
     commits, the old tip of _subsystem_ must be ‘topic~3’.

   You can then transplant the old ‘subsystem..topic’ to the new tip by
saying (for the reflog case, and assuming you are on _topic_ already):

         $ git rebase --onto subsystem subsystem@{1}

   The ripple effect of a "hard case" recovery is especially bad:
_everyone_ downstream from _topic_ will now have to perform a "hard
case" recovery too!


REBASING MERGES
***************

The interactive rebase command was originally designed to handle
individual patch series.  As such, it makes sense to exclude merge
commits from the todo list, as the developer may have merged the
then-current ‘master’ while working on the branch, only to rebase all
the commits onto ‘master’ eventually (skipping the merge commits).

   However, there are legitimate reasons why a developer may want to
recreate merge commits: to keep the branch structure (or "commit
topology") when working on multiple, inter-related branches.

   In the following example, the developer works on a topic branch that
refactors the way buttons are defined, and on another topic branch that
uses that refactoring to implement a "Report a bug" button.  The output
of ‘git log --graph --format=%s -5’ may look like this:

     *   Merge branch 'report-a-bug'
     |\
     | * Add the feedback button
     * | Merge branch 'refactor-button'
     |\ \
     | |/
     | * Use the Button class for all buttons
     | * Extract a generic Button class from the DownloadButton one

   The developer might want to rebase those commits to a newer ‘master’
while keeping the branch topology, for example when the first topic
branch is expected to be integrated into ‘master’ much earlier than the
second one, say, to resolve merge conflicts with changes to the
DownloadButton class that made it into ‘master’.

   This rebase can be performed using the ‘--rebase-merges’ option.  It
will generate a todo list looking like this:

     label onto

     # Branch: refactor-button
     reset onto
     pick 123456 Extract a generic Button class from the DownloadButton one
     pick 654321 Use the Button class for all buttons
     label refactor-button

     # Branch: report-a-bug
     reset refactor-button # Use the Button class for all buttons
     pick abcdef Add the feedback button
     label report-a-bug

     reset onto
     merge -C a1b2c3 refactor-button # Merge 'refactor-button'
     merge -C 6f5e4d report-a-bug # Merge 'report-a-bug'

   In contrast to a regular interactive rebase, there are ‘label’,
‘reset’ and ‘merge’ commands in addition to ‘pick’ ones.

   The ‘label’ command associates a label with the current HEAD when
that command is executed.  These labels are created as worktree-local
refs (‘refs/rewritten/<label>’) that will be deleted when the rebase
finishes.  That way, rebase operations in multiple worktrees linked to
the same repository do not interfere with one another.  If the ‘label’
command fails, it is rescheduled immediately, with a helpful message how
to proceed.

   The ‘reset’ command resets the HEAD, index and worktree to the
specified revision.  It is similar to an ‘exec git reset --hard
<label>’, but refuses to overwrite untracked files.  If the ‘reset’
command fails, it is rescheduled immediately, with a helpful message how
to edit the todo list (this typically happens when a ‘reset’ command was
inserted into the todo list manually and contains a typo).

   The ‘merge’ command will merge the specified revision(s) into
whatever is HEAD at that time.  With ‘-C <original-commit>’, the commit
message of the specified merge commit will be used.  When the ‘-C’ is
changed to a lower-case ‘-c’, the message will be opened in an editor
after a successful merge so that the user can edit the message.

   If a ‘merge’ command fails for any reason other than merge conflicts
(i.e.  when the merge operation did not even start), it is rescheduled
immediately.

   By default, the ‘merge’ command will use the ‘ort’ merge strategy for
regular merges, and ‘octopus’ for octopus merges.  One can specify a
default strategy for all merges using the ‘--strategy’ argument when
invoking rebase, or can override specific merges in the interactive list
of commands by using an ‘exec’ command to call ‘git merge’ explicitly
with a ‘--strategy’ argument.  Note that when calling ‘git merge’
explicitly like this, you can make use of the fact that the labels are
worktree-local refs (the ref ‘refs/rewritten/onto’ would correspond to
the label ‘onto’, for example) in order to refer to the branches you
want to merge.

   Note: the first command (‘label onto’) labels the revision onto which
the commits are rebased; The name ‘onto’ is just a convention, as a nod
to the ‘--onto’ option.

   It is also possible to introduce completely new merge commits from
scratch by adding a command of the form ‘merge <merge-head>’.  This form
will generate a tentative commit message and always open an editor to
let the user edit it.  This can be useful e.g.  when a topic branch
turns out to address more than a single concern and wants to be split
into two or even more topic branches.  Consider this todo list:

     pick 192837 Switch from GNU Makefiles to CMake
     pick 5a6c7e Document the switch to CMake
     pick 918273 Fix detection of OpenSSL in CMake
     pick afbecd http: add support for TLS v1.3
     pick fdbaec Fix detection of cURL in CMake on Windows

   The one commit in this list that is not related to CMake may very
well have been motivated by working on fixing all those bugs introduced
by switching to CMake, but it addresses a different concern.  To split
this branch into two topic branches, the todo list could be edited like
this:

     label onto

     pick afbecd http: add support for TLS v1.3
     label tlsv1.3

     reset onto
     pick 192837 Switch from GNU Makefiles to CMake
     pick 918273 Fix detection of OpenSSL in CMake
     pick fdbaec Fix detection of cURL in CMake on Windows
     pick 5a6c7e Document the switch to CMake
     label cmake

     reset onto
     merge tlsv1.3
     merge cmake


CONFIGURATION
*************

rebase.backend
     Default backend to use for rebasing.  Possible choices are _apply_
     or _merge_.  In the future, if the merge backend gains all
     remaining capabilities of the apply backend, this setting may
     become unused.

rebase.stat
     Whether to show a diffstat of what changed upstream since the last
     rebase.  False by default.

rebase.autoSquash
     If set to true enable ‘--autosquash’ option by default.

rebase.autoStash
     When set to true, automatically create a temporary stash entry
     before the operation begins, and apply it after the operation ends.
     This means that you can run rebase on a dirty worktree.  However,
     use with care: the final stash application after a successful
     rebase might result in non-trivial conflicts.  This option can be
     overridden by the ‘--no-autostash’ and ‘--autostash’ options of
     git-rebase(1).  Defaults to false.

rebase.missingCommitsCheck
     If set to "warn", git rebase -i will print a warning if some
     commits are removed (e.g.  a line was deleted), however the rebase
     will still proceed.  If set to "error", it will print the previous
     warning and stop the rebase, _git rebase –edit-todo_ can then be
     used to correct the error.  If set to "ignore", no checking is
     done.  To drop a commit without warning or error, use the ‘drop’
     command in the todo list.  Defaults to "ignore".

rebase.instructionFormat
     A format string, as specified in git-log(1), to be used for the
     todo list during an interactive rebase.  The format will
     automatically have the long commit hash prepended to the format.

rebase.abbreviateCommands
     If set to true, ‘git rebase’ will use abbreviated command names in
     the todo list resulting in something like this:

                  p deadbee The oneline of the commit
                  p fa1afe1 The oneline of the next commit
                  ...

     instead of:

                  pick deadbee The oneline of the commit
                  pick fa1afe1 The oneline of the next commit
                  ...

     Defaults to false.

rebase.rescheduleFailedExec
     Automatically reschedule ‘exec’ commands that failed.  This only
     makes sense in interactive mode (or when an ‘--exec’ option was
     provided).  This is the same as specifying the
     ‘--reschedule-failed-exec’ option.

rebase.forkPoint
     If set to false set ‘--no-fork-point’ option by default.

sequence.editor
     Text editor used by ‘git rebase -i’ for editing the rebase
     instruction file.  The value is meant to be interpreted by the
     shell when it is used.  It can be overridden by the
     ‘GIT_SEQUENCE_EDITOR’ environment variable.  When not configured
     the default commit message editor is used instead.


BUGS
****

The todo list presented by the deprecated ‘--preserve-merges
--interactive’ does not represent the topology of the revision graph
(use ‘--rebase-merges’ instead).  Editing commits and rewording their
commit messages should work fine, but attempts to reorder commits tend
to produce counterintuitive results.  Use ‘--rebase-merges’ in such
scenarios instead.

   For example, an attempt to rearrange

     1 --- 2 --- 3 --- 4 --- 5

   to

     1 --- 2 --- 4 --- 3 --- 5

   by moving the "pick 4" line will result in the following history:

             3
            /
     1 --- 2 --- 4 --- 5


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-receive-pack,  Up: Top

Name
****

git-receive-pack — Receive what is pushed into the repository


Synopsis
********

     git-receive-pack <directory>


DESCRIPTION
***********

Invoked by _git send-pack_ and updates the repository with the
information fed from the remote end.

   This command is usually not invoked directly by the end user.  The UI
for the protocol is on the _git send-pack_ side, and the program pair is
meant to be used to push updates to remote repository.  For pull
operations, see git-fetch-pack(1).

   The command allows for creation and fast-forwarding of sha1 refs
(heads/tags) on the remote end (strictly speaking, it is the local end
_git-receive-pack_ runs, but to the user who is sitting at the send-pack
end, it is updating the remote.  Confused?)

   There are other real-world examples of using update and post-update
hooks found in the Documentation/howto directory.

   _git-receive-pack_ honours the receive.denyNonFastForwards config
option, which tells it if updates to a ref should be denied if they are
not fast-forwards.

   A number of other receive.* config options are available to tweak its
behavior, see git-config(1).


OPTIONS
*******

<directory>
     The repository to sync into.

‘--http-backend-info-refs’
     Used by git-http-backend(1) to serve up
     ‘$GIT_URL/info/refs?service=git-receive-pack’ requests.  See
     ‘--http-backend-info-refs’ in git-upload-pack(1).


PRE-RECEIVE HOOK
****************

Before any ref is updated, if $GIT_DIR/hooks/pre-receive file exists and
is executable, it will be invoked once with no parameters.  The standard
input of the hook will be one line per ref to be updated:

     sha1-old SP sha1-new SP refname LF

   The refname value is relative to $GIT_DIR; e.g.  for the master head
this is "refs/heads/master".  The two sha1 values before each refname
are the object names for the refname before and after the update.  Refs
to be created will have sha1-old equal to 0{40}, while refs to be
deleted will have sha1-new equal to 0{40}, otherwise sha1-old and
sha1-new should be valid objects in the repository.

   When accepting a signed push (see git-push(1)), the signed push
certificate is stored in a blob and an environment variable
‘GIT_PUSH_CERT’ can be consulted for its object name.  See the
description of ‘post-receive’ hook for an example.  In addition, the
certificate is verified using GPG and the result is exported with the
following environment variables:

‘GIT_PUSH_CERT_SIGNER’
     The name and the e-mail address of the owner of the key that signed
     the push certificate.

‘GIT_PUSH_CERT_KEY’
     The GPG key ID of the key that signed the push certificate.

‘GIT_PUSH_CERT_STATUS’
     The status of GPG verification of the push certificate, using the
     same mnemonic as used in ‘%G?’ format of ‘git log’ family of
     commands (see git-log(1)).

‘GIT_PUSH_CERT_NONCE’
     The nonce string the process asked the signer to include in the
     push certificate.  If this does not match the value recorded on the
     "nonce" header in the push certificate, it may indicate that the
     certificate is a valid one that is being replayed from a separate
     "git push" session.

‘GIT_PUSH_CERT_NONCE_STATUS’

     ‘UNSOLICITED’
          "git push –signed" sent a nonce when we did not ask it to send
          one.

     ‘MISSING’
          "git push –signed" did not send any nonce header.

     ‘BAD’
          "git push –signed" sent a bogus nonce.

     ‘OK’
          "git push –signed" sent the nonce we asked it to send.

     ‘SLOP’
          "git push –signed" sent a nonce different from what we asked
          it to send now, but in a previous session.  See
          ‘GIT_PUSH_CERT_NONCE_SLOP’ environment variable.

‘GIT_PUSH_CERT_NONCE_SLOP’
     "git push –signed" sent a nonce different from what we asked it to
     send now, but in a different session whose starting time is
     different by this many seconds from the current session.  Only
     meaningful when ‘GIT_PUSH_CERT_NONCE_STATUS’ says ‘SLOP’.  Also
     read about ‘receive.certNonceSlop’ variable in git-config(1).

   This hook is called before any refname is updated and before any
fast-forward checks are performed.

   If the pre-receive hook exits with a non-zero exit status no updates
will be performed, and the update, post-receive and post-update hooks
will not be invoked either.  This can be useful to quickly bail out if
the update is not to be supported.

   See the notes on the quarantine environment below.


UPDATE HOOK
***********

Before each ref is updated, if $GIT_DIR/hooks/update file exists and is
executable, it is invoked once per ref, with three parameters:

     $GIT_DIR/hooks/update refname sha1-old sha1-new

   The refname parameter is relative to $GIT_DIR; e.g.  for the master
head this is "refs/heads/master".  The two sha1 arguments are the object
names for the refname before and after the update.  Note that the hook
is called before the refname is updated, so either sha1-old is 0{40}
(meaning there is no such ref yet), or it should match what is recorded
in refname.

   The hook should exit with non-zero status if it wants to disallow
updating the named ref.  Otherwise it should exit with zero.

   Successful execution (a zero exit status) of this hook does not
ensure the ref will actually be updated, it is only a prerequisite.  As
such it is not a good idea to send notices (e.g.  email) from this hook.
Consider using the post-receive hook instead.


POST-RECEIVE HOOK
*****************

After all refs were updated (or attempted to be updated), if any ref
update was successful, and if $GIT_DIR/hooks/post-receive file exists
and is executable, it will be invoked once with no parameters.  The
standard input of the hook will be one line for each successfully
updated ref:

     sha1-old SP sha1-new SP refname LF

   The refname value is relative to $GIT_DIR; e.g.  for the master head
this is "refs/heads/master".  The two sha1 values before each refname
are the object names for the refname before and after the update.  Refs
that were created will have sha1-old equal to 0{40}, while refs that
were deleted will have sha1-new equal to 0{40}, otherwise sha1-old and
sha1-new should be valid objects in the repository.

   The ‘GIT_PUSH_CERT*’ environment variables can be inspected, just as
in ‘pre-receive’ hook, after accepting a signed push.

   Using this hook, it is easy to generate mails describing the updates
to the repository.  This example script sends one mail message per ref
listing the commits pushed to the repository, and logs the push
certificates of signed pushes with good signatures to a logger service:

     #!/bin/sh
     # mail out commit update information.
     while read oval nval ref
     do
             if expr "$oval" : '0*$' >/dev/null
             then
                     echo "Created a new ref, with the following commits:"
                     git rev-list --pretty "$nval"
             else
                     echo "New commits:"
                     git rev-list --pretty "$nval" "^$oval"
             fi |
             mail -s "Changes to ref $ref" commit-list@mydomain
     done
     # log signed push certificate, if any
     if test -n "${GIT_PUSH_CERT-}" && test ${GIT_PUSH_CERT_STATUS} = G
     then
             (
                     echo expected nonce is ${GIT_PUSH_NONCE}
                     git cat-file blob ${GIT_PUSH_CERT}
             ) | mail -s "push certificate from $GIT_PUSH_CERT_SIGNER" push-log@mydomain
     fi
     exit 0

   The exit code from this hook invocation is ignored, however a
non-zero exit code will generate an error message.

   Note that it is possible for refname to not have sha1-new when this
hook runs.  This can easily occur if another user modifies the ref after
it was updated by _git-receive-pack_, but before the hook was able to
evaluate it.  It is recommended that hooks rely on sha1-new rather than
the current value of refname.


POST-UPDATE HOOK
****************

After all other processing, if at least one ref was updated, and if
$GIT_DIR/hooks/post-update file exists and is executable, then
post-update will be called with the list of refs that have been updated.
This can be used to implement any repository wide cleanup tasks.

   The exit code from this hook invocation is ignored; the only thing
left for _git-receive-pack_ to do at that point is to exit itself
anyway.

   This hook can be used, for example, to run ‘git update-server-info’
if the repository is packed and is served via a dumb transport.

     #!/bin/sh
     exec git update-server-info


QUARANTINE ENVIRONMENT
**********************

When ‘receive-pack’ takes in objects, they are placed into a temporary
"quarantine" directory within the ‘$GIT_DIR/objects’ directory and
migrated into the main object store only after the ‘pre-receive’ hook
has completed.  If the push fails before then, the temporary directory
is removed entirely.

   This has a few user-visible effects and caveats:

  1. Pushes which fail due to problems with the incoming pack, missing
     objects, or due to the ‘pre-receive’ hook will not leave any
     on-disk data.  This is usually helpful to prevent repeated failed
     pushes from filling up your disk, but can make debugging more
     challenging.

  2. Any objects created by the ‘pre-receive’ hook will be created in
     the quarantine directory (and migrated only if it succeeds).

  3. The ‘pre-receive’ hook MUST NOT update any refs to point to
     quarantined objects.  Other programs accessing the repository will
     not be able to see the objects (and if the pre-receive hook fails,
     those refs would become corrupted).  For safety, any ref updates
     from within ‘pre-receive’ are automatically rejected.


SEE ALSO
********

git-send-pack(1), gitnamespaces(7)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-reflog,  Up: Top

Name
****

git-reflog — Manage reflog information


Synopsis
********

     git reflog <subcommand> <options>


DESCRIPTION
***********

The command takes various subcommands, and different options depending
on the subcommand:

     git reflog [show] [log-options] [<ref>]
     git reflog expire [–expire=<time>] [–expire-unreachable=<time>]
             [–rewrite] [–updateref] [–stale-fix]
             [–dry-run | -n] [–verbose] [–all [–single-worktree] | <refs>…]
     git reflog delete [–rewrite] [–updateref]
             [–dry-run | -n] [–verbose] ref@{specifier}…
     git reflog exists <ref>

   Reference logs, or "reflogs", record when the tips of branches and
other references were updated in the local repository.  Reflogs are
useful in various Git commands, to specify the old value of a reference.
For example, ‘HEAD@{2}’ means "where HEAD used to be two moves ago",
‘master@{one.week.ago}’ means "where master used to point to one week
ago in this local repository", and so on.  See gitrevisions(7) for more
details.

   This command manages the information recorded in the reflogs.

   The "show" subcommand (which is also the default, in the absence of
any subcommands) shows the log of the reference provided in the
command-line (or ‘HEAD’, by default).  The reflog covers all recent
actions, and in addition the ‘HEAD’ reflog records branch switching.
‘git reflog show’ is an alias for ‘git log -g --abbrev-commit
--pretty=oneline’; see git-log(1) for more information.

   The "expire" subcommand prunes older reflog entries.  Entries older
than ‘expire’ time, or entries older than ‘expire-unreachable’ time and
not reachable from the current tip, are removed from the reflog.  This
is typically not used directly by end users — instead, see git-gc(1).

   The "delete" subcommand deletes single entries from the reflog.  Its
argument must be an _exact_ entry (e.g.  "‘git reflog delete
master@{2}’").  This subcommand is also typically not used directly by
end users.

   The "exists" subcommand checks whether a ref has a reflog.  It exits
with zero status if the reflog exists, and non-zero status if it does
not.


OPTIONS
*******


Options for show
================

‘git reflog show’ accepts any of the options accepted by ‘git log’.


Options for expire
==================

‘--all’
     Process the reflogs of all references.

‘--single-worktree’
     By default when ‘--all’ is specified, reflogs from all working
     trees are processed.  This option limits the processing to reflogs
     from the current working tree only.

‘--expire=<time>’
     Prune entries older than the specified time.  If this option is not
     specified, the expiration time is taken from the configuration
     setting ‘gc.reflogExpire’, which in turn defaults to 90 days.
     ‘--expire=all’ prunes entries regardless of their age;
     ‘--expire=never’ turns off pruning of reachable entries (but see
     ‘--expire-unreachable’).

‘--expire-unreachable=<time>’
     Prune entries older than ‘<time>’ that are not reachable from the
     current tip of the branch.  If this option is not specified, the
     expiration time is taken from the configuration setting
     ‘gc.reflogExpireUnreachable’, which in turn defaults to 30 days.
     ‘--expire-unreachable=all’ prunes unreachable entries regardless of
     their age; ‘--expire-unreachable=never’ turns off early pruning of
     unreachable entries (but see ‘--expire’).

‘--updateref’
     Update the reference to the value of the top reflog entry (i.e.
     <ref>@{0}) if the previous top entry was pruned.  (This option is
     ignored for symbolic references.)

‘--rewrite’
     If a reflog entry’s predecessor is pruned, adjust its "old" SHA-1
     to be equal to the "new" SHA-1 field of the entry that now precedes
     it.

‘--stale-fix’
     Prune any reflog entries that point to "broken commits".  A broken
     commit is a commit that is not reachable from any of the reference
     tips and that refers, directly or indirectly, to a missing commit,
     tree, or blob object.

     This computation involves traversing all the reachable objects,
     i.e.  it has the same cost as _git prune_.  It is primarily
     intended to fix corruption caused by garbage collecting using older
     versions of Git, which didn’t protect objects referred to by
     reflogs.

‘-n’
‘--dry-run’
     Do not actually prune any entries; just show what would have been
     pruned.

‘--verbose’
     Print extra information on screen.


Options for delete
==================

‘git reflog delete’ accepts options ‘--updateref’, ‘--rewrite’, ‘-n’,
‘--dry-run’, and ‘--verbose’, with the same meanings as when they are
used with ‘expire’.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-remote-ext,  Up: Top

Name
****

git-remote-ext — Bridge smart transport to external command.


Synopsis
********

     git remote add <nick> "ext::<command>[ <arguments>…]"


DESCRIPTION
***********

This remote helper uses the specified _<command>_ to connect to a remote
Git server.

   Data written to stdin of the specified _<command>_ is assumed to be
sent to a git:// server, git-upload-pack, git-receive-pack or
git-upload-archive (depending on situation), and data read from stdout
of <command> is assumed to be received from the same service.

   Command and arguments are separated by an unescaped space.

   The following sequences have a special meaning:

’% ’
     Literal space in command or argument.

_%%_
     Literal percent sign.

_%s_
     Replaced with name (receive-pack, upload-pack, or upload-archive)
     of the service Git wants to invoke.

_%S_
     Replaced with long name (git-receive-pack, git-upload-pack, or
     git-upload-archive) of the service Git wants to invoke.

_%G_ (must be the first characters in an argument)
     This argument will not be passed to _<command>_.  Instead, it will
     cause the helper to start by sending git:// service requests to the
     remote side with the service field set to an appropriate value and
     the repository field set to rest of the argument.  Default is not
     to send such a request.

     This is useful if remote side is git:// server accessed over some
     tunnel.

_%V_ (must be first characters in argument)
     This argument will not be passed to _<command>_.  Instead it sets
     the vhost field in the git:// service request (to rest of the
     argument).  Default is not to send vhost in such request (if sent).


ENVIRONMENT VARIABLES
*********************

GIT_TRANSLOOP_DEBUG
     If set, prints debugging information about various reads/writes.


ENVIRONMENT VARIABLES PASSED TO COMMAND
***************************************

GIT_EXT_SERVICE
     Set to long name (git-upload-pack, etc…) of service helper needs to
     invoke.

GIT_EXT_SERVICE_NOPREFIX
     Set to long name (upload-pack, etc…) of service helper needs to
     invoke.


EXAMPLES
********

This remote helper is transparently used by Git when you use commands
such as "git fetch <URL>", "git clone <URL>", , "git push <URL>" or "git
remote add <nick> <URL>", where <URL> begins with ‘ext::’.  Examples:

"ext::ssh -i /home/foo/.ssh/somekey user@host.example %S _foo/repo_"
     Like host.example:foo/repo, but use /home/foo/.ssh/somekey as
     keypair and user as user on remote side.  This avoids needing to
     edit .ssh/config.

"ext::socat -t3600 - ABSTRACT-CONNECT:/git-server %G/somerepo"
     Represents repository with path /somerepo accessible over git
     protocol at abstract namespace address /git-server.

"ext::git-server-alias foo %G/repo"
     Represents a repository with path /repo accessed using the helper
     program "git-server-alias foo".  The path to the repository and
     type of request are not passed on the command line but as part of
     the protocol stream, as usual with git:// protocol.

"ext::git-server-alias foo %G/repo %Vfoo"
     Represents a repository with path /repo accessed using the helper
     program "git-server-alias foo".  The hostname for the remote server
     passed in the protocol stream will be "foo" (this allows multiple
     virtual Git servers to share a link-level address).

"ext::git-server-alias foo %G/repo% with% spaces %Vfoo"
     Represents a repository with path ‘/repo with spaces’ accessed
     using the helper program "git-server-alias foo".  The hostname for
     the remote server passed in the protocol stream will be "foo" (this
     allows multiple virtual Git servers to share a link-level address).

"ext::git-ssl foo.example /bar"
     Represents a repository accessed using the helper program "git-ssl
     foo.example /bar".  The type of request can be determined by the
     helper using environment variables (see above).


SEE ALSO
********

gitremote-helpers(7)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-remote-fd,  Up: Top

Name
****

git-remote-fd — スマートトランスポートストリームを呼び出し元に反映します
(Reflect smart transport stream back to caller)


Synopsis
********

"fd::<infd>[,<outfd>][/<anything>]" (as URL)


DESCRIPTION
***********

このヘルパーは、指定のファイルデスクリプタを使用してリモートGitサーバー
に接続します。これはエンドユーザー向けではなく、git fetch、pushまたは
archiveを呼び出すプログラムとスクリプトを対象としています。

   <infd> のみが指定されている場合は、リモートGitサーバー
(git-upload-pack、git-receive-pack または git-upload-archive)に接続され
ている双方向ソケットであると見なされます。 <infd> と <outfd> の両方が指
定されている場合、それらはリモートGitサーバーに接続されているパイプであ
ると見なされます( <infd> は入力パイプ、 <outfd> は出力パイプです)。

   このヘルパーが開始される前に、ハンドシェイク手順(git:// のサービスリ
クエストの送信など)がすでに完了していることを前提としています。

   <anything> は任意の文字列にすることができます。それは無視されます。こ
れは、URLが何らかのコンテキストで表示される場合に、URLでユーザーに情報を
提供するためのものです。


ENVIRONMENT VARIABLES
*********************

GIT_TRANSLOOP_DEBUG
     設定されている場合、さまざまな 読み取り/書き込み に関するデバッグ情
     報を出力します。


EXAMPLES
********

‘git fetch fd::17 master’
     ファイルデスクリプタ #17 使用して master を Fetch し、
     git-upload-pack と通信します。

‘git fetch fd::17/foo master’
     同上。

‘git push fd::7,8 master (as URL)’
     master を push し、ファイルデスクリプタ #7 を使用して
     git-receive-pack からデータを読み取り、ファイルデスクリプタ #8 を使
     用して同じサービスにデータを書き込みます。

‘git push fd::7,8/bar master’
     同上。


SEE ALSO
********

gitremote-helpers(7)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-remote,  Up: Top

Name
****

git-remote — Manage set of tracked repositories


Synopsis
********

     git remote [-v | –verbose]
     git remote add [-t <branch>] [-m <master>] [-f] [–[no-]tags] [–mirror=(fetch|push)] <name> <url>
     git remote rename <old> <new>
     git remote remove <name>
     git remote set-head <name> (-a | –auto | -d | –delete | <branch>)
     git remote set-branches [–add] <name> <branch>…
     git remote get-url [–push] [–all] <name>
     git remote set-url [–push] <name> <newurl> [<oldurl>]
     git remote set-url –add [–push] <name> <newurl>
     git remote set-url –delete [–push] <name> <url>
     git remote [-v | –verbose] show [-n] <name>…
     git remote prune [-n | –dry-run] <name>…
     git remote [-v | –verbose] update [-p | –prune] [(<group> | <remote>)…]


DESCRIPTION
***********

Manage the set of repositories ("remotes") whose branches you track.


OPTIONS
*******

‘-v’
‘--verbose’
     Be a little more verbose and show remote url after name.  NOTE:
     This must be placed between ‘remote’ and subcommand.


COMMANDS
********

With no arguments, shows a list of existing remotes.  Several
subcommands are available to perform operations on the remotes.

_add_
     Add a remote named <name> for the repository at <url>.  The command
     ‘git fetch <name>’ can then be used to create and update
     remote-tracking branches <name>/<branch>.

     With ‘-f’ option, ‘git fetch <name>’ is run immediately after the
     remote information is set up.

     With ‘--tags’ option, ‘git fetch <name>’ imports every tag from the
     remote repository.

     With ‘--no-tags’ option, ‘git fetch <name>’ does not import tags
     from the remote repository.

     By default, only tags on fetched branches are imported (see
     git-fetch(1)).

     With ‘-t <branch>’ option, instead of the default glob refspec for
     the remote to track all branches under the ‘refs/remotes/<name>/’
     namespace, a refspec to track only ‘<branch>’ is created.  You can
     give more than one ‘-t <branch>’ to track multiple branches without
     grabbing all branches.

     With ‘-m <master>’ option, a symbolic-ref
     ‘refs/remotes/<name>/HEAD’ is set up to point at remote’s
     ‘<master>’ branch.  See also the set-head command.

     When a fetch mirror is created with ‘--mirror=fetch’, the refs will
     not be stored in the _refs/remotes/_ namespace, but rather
     everything in _refs/_ on the remote will be directly mirrored into
     _refs/_ in the local repository.  This option only makes sense in
     bare repositories, because a fetch would overwrite any local
     commits.

     When a push mirror is created with ‘--mirror=push’, then ‘git push’
     will always behave as if ‘--mirror’ was passed.

_rename_
     Rename the remote named <old> to <new>.  All remote-tracking
     branches and configuration settings for the remote are updated.

     In case <old> and <new> are the same, and <old> is a file under
     ‘$GIT_DIR/remotes’ or ‘$GIT_DIR/branches’, the remote is converted
     to the configuration file format.

_remove_
_rm_
     Remove the remote named <name>.  All remote-tracking branches and
     configuration settings for the remote are removed.

_set-head_
     Sets or deletes the default branch (i.e.  the target of the
     symbolic-ref ‘refs/remotes/<name>/HEAD’) for the named remote.
     Having a default branch for a remote is not required, but allows
     the name of the remote to be specified in lieu of a specific
     branch.  For example, if the default branch for ‘origin’ is set to
     ‘master’, then ‘origin’ may be specified wherever you would
     normally specify ‘origin/master’.

     With ‘-d’ or ‘--delete’, the symbolic ref
     ‘refs/remotes/<name>/HEAD’ is deleted.

     With ‘-a’ or ‘--auto’, the remote is queried to determine its
     ‘HEAD’, then the symbolic-ref ‘refs/remotes/<name>/HEAD’ is set to
     the same branch.  e.g., if the remote ‘HEAD’ is pointed at ‘next’,
     ‘git remote set-head origin -a’ will set the symbolic-ref
     ‘refs/remotes/origin/HEAD’ to ‘refs/remotes/origin/next’.  This
     will only work if ‘refs/remotes/origin/next’ already exists; if not
     it must be fetched first.

     Use ‘<branch>’ to set the symbolic-ref ‘refs/remotes/<name>/HEAD’
     explicitly.  e.g., ‘git remote set-head origin master’ will set the
     symbolic-ref ‘refs/remotes/origin/HEAD’ to
     ‘refs/remotes/origin/master’.  This will only work if
     ‘refs/remotes/origin/master’ already exists; if not it must be
     fetched first.

_set-branches_
     Changes the list of branches tracked by the named remote.  This can
     be used to track a subset of the available remote branches after
     the initial setup for a remote.

     The named branches will be interpreted as if specified with the
     ‘-t’ option on the ‘git remote add’ command line.

     With ‘--add’, instead of replacing the list of currently tracked
     branches, adds to that list.

_get-url_
     Retrieves the URLs for a remote.  Configurations for ‘insteadOf’
     and ‘pushInsteadOf’ are expanded here.  By default, only the first
     URL is listed.

     With ‘--push’, push URLs are queried rather than fetch URLs.

     With ‘--all’, all URLs for the remote will be listed.

_set-url_
     Changes URLs for the remote.  Sets first URL for remote <name> that
     matches regex <oldurl> (first URL if no <oldurl> is given) to
     <newurl>.  If <oldurl> doesn’t match any URL, an error occurs and
     nothing is changed.

     With ‘--push’, push URLs are manipulated instead of fetch URLs.

     With ‘--add’, instead of changing existing URLs, new URL is added.

     With ‘--delete’, instead of changing existing URLs, all URLs
     matching regex <url> are deleted for remote <name>.  Trying to
     delete all non-push URLs is an error.

     Note that the push URL and the fetch URL, even though they can be
     set differently, must still refer to the same place.  What you
     pushed to the push URL should be what you would see if you
     immediately fetched from the fetch URL. If you are trying to fetch
     from one place (e.g.  your upstream) and push to another (e.g.
     your publishing repository), use two separate remotes.

_show_
     Gives some information about the remote <name>.

     With ‘-n’ option, the remote heads are not queried first with ‘git
     ls-remote <name>’; cached information is used instead.

_prune_
     Deletes stale references associated with <name>.  By default, stale
     remote-tracking branches under <name> are deleted, but depending on
     global configuration and the configuration of the remote we might
     even prune local tags that haven’t been pushed there.  Equivalent
     to ‘git fetch --prune <name>’, except that no new references will
     be fetched.

     See the PRUNING section of git-fetch(1) for what it’ll prune
     depending on various configuration.

     With ‘--dry-run’ option, report what branches would be pruned, but
     do not actually prune them.

_update_
     Fetch updates for remotes or remote groups in the repository as
     defined by ‘remotes.<group>’.  If neither group nor remote is
     specified on the command line, the configuration parameter
     remotes.default will be used; if remotes.default is not defined,
     all remotes which do not have the configuration parameter
     ‘remote.<name>.skipDefaultUpdate’ set to true will be updated.
     (See git-config(1)).

     With ‘--prune’ option, run pruning against all the remotes that are
     updated.


DISCUSSION
**********

The remote configuration is achieved using the ‘remote.origin.url’ and
‘remote.origin.fetch’ configuration variables.  (See git-config(1)).


EXIT STATUS
***********

On success, the exit status is ‘0’.

   When subcommands such as _add_, _rename_, and _remove_ can’t find the
remote in question, the exit status is ‘2’.  When the remote already
exists, the exit status is ‘3’.

   On any other error, the exit status may be any other non-zero value.


EXAMPLES
********

   • Add a new remote, fetch, and check out a branch from it

          $ git remote
          origin
          $ git branch -r
            origin/HEAD -> origin/master
            origin/master
          $ git remote add staging git://git.kernel.org/.../gregkh/staging.git
          $ git remote
          origin
          staging
          $ git fetch staging
          ...
          From git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/staging
           * [new branch]      master     -> staging/master
           * [new branch]      staging-linus -> staging/staging-linus
           * [new branch]      staging-next -> staging/staging-next
          $ git branch -r
            origin/HEAD -> origin/master
            origin/master
            staging/master
            staging/staging-linus
            staging/staging-next
          $ git switch -c staging staging/master
          ...

   • Imitate _git clone_ but track only selected branches

          $ mkdir project.git
          $ cd project.git
          $ git init
          $ git remote add -f -t master -m master origin git://example.com/git.git/
          $ git merge origin


SEE ALSO
********

git-fetch(1) git-branch(1) git-config(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-repack,  Up: Top

Name
****

git-repack — リポジトリ内のアンパックオブジェクトをパックする


Synopsis
********

     git repack [-a] [-A] [-d] [-f] [-F] [-l] [-n] [-q] [-b] [–window=<n>] [–depth=<n>] [–threads=<n>] [–keep-pack=<pack-name>]


DESCRIPTION
***********

このコマンドは、現在パック内に存在しないすべてのオブジェクトを1つのパッ
クに結合するために使用されます。また、既存のパックを単一のより効率的なパ
ックに再編成するために使用することもできます。

   パックは、個別に圧縮され、デルタ圧縮が適用され、関連付けられたインデ
ックスファイルとともに単一のファイルに格納されたオブジェクトのコレクショ
ンです。

   パックは、ミラーシステム、バックアップエンジン、ディスクストレージな
どの負荷を軽減するために使用されます。


OPTIONS
*******

‘-a’
     パックされていないオブジェクトを段階的にパックする代わりに、参照さ
     れるすべてのものを1つのパックにパックします。プライベート開発に使用
     されるリポジトリをパックする場合に特に便利です。 ‘-d’ と一緒に使用
     します。 これにより、 ‘git prune’ が残したオブジェクトがクリーンア
     ップされますが、 ‘git fsck --full --dangling’ ではぶら下がりを表示
     します。

     馬鹿プロトコル(dumb protocol)を介してフェッチするユーザーは、含まれ
     ているオブジェクトを取得するために、そのパック内にすでにローカルに
     ある他のオブジェクトの数に関係なく、まったく新しいパックをフェッチ
     する必要があることに注意してください。

     promisorパックファイルは個別に再パックされます。 ‘.promisor’ ファイ
     ルに関連付けられているパックファイルがある場合、これらのパックファ
     イルは別の個別パックに再パックされ、新しい個別パックに対応する、空
     の ‘.promisor’ ファイルが書き込まれます。

‘-A’
     ‘-d’ を使用しない限り ‘-a’ と同じです。 それから、前のパックの到達
     不能なオブジェクトは、古いパックに残されるのではなく、looseになって
     、パックされていないオブジェクトになります。再パックする場合でも、
     到達不能なオブジェクトが意図的にパックに追加されることはありません
     。このオプションは、到達不能なオブジェクトが古いパックに残されて、
     古いパックごと削除されることによって、すぐに削除されてしまうのを防
     ぎます。代わりに、loose到達不能オブジェクトは、以下の 「git gc」呼
     び出しで通常の有効期限ルールに従って剪定されます。 git-gc(1) を参照
     してください。

‘-d’
     パック後、新しく作成されたパックによって既存のパックの一部が冗長に
     なる場合は、冗長パックを削除してください。 また、「git
     prune-packed」を実行して、冗長なルーズオブジェクトファイルを削除し
     ます。

‘-l’
     ‘--local’ オプションを _git pack-objects_ に渡します。
     git-pack-objects(1) を参照してください。

‘-f’
     ‘--no-reuse-delta’ オプションを ‘git-pack-objects’ に渡します。
     git-pack-objects(1) を参照してください。

‘-F’
     ‘--no-reuse-object’ オプションを ‘git-pack-objects’ に渡します。
     git-pack-objects(1) を参照してください。

‘-q’
     ‘-q‘オプションを _git pack-objects_ に渡します。
     git-pack-objects(1) を参照してください。

‘-n’
     _git update-server-info_ でサーバー情報を更新しないでください。この
     オプションは、HTTPまたはFTPを介してこのリポジトリ(またはその直接の
     コピー)を公開するために必要なローカルカタログファイルの更新をスキッ
     プします。 git-update-server-info(1) を参照してください。

‘--window=<n>’
‘--depth=<n>’
     これらの2つのオプションは、パックに含まれるオブジェクトがデルタ圧縮
     を使用して格納される方法に影響します。オブジェクトは最初にタイプ、
     サイズ、およびオプションで名前で内部的にソートされ、 ‘--window’ 内
     の他のオブジェクトと比較されて、デルタ圧縮を使用することでスペース
     が節約されるかどうかが確認されます。 ‘--depth’ は最大デルタ深度を制
     限します。深くしすぎると、必要なオブジェクトに到達するためにデルタ
     データを何度も適用する必要があるため、アンパッカー側(unpacker
     side)のパフォーマンスに影響します。

     ‘--window’ のデフォルト値は10で、 ‘--depth’ は50です。最大深度
     (maximum depth)は4095です。

‘--threads=<n>’
     このオプションは ‘git pack-objects’ に渡されます。

‘--window-memory=<n>’
     このオプションは、 ‘--window’ に加えて追加の制限を提供します。ウィ
     ンドウサイズは、メモリ内で _<n>_ バイトを超えないように動的に縮小さ
     れます。これは、大きなウィンドウと小さなオブジェクトが混在するリポ
     ジトリで、大きなウィンドウでメモリが不足しないようにするのに役立ち
     ますが、小さなオブジェクトは大きなウィンドウを利用できます。 サイズ
     には、「k」または「m」または「g」の接尾辞を付けることができます。
     ‘--window-memory=0’ は、メモリ使用量を無制限にします。 デフォルトは
     、 ‘pack.windowMemory’ 構成変数から取得されます。 実際のメモリ使用
     量は、制限に git-pack-objects(1) で使用されるスレッド数を掛けたもの
     になることに注意してください。

‘--max-pack-size=<n>’
     各出力パックファイルの最大サイズ。 サイズには、「k」または「m」また
     は「g」の接尾辞を付けることができます。許可される最小サイズは1MiBに
     制限されています。 指定した場合、複数のパックファイルが作成される可
     能性があります。これにより、ビットマップインデックスの作成も妨げら
     れます。構成変数 ‘pack.packSizeLimit’ が設定されていない限り、デフ
     ォルトは無制限です。このオプションを使用すると、リポジトリが大きく
     なり、速度が低下する可能性があることに注意してください。
     ‘pack.packSizeLimit’ の説明を参照してください。

‘-b’
‘--write-bitmap-index’
     再パックの一部として到達可能性ビットマップインデックスを書き込みま
     す。ビットマップは到達可能なすべてのオブジェクトを参照できる必要が
     あるため、これは ‘-a’ または ‘-A’ とともに使用する場合にのみ意味が
     あります。このオプションは、 ‘repack.writeBitmaps’ の設定を上書きし
     ます。複数のパックファイルが作成されている場合、このオプションは効
     果がありません。

‘--pack-kept-objects’
     再パックするときは ‘.keep’ ファイルにオブジェクトを含めます。
     ‘pack-objects’ が終了した後も ‘.keep’ パックを削除しないことに注意
     してください。これは、オブジェクトを複製する可能性があることを意味
     しますが、これにより、プッシュまたはフェッチが同時に発生する場合に
     オプションを安全に使用できます。このオプションを指定すると、ビット
     マップ化されたパックファイルに必要なオブジェクトが確実に含まれるた
     め、通常、 ‘-b’ または ‘repack.writeBitmaps’ を使用してビットマップ
     を書き込む場合にのみ役立ちます。

‘--keep-pack=<pack-name>’
     指定されたパックを再パックから除外します。 これは、パックに ‘.keep’
     ファイルがあるのと同じです。 ‘<pack-name>’ は、先頭にディレクトリが
     ないパックファイル名です(例: ‘pack-123.pack’)。このオプションは、複
     数のパックを保持するために複数回指定できます。

‘--unpack-unreachable=<when>’
     到達不能なオブジェクトのパックをほどく(loose)ときは、 ‘<when>’ より
     古いオブジェクトをわざわざほどきません。これは、フォローアップで行
     う ‘git prune’ によってすぐに剪定されるオブジェクトの書き込みを最適
     化するために使用できます。

‘-k’
‘--keep-unreachable’
     ‘-ad’ と一緒に使用すると、既存のパックから到達できないオブジェクト
     は、削除されるのではなく、パックファイルの最後に追加されます。さら
     に、到達不能なlooseオブジェクトはパックされます(そしてそれらの
     looseオブジェクトは削除されます)。

‘-i’
‘--delta-islands’
     ‘--delta-islands’ オプションを ‘git-pack-objects’ に渡します。
     git-pack-objects(1) を参照してください。

‘-g=<factor>’
‘--geometric=<factor>’
     結果のパック構造を、連続する各パックに、次に大きいパックのオブジェ
     クト数の少なくとも ‘<factor>’ 倍が含まれるように配置します。

     ‘git repack’ が、等比数列を確実にするために1つに再パックする必要が
     あるパックファイルの「切り分け」を決断することによってこれを保証し
     ます。 大きいパックファイルの多く(そのパックに含まれるオブジェクト
     の数による)がそのまま残るように、パックファイルの最小セットを選択し
     ます。

     他の再パックモードとは異なり、梱包するオブジェクトのセットは、「ロ
     ールアップ」(rolled-up)されるパックのセットによって一意に決定されま
     す。言い換えれば、等比数列を復元するために組み合わせる必要があると
     判断されたパックです。

     ‘--unpacked’ が指定されている場合、ルーズオブジェクトは、到達可能性
     に関係なく、この「ロールアップ」に暗黙的に含まれます。 これは将来変
     更される可能性があります。このオプション(大幅に異なる再パックモード
     を意味する)は、 ‘git repack’ の他のすべてのオプションの組み合わせで
     機能することが保証されていません。


CONFIGURATION
*************

さまざまな構成変数がパッキングに影響します。 git-config(1) を参照してく
ださい(「pack」と「delta」を検索してください)。

   デフォルトでは、コマンドは ‘--delta-base-offset’ オプションを
_gitpack-objects_ に渡します。これにより、通常、パックはわずかに小さくな
りますが、生成されたパックは、バージョン1.4.4より古いバージョンのGitと互
換性がありません。直接またはダムhttpプロトコルを介して、このような古いバ
ージョンのGitとリポジトリを共有する必要がある場合は、構成変数
‘repack.UseDeltaBaseOffset’ を ‘false’ に設定して再パックする必要があり
ます。この場合、必要に応じて変換がオンザフライで実行されるため、ネイティ
ブプロトコルを介した古いGitバージョンからのアクセスではこのオプションの
影響を受けません。

   デルタ圧縮は、 ‘core.bigFileThreshold’ 構成変数より大きいオブジェクト
、および属性 ‘delta’ がfalseに設定されているファイルでは使用されません。


SEE ALSO
********

git-pack-objects(1) git-prune-packed(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-replace,  Up: Top

Name
****

git-replace — オブジェクトを置き換えるためのrefsの作成、一覧表示、削除


Synopsis
********

     git replace [-f] <object> <replacement>
     git replace [-f] –edit <object>
     git replace [-f] –graft <commit> [<parent>…]
     git replace [-f] –convert-graft-file
     git replace -d <object>…
     git replace [–format=<format>] [-l [<pattern>]]


DESCRIPTION
***********

‘refs/replace/’ 名前空間に _replace_ 参照を追加します。

   _replace_ 参照の名前は、置き換えられるオブジェクトのSHA-1です。
_replace_ 参照の内容は、置き換えるオブジェクトのSHA-1です。

   置き換えられるオブジェクトと置き換えるオブジェクトは同じタイプである
必要があります。 この制限は、 ‘-f’ を使用して迂回(bypass)できます。

   ‘-f’ が指定されていない限り、 _replace_ 参照はまだ存在していてはなり
ません。

   置換されるオブジェクトと置換するオブジェクトに他の制限はありません。
マージコミットは非マージコミットに置き換えることができ、その逆も可能です
。

   置換する参照は、デフォルトでは、到達可能性トラバーサル(剪定(prune)と
パックと転送とfsck)実行するコマンドを除くすべてのGitコマンドで使用されま
す。

   _git_ の直後に ‘--no-replace-objects’ オプションを使用すると、任意の
コマンドでの置換参照の使用を無効にすることができます。

   たとえば、 コミット _foo_ がコミット _bar_ に置き換えられた場合:

     $ git --no-replace-objects cat-file commit foo

   上記は、コミット _foo_ に関する情報を表示します。

     $ git cat-file commit foo

   これはコミット _bar_ に関する情報を表示します。

   ‘GIT_NO_REPLACE_OBJECTS’ 環境変数は、 ‘--no-replace-objects’ オプショ
ンと同じ効果を達成するように設定できます。


OPTIONS
*******

‘-f’
‘--force’
     同じオブジェクトの既存の置換refが存在する場合、(失敗するのではなく
     )上書きされます。

‘-d’
‘--delete’
     指定されたオブジェクトの既存の置換refsを削除します。

‘--edit <object>’
     オブジェクトのコンテンツを対話的に編集します。 <object> の既存のコ
     ンテンツは一時ファイルにきれいに表示(pretty-printed)され、そのファ
     イルでエディタが起動され、エディタの編集結果がパースされて <object>
     と同じタイプの新しいオブジェクトが作成されます。続いて、置換refが作
     成され、 <object> が新しく作成されたオブジェクトに置き換えられます
     。エディタの選択方法の詳細については git-var(1) を参照してください
     。

‘--raw’
     編集するときにきれいに出力されたものではなく、生のオブジェクトの内
     容を提供します。現在、これはツリーにのみ影響し、バイナリ形式で表示
     されます。これは扱いが難しいですが、きれいに出力できないほど破損し
     ているツリーを修復するときに役立ちます。バイナリデータをきれいに読
     み書きできるようにエディタを設定する必要がある場合があることに注意
     してください。

‘--graft <commit> [<parent>...]’
     graftコミットを作成します。 <commit> と同じ内容で新しいコミットが作
     成されますが、その親は <commit> の親ではなく [<parent>…] になります
     。続けて、置換refが作成され、 <commit> が新しく作成されたコミットに
     置き換えられます。 ‘--convert-graft-file’ を使用して
     ‘$GIT_DIR/info/grafts’ ファイルを変換し、代わりに置換refsを使用しま
     す。

‘--convert-graft-file’
     ‘$GIT_DIR/info/grafts’ のすべてのエントリに対してgraftコミットを作
     成し、成功するとそのファイルを削除します。目的は、現在非推奨の
     graftファイルからの移行の為にユーザーを支援することです。

‘-l <pattern>’
‘--list <pattern>’
     指定されたパターンに一致する(またはパターンが指定されていない場合は
     すべての)オブジェクトの置換refをリストします。引数なしで「git
     replace」と入力すると、すべての置換refが一覧表示されます。

‘--format=<format>’
     リストするときに、指定の <format> を使用します。これには、「short」
     および「medium」および「long」のいずれかになります。 省略した場合、
     フォーマットはデフォルトで「short」になります。


FORMATS
*******

以下の形式を使用できます:

   • _short_: <置換された sha1>

   • _medium_: <置換された sha1> → <置換する sha1>

   • _long_: <置換された sha1> (<置換された sha1 のタイプ>) → <置換する
     sha1> (<置換する sha1 のタイプ>)


CREATING REPLACEMENT OBJECTS
****************************

git-hash-object(1) と git-rebase(1) と git-filter-repo
(https://github.com/newren/git-filter-repo) は、他のgitコマンドの中でも
特に 既存のオブジェクトから置換オブジェクトを作成するために使用されます
。 ‘--edit’ オプションを _git replace_ と一緒に使用して、既存のオブジェ
クトを編集することで置換オブジェクトを作成することもできます。

   コミットの文字列の一部である多くの、ブロブまたはツリーまたはコミット
を置き換える場合は、コミットの置換文字列を作成してから、コミットのターゲ
ット文字列の先端にあるコミットのみを、コミットの置換文字列の先端にあるコ
ミットに置き換えることができます。


BUGS
****

置き換えられたブロブまたはツリーをそれらを置き換えるものと比較すると、正
しく機能しません。 また、 ‘git reset --hard’ を使用して置換されたコミッ
トに戻ると、ブランチは置換されたコミットではなく置換されたコミットに移動
します。

   保留中のオブジェクトに関連する「git rev-list」を使用すると、他の問題
が発生する可能性があります。


SEE ALSO
********

git-hash-object(1) git-rebase(1) git-tag(1) git-branch(1) git-commit(1)
git-var(1) git(1) git-filter-repo
(https://github.com/newren/git-filter-repo)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-request-pull,  Up: Top

Name
****

git-request-pull — 保留中の変更の概要を生成します


Synopsis
********

     git request-pull [-p] <start> <url> [<end>]


DESCRIPTION
***********

アップストリームプロジェクトに変更をツリーにプルするように要求するリクエ
ストを生成します。標準出力に出力される要求は、ブランチの説明で始まり、変
更を要約し、どこからプルできるかを示します。

   アップストリームプロジェクトには ‘<start>’ という名前のコミットがある
と予想され、出力では、そのコミット以降に行った変更を ‘<url>`という名前の
リポジトリの、’<end>‘ という名前のコミットまで統合するように求められます
。


OPTIONS
*******

‘-p’
     出力にパッチテキストを含めます。

<start>
     開始コミット。これは、すでにアップストリーム履歴に存在するコミット
     を指定します。

<url>
     プル元のリポジトリURL。

<end>
     終了コミット(省略時デフォルトはHEAD)。プルを要求している履歴の先端
     にあるコミットを指定します。

     ‘<url>’ で指定されたリポジトリの、ローカルにあるrefとは異なるrefの
     先端にコミットがある場合、「ローカル名 コロン(:) リモート名」である
     、 ‘<local>:<remote>’ 構文を使用することができます。


EXAMPLES
********

‘v1.0’ リリースの上にある ‘master’ ブランチで作業を構築し、それをプロジ
ェクトに統合したいとします。 まず、他の人が見ることができるように、その
変更をパブリックリポジトリにプッシュします:

     git push https://git.ko.xz/project master

   それから、あなたは以下のコマンドを実行します:

     git request-pull v1.0 https://git.ko.xz/project master

   これにより、アップストリームへのリクエストが生成され、 ‘v1.0’ リリー
スと ‘master’ の間の変更が要約されて、パブリックリポジトリからプルされま
す。

   ローカルにあるブランチとは名前が異なるブランチに変更をプッシュする場
合、例えば、

     git push https://git.ko.xz/project master:for-linus

   それからあなたはそれをプルするように頼むことができます

     git request-pull v1.0 https://git.ko.xz/project master:for-linus


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-rerere,  Up: Top

Name
****

git-rerere — 競合するマージの記録された競合解決決定を再利用する


Synopsis
********

     git rerere [clear|forget <pathspec>|diff|remaining|status|gc]


DESCRIPTION
***********

比較的長期間存続するトピックブランチを使用するワークフローでは、開発者は
、トピックブランチが完了するまで(「リリース」ブランチにマージされるか、
アップストリームに送信されて受け入れられるまで)、同じ競合を何度も解決す
る必要がある場合があります。

   このコマンドは、最初の手動マージにて、自動マージ結果の競合とそれに対
応した手動解決結果を記録しておいて、以後の自動マージ結果の競合に、その記
録した手動競合解決決定を適用することにより、この処理において開発者を支援
します。

     *Note*

     あなたがこのコマンドを有効にするには、構成変数 ‘rerere.enabled’ を
     設定する必要があります。


COMMANDS
********

通常、「git rerere」は、引数やユーザーの介入なしで実行されます。 ただし
、動作状態との対話を可能にするいくつかのコマンドがあります。

_clear_
     マージ競合解決決定を中止する場合は、rerereが使用するメタデータをリ
     セットします。 ‘git am [--skip|--abort]’ または ‘git rebase
     [--skip|--abort]’ を呼び出すと、このコマンドが自動的に呼び出されま
     す。

_forget_ <pathspec>
     <pathspec> の現在の競合について rerere が記録した競合解決決定をリセ
     ットします。

_diff_
     競合解決決定の現在の状態の差分を表示します。これは、ユーザーが競合
     を解決している間に何が変更されたかを追跡するのに役立ちます。追加の
     引数は、PATHにインストールされているシステムの「diff」コマンドに直
     接渡されます。

_status_
     マージ競合解決決定がrerereで記録される競合のあるパスをプリントする
     。

_remaining_
     rerereによって自動解決されていない競合のあるパスをプリントする。こ
     れには、競合するサブモジュールなど、rerereで競合解決決定を追跡でき
     ないパスが含まれます。

_gc_
     ずっと前に発生した競合するマージのレコードを剪定(prune)します。デフ
     ォルトでは、15日より古い未解決の競合と、60日より古い解決済みの競合
     は剪定されます。これらのデフォルトは、それぞれ
     ‘gc.rerereUnresolved’ および ‘gc.rerereResolved’ 構成変数を介して制
     御されます。


DISCUSSION
**********

トピックブランチが分岐してからマスターブランチ(またはアップストリーム)が
触れた重複領域をトピックブランチが変更する場合、トピックブランチをアップ
ストリームにプッシュする準備ができる前であっても、最新のマスターでテスト
することをお勧めします:

                   o---*---o topic
                  /
         o---o---o---*---o---o master

   このようなテストでは、マスターとトピックを何らかの方法でマージする必
要があります。これを行う1つの方法は、マスターをトピックブランチにプルす
ることです:

             $ git switch topic
             $ git merge master

                   o---*---o---+ topic
                  /           /
         o---o---o---*---o---o master

   ‘*’ でマークされたコミットは、同じファイルの同じ領域にアクセスします
。 ‘+’ でマークされたコミットを作成するときに競合を解決する必要がありま
す。次に、結果をテストして、進行中の作業が最新のマスターにあるもので引き
続き機能することを確認できます。

   このテストマージの後、トピックの作業を続行するには2つの方法があります
。最も簡単なのは、テストマージコミット ‘+’ の上に構築することです。トピ
ックブランチでの作業の準備ができたら、トピックブランチをマスターにプルす
るか、アップストリームにプルするように依頼します。ただし、その時点で、テ
ストマージ ‘+’ 以降、マスターまたはアップストリームが進んでいる可能性が
あります。その場合、最終的なコミットグラフは以下のようになります:

             $ git switch topic
             $ git merge master
             $ ... work on both topic and master branches
             $ git switch master
             $ git merge topic

                   o---*---o---+---o---o topic
                  /           /         \
         o---o---o---*---o---o---o---o---+ master

   けれども、トピックブランチの存続期間が長い場合、トピックブランチには
そのような「マスターからのマージ」コミットが多数含まれることになり、開発
履歴が不必要に乱雑になります。Linuxカーネルメーリングリストの読者は、サ
ブシステムのメンテナが「役に立たないマージ」でいっぱいのブランチからプル
するように要求したときに、Linusがテストマージの頻度が高すぎると不平を言
ったことを覚えているかもしれません。

   別の方法として、トピックブランチでテストマージをクリーンに保つために
、テストマージを吹き飛ばし、テストマージの前に、先端の先に構築し続けるこ
とができます:

             $ git switch topic
             $ git merge master
             $ git reset --hard HEAD^ ;# rewind the test merge
             $ ... work on both topic and master branches
             $ git switch master
             $ git merge topic

                   o---*---o-------o---o topic
                  /                     \
         o---o---o---*---o---o---o---o---+ master

   これにより、トピックブランチの準備が整い、マスターブランチにマージさ
れたときに、マージコミットが1つだけ残ります。 このマージでは、 ‘*’ でマ
ークされたコミットによって導入された競合を解決する必要があります。ただし
、この競合は、多くの場合、吹き飛ばしたテストマージを作成したときに解決し
た競合と同じです。 _git rerere_ は、以前の手動解決からの情報を使用して、
この最後の競合するマージを解決するのに役立ちます。

   競合する自動マージの直後に「git rerere」コマンドを実行すると、それら
の中の、通常の競合マーカー ‘<<<<<<<’ と ‘=======’ と ‘>>>>>>>’ を使用し
て、競合する作業ツリーファイルが記録されます。後で、競合の解決が完了した
後、「git rerere」を再度実行すると、これらのファイルの解決された状態が記
録されます。 masterのトピックブランチへのテストマージを作成したときにこ
れを行ったとします。

   次回、同じ競合する自動マージを確認した後、「git rerere」を実行すると
、以前の競合する自動マージ、以前の手動解決、および現在の競合する自動マー
ジの間で3方向のマージが実行されます。この3方向マージが正常に解決される場
合、結果は作業ツリーファイルに書き出されるため、手動で解決する必要はあり
ません。注意: _git rerere_ はインデックスファイルをそのままにしておくの
で、結果に満足のいく場合は、 ‘git diff’ (または ‘git diff -c’)を使用して
最終的な健全性チェックを行い、そして、 _git add_ する必要があることに注
意してください。

   より便利な方法として、「git merge」は、失敗した自動マージで終了すると
自動的に「git rerere」を呼び出し、「git rerere」は、新しい競合の場合は手
動解決を記録し、そうでない場合は以前の手動解決を再利用します。「git
commit」は、マージ結果をコミットするときに「git rerere」も呼び出します。
これが意味することは、（rerere.enabled構成変数を有効にする以外に）自分で
特別なことをする必要がないということです。

   この例では、テストマージを実行すると、手動の競合解決決定が記録され、
記録された競合解決決定が引き続き適用可能である限り、後で更新されたマスタ
ーブランチとトピックブランチを使用して実際のマージを実行するときに再利用
されます。

   「git rerere」レコードの情報は、「git rebase」を実行するときにも使用
されます。 テストマージを吹き飛ばし、トピックブランチで開発を続けた後:

                   o---*---o-------o---o topic
                  /
         o---o---o---*---o---o---o---o   master

             $ git rebase master topic

                                       o---*---o-------o---o topic
                                      /
         o---o---o---*---o---o---o---o   master

   ‘git rebase master topic’ を実行して、トピックをアップストリームに送
信する準備ができる前に最新の状態にすることができます。これにより、3方向
マージにフォールバックし、前に解決したテストマージと同じように競合します
。 「git rerere」は「git rebase」によって実行され、この競合を解決するの
に役立ちます。

   [注] _git rerere_ は、ファイル内の競合マーカーに依存して競合を検出し
ます。ファイルに競合マーカーのある行と同じように見える行がすでに含まれて
いる場合、「git rerere」は競合解決の記録に失敗する可能性があります。これ
を回避するには、 gitattributes(5) の ‘conflict-marker-size’ 設定を使用で
きます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-reset,  Up: Top

Name
****

git-reset — Reset current HEAD to the specified state


Synopsis
********

     git reset [-q] [<tree-ish>] [–] <pathspec>…
     git reset [-q] [–pathspec-from-file=<file> [–pathspec-file-nul]] [<tree-ish>]
     git reset (–patch | -p) [<tree-ish>] [–] [<pathspec>…]
     git reset [–soft | –mixed [-N] | –hard | –merge | –keep] [-q] [<commit>]


DESCRIPTION
***********

In the first three forms, copy entries from ‘<tree-ish>’ to the index.
In the last form, set the current branch head (‘HEAD’) to ‘<commit>’,
optionally modifying index and working tree to match.  The
‘<tree-ish>’/‘<commit>’ defaults to ‘HEAD’ in all forms.

_git reset_ [-q] [<tree-ish>] [–] <pathspec>…
_git reset_ [-q] [–pathspec-from-file=<file> [–pathspec-file-nul]] [<tree-ish>]
     These forms reset the index entries for all paths that match the
     ‘<pathspec>’ to their state at ‘<tree-ish>’.  (It does not affect
     the working tree or the current branch.)

     This means that ‘git reset <pathspec>’ is the opposite of ‘git add
     <pathspec>’.  This command is equivalent to ‘git restore
     [--source=<tree-ish>] --staged <pathspec>...’.

     After running ‘git reset <pathspec>’ to update the index entry, you
     can use git-restore(1) to check the contents out of the index to
     the working tree.  Alternatively, using git-restore(1) and
     specifying a commit with ‘--source’, you can copy the contents of a
     path out of a commit to the index and to the working tree in one
     go.

_git reset_ (–patch | -p) [<tree-ish>] [–] [<pathspec>…]
     Interactively select hunks in the difference between the index and
     ‘<tree-ish>’ (defaults to ‘HEAD’).  The chosen hunks are applied in
     reverse to the index.

     This means that ‘git reset -p’ is the opposite of ‘git add -p’,
     i.e.  you can use it to selectively reset hunks.  See the
     “Interactive Mode” section of git-add(1) to learn how to operate
     the ‘--patch’ mode.

_git reset_ [<mode>] [<commit>]
     This form resets the current branch head to ‘<commit>’ and possibly
     updates the index (resetting it to the tree of ‘<commit>’) and the
     working tree depending on ‘<mode>’.  If ‘<mode>’ is omitted,
     defaults to ‘--mixed’.  The ‘<mode>’ must be one of the following:

     ‘--soft’
          Does not touch the index file or the working tree at all (but
          resets the head to ‘<commit>’, just like all modes do).  This
          leaves all your changed files "Changes to be committed", as
          ‘git status’ would put it.

     ‘--mixed’
          Resets the index but not the working tree (i.e., the changed
          files are preserved but not marked for commit) and reports
          what has not been updated.  This is the default action.

          If ‘-N’ is specified, removed paths are marked as
          intent-to-add (see git-add(1)).

     ‘--hard’
          Resets the index and working tree.  Any changes to tracked
          files in the working tree since ‘<commit>’ are discarded.

     ‘--merge’
          Resets the index and updates the files in the working tree
          that are different between ‘<commit>’ and ‘HEAD’, but keeps
          those which are different between the index and working tree
          (i.e.  which have changes which have not been added).  If a
          file that is different between ‘<commit>’ and the index has
          unstaged changes, reset is aborted.

          In other words, ‘--merge’ does something like a ‘git read-tree
          -u -m <commit>’, but carries forward unmerged index entries.

     ‘--keep’
          Resets index entries and updates files in the working tree
          that are different between ‘<commit>’ and ‘HEAD’.  If a file
          that is different between ‘<commit>’ and ‘HEAD’ has local
          changes, reset is aborted.

     ‘--[no-]recurse-submodules’
          When the working tree is updated, using –recurse-submodules
          will also recursively reset the working tree of all active
          submodules according to the commit recorded in the
          superproject, also setting the submodules’ HEAD to be detached
          at that commit.

   See "Reset, restore and revert" in git(1) for the differences between
the three commands.


OPTIONS
*******

‘-q’
‘--quiet’
‘--no-quiet’
     Be quiet, only report errors.  The default behavior is set by the
     ‘reset.quiet’ config option.  ‘--quiet’ and ‘--no-quiet’ will
     override the default behavior.

‘--pathspec-from-file=<file>’
     Pathspec is passed in ‘<file>’ instead of commandline args.  If
     ‘<file>’ is exactly ‘-’ then standard input is used.  Pathspec
     elements are separated by LF or CR/LF. Pathspec elements can be
     quoted as explained for the configuration variable ‘core.quotePath’
     (see git-config(1)).  See also ‘--pathspec-file-nul’ and global
     ‘--literal-pathspecs’.

‘--pathspec-file-nul’
     Only meaningful with ‘--pathspec-from-file’.  Pathspec elements are
     separated with NUL character and all other characters are taken
     literally (including newlines and quotes).

–
     Do not interpret any more arguments as options.

<pathspec>…
     Limits the paths affected by the operation.

     For more details, see the _pathspec_ entry in gitglossary(7).


EXAMPLES
********

Undo add
          $ edit                                     (1)
          $ git add frotz.c filfre.c
          $ mailx                                    (2)
          $ git reset                                (3)
          $ git pull git://info.example.com/ nitfol  (4)

     *note (1): CO1-1.
          You are happily working on something, and find the changes in
          these files are in good order.  You do not want to see them
          when you run ‘git diff’, because you plan to work on other
          files and changes with these files are distracting.

     *note (2): CO1-2.
          Somebody asks you to pull, and the changes sound worthy of
          merging.

     *note (3): CO1-3.
          However, you already dirtied the index (i.e.  your index does
          not match the ‘HEAD’ commit).  But you know the pull you are
          going to make does not affect ‘frotz.c’ or ‘filfre.c’, so you
          revert the index changes for these two files.  Your changes in
          working tree remain there.

     *note (4): CO1-4.
          Then you can pull and merge, leaving ‘frotz.c’ and ‘filfre.c’
          changes still in the working tree.

Undo a commit and redo
          $ git commit ...
          $ git reset --soft HEAD^      (1)
          $ edit                        (2)
          $ git commit -a -c ORIG_HEAD  (3)

     *note (1): CO2-1.
          This is most often done when you remembered what you just
          committed is incomplete, or you misspelled your commit
          message, or both.  Leaves working tree as it was before
          "reset".

     *note (2): CO2-2.
          Make corrections to working tree files.

     *note (3): CO2-3.
          "reset" copies the old head to ‘.git/ORIG_HEAD’; redo the
          commit by starting with its log message.  If you do not need
          to edit the message further, you can give ‘-C’ option instead.

          See also the ‘--amend’ option to git-commit(1).

Undo a commit, making it a topic branch
          $ git branch topic/wip          (1)
          $ git reset --hard HEAD~3       (2)
          $ git switch topic/wip          (3)

     *note (1): CO3-1.
          You have made some commits, but realize they were premature to
          be in the ‘master’ branch.  You want to continue polishing
          them in a topic branch, so create ‘topic/wip’ branch off of
          the current ‘HEAD’.

     *note (2): CO3-2.
          Rewind the master branch to get rid of those three commits.

     *note (3): CO3-3.
          Switch to ‘topic/wip’ branch and keep working.

Undo commits permanently
          $ git commit ...
          $ git reset --hard HEAD~3   (1)

     *note (1): CO4-1.
          The last three commits (‘HEAD’, ‘HEAD^’, and ‘HEAD~2’) were
          bad and you do not want to ever see them again.  Do *not* do
          this if you have already given these commits to somebody else.
          (See the "RECOVERING FROM UPSTREAM REBASE" section in
          git-rebase(1) for the implications of doing so.)

Undo a merge or pull
          $ git pull                         (1)
          Auto-merging nitfol
          CONFLICT (content): Merge conflict in nitfol
          Automatic merge failed; fix conflicts and then commit the result.
          $ git reset --hard                 (2)
          $ git pull . topic/branch          (3)
          Updating from 41223... to 13134...
          Fast-forward
          $ git reset --hard ORIG_HEAD       (4)

     *note (1): CO5-1.
          Try to update from the upstream resulted in a lot of
          conflicts; you were not ready to spend a lot of time merging
          right now, so you decide to do that later.

     *note (2): CO5-2.
          "pull" has not made merge commit, so ‘git reset --hard’ which
          is a synonym for ‘git reset --hard HEAD’ clears the mess from
          the index file and the working tree.

     *note (3): CO5-3.
          Merge a topic branch into the current branch, which resulted
          in a fast-forward.

     *note (4): CO5-4.
          But you decided that the topic branch is not ready for public
          consumption yet.  "pull" or "merge" always leaves the original
          tip of the current branch in ‘ORIG_HEAD’, so resetting hard to
          it brings your index file and the working tree back to that
          state, and resets the tip of the branch to that commit.

Undo a merge or pull inside a dirty working tree
          $ git pull                         (1)
          Auto-merging nitfol
          Merge made by recursive.
           nitfol                |   20 +++++----
           ...
          $ git reset --merge ORIG_HEAD      (2)

     *note (1): CO6-1.
          Even if you may have local modifications in your working tree,
          you can safely say ‘git pull’ when you know that the change in
          the other branch does not overlap with them.

     *note (2): CO6-2.
          After inspecting the result of the merge, you may find that
          the change in the other branch is unsatisfactory.  Running
          ‘git reset --hard ORIG_HEAD’ will let you go back to where you
          were, but it will discard your local changes, which you do not
          want.  ‘git reset --merge’ keeps your local changes.

Interrupted workflow
     Suppose you are interrupted by an urgent fix request while you are
     in the middle of a large change.  The files in your working tree
     are not in any shape to be committed yet, but you need to get to
     the other branch for a quick bugfix.

          $ git switch feature  ;# you were working in "feature" branch and
          $ work work work      ;# got interrupted
          $ git commit -a -m "snapshot WIP"                 (1)
          $ git switch master
          $ fix fix fix
          $ git commit ;# commit with real log
          $ git switch feature
          $ git reset --soft HEAD^ ;# go back to WIP state  (2)
          $ git reset                                       (3)

     *note (1): CO7-1.
          This commit will get blown away so a throw-away log message is
          OK.

     *note (2): CO7-2.
          This removes the _WIP_ commit from the commit history, and
          sets your working tree to the state just before you made that
          snapshot.

     *note (3): CO7-3.
          At this point the index file still has all the WIP changes you
          committed as _snapshot WIP_. This updates the index to show
          your WIP files as uncommitted.

          See also git-stash(1).

Reset a single file in the index
     Suppose you have added a file to your index, but later decide you
     do not want to add it to your commit.  You can remove the file from
     the index while keeping your changes with git reset.

          $ git reset -- frotz.c                      (1)
          $ git commit -m "Commit files in index"     (2)
          $ git add frotz.c                           (3)

     *note (1): CO8-1.
          This removes the file from the index while keeping it in the
          working directory.

     *note (2): CO8-2.
          This commits all other changes in the index.

     *note (3): CO8-3.
          Adds the file to the index again.

Keep changes in working tree while discarding some previous commits
     Suppose you are working on something and you commit it, and then
     you continue working a bit more, but now you think that what you
     have in your working tree should be in another branch that has
     nothing to do with what you committed previously.  You can start a
     new branch and reset it while keeping the changes in your working
     tree.

          $ git tag start
          $ git switch -c branch1
          $ edit
          $ git commit ...                            (1)
          $ edit
          $ git switch -c branch2                     (2)
          $ git reset --keep start                    (3)

     *note (1): CO9-1.
          This commits your first edits in ‘branch1’.

     *note (2): CO9-2.
          In the ideal world, you could have realized that the earlier
          commit did not belong to the new topic when you created and
          switched to ‘branch2’ (i.e.  ‘git switch -c branch2 start’),
          but nobody is perfect.

     *note (3): CO9-3.
          But you can use ‘reset --keep’ to remove the unwanted commit
          after you switched to ‘branch2’.

Split a commit apart into a sequence of commits
     Suppose that you have created lots of logically separate changes
     and committed them together.  Then, later you decide that it might
     be better to have each logical chunk associated with its own
     commit.  You can use git reset to rewind history without changing
     the contents of your local files, and then successively use ‘git
     add -p’ to interactively select which hunks to include into each
     commit, using ‘git commit -c’ to pre-populate the commit message.

          $ git reset -N HEAD^                        (1)
          $ git add -p                                (2)
          $ git diff --cached                         (3)
          $ git commit -c HEAD@{1}                    (4)
          ...                                         (5)
          $ git add ...                               (6)
          $ git diff --cached                         (7)
          $ git commit ...                            (8)

     *note (1): CO10-1.
          First, reset the history back one commit so that we remove the
          original commit, but leave the working tree with all the
          changes.  The -N ensures that any new files added with ‘HEAD’
          are still marked so that ‘git add -p’ will find them.

     *note (2): CO10-2.
          Next, we interactively select diff hunks to add using the ‘git
          add -p’ facility.  This will ask you about each diff hunk in
          sequence and you can use simple commands such as "yes, include
          this", "No don’t include this" or even the very powerful
          "edit" facility.

     *note (3): CO10-3.
          Once satisfied with the hunks you want to include, you should
          verify what has been prepared for the first commit by using
          ‘git diff --cached’.  This shows all the changes that have
          been moved into the index and are about to be committed.

     *note (4): CO10-4.
          Next, commit the changes stored in the index.  The ‘-c’ option
          specifies to pre-populate the commit message from the original
          message that you started with in the first commit.  This is
          helpful to avoid retyping it.  The ‘HEAD@{1}’ is a special
          notation for the commit that ‘HEAD’ used to be at prior to the
          original reset commit (1 change ago).  See git-reflog(1) for
          more details.  You may also use any other valid commit
          reference.

     *note (5): CO10-5.
          You can repeat steps 2-4 multiple times to break the original
          code into any number of commits.

     *note (6): CO10-6.
          Now you’ve split out many of the changes into their own
          commits, and might no longer use the patch mode of ‘git add’,
          in order to select all remaining uncommitted changes.

     *note (7): CO10-7.
          Once again, check to verify that you’ve included what you want
          to.  You may also wish to verify that git diff doesn’t show
          any remaining changes to be committed later.

     *note (8): CO10-8.
          And finally create the final commit.


DISCUSSION
**********

The tables below show what happens when running:

     git reset --option target

   to reset the ‘HEAD’ to another commit (‘target’) with the different
reset options depending on the state of the files.

   In these tables, ‘A’, ‘B’, ‘C’ and ‘D’ are some different states of a
file.  For example, the first line of the first table means that if a
file is in state ‘A’ in the working tree, in state ‘B’ in the index, in
state ‘C’ in ‘HEAD’ and in state ‘D’ in the target, then ‘git reset
--soft target’ will leave the file in the working tree in state ‘A’ and
in the index in state ‘B’.  It resets (i.e.  moves) the ‘HEAD’ (i.e.
the tip of the current branch, if you are on one) to ‘target’ (which has
the file in state ‘D’).

     working index HEAD target         working index HEAD
     ----------------------------------------------------
      A       B     C    D     --soft   A       B     D
                               --mixed  A       D     D
                               --hard   D       D     D
                               --merge (disallowed)
                               --keep  (disallowed)

     working index HEAD target         working index HEAD
     ----------------------------------------------------
      A       B     C    C     --soft   A       B     C
                               --mixed  A       C     C
                               --hard   C       C     C
                               --merge (disallowed)
                               --keep   A       C     C

     working index HEAD target         working index HEAD
     ----------------------------------------------------
      B       B     C    D     --soft   B       B     D
                               --mixed  B       D     D
                               --hard   D       D     D
                               --merge  D       D     D
                               --keep  (disallowed)

     working index HEAD target         working index HEAD
     ----------------------------------------------------
      B       B     C    C     --soft   B       B     C
                               --mixed  B       C     C
                               --hard   C       C     C
                               --merge  C       C     C
                               --keep   B       C     C

     working index HEAD target         working index HEAD
     ----------------------------------------------------
      B       C     C    D     --soft   B       C     D
                               --mixed  B       D     D
                               --hard   D       D     D
                               --merge (disallowed)
                               --keep  (disallowed)

     working index HEAD target         working index HEAD
     ----------------------------------------------------
      B       C     C    C     --soft   B       C     C
                               --mixed  B       C     C
                               --hard   C       C     C
                               --merge  B       C     C
                               --keep   B       C     C

   ‘reset --merge’ is meant to be used when resetting out of a
conflicted merge.  Any mergy operation guarantees that the working tree
file that is involved in the merge does not have a local change with
respect to the index before it starts, and that it writes the result out
to the working tree.  So if we see some difference between the index and
the target and also between the index and the working tree, then it
means that we are not resetting out from a state that a mergy operation
left after failing with a conflict.  That is why we disallow ‘--merge’
option in this case.

   ‘reset --keep’ is meant to be used when removing some of the last
commits in the current branch while keeping changes in the working tree.
If there could be conflicts between the changes in the commit we want to
remove and the changes in the working tree we want to keep, the reset is
disallowed.  That’s why it is disallowed if there are both changes
between the working tree and ‘HEAD’, and between ‘HEAD’ and the target.
To be safe, it is also disallowed when there are unmerged entries.

   The following tables show what happens when there are unmerged
entries:

     working index HEAD target         working index HEAD
     ----------------------------------------------------
      X       U     A    B     --soft  (disallowed)
                               --mixed  X       B     B
                               --hard   B       B     B
                               --merge  B       B     B
                               --keep  (disallowed)

     working index HEAD target         working index HEAD
     ----------------------------------------------------
      X       U     A    A     --soft  (disallowed)
                               --mixed  X       A     A
                               --hard   A       A     A
                               --merge  A       A     A
                               --keep  (disallowed)

   ‘X’ means any state and ‘U’ means an unmerged index.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-restore,  Up: Top

Name
****

git-restore — 作業ツリーファイルを復元します


Synopsis
********

     git restore [<options>] [–source=<tree>] [–staged] [–worktree] [–] <pathspec>…
     git restore [<options>] [–source=<tree>] [–staged] [–worktree] –pathspec-from-file=<file> [–pathspec-file-nul]
     git restore (-p|–patch) [<options>] [–source=<tree>] [–staged] [–worktree] [–] [<pathspec>…]


DESCRIPTION
***********

復元ソースからのコンテンツを使用して、作業ツリー内の指定されたパスを復元
します。パスが追跡されているが、復元ソースに存在しない場合、復元ソースと
一致するように削除されます。

   このコマンドを使用して、 ‘--staged’ を使用してインデックスのコンテン
ツを復元したり、 ‘--staged--worktree’ を使用して作業ツリーとインデックス
の両方を復元したりすることもできます。

   デフォルトでは、 ‘--staged’ が指定されている場合、コンテンツは ‘HEAD’
から復元され、そうでない場合はインデックスから復元されます。別のコミット
から復元するには、 ‘--source’ を使用します。

   3つのコマンドの違いについては、 git(1) の "Reset, restore and revert"
を参照してください。

   !!このコマンドは実験的なものです。 動作が変わる可能性があります!!


OPTIONS
*******

‘-s <tree>’
‘--source=<tree>’
     指定のツリーのコンテンツを使用して、作業ツリーファイルを復元します
     。ソースツリーに関連付けられているコミット、ブランチ、またはタグに
     名前を付けてソースツリーを指定するのが一般的です。

     このオプションを指定しない場合で、 ‘--staged’ が指定されている場合
     は ‘HEAD’ から、それ以外の場合はインデックスから内容が復元されます
     。

     特別な場合として、マージベースが1つしかない場合は、 ‘A’ と ‘B’ のマ
     ージベースのショートカットとして ‘A...B’ を使用できます。 ‘A’ と
     ‘B’ の片方を省略できます。その場合、省略した方はデフォルトで ‘HEAD’
     になります。

‘-p’
‘--patch’
     復元ソースと復元場所の違いでハンクを対話的に選択します。 ‘--patch’
     モードの操作方法については、 git-add(1) の「Interactive Mode」セク
     ションを参照してください。

     注意: ‘--patch’ はpathspecを受け入れることができず、変更されたすべ
     てのパスを復元するように求められることに注意してください。

‘-W’
‘--worktree’
‘-S’
‘--staged’
     復元場所を指定します。どちらのオプションも指定されていない場合、デ
     フォルトで作業ツリーが復元されます。 ‘--staged’ を指定すると、イン
     デックスのみが復元されます。両方を指定すると、両方が復元されます。

‘-q’
‘--quiet’
     静かにします。フィードバックメッセージを抑制します。
     ‘--no-progress’ を含んでいます。

‘--progress’
‘--no-progress’
     ‘--quiet’ が指定されていない限り、進行状況は、端末に接続されている
     場合、デフォルトで標準エラーストリームに報告されます。このフラグは
     、 ‘--quiet’ に関係なく、端末に接続されていない場合でも進行状況のレ
     ポートを有効にします。

‘--ours’
‘--theirs’
     作業ツリー内のファイルをインデックスから復元する場合は、マージされ
     ていないパスにステージ#2(_ours_)または#3(_theirs_)を使用します。

     注意: ‘git rebase`と `git pull --rebase’ での作業中、「ours」と「
     theirs」が入れ替わっているように見える場合があることに注意してくだ
     さい。 詳細については、 git-checkout(1) の同じオプションの説明を参
     照してください。

‘-m’
‘--merge’
     作業ツリー上のファイルをインデックスから復元する場合は、マージされ
     ていないパスで競合するマージを再作成してください。

‘--conflict=<style>’
     上記の ‘--merge’ オプションと同じですが、競合するハンクの表示方法を
     変更し、 ‘merge.conflictStyle’ 構成変数をオーバーライドします。 可
     能な値は「merge」(デフォルト)と「diff3」(「merge」スタイルで表示さ
     れるものに加えて、元のコンテンツを表示します)です。

‘--ignore-unmerged’
     作業ツリー上のファイルをインデックスから復元するときに、マージされ
     ていないエントリがあり、 ‘--ours’ 、‘--theirs’ 、 ‘--merge’ または
     ‘--conflict’ のいずれも指定されていない場合は、操作を中止しないでく
     ださい。作業ツリー上のマージされていないパスはそのままになります。

‘--ignore-skip-worktree-bits’
     スパースチェックアウトモード(sparse checkout mode)では、デフォルト
     では、 ‘<pathspec>’ に一致するエントリと、
     $GIT_DIR/info/sparse-checkout のスパースパターンのみが更新されます
     。このオプションは、スパースパターンを無視し、 ‘<pathspec>’ 内のす
     べてのファイルを無条件に復元します。

‘--recurse-submodules’
‘--no-recurse-submodules’
     ‘<pathspec>’ がアクティブなサブモジュールを指定し、復元場所に作業ツ
     リーが含まれている場合、このオプションが指定されている場合にのみサ
     ブモジュールが更新されます。この場合、その作業ツリーはスーパープロ
     ジェクトに記録されたコミットに復元されます。ローカルの変更は上書き
     されます。何も使用されていない場合(または ‘--no-recurse-submodules’
     の場合)、サブモジュールの作業ツリーは更新されません。
     git-checkout(1) と同様に、これはサブモジュールの ‘HEAD’ を切り離し
     ます(detach)。

‘--overlay’
‘--no-overlay’
     オーバーレイモード(overlay mode)では、コマンドは復元時にファイルを
     削除しません。オーバーレイなしモード(no-overlay mode)では、
     ‘--source’ ツリーに表示されない追跡ファイルが削除され、 ‘<tree>’ と
     完全に一致するようになります。 デフォルトはオーバーレイなしモード
     (no-overlay mode)です。

‘--pathspec-from-file=<file>’
     pathspecは、コマンドライン引数の代わりに ‘<file>’ で渡されます。
     ‘<file>’ が正確に ‘-’ の場合、標準入力が使用されます。pathspec要素
     はLFまたはCR/LFで区切られます。pathspec要素は、構成変数
     ‘core.quotePath’ で説明されているように引用できます(git-config(1) 参
     照)。 ‘--pathspec-file-nul’ およびグローバルの
     ‘--literal-pathspecs’ も参照してください。

‘--pathspec-file-nul’
     ‘--pathspec-from-file’ でのみ意味があります。pathspec要素はNUL文字
     で区切られ、他のすべての文字は文字通りに解釈されます(改行と引用符を
     含む)。

‘--’
     これより後ろの引数をオプションとして解釈しないでください。

<pathspec>…
     操作の影響を受けるパスを制限します。

     詳細については、 gitglossary(7) の「pathspec」エントリを参照してく
     ださい。


EXAMPLES
********

以下のシーケンスは、 ‘master’ ブランチに切り替え、‘Makefile’ を2つ前のリ
ビジョンに戻し、誤って hello.c を削除して、インデックスから戻します。

     $ git switch master
     $ git restore --source master~2 Makefile  (1)
     $ rm -f hello.c
     $ git restore hello.c                     (2)

*note (1): CO1-1.
     別のコミットからファイルを取り出します

*note (2): CO1-2.
     インデックスから hello.c を復元します。

   あなたが、インデックス内のバージョンと一致するように「すべての」Cソー
スファイルを復元する場合は、以下のように書くことができます。

     $ git restore '*.c'

   注意: ‘*.c’ を囲む引用符に注意してください。 ファイル ‘hello.c’ は、
作業ツリーに存在しなくなった場合でも復元されます。これは、ファイルグロブ
がインデックス内のエントリを照合するために使用されるためです(シェルによ
る作業ツリー内ではありません)。

   現在のディレクトリ内のすべてのファイルを復元するには

     $ git restore .

   または、_top_ pathspec魔法を使用してすべての作業ツリーファイルを復元
します(gitglossary(7) 参照)。

     $ git restore :/

   ‘HEAD’ のバージョンと一致するようにインデックス内のファイルを復元する
には(これは git-reset(1) を使用するのと同じです)

     $ git restore --staged hello.c

   または、インデックスと作業ツリーの両方を復元できます(これは、
git-checkout(1) を使用する場合と同じです)。

     $ git restore --source=HEAD --staged --worktree hello.c

   または、より実用的で読みにくい短い形式:

     $ git restore -s@ -SW hello.c


SEE ALSO
********

git-checkout(1), git-reset(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-rev-list,  Up: Top

Name
****

git-rev-list — コミットオブジェクトを新しい順に一覧表示します


Synopsis
********

     git rev-list [<options>] <commit>… [[–] <path>…]


DESCRIPTION
***********

指定されたコミットから「親」リンクをたどることによって到達可能なコミット
をリストしますが、その前に _^_ が付いているコミットから到達可能なコミッ
トは除外します。デフォルトでは、出力は時系列の逆順で表示されます。

   これは集合演算と考えることができます。 コマンドラインで指定されたコミ
ットのいずれかから到達可能なコミットのセットを形成し、 _^_ が前に付いた
コミットのいずれかから到達可能なコミットがそのセットから差し引かれます。
差し引かれた残りのコミットは、コマンドの出力に出力されるものです。他のさ
まざまなオプションとパスパラメータ(pats parameters)を使用して、結果をさ
らに制限できます。

   したがって、以下のコマンド:

     $ git rev-list foo bar ^baz

   は、「 _foo_ または _bar_ から到達可能であるが、 _baz_ からは到達でき
ないすべてのコミットをリストする」を意味します。

   特別な表記 "_<commit1>_.._<commit2>_" は、 "^_<commit1>_ _<commit2>_"
の省略形として使用できます。たとえば、以下のどちらかを同じ意味で使用でき
ます:

     $ git rev-list origin..HEAD
     $ git rev-list HEAD ^origin

   もう1つの特別な表記法は、マージに役立つ "_<commit1>_…_<commit2>_" で
す。結果として得られるコミットのセットは、2つのオペランド間の対称差
(symmetric difference)です。以下の2つのコマンドは同等です:

     $ git rev-list A B --not $(git merge-base --all A B)
     $ git rev-list A...B

   ’rev-list’は、コミットの祖先グラフ作成およびトラバースする機能を提供
するため、非常に重要なGitコマンドです。 このため、’git bisect’や’git
repack’などのさまざまなコマンドで使用できるようにするさまざまなオプショ
ンがあります。


OPTIONS
*******


Commit Limiting
===============

ここで説明されている特別な表記法を使用してリストする必要があるコミットの
範囲を指定することに加えて、追加のコミット制限が適用される場合があります
。

   より多くのオプションを使用すると、通常、出力がさらに制限されます(たと
えば、‘--since=<date1>`は’<date1>‘より新しいコミットに制限され、
’–grep=<pattern>‘と一緒に使用すると、ログメッセージに’<pattern>‘と一致す
る行があるコミットにさらに制限されます)。

   注意: これらは、‘–reverse‘などのコミット順序およびフォーマットオプシ
ョンの前に適用されることに注意してください。

‘-<number>’
‘-n <number>’
‘--max-count=<number>’
     出力するコミットの数を制限します。

‘--skip=<number>’
     コミット出力の表示を開始する前に、’number’個のコミットをスキップし
     ます。

–since=<date>
‘--after=<date>’
     指定の日付よりも新しいコミットを表示します。

‘--until=<date>’
‘--before=<date>’
     指定の日付より古いコミットを表示します。

‘--max-age=<timestamp>’
‘--min-age=<timestamp>’
     コミット出力を指定された時間範囲に制限します。

‘--author=<pattern>’
‘--committer=<pattern>’
     コミット出力を、指定されたパターン(正規表現)に一致する作者
     (author)/コミッター(committer)ヘッダー行を持つものに制限します。複
     数の ‘--author=<pattern>’ がある場合、作者が指定されたパターンのい
     ずれかに一致するコミットが選択されます(複数の
     ‘--committer=<pattern>’ の場合も同様)。

‘--grep-reflog=<pattern>’
     コミット出力を、指定されたパターン(正規表現)に一致するreflogエント
     リを持つものに制限します。複数の‘–grep-reflog‘を使用すると、指定さ
     れたパターンのいずれかに一致するreflogメッセージを持つコミットが選
     択されます。‘–walk-reflogs‘が使用されていない限り、このオプションを
     使用するとエラーになります。

‘--grep=<pattern>’
     コミット出力を、指定されたパターン(正規表現)に一致するログメッセー
     ジを持つものに制限します。複数の‘–grep=<pattern>‘を使用すると、指定
     されたパターンのいずれかにメッセージが一致するコミットが選択されま
     す(全てに一致するコミットだけを選択したい場合、’–all-match‘を参照し
     てください)。

‘--all-match’
     コミット出力を、少なくとも1つに一致するものではなく、指定されたすべ
     ての‘–grep‘に一致するものに制限します。

‘--invert-grep’
     コミット出力を、‘–grep=<pattern>‘で指定されたパターンと一致しないロ
     グメッセージを持つものに制限します。

‘-i’
‘--regexp-ignore-case’
     大文字小文字に関係なく、正規表現の制限パターンに一致します。

‘--basic-regexp’
     制限パターンを基本正規表現として扱います。これがデフォルトです。

‘-E’
‘--extended-regexp’
     制限パターンを、デフォルトの基本正規表現の代わりに拡張正規表現とし
     て扱います。

‘-F’
‘--fixed-strings’
     制限パターンを固定文字列として扱います(パターンを正規表現として解釈
     しないでください)。

‘-P’
‘--perl-regexp’
     制限パターンをPerl互換の正規表現として扱います。

     これらのタイプの正規表現のサポートは、コンパイル時オプションに依存
     します。Gitが当該のサポート付きでコンパイルされていない場合、このオ
     プションを提供すると、Gitが死にます(die)。

‘--remove-empty’
     指定されたパスがツリーから見えなくなったら停止(stop)します。

‘--merges’
     マージコミットのみを印刷します。これは‘–min-parents=2‘とまったく同
     じです。

‘--no-merges’
     複数の親を持つコミットを出力しない。これは‘–max-parents=1‘とまった
     く同じです。

‘--min-parents=<number>’
‘--max-parents=<number>’
‘--no-min-parents’
‘--no-max-parents’
     量の多少に関わらず、とにかく複数の親コミットがあるコミットのみを表
     示します。特に、‘--max-parents=1`は’–no-merges‘と同じであり、
     ‘--min-parents=2`は’–merges‘と同じです。‘--max-parents=0`はすべての
     ルートコミットを提供し、’–min-parents=3‘はすべてのタコ足マージ
     (octopus merges)を示します。

     ‘--no-min-parents`と’–no-max-parents‘は、これらの制限を(制限なしに
     )再度リセットします。同等の形式は、‘--min-parents=0’(すべてのコミッ
     トに0個以上の親があります)および‘–max-parents=-1‘(マイナスの数は上
     限がないことを示します)です。

‘--first-parent’
     マージコミットを確認したら、最初の親コミットのみを探索します。この
     オプションは、特定のトピックブランチの進化を表示するときに、より良
     い概要を提供できます。トピックブランチへのマージは、時々更新される
     アップストリームに調整することだけである傾向があり、このオプション
     を使用すると、そのようなマージによって履歴に取り込まれた個々のコミ
     ットを無視できます。

‘--not’
     次に現れる‘–not‘までの間、後続のすべてのリビジョン指定子の’^’プレフ
     ィックス(またはその欠如)の意味を逆にします。

‘--all’
     ‘refs/‘内のすべてのrefが‘HEAD‘とともに、コマンドラインに
     ’<commit>’としてリストされているかのように見せかけます。

‘--branches[=<pattern>]’
     ‘refs/heads‘内のすべてのrefがコマンドラインに’<commit>’としてリスト
     されているかのように見せかけます。_<pattern>’が指定されている場合、
     ブランチを指定されたシェルグロブ(shell glob)に一致するものに制限し
     ます。パターンに_?_または_*’または’[_がない場合、最後に_/*’が含まれ
     ます。

‘--tags[=<pattern>]’
     ‘refs/tags‘内のすべてのrefがコマンドラインに’<commit>’としてリスト
     されているかのように見せかけます。_<pattern>’が指定されている場合は
     、指定されたシェルグロブ(shell glob)に一致するタグにタグを制限しま
     す。パターンに_?_または_*’または’[_がない場合、最後に_/*’が含まれま
     す。

‘--remotes[=<pattern>]’
     ‘refs/remotes‘内のすべてのrefがコマンドラインに’<commit>’としてリス
     トされているかのように見せかけます。_<pattern>’が指定されている場合
     、リモート追跡ブランチを指定されたシェルグロブ(shell glob)に一致す
     るものに制限します。パターンに_?_または_*’または’[_がない場合、最後
     に_/*’が含まれます。

‘--glob=<glob-pattern>’
     シェルグロブ’<glob-pattern>’に一致するすべてのrefがコマンドラインに
     ’<commit>’としてリストされているかのように見せかけます。先頭の
     ’refs/_は、欠落している場合は自動的に先頭に追加されます。パターンに
     _?_または_*’または’[_がない場合、最後に_/*’が含まれます。

‘--exclude=<glob-pattern>’
     次の‘–all‘または‘–branches‘または‘–tags‘または‘–remotes‘または
     ‘–glob‘が別の方法で考慮する’<glob-pattern>’に一致するrefを含めない
     でください。このオプションを繰り返すと、次の‘–all‘または
     ‘–branches‘または‘–tags‘または‘–remotes‘または‘–glob‘オプションまで
     除外パターンが蓄積されます(他のオプションまたは引数は、蓄積されたパ
     ターンをクリアしません)。

     与えられたパターンは、それぞれ‘–branches‘または‘ –tags‘または
     ‘–remotes‘に適用される場合、‘refs/heads‘または‘refs/tags‘または
     ‘refs/remotes‘で始まるべきではありません。‘--glob`または’–all‘に適
     用する場合は、‘refs/‘で始める必要があります。末尾の’/*’を意図してい
     る場合は、明示的に指定する必要があります。

‘--reflog’
     reflogsで言及されているすべてのオブジェクトがコマンドラインに
     ‘<commit>‘としてリストされているかのように見せかけます。

‘--alternate-refs’
     代替リポジトリのref先端として言及されているすべてのオブジェクトがコ
     マンドラインにリストされているかのように見せかけます。代替リポジト
     リは、オブジェクトディレクトリが‘objects/info/alternates‘で指定され
     ているリポジトリです。インクルードされたオブジェクトのセットは、
     ‘core.alternateRefsCommand‘などによって変更できます。
     git-config(1)を参照してください。

‘--single-worktree’
     デフォルトでは、作業ツリーが複数ある場合、‘--all`と’-reflog‘と
     ‘–indexed-objects‘では、すべての作業ツリーが検査されます
     (git-worktree(1)を参照)。このオプションは、現在の作業ツリーのみを調
     べるように強制します。

‘--ignore-missing’
     入力に無効なオブジェクト名が含まれている場合、そもそもその不正な入
     力が行われていないかのように見せかけます。

‘--stdin’
     コマンドラインにリストされている’<commit>’に加えて、標準入力からそ
     れらを読み取ります。‘–‘区切り文字が表示された場合は、コミットの読み
     取りを停止し、パスの読み取りを開始して結果を制限します。

‘--quiet’
     標準出力には何も出力しないでください。この形式は主に、呼び出し元が
     終了ステータスをテストして、オブジェクトの範囲が完全に接続されてい
     るかどうかを確認できるようにすることを目的としています。出力をフォ
     ーマットする必要がないため、stdoutを‘/dev/null‘にリダイレクトするよ
     りも高速です。

‘--disk-usage’
     通常の出力を抑制します。代わりに、選択したコミットまたはオブジェク
     トによってディスク上のストレージに使用されたバイトの合計を出力しま
     す。これは、出力が(特に‘–use-bitmap-index‘を伴った場合)はるかに高速
     に実行されることを除いて、出力を‘git cat-file
     –batch-check=_%(objectsize:disk)_‘にパイプすることと同じです。
     "on-disk storage"の意味する制限については、git-cat-file(1)の
     ‘CAVEATS‘節を参照してください。

‘--cherry-mark’
     ‘--cherry-pick’（以下を参照）と同様ですが、同等のコミットを省略せず
     に‘=‘と印し、同等でないコミットを’+‘と印します。

‘--cherry-pick’
     コミットの組を対称差(symmetric difference)に制限する場合、「反対側
     」の別のコミットと同じ変更を導入するコミットを省略します。

     たとえば、‘A`と`B`の2つのブランチがある場合、それらの片側だけですべ
     てのコミットを一覧表示する通常の方法は、’–left-right‘を使用すること
     です(‘–left-right‘オプションの説明の以下の例を参照してください)。た
     だし、他のブランチからは(ブランチAと重複しない)厳選されたコミットが
     表示されます(たとえば、「3rd onb」はブランチAからチェリーピックされ
     る可能性があります)。このオプションを使用すると、そのようなコミット
     のペアは出力から除外されます。

‘--left-only’
‘--right-only’
     リストは、対称差のそれぞれの側でのみコミットします。つまり、
     ‘--left-right`で `<’ と印されるのだけか、あるいは‘–left-right‘で
     ‘>‘と印されるものだけです。

     たとえば、‘--cherry-pick --right-only A...B`は、`A`にある、または
     `A`のコミットとパッチと同等のコミットを`B`から省略します。つまり、
     これは`git cherry A B`からの’+‘コミットをリストします。より正確に書
     くと、’–cherry-pick –right-only –no-merges‘により正確なリストを提供
     します。

‘--cherry’
     ‘–right-only –cherry-mark –no-merges‘の同義語です。出力を私たちの側
     のコミットに制限し、フォークされた履歴の反対の側に適用されたものを
     、‘git cherry upstream mybranch‘と同様に‘git log –cherry
     upstream…mybranch‘で印するのに役立ちます。

‘-g’
‘--walk-reflogs’
     コミットの祖先チェーンをたどる代わりに、reflogエントリを最新のもの
     から古いものに移動します。このオプションを使用する場合、除外するコ
     ミットを指定することはできません(つまり、’^commit’や
     ’commit1..commit2’や’commit1...commit2’表記は使用できません)。

     (明らかな理由で、)‘oneline`と`reference`以外の’–pretty‘形式では、こ
     れにより、出力にreflogから取得された2行の追加情報が含まれます。出力
     のreflog指定子は、‘ref@{Nth}’(‘Nth`はreflogの逆時系列インデックス
     (reverse-chronological index))または`ref@{timestamp}’(そのエントリ
     のタイムスタンプ付き)として表示されます。表示は下記のいくつかのルー
     ルに依存します:

       1. 開始点が ‘ref@{Nth}’ として指定されている場合は、インデックス
          形式を表示します。

       2. 開始点が ‘ref@{now}’ として指定されている場合は、タイムスタン
          プ形式を表示します。

       3. 上記のどちらも使用されていないが、コマンドラインで‘–date‘が指
          定されている場合は、‘–date‘で要求された形式でタイムスタンプを
          表示します。

       4. それ以外の場合は、インデックス形式を表示します。

     ‘--pretty = oneline`では、コミットメッセージの前にこの情報が同じ行
     に付けられます。このオプションを’–reverse‘と組み合わせることはでき
     ません。git-reflog(1)も参照してください。

     ‘–pretty=reference‘では、この情報はまったく表示されません。

‘--merge’
     マージが失敗した後、競合があり、マージするすべてのheadに存在しない
     ファイルに関連(touch)するrefを表示します。

‘--boundary’
     除外された境界コミットを出力します。 境界コミットの前には ‘-‘が付い
     ています。

‘--use-bitmap-index’
     (使用可能な場合は、)パックビットマップインデックスを使用して、トラ
     バーサルを高速化しようと試みます。‘–objects‘でトラバースする場合、
     ツリーとブロブには関連するパスが出力されないことに注意してください
     。

‘--progress=<header>’
     オブジェクトが対称になるときに、stderrに進捗レポートを表示します。
     ‘<header>‘テキストは、進行状況が更新されるたびに印刷されます。


History Simplification
======================

特定の<path>を変更するコミットなど、履歴の一部のみに関心がある場合があり
ます。ただし、「履歴の簡略化」(History Simplification)は2つの部分から成
ります。履歴を簡略化するためにはさまざまな戦略があるためです。その1つは
コミットの選択であり、もう1つはそれを行う方法です。

   以下のオプションは、表示するコミットを選択します:

<paths>
     指定された<パス>を変更するコミットが選択されます。

‘--simplify-by-decoration’
     いくつかのブランチまたはタグによって参照されるコミットが選択されま
     す。

   注意: 意味のある重要な履歴のために、追加のコミットを表示できることに
注意してください。

   以下のオプションは、簡略化の実行方法に影響します。

Default mode
     履歴を、ツリーの最終状態を説明する最も単純な履歴に単純化します。最
     終結果が同じである場合(つまり、同じコンテンツのブランチをマージする
     場合)、いくつかの傍流ブランチ(side branches)を削除するため、最も単
     純です。

‘--show-pulls’
     デフォルトモードからのすべてのコミットを含めますが、最初の親への
     TREESAMEではなく、後の親へのTREESAMEであるマージコミットも含めます
     。このモードは、ブランチに変更を「最初に導入した」マージコミットを
     表示するのに役立ちます。(訳注:TREESAME=pathspecが全く同一であるツリ
     ー)

‘--full-history’
     デフォルトモードと同じですが、一部の履歴を削除しません。

‘--dense’
     選択したコミットのみが表示され、重大で意味のある履歴を持つコミット
     もいくつか表示されます。

‘--sparse’
     簡略化された履歴内のすべてのコミットが表示されます。

‘--simplify-merges’
     このマージに寄与する選択されたコミットがないため、結果の履歴からい
     くつかの不要なマージを削除するための‘–full-history‘への追加オプショ
     ン。

‘--ancestry-path’
     表示するコミットの範囲が指定されている場合(たとえば、
     _commit1..commit2’または’commit2 ^commit1_)、 _commit1_ と
     _commit2_ の間の祖先チェーンに直接存在するコミットのみ、つまり、
     _commit1_ の子孫であり、 _commit2_ の祖先であるコミットを表示します
     。

   より詳細な説明は以下のとおりです。

   <paths> として ‘foo’ を指定したとします。 ‘foo’ !TREESAME を変更する
コミットを呼び出し、残りをTREESAMEと呼びます。( ‘foo’ のためにフィルタリ
ングされた差分では、それぞれ異なって見えたりたり等しく見えたりします。）

   以下、簡略化設定の違いを説明するために、同じ履歴例を使います。このコ
ミットグラフでは、ファイル ‘foo’ をフィルタリングしていると想定していま
す:

               .-A---M---N---O---P---Q
              /     /   /   /   /   /
             I     B   C   D   E   Y
              \   /   /   /   /   /
               `-------------'   X

   履歴 A—Q の水平線は、各マージの最初の親と見なされます。その各コミット
は以下のとおりです:

   • ‘I’ は最初のコミットであり、ファイル ‘foo’ が内容 “asdf” で存在し、
     ファイル ‘quux’ は内容 “quux” で存在します。最初のコミットは空のツ
     リーと比較されるため、‘I’ は !TREESAME です。

   • ‘A’ では、 ‘foo’ には “foo” だけが含まれています。

   • ‘B’ には ‘A’ と同じ変更が含まれています。そのマージ ‘M’ は些細なこ
     とであり、したがってすべての親にとって TREESAME です。

   • ‘C’ は ‘foo’ を変更しませんが、そのマージ ‘N’ はそれを “foobar” に
     変更するので、どの親にとっても TREESAME ではありません。

   • ‘D’ は ‘foo’ を “baz” に設定します。そのマージ ‘O’ は、 ‘N’ と ‘D’
     から “foobarbaz” への文字列を結合します。つまり、どの親にとっても
     TREESAME ではありません。

   • ‘E’ は ‘quux’ を “xyzzy” に変更し、そのマージ ‘P’ は文字列を
     “quuxxyzzy” に結合します。 ‘P’ は ‘O’ に対して TREESAME ですが、
     ‘E’ に対してはそうではありません。

   • ‘X’ は、新ファイル ‘side’ を追加し、 ‘Y’ がそれを変更した独立したル
     ートコミットです。 ‘Y’ は ‘X’ へのTREESAMEです。そのマージ ‘Q’ は
     ‘P’ に ‘side’ を追加し、 ‘Q’ は ‘P’ にはTREESAMEですが、‘Y’ に対し
     てはそうではありません。

   ‘rev-list’ は、 ‘--full-history’ および/または、( ‘--parents’ または
‘--children’ を介して)親の書き換えが使用されているかどうかに基づいて、コ
ミットを含めたり除外したりして、履歴を逆方向にウォークスルーします。以下
の設定が可能です。

Default mode
     コミットは、どの親に対してもTREESAMEでない場合に含まれます(これは変
     更できますが、以下の ‘--sparse’ を参照してください)。コミットがマー
     ジであり、一方の親に対するTREESAMEであった場合は、その親のみをフォ
     ローします。(TREESAMEの親が複数ある場合でも、そのうちの1つだけをフ
     ォローします)。それ以外の場合は、すべての親をフォローします。

     これにより、以下のようになります:

                    .-A---N---O
                   /     /   /
                  I---------D

     TREESAMEの親のみに従うルールが利用可能な場合は、 ‘B’ を検討対象から
     完全に削除したことに注意してください。 ‘C’ は ‘N’ を介して考慮され
     ましたが、しかしそれはTREESAMEです。ルートコミットは空のツリーと比
     較されるため、 ‘I’ は !TREESAME です。

     親子関係は ‘--parents’ でのみ表示されますが、デフォルトモードで選択
     されたコミットには影響しないため、親の行を示しました。

‘--full-history without parent rewriting’
     このモードは、デフォルトとはある一点で異なります。つまり、いずれか
     の親に対してTREESAMEであっても、常にマージのすべての親に従います。
     マージの複数の側にコミットが含まれている場合でも、これはマージ自体
     が含まれていることを意味するものではありません！ 例では以下のように
     なります。

                  I  A  B  N  D  O  P  Q

     ‘M’ は、両方の親にとってTREESAMEであるため、除外されました。 ‘E’ と
     ‘C’ と ‘B’ をすべて巡りましたが、 ‘B’ だけが !TREESAME だったので、
     他は表示されません。

     注意: 親の書き換え(rewrite)がないと、コミット間の親子関係について話
     す(talk)ことは実際には不可能であるため、それらが切断されている
     (disconnected)ことを示していることに注意してください。

‘--full-history with parent rewriting’
     通常のコミットは !TREESAME の場合にのみ含まれます(これは変更できま
     すが、以下の ‘--sparse’ を参照してください)。

     マージは常に含まれます。ただし、親リストは書き直されます。各親に沿
     って、自分自身に含まれていないコミットを削除します。 これにより以下
     のようになります。

                    .-A---M---N---O---P---Q
                   /     /   /   /   /
                  I     B   /   D   /
                   \   /   /   /   /
                    `-------------'

     上記を書き直さずに ‘--full-history’ と比較してください。 ‘E’ は
     TREESAMEであるため削除されましたが、Pの親リストは ‘E’ の親 ‘I’ を含
     むように書き直されていることに注意してください。 ‘C’ と ‘N’ および
     ‘X’ と ‘Y’ と ‘Q’ についても同じことが起こりました。

   上記の設定に加えて、あなたはTREESAMEが包含に影響を与えるかどうかを変
更できます:

‘--dense’
     巡ったコミットは、親にとってTREESAMEでない場合に含まれます。

‘--sparse’
     巡ったすべてのコミットが含まれます。

     ‘--full-history’ がなくても、これによりマージが単純化されることに注
     意してください。親の1つがTREESAMEの場合、その1つだけに従うため、マ
     ージの反対側を巡ることはありません。

‘--simplify-merges’
     最初に、親を書き換えた ‘--full-history’ と同じ方法で履歴グラフを作
     成します(上記を参照)。

     それから、以下のルールに従って、各コミット ‘C’ を最終履歴内の置換
     ‘C'’ に単純化します:

        • ‘C'’ を ‘C’ にセットします。

        • ‘C'’ の各親 ‘P’ をその簡略化された ‘P'’ に置き換えます。その過
          程で、他の親の祖先であるか、ルートである親を削除すると、
          TREESAMEが空のツリーにコミットされ、重複が削除されますが、
          TREESAMEであるすべての親を削除しないように注意してください。

        • この親の書き換え後、 ‘C'’ がルートまたはマージコミット(0または
          >1 の親を持つ)、境界コミット、または !TREESAMEである場合、それ
          は残ります。それ以外の場合は、唯一の親に置き換えられます。

     この効果は、親の書き換えを使用した ‘--full-history’ と比較すること
     で最もよく示されます。例は以下のようになります:

                    .-A---M---N---O
                   /     /       /
                  I     B       D
                   \   /       /
                    `---------'

     注意: ‘--full-history’ に対する ‘N’ と ‘P’ と ‘Q’ の主な違いに注意
     してください:

        • ‘N’ の親リストは、他の親 ‘M’ の祖先であるため、 ‘I’ が削除され
          ました。それでも、 !TREESAME なので ‘N’ が残りました。

        • ‘P’ の親リストも同様に ‘I’ が削除されました。 ‘P’ は、親が1つ
          で TREESAMEであるため、完全に削除されました。

        • ‘Q’ の親リストでは、 ‘Y’ が ‘X’ に簡略化されていました。その後
          、 ‘X’ はTREESAMEルートであったため、削除されました。 ‘Q’ は、
          親が1つで TREESAMEであるため、完全に削除されました。

   利用可能な別の簡略化モードがあります:

‘--ancestry-path’
     表示されるコミットを、指定されたコミット範囲内の “from” コミットと
     “to” コミットの間の祖先チェーンに直接あるコミットに制限します。つま
     り、 “to” コミットの祖先であるコミットと “from” コミットの子孫であ
     るコミットのみを表示します。

     ユースケースの例として、以下のコミット履歴について考えます:

                      D---E-------F
                     /     \       \
                    B---C---G---H---I---J
                   /                     \
                  A-------K---------------L--M

     通常の _D..M_ は、 ‘M’ の祖先であるコミットのセットを計算しますが、
     ‘D’ の祖先であるコミットは除外します。 これは、「 ‘M’ には ‘D’ には
     存在しなかったものがある」という意味で、 ‘D’ 以降の ‘M`に至るまでの
     歴史に何が起こったのかを知るのに役立ちます。この例の結果は、 `A’ と
     ‘B’ (そしてもちろん ‘D’ 自体)を除くすべてのコミットになります。

     ただし、 ‘M’ のコミットが ‘D’ で入ったバグで汚染されており、修正が
     必要な場合は、実際には ‘D’ の子孫である _D..M_ のサブセットのみを表
     示する必要があります。つまり、 ‘C’ と ‘K’ を除外します。これはまさ
     に ‘--ancestry-path’ オプションが行うことです。これを _D..M_ 範囲に
     適用すると、以下のようになります:

                          E-------F
                           \       \
                            G---H---I---J
                                         \
                                          L--M

   別のオプション ‘--show-pulls’ について説明する前に、新しいサンプル履
歴を作成する必要があります。

   簡略化された履歴を見るときにユーザーが直面する一般的な問題は、ファイ
ルを変更したことがわかっているコミットが、ファイルの簡略化された履歴に表
示されないことです。そこで、新しい例を示し、その場合に ‘--full-history’
や ‘--simplify-merges’ などのオプションがどのように機能するかを示しまし
ょう。

               .-A---M-----C--N---O---P
              /     / \  \  \/   /   /
             I     B   \  R-'`-Z'   /
              \   /     \/         /
               \ /      /\        /
                `---X--'  `---Y--'

   この例では、 ‘I’ が ‘file.txt’ を作成し、それが ‘A’ と‘B‘ と ‘X’ にて
さまざまな方法で変更されたとします。ひとり親のコミット ‘C’ と ‘Z’ と ‘Y’
は ‘file.txt’ を変更していません。マージコミット ‘M’ は、マージの競合を
解決して、 ‘A’ と ‘B’ の両方の変更を含めることによって作成されたため、ど
ちらにもTREESAMEではありません。ただし、マージコミット ‘R’ は、 ‘M’ の
‘file.txt`の内容を無視し、 `X’ の ‘file.txt’ の内容のみを取得することに
よって作成されました。 したがって、 ‘R’ は ‘X’ へのTREESAMEですが、 ‘M’
はそうではありません。最後に、 ‘N’ を作成するための自然なマージ解決は、
‘R’ で ‘file.txt’ の内容を取得することです。したがって、 ‘N’ は ‘C’ では
なく ‘R’ へのTREESAMEです。マージコミット ‘O’ と ‘P’ は、最初の親には
TREESAMEですが、2番目の親である ‘Z’ と ‘Y’ にはついてはそうではありませ
ん。

   デフォルトモードを使用する場合、 ‘N’ と ‘R’ は両方ともTREESAMEの親を
持っているため、これらのエッジはウォークされ、他のエッジは無視されます。
結果の履歴グラフは以下のとおりです:

             I---X

   ‘--full-history’ を使用する場合、Gitはすべてのエッジを巡ります。これ
により、コミット ‘A’ と ‘B’ と マージ ‘M’ が検出されますが、マージコミッ
ト ‘O’ と ‘P’ も明らかになります。 親を書き換えると、結果のグラフは以下
のようになります:

               .-A---M--------N---O---P
              /     / \  \  \/   /   /
             I     B   \  R-'`--'   /
              \   /     \/         /
               \ /      /\        /
                `---X--'  `------'

   ここで、マージコミット ‘O’ と ‘P’ は、実際には ‘file.txt’ への変更を
提供しなかったため、余分なノイズを提供します。古いバージョンの
‘file.txt’ に基づいたトピックのみをマージしました。これは、多くの寄稿者
が並行して作業し、トピックブランチを単一のトランクに沿ってマージするワー
クフローを使用するリポジトリの一般的な問題です。開発に関係のないマージが
‘--full-history’ の結果に表示されます。

   ‘--simplify-merges’ オプションを使用すると、コミット ‘O’ と ‘P’ が結
果から消えます。 これは、 ‘O’ と ‘P’ の書き直された2番目の親が、最初の親
から到達可能であるためです。これらのエッジが削除されると、コミットは、親
にとってTREESAMEである単一の親のコミットのように見えます。これはコミット
‘N’ にも発生し、以下のような履歴ビューが表示されます:

               .-A---M--.
              /     /    \
             I     B      R
              \   /      /
               \ /      /
                `---X--'

   このビューでは、 ‘A’ と ‘B’ と ‘X’ からの重要なひとり親の変更がすべて
表示されます。また、慎重に解決されたマージ ‘M’ とそれほど慎重に解決され
ていないマージ ‘R’ も表示されます。これは通常、コミット ‘A’ と ‘B’ がデ
フォルトのビューの履歴から「消えた」理由を判断するのに十分な情報です。た
だし、このアプローチにはいくつかの問題があります。

   最初の問題はパフォーマンスです。以前のオプションとは異なり、
‘--simplify-merges’ オプションでは、単一の結果を返す前にコミット履歴全体
をウォークする必要があります。これにより、非常に大規模なリポジトリでこの
オプションを使用するのが難しくなる可能性があります。

   2番目の問題は監査の1つです。多くの寄稿者が同じリポジトリで作業してい
る場合、どのマージコミットが重要なブランチに変更を導入したかが重要です。
上記の問題のあるマージ ‘R’ は、重要なブランチにマージするために使用され
たマージコミットではない可能性があります。 代わりに、マージ ‘N’ を使用し
て ‘R’ と ‘X’ を重要なブランチにマージしました。このコミットには、変更
‘X’ がコミットメッセージの ‘A’ と ‘B’ からの変更を上書きするようになった
理由に関する情報が含まれている可能性があります。

‘--show-pulls’
     デフォルトの履歴に表示されるコミットに加えて、最初の親には
     TREESAMEではなく、後の親にはTREESAMEである各マージコミットを表示し
     ます。

     マージコミットが ‘--show-pulls’ に含まれている場合、マージは別のブ
     ランチから変更を「プル」したかのように扱われます。この例で
     ‘--show-pulls’ を使用すると(他のオプションは使用しない場合、)結果の
     グラフは行かのようになります:

                  I---X---R---N

     ここで、コミット ‘X’ と ‘R’ をそれぞれベースブランチにプルしたため
     、マージコミット ‘R’ と ‘N’ が含まれています。これらのマージは、コ
     ミット ‘A’ と ‘B’ がデフォルトの履歴に表示されない理由です。

     ‘--show-pulls’ が ‘--simplify-merges’ とペアになっている場合、グラ
     フには必要なすべての情報が含まれます:

                    .-A---M--.   N
                   /     /    \ /
                  I     B      R
                   \   /      /
                    \ /      /
                     `---X--'

     ‘M’ は ‘R’ から到達可能であるため、 ‘N’ から ‘M’ へのエッジが単純化
     されていることに注意してください。ただし、 ‘N’ は、変更 ‘R’ をメイ
     ンブランチに「プル」したため、重要なコミットとして履歴に表示されま
     す。

   ‘--simplify-by-decoration’ オプションを使用すると、タグで参照されてい
ないコミットを省略して、履歴のトポロジの全体像のみを表示できます。コミッ
トは、(1)タグによって参照されている場合、または (2)コマンドラインで指定
されたパスの内容を変更した場合に、!TREESAMEとしてマークされます(つまり、
上記の履歴簡略化ルールの後に保持されます)。他のすべてのコミットは
TREESAMEとしてマークされます(簡略化される可能性があります)。


Bisection Helpers
=================

‘--bisect’
     含まれるコミットと除外されるコミットのほぼ中間にある1つのコミットオ
     ブジェクトに出力を制限します。(存在する場合)bad bisection ref
     ‘refs/bisect/bad’ が含まれるコミットに追加され、（存在する場合)good
     bisection ref ‘refs/bisect/good-*’ が除外されるコミットに追加される
     ことに注意してください。したがって、 ‘refs/bisect/’ にrefsがないと
     仮定すると、

                  $ git rev-list --bisect foo ^bar ^baz

     は、2つのコマンドの出力である中間点(midpoint)を出力します

                  $ git rev-list foo ^midpoint
                  $ git rev-list midpoint ^bar ^baz

     上記は、ほぼ同じ長さになります。 したがって、回帰を導入する変更を見
     つけることは、バイナリ検索(binary search)に還元されます。コミットチ
     ェーンの長さが1になるまで、新しい中間点(midpoint)を繰り返し生成して
     テストします。

‘--bisect-vars’
     これは、 ‘refs/bisect/’ 内のrefが使用されないこと、およびシェルによ
     って評価される準備ができているテキストを出力することを除いて、
     ‘--bisect’ と同じように計算されます。これらの行は、中間点リビジョン
     の名前を変数 ‘bisect_rev’ に割り当て、 ‘bisect_rev’ が ‘bisect_nr’
     にテストされた後にテストされるコミットの予想数、 ‘bisect_rev’ が
     ‘bisect_good`に適していることが判明した場合にテストされるコミットの
     予想数、 `bisect_rev’ が ‘bisect_bad’ に不適切であることが判明した
     場合にテストされるコミットの予想数、および現在 ‘bisect_all’ に二等
     分しているコミットの数です。

‘--bisect-all’
     これにより、含まれるコミットと除外されるコミットの間のすべてのコミ
     ットオブジェクトが、含まれるコミットと除外されるコミットまでの距離
     順に出力されます。 ‘refs/bisect/’ のrefは使用されません。それらから
     最も遠いものが最初に表示されます。(これは ‘--bisect’ によって表示さ
     れる唯一のものです。)

     これは、何らかの理由(たとえば、コンパイルできない場合など)でそれら
     の一部をテストすることを避けたい場合に、テストするための適切なコミ
     ットを簡単に選択できるため便利です。

     このオプションは ‘--bisect-vars’ と一緒に使用できます。この場合、ソ
     ートされたすべてのコミットオブジェクトの後に、 ‘--bisect-vars’ が単
     独で使用された場合と同じテキストが表示されます。


Commit Ordering
===============

デフォルトでは、コミットは新しい順に表示されます。

‘--date-order’
     すべての子が表示されるまで親を表示しませんが、それ以外の場合はコミ
     ットタイムスタンプの順序でコミットを表示します。

‘--author-date-order’
     すべての子が表示されるまで親を表示しませんが、それ以外の場合は、作
     者(author)のタイムスタンプ順にコミットを表示します。

‘--topo-order’
     すべての子が表示されるまで親を表示せず、複数の履歴行が混在するコミ
     ットを表示しないようにします。

     たとえば、以下のようなコミット履歴があります:

              ---1----2----4----7
                  \              \
                   3----5----6----8---

     ここで、数字はコミットタイムスタンプの順序を示し、 ‘gitrev-list’ と
     ‘--date-order’ のある友達は、タイムスタンプの順序でコミットを示しま
     す。つまり、8 7 6 5 4 3 2 1

     ‘--topo-order’ を使用すると、8 6 5 3 7 4 2 1（または8 7 4 2 6 5 3
     1）が表示されます。2つの並列開発トラックからのコミットが混在して表
     示されないようにするために、いくつかの古いコミットが新しいコミット
     の前に表示されます。

‘--reverse’
     表示するように選択したコミットを逆の順序で出力します(上記の Commit
     Limiting 節を参照)。 ‘--walk-reflogs’ と組み合わせることはできませ
     ん。


Object Traversal
================

これらのオプションは、主にGitリポジトリのパッキングを対象としています。

‘--objects’
     リストされたコミットによって参照されるオブジェクトのオブジェクト
     IDを出力します。 したがって、 ‘--objects foo ^bar’ 「コミットオブジ
     ェクトが _bar_ であるが _foo_ でない場合にダウンロードする必要があ
     るすべてのオブジェクトIDを送ってください」という意味です。

‘--in-commit-order’
     ツリーIDとブロブのIDをコミット順に出力します。 ツリーIDとブロブの
     IDは、コミットによって最初に参照された後に出力されます。

‘--objects-edge’
     ‘--objects’ に似ていますが、接頭辞 “-” 文字が付いた除外されたコミッ
     トのIDも出力します。これは git-pack-objects(1) によって使用され、ネ
     ットワークトラフィックを削減するために、これらの除外されたコミット
     に含まれるオブジェクトに基づいてオブジェクトを削除された形式で記録
     する「薄い」パック(thin pack)を構築します。

‘--objects-edge-aggressive’
     ‘--objects-edge’ に似ていますが、時間がかかるという犠牲を払って、除
     外されたコミットを見つけためにもっともっと頑張ります。これは、
     ‘--objects-edge’ の代わりに使用されて浅いリポジトリ(shallow
     repositories)用の「薄い」パック(thin pack)を構築します。

‘--indexed-objects’
     インデックスで使用されるすべてのツリーとブロブがコマンドラインにリ
     ストされているかのように見せかけます。 注意: たぶんあなたは一緒に
     ‘--objects’ も使用したいと思うでしょう。

‘--unpacked’
     ‘--objects’ と一緒の時のみ役立ちます。パックに含まれていないオブジ
     ェクトIDを出力します。

‘--object-names’
     ‘--objects’ と一緒の時のみ役立ちます。見つかったオブジェクトIDの名
     前を出力します。これがデフォルトの動作です。

‘--no-object-names’
     ‘--objects’ と一緒の時のみ役立ちます。見つかったオブジェクトIDの名
     前は出力されません。これにより、 ‘--object-names’ が反転します。 こ
     のフラグを使用すると、 git-cat-file(1) などのコマンドで出力をより簡
     単に解析できます。

‘--filter=<filter-spec>’
     ‘--objectsほげほげ’ のどれかと一緒の時のみ役立ちます。印刷されたオ
     ブジェクトのリストからオブジェクト(通常はブロブ)を省略します。
     _<filter-spec>_ は、以下のいずれかになります:

     _–filter=blob:none_ の形式では、すべてのブロブが省略されます。

     _–filter=blob:limit=<n>[kmg]_ の形式では、nバイトまたは指定の単位よ
     り大きいブロブが省略されます。nはゼロの場合があります。 接尾辞kと
     mとgを使用して、KiBまたはMiBまたはGiBの単位にすることができます。 た
     とえば、 _blob:limit=1k_ は _blob:limit=1024_ と同じです。

     _–filter=object:type=(tag|commit|tree|blob)_ の形式では、要求された
     タイプではないすべてのオブジェクトが省略されます。

     _–filter=sparse:oid=<blob-ish>_ の形式は、ブロブ(またはブロブ式)
     _<blob-ish>_ に含まれるsparse-checkout仕様を使用して、 要求された
     refsでsparse checkoutに必要のないブロブを省略します。

     _–filter=tree:<depth>_ の形式は、ルートツリーからの深さが >=
     <depth> (オブジェクトがトラバースされたコミットの複数の深さにある場
     合の最小深さ)であるすべてのブロブとツリーを省略します。 <depth>=0 は
     、コマンドライン(または –stdin が使用されている場合は標準入力)に明
     示的に含まれていない限り、ツリーやブロブを含みません。 <depth>=1 は
     、 <commit> から到達可能なコミットまたは明示的に指定されたオブジェ
     クトによって直接参照されるツリーとブロブのみが含まれます。
     <depth>=2 は <depth>=1 に似ていますが、明示的に指定されたコミットま
     たはツリーから削除されたもう1つのレベルのツリーとブロブも含まれます
     。

     注意: ファイルシステム上の任意のパスから読み取れる形式である
     _–filter=sparse:path=<path>_ は、セキュリティ上の理由から削除された
     ことに注意してください。

     複数の _–filter=_ フラグを指定して、フィルターを組み合わせることが
     できます。指定の全てのフィルターで受け入れられるオブジェクトのみが
     含まれます。

     _–filter=combine:<filter1>+<filter2>+…<filterN>_ の形式を使用して、
     複数のフィルターを組み合わせることができますが、これは _–filter_ フ
     ラグを繰り返すよりもずっとずっと難しく、通常は必要はありません。フ
     ィルタは _+_ で結合され、個々のフィルタは % エンコードされます(つま
     り、URLエンコードされます)。 _+_ と _%_ 文字に加えて、次の文字は予
     約されており、エンコードする必要があります:
     ‘~!@#$^&*()[]{}\;",<>?’‘'`’ およびASCIコード ‘0x20’ 以下の全ての文
     字(空白(space)と改行(newline)を含む)。

     他の任意の文字もエンコードできます。 たとえば、
     _combine:tree:3+blob:none_ と _combine:tree%3A3+blob%3Anone_ は同等
     です。

‘--no-filter’
     以前の ‘--filter=’ 引数をすべてオフにします。

‘--filter-provided-objects’
     明示的に提供されたオブジェクトのリストをフィルタリングします。そう
     しないと、どのフィルターとも一致しなくても常に出力されます。
     ‘--filter=’ と一緒に使った時のみ役に立ちます。

‘--filter-print-omitted’
     ‘--filter=’ と一緒の時のみ役立ちます。フィルタによって省略されたオ
     ブジェクトのリストを出力します。オブジェクトIDの前には “~” 文字が付
     いています。

‘--missing=<missing-action>’
     将来の「部分クローン」(partial clone)開発に役立つデバッグオプション
     。このオプションは、欠落しているオブジェクトの処理方法を指定します
     。

     _–missing=error_ の形式は、欠落しているオブジェクトが検出された場合
     に、rev-list がエラーで停止することを要求します。これがデフォルトの
     アクションです。

     _–missing=allow-any_ の形式を使用すると、欠落しているオブジェクトが
     検出された場合でも、オブジェクトの走査を続行できます。欠落している
     オブジェクトは、結果から黙って省略されます。

     _–missing=allow-promisor_ の形式は _allow-any_ に似ていますが、オブ
     ジェクトのトラバーサルは、 EXPECTED promisor が欠落しているオブジェ
     クトに対してのみ続行できます。予期しない欠落したオブジェクトはエラ
     ーを発生させます。

     _–missing=print_ の形式は _allow-any_ に似ていますが、欠落している
     オブジェクトのリストも出力します。オブジェクトIDの前には “?” 文字が
     付いています。

‘--exclude-promisor-objects’
     (内部使用のみ。) promisor境界でのオブジェクトトラバーサルをプレフィ
     ルターします。これは部分クローン(partial clone)で使用されます。これ
     は、欠落しているオブジェクトに関するエラーを単に黙らせるのではなく
     、トラバーサルを制限するため、 ‘--missing=allow-promisor’ よりも強
     力です。

‘--unsorted-input’
     コミット時間で時系列の逆順に並べ替えるのではなく、コマンドラインで
     指定された順序でコミットを表示します。‘--no-walk’ または
     ‘--no-walk=sorted’ と組み合わせることはできません。

‘--no-walk[=(sorted|unsorted)]’
     指定されたコミットのみを表示し、祖先をトラバースしない。範囲が指定
     されている場合、これは効果がありません。引数 ‘unsorted’ が指定され
     ている場合、コミットはコマンドラインで指定された順序で表示されます
     。それ以外の場合( ‘sorted’ または引数が指定されていない場合)、コミ
     ットはコミット時間の逆順に表示されます。 ‘--graph’ と組み合わせるこ
     とはできません。 ‘sorted’ または引数が指定されていない場合、
     ‘--unsorted-input’ と組み合わせることはできません。

‘--do-walk’
     以前の ‘--no-walk’ を上書きします。


Commit Formatting
=================

これらのオプションを使用すると、 git-rev-list(1) より専門的なコミットロ
グツールのファミリーである git-log(1) や git-show(1) や
git-whatchanged(1) と同様に機能します。

‘--pretty[=<format>]’
‘--format=<format>’
     コミットログの内容を指定された形式できれいに印刷(pretty-print)しま
     す。 _<format>_ は oneline・short・medium・full・fuller・
     reference・email・raw・format:<string>・tformat:<string> のいずれか
     になります。 _<format>_ が上記のいずれでもなく、 _%placeholder_ が
     含まれている場合、 _–pretty=tformat:<format>_ が指定されたかのよう
     に動作します。

     各フォーマットの詳細については、 "PRETTY FORMATS" セクションを参照
     してください。 _=<format>_ の部分を省略すると、デフォルトで
     _medium_ になります。

     注意: リポジトリー構成でデフォルトのpretty formatを指定できます
     (git-config(1) 参照)。

‘--abbrev-commit’
     40バイトの16進コミットオブジェクト名全体を表示する代わりに、オブジ
     ェクトに一意の名前を付けるプレフィックスを表示します。
     "–abbrev=<n>" (表示されている場合はdiff出力も変更します)オプション
     を使用して、プレフィックスの最小長を指定できます。

     これにより、80桁幅の端末を使用している人にとって "–pretty=oneline"
     がずっと読みやすくなるはずです。

‘--no-abbrev-commit’
     完全な40バイトの16進コミットオブジェクト名を表示します。 これにより
     、明示的または "–oneline" などの他のオプションによって暗黙的に示さ
     れる ‘--abbrev-commit’ が無効になります。また、 ‘log.abbrevCommit’
     変数をオーバーライドします。

‘--oneline’
     これは、 "–pretty=oneline –abbrev-commit" を一緒に使用するための省
     略形です。

‘--encoding=<encoding>’
     コミットオブジェクトは、ログメッセージに使用される文字エンコードを
     エンコードヘッダーに記録します。このオプションを使用して、ユーザー
     が好むエンコーディングでコミットログメッセージを再コーディングする
     ようにコマンドに指示できます。配管以外のコマンドの場合、これはデフ
     ォルトでUTF-8になります。オブジェクトが ‘X’ でエンコードされている
     と主張し、 ‘X’ で出力している場合、オブジェクトをそのまま出力するこ
     とに注意してください。これは、元のコミットの無効なシーケンスが出力
     にコピーされる可能性があることを意味します。同様に、 iconv(3) コミ
     ットの変換に失敗した場合、警告とともに元のオブジェクトをそのまま出
     力します。

‘--expand-tabs=<n>’
‘--expand-tabs’
‘--no-expand-tabs’
     出力に表示する前に、ログメッセージでタブ展開を実行します(タブ幅を
     <n> とみなして <n> 境界に揃うように空白で調整する)。
     ‘--expand-tabs’ は ‘--expand-tabs=8’ の省略形であり、
     ‘--no-expand-tabs’ は ‘--expand-tabs=0’ の省略形です。タブの展開を
     無効にします。

     デフォルトでは、タブはログメッセージを4つのスペースでインデントする
     きれいな形式(pretty formats)で展開されます(つまり、デフォルトの
     _medium_ と’full’ と _fuller_)。

‘--show-signature’
     署名を ‘gpg --verify’ に渡して、署名されたコミットオブジェクトの有
     効性を確認し、出力を表示します。

‘--relative-date’
     ‘--date=relative’ と同じ。

‘--date=<format>’
     ‘--pretty’ を使用する場合など、人間が読める形式で表示される日付に対
     してのみ有効になります。 ‘log.date’ 構成変数(config variable)は、
     logコマンドの ‘--date’ オプションのデフォルト値を設定します。デフォ
     ルトでは、日付は元のタイムゾーン(コミッターの、または作者のいずれか
     )で表示されます。フォーマットに ‘-local’ が追加されている場合(例:
     ‘iso-local’ )、代わりにユーザーのローカルタイムゾーンが使用されます
     。

     ‘--date=relative’ は、現在の時刻を基準にした日付を示します。例: “2
     hours ago” 。 ‘-local’ オプションは ‘--date = relative’ には効果が
     ありません。

     ‘--date=local’ は ‘--date=default-local’ のエイリアスです。

     ‘--date=iso’ (または ‘--date=iso8601’ )は、タイムスタンプをISO
     8601のような形式で表示します。厳密なISO 8601形式との違いは以下のと
     おりです:

        • ‘T’ 日付/時刻区切り文字の代わりにスペース

        • 時間とタイムゾーンの間のスペース

        • タイムゾーンの時間と分の間にコロンがありません

     ‘--date=iso-strict’ (または ‘--date=iso8601-strict’ )は、タイムスタ
     ンプを厳密なISO 8601形式で表示します。

     ‘--date=rfc’ (または ‘--date=rfc2822’ )は、RFC 2822形式のタイムスタ
     ンプを示します。これは、電子メールメッセージでよく見られます。

     ‘--date=short’ は、日付のみを表示し、時刻は表示せず、 ‘YYYY-MM-DD’
     形式で表示します。

     ‘--date=raw’ は、エポック(1970-01-01 00:00:00 UTC)からの秒数、スペ
     ース、UTCからのオフセット(‘+’ または ‘-’ の付いた4桁数字で、最初の
     2つは時間、次の2つは分です)。つまり、タイムスタンプが ‘strftime("%s
     %z")’ でフォーマットされているかのようになります。 ‘-local’ オプシ
     ョンは、seconds-since-epoch値(常にUTCで測定されます)には影響しませ
     んが、付随するタイムゾーン値を切り替えることに注意してください。

     ‘--date=human’ は、タイムゾーンが現在のタイムゾーンと一致しない場合
     はタイムゾーンを表示し、一致する場合は日付全体を印刷しません(つまり
     、「今年」の日付の場合は年の印刷をスキップしますが、何があったか覚
     えてるような過去数日については日付自体もスキップします)。 古い日付
     の場合、時と分も省略されます。

     ‘--date=unix’ は、日付をUnixエポックタイムスタンプ(1970年からの秒数
     )として表示します。 ‘--raw’ と同様に、これは常にUTCであるため、 ‘
     -local‘ は効果がありません。

     ‘--date=format:...’ は、内部で処理される%zと%Zを除いて、フォーマッ
     ト ‘...’ をあなたのシステムの ‘strftime’ に送ります。
     ‘--date=format:%c’ を使用して、システムロケールの推奨形式で日付を表
     示します。フォーマットプレースホルダーの完全なリストについては、
     ‘strftime’ マニュアルを参照してください。 ‘-local’ を使用する場合、
     正しい構文は ‘--date=format-local:...’ です。

     ‘--date=default’ はデフォルトの形式であり、いくつかの例外を除いて
     ‘--date=rfc2822’ に似ています:

        • 曜日の後にコンマはありません

        • ローカルタイムゾーンを使用する場合、タイムゾーンは省略されます

‘--header’
     コミットの内容をraw形式で出力します。各レコードはNUL文字で区切られ
     ます。

‘--no-commit-header’
     "commit" を含むヘッダー行と、指定された形式の前に出力されたオブジェ
     クトIDを抑制します。これは組み込みフォーマットには影響しません。 カ
     スタムフォーマットのみが影響を受けます。

‘--commit-header’
     以前の ‘--no-commit-header’ を上書きします。

‘--parents’
     コミットの親も出力します( "commit parent…" の形式で)。親の書き換え
     も可能にします。上記の _History Simplification_ 参照してください。

‘--children’
     コミットの子も出力します( "commit child…" の形式で)。親の書き換えも
     可能にします。上記の _History Simplification_ を参照してください。

‘--timestamp’
     生のコミットタイムスタンプを出力します。

‘--left-right’
     対称差のどちら側からコミットに到達できるかをマークします。左側から
     のコミットには‘<‘が付けられ、右側からのコミットには `>`が付けられま
     す。’–boundary‘と組み合わせると、それらのコミットの前に‘-‘が付きま
     す。

     たとえば、以下のトポロジーの場合:

                       y---b---b  branch B
                      / \ /
                     /   .
                    /   / \
                   o---x---a---a  branch A

     以下のような出力が得られます:

                  $ git rev-list --left-right --boundary --pretty=oneline A...B

                  >bbbbbbb... 3rd on b
                  >bbbbbbb... 2nd on b
                  <aaaaaaa... 3rd on a
                  <aaaaaaa... 2nd on a
                  -yyyyyyy... 1st on b
                  -xxxxxxx... 1st on a

‘--graph’
     出力の左側に、コミット履歴のテキストベースのグラフィック表現を描画
     します。グラフ履歴を適切に描画するために、コミットの間に余分な行が
     出力される可能性があります。 ‘--no-walk’ と組み合わせることはできま
     せん。

     これにより、親の書き換えが可能になります。上記の _History
     Simplification_ を参照してください。

     これは、デフォルトで ‘--topo-order’ オプションを意味しますが、
     ‘--date-order’ オプションも指定できます。

‘--show-linear-break[=<barrier>]’
     –graph を使用しない場合、すべての履歴ブランチがフラット化されるため
     、2つの連続するコミットが線形ブランチに属していないことがわかりにく
     くなる可能性があります。このオプションは、その場合、それらの間に障
     壁を置きます。 ‘<barrier>’ が指定されている場合、デフォルトの障壁文
     字列の代わりに ‘<barrier>’ が表示されます。

‘--count’
     リストされたコミットの数を示す数値を出力し、他のすべての出力を抑制
     します。 ‘--left-right’ と一緒に使用する場合は、代わりに、タブで区
     切って、左右のコミットのカウントを出力します。 ‘--cherry-mark’ と一
     緒に使用する場合は、これらのカウントからパッチの同等のコミットを省
     略し、タブで区切られた同等のコミットのカウントを出力します。


PRETTY FORMATS
**************

コミットがマージであり、 pretty-format が _oneline_ または _email_ また
は _raw_ でない場合、 _Author:_ 行の前に追加の行が挿入されます。この行は
"Merge: " で始まり、先祖のコミットのハッシュがスペースで区切られて出力さ
れます。履歴の表示を制限している場合、たとえば、特定のディレクトリまたは
ファイルに関連する変更のみに関心がある場合、リストされたコミットは必ずし
も *直接* の親コミットのリストではない可能性があることに注意してください
。

   いくつかの組み込みフォーマットがあります。そして以下で説明するように
、 pretty.<name> 構成オプション(config option)を別のフォーマット名または
_format:_ 文字列に設定することで、追加のフォーマットを定義できます
(git-config(1) 参照)。組み込みフォーマットの詳細は以下のとおりです:

   • _oneline_

          <hash> <title line>

     これは、可能な限りコンパクトになるように設計されています。

   • _short_

          commit <hash>
          Author: <author>

          <title line>

   • _medium_

          commit <hash>
          Author: <author>
          Date:   <author date>

          <title line>

          <full commit message>

   • _full_

          commit <hash>
          Author: <author>
          Commit: <committer>

          <title line>

          <full commit message>

   • _fuller_

          commit <hash>
          Author:     <author>
          AuthorDate: <author date>
          Commit:     <committer>
          CommitDate: <committer date>

          <title line>

          <full commit message>

   • _reference_

          <abbrev hash> (<title line>, <short author date>)

     この形式は、コミットメッセージ内の別のコミットを参照するために使用
     され、 ‘--pretty='format:%C(auto)%h (%s, %ad)'’ と同じです。 デフォ
     ルトでは、別の ‘--date’ オプションが明示的に指定されていない限り、
     日付は ‘--date=short’ でフォーマットされます。formatプレースホルダ
     ーを使用する他の ‘format:’ と同様に、その出力は、 ‘--decorate’ や
     ‘--walk-reflogs’ などの他のオプションの影響を受けません。

   • _email_

          From <hash> <date>
          From: <author>
          Date: <author date>
          Subject: [PATCH] <title line>

          <full commit message>

   • _mboxrd_

     _email_ と同様ですが、コミットメッセージの "From " で始まる行(前に
     0個以上の ">" が付いている)は ">" でクォートされているため、新しい
     コミットの開始と混同されることはありません。

   • _raw_

     _raw_ 形式は、コミットオブジェクトに格納されているとおりにコミット
     全体を正確に表示します。とりわけ –abbrev または –no-abbrev のどちら
     が使用されているかに関係なく、ハッシュは完全に表示され、「親」
     (parents)情報は、移植や履歴の単純化を考慮せずに、真の親のコミットを
     示します。この形式は、コミットの表示方法に影響しますが、いわゆる
     ‘git log --raw’ の差分の表示方法ではありません。生のdiff形式で完全
     なオブジェクト名を取得するには、 ‘--no-abbrev’ を使用します。

   • _format:<string>_

     _format:<string>_ 形式を使用すると、表示する情報を指定できます。注
     意: これはprintf書式に少し似ていますが、 _\n_ の代わりに _%n_ を使
     用して改行を取得するという例外に注意してください。

     例: _format:"The author of %h was %an, %ar%nThe title was
     >>%s<<%n"_ は以下のように表示されます:

          The author of fe6e0ee was Junio C Hamano, 23 hours ago
          The title was >>t4119: test autocomputing -p<n> for traditional diff input.<<

     さて、以下がプレースホルダー達です:

        • 単一のリテラル文字に展開されるプレースホルダー:

          _%n_
               改行(newline)

          _%%_
               ’%’そのもの

          _%x00_
               16進数のバイト値を出力

        • うしろのプレースホルダーのフォーマッティングに影響するプレース
          ホルダー:

          _%Cred_
               赤色に切り替える

          _%Cgreen_
               緑色に切り替える

          _%Cblue_
               青色に切り替える。

          _%Creset_
               色をリセットする

          _%C(…)_
               git-config(1) の "CONFIGURATION FILE" 節の Values で説明
               されている色の指定。 デフォルトでは、色はログ出力が有効に
               なっている場合にのみ表示されます（ ‘color.diff’ または ‘
               color.ui‘ または ‘--color`によって、ターミナルに行く場合
               は前者の `auto’ 設定を尊重します)。 ‘%C(auto,...)’ は、
               default の歴史的同義語として受け入れられます(例:
               ‘%C(auto,red)’)。 ‘%C(always,...)’ を指定すると、色が有効
               になっていない場合でも色が表示されます(この形式やgitが色
               付けする可能性のある他のすべてのものを含め、出力全体の色
               を有効にするために ‘--color = always’ の使用を検討してく
               ださい)。 ‘auto’ のみ(つまり、 ‘%C(auto)’ )は、色が再び切
               り替わるまで、続くプレースホルダーで自動色付けをオンにし
               ます。

          _%m_
               左(‘<’) または 右(‘>’) または 境界 (‘-’) の印

          _%w([<w>[,<i1>[,<i2>]]])_
               git-shortlog(1) の -w オプションのように、 行の折り返しを
               切り替えます。

          _%<(<N>[,trunc|ltrunc|mtrunc])_
               次のプレースホルダーに少なくともN列を使用させ、 必要に応
               じて右側にスペースを埋め込みます。オプションで、出力がN列
               より長い場合は、先頭(ltrunc)または中間(mtrunc)または末尾
               (trunc)で切り捨てます。注意: 切り捨ては、 N >= 2 でのみ正
               しく機能することに注意してください。

          _%<|(<N>)_
               次のプレースホルダーを少なくともN番目の列まで取得し、 必
               要に応じて右側にスペースを埋め込みます

          _%>(<N>)_, _%>|(<N>)_
               それぞれ _%<(<N>)_ 、 _%<|(<N>)_ に似ていますが、 左側に
               スペースが埋め込まれています

          _%>>(<N>)_, _%>>|(<N>)_
               _%>(<N>)_ 、 _%>|(<N>)_ とそれぞれ似ていますが、 次のプレ
               ースホルダーが指定されたよりも多くのスペースを取り、その
               左側にスペースがある場合は、それらのスペースを使用します
               。

          _%><(<N>)_, _%><|(<N>)_
               それぞれ _%<(<N>)_ 、 _%<|(<N>)_ に似ていますが、 両側に
               パディングがあります(つまり、テキストが中央に配置されます
               )

        • コミットから抽出された情報に展開するプレースホルダー:

          _%H_
               コミットハッシュ

          _%h_
               省略されたコミットハッシュ

          _%T_
               ツリーハッシュ

          _%t_
               省略されたツリーハッシュ

          _%P_
               親のハッシュ達

          _%p_
               省略された親のハッシュ達

          _%an_
               作者名

          _%aN_
               作者名( .mailmap に関しては、git-shortlog(1) または
               git-blame(1) を参照)

          _%ae_
               作者電子メールアドレス

          _%aE_
               作者電子メールアドレス(.mailmap に関しては
               git-shortlog(1) または git-blame(1) を参照)

          _%al_
               作者電子メールアドレスアカウント名(local-part)( _@_ の前
               の部分)

          _%aL_
               作者電子メールアドレスアカウント名(local-part)(_%al_ 参照
               ) .mailmap に関しては git-shortlog(1) または git-blame(1)
               参照)

          _%ad_
               作成日(フォーマットに関しては –date= オプション参照)

          _%aD_
               作成日 RFC2822形式

          _%ar_
               作成日 相対(relative)形式

          _%at_
               作成日 UNIXタイムスタンプ形式

          _%ai_
               作成日 ISO 8601風形式

          _%aI_
               作成日 厳密なISO 8601形式

          _%as_
               作成日 短い形式(‘YYYY-MM-DD’)

          _%ah_
               作成日 human形式( git-rev-list(1) の ‘--date=human’ オプ
               ションのようなかんじ)

          _%cn_
               コミッター名

          _%cN_
               コミッター名( .mailmap に関しては git-shortlog(1) または
               git-blame(1) 参照)

          _%ce_
               コミッター電子メールアドレス

          _%cE_
               コミッター電子メールアドレス(.mailmap に関しては
               git-shortlog(1) または git-blame(1) 参照)

          _%cl_
               コミッター電子メールアドレスアカウント名(local-part)( _@_
               の前の部分)

          _%cL_
               コミッター電子メールアドレスアカウント名(local-part)(
               _%cl_ 参照) .mailmap に関しては git-shortlog(1) または
               git-blame(1) 参照)

          _%cd_
               コミッター日付(フォーマットに関しては –date= オプション参
               照)

          _%cD_
               コミッター日付 RFC2822形式

          _%cr_
               コミッター日付 相対(relative)形式

          _%ct_
               コミッター日付 UNIXタイムスタンプ形式

          _%ci_
               コミッター日付 ISO 8601風形式

          _%cI_
               コミッター日付 厳密なISO 8601形式

          _%cs_
               コミッター日付 短い形式(‘YYYY-MM-DD’)

          _%ch_
               コミッター日付 human形式(git-rev-list(1) の
               ‘--date=human’ オプションのようなかんじ)

          _%d_
               ref名 git-log(1) の –decorate オプションみたいなの

          _%D_
               " (", ")" で囲ってないref名

          _%(describe[:options])_
               git-describe(1) のような人間が読める名前。 説明できないコ
               ミットの場合は空の文字列。 ‘describe’ 文字列の後には、コ
               ロンと0個以上のカンマ区切りオプションを続けることができま
               す。タグが同時に追加または削除されると、説明に一貫性がな
               くなる可能性があります。

                  • _match=<pattern>_: "refs/tags/" プレフィックスを除い
                    て、指定された ‘glob(7)’ パターンに一致するタグのみ
                    を考慮します。

                  • _exclude=<pattern>_: "refs/tags/" プレフィックスを除
                    いて、指定された ‘glob(7)’ パターンに一致するタグを
                    考慮しないでください。

          _%S_
               コミットに到達したコマンドラインで指定されたref名 ( ‘git
               log --source’ など)は、 ‘git log’ でのみ機能します

          _%e_
               エンコーディング

          _%s_
               件名(subject)

          _%f_
               ファイル名に適した、サニタイズされた件名

          _%b_
               本文(body)

          _%B_
               生本文(raw body)(ラップされてない件名と本文)

          _%GG_
               署名されたコミットの為のGPSからの生の検証メッセージ

          _%G?_
               良い(good)な(有効な)署名の場合は "G" 、 悪い(bad)な署名の
               場合は "B" 、有効性が不明(unknown)な良い署名の場合は "U"
               、期限切れ(eXpired)の良い署名の場合は "X" 、期限切れのキ
               ーで作成された良い署名の場合は "Y" 、取り消されたキーによ
               って作成された良い署名の場合は "R" 、署名を確認できない場
               合(キーの欠落など)は "E" 、署名がない場合は "N" を表示し
               ます。

          _%GS_
               署名されたコミットの署名者の名前を表示する

          _%GK_
               署名されたコミットに署名するために使用されるキーを表示す
               る

          _%GF_
               署名されたコミットに署名するために使用されるキーのフィン
               ガープリントを表示する

          _%GP_
               署名されたコミットに署名するためにサブキーが使用された 主
               キーのフィンガープリントを表示します

          _%GT_
               署名されたコミットに署名するために使用されるキーの信頼レ
               ベル(trust level)を表示します

          _%gD_
               reflogセレクター(例:‘refs/stash@{1}’ or ‘refs/stash@{2
               minutes ago}’) この形式は、 ‘-g’ オプションで説明されてい
               る規則に従います。 ‘@’ の前の部分は、コマンドラインで指定
               されたrefnameです(したがって、 ‘git log -g
               refs/heads/master’ は ‘refs/heads/master@{0}’ を生成しま
               す)。

          _%gd_
               短縮されたreflogセレクター。 ‘%gD’ と同じですが、 人間が
               読みやすいようにrefname部分が短縮されています(したがって
               、 ‘refs/heads/master’ は単に ‘master’ になります)。

          _%gn_
               reflog ID名

          _%gN_
               reflog ID名( .mailmap に関しては git-shortlog(1) または
               git-blame(1) 参照)

          _%ge_
               reflog ID 電子メールアドレス

          _%gE_
               reflog ID 電子メールアドレス( .mailmap に関しては
               git-shortlog(1) または git-blame(1) 参照)

          _%gs_
               reflog 件名

          _%(trailers[:options])_
               git-interpret-trailers(1) によって解釈されるようにボディ
               のトレーラーを表示します。 ‘trailers’ 文字列の後には、コ
               ロンと0個以上のカンマ区切りオプションを続けることができま
               す。いずれかのオプションが複数回提供された場合、それぞれ
               最後のものが優先されます。

               ブール値オプションは、オプションの値 ‘[=<BOOL>]’ を受け入
               れます。 値 ‘true’ 、‘false’ 、 ‘on’ 、‘off’ などはすべて
               受け入れられます。 git-config(1) の "EXAMPLES" の
               "boolean" サブセクションを参照してください。ブール値オプ
               ションが値なしで指定された場合、それは有効を指定した事に
               なります。

                  • _key=<K>_ は指定されたキーを持つトレーラーのみを表示
                    します。マッチングは大文字と小文字を区別せずに行われ
                    、末尾のコロンはオプションです。オプションが複数回指
                    定されている場合、いずれかのキーに一致するトレーラー
                    行が表示されます。このオプションは自動的に ‘only’ オ
                    プションを有効にして、トレーラーブロック内の非トレー
                    ラー行が非表示になるようにします。それが望ましくない
                    場合は、 ‘only=false’ で無効にすることができます。 た
                    とえば、 ‘%(trailers:key=Reviewed-by)’ は、キーが
                    ‘Reviewed-by‘のトレーラー行を表示します。

                  • _only[=<BOOL>]_ はトレーラーブロックに非トレーラー行
                    を含めるかどうかを選択します。

                  • _separator=<SEP>_ はトレーラー行の間に挿入される区切
                    り文字を指定します。このオプションが指定されていない
                    場合、各トレーラー行は改行文字で終了します。文字列
                    SEPには、上記のリテラルフォーマットコードが含まれる
                    場合があります。区切り文字としてコンマを使用するには
                    、次のオプションとして解析されないよう ‘%x2C’ を使用
                    する必要があります。 たとえば、
                    %(trailers:key=Ticket,separator=%x2C )‘ は、キーが
                    "Ticket" であるすべてのトレーラー行をカンマとスペー
                    スで区切って表示します。

                  • _unfold[=<BOOL>]_ は interpret-trailer の ‘--unfold’
                    オプションが指定されたかのように動作させます。たとえ
                    ば、 ‘%(trailers:only,unfold=true)’ が展開され、すべ
                    てのトレーラー行が表示されます。

                  • _keyonly[=<BOOL>]_ トレーラーのキー部分のみを表示。

                  • _valueonly[=<BOOL>]_ トレーラーの値部分のみ表示。

                  • _key_value_separator=<SEP>_ トレーラー行の間に挿入さ
                    れる区切り文字を指定します。このオプションが指定され
                    ていない場合、各トレーラーのキーと値のペアは ": " で
                    区切られます。 それ以外の場合は、上記の
                    _separator=<SEP>_ と同じセマンティクスを共有します。

     *Note*

     一部のプレースホルダーは、リビジョントラバーサルエンジンに指定され
     た他のオプションに依存する場合があります。 たとえば、 ‘%g*’ reflogオ
     プションは、reflogエントリをトラバースしない限り(たとえば、 ‘git
     log -g`によって)空の文字列を挿入します。コマンドラインで
     `--decorate’ がまだ指定されていない場合、 ‘%d’ と ‘%D’ プレースホル
     ダーは「短い」(short)装飾形式を使用します。

   プレースホルダーの _%_ の後に ‘+’ (プラス記号)を追加すると、プレース
ホルダーが空でない文字列に展開される場合に限り、展開の直前に改行が挿入さ
れます。

   プレースホルダーの _%_ の後に ‘-’ (マイナス記号)を追加すると、プレー
スホルダーが空の文字列に展開された場合にのみ、展開の直前の連続するすべて
の改行が削除されます。

   プレースホルダーの _%_ の後に ‘ ‘ (スペース)を追加すると、プレースホ
ルダーが空でない文字列に展開される場合に限り、展開の直前にスペースが挿入
されます。

   • _tformat:_

     _tformat:_ 形式は、 "separator" セマンティクスの代わりに
     "terminator" セマンティクスを提供することを除いて、 _format:_ とま
     ったく同じように機能します。 つまり、各コミットには、エントリ間に区
     切り文字を配置するのではなく、メッセージターミネータ文字(通常は改行
     )が追加されます。 これは、「1行」形式と同様に、1行形式の最終エント
     リが新しい行で適切に終了することを意味します。 例えば:

          $ git log -2 --pretty=format:%h 4da45bef \
            | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
          4da45be
          7134973 -- NO NEWLINE

          $ git log -2 --pretty=tformat:%h 4da45bef \
            | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
          4da45be
          7134973

     加えて、 ‘%’ が含まれている認識されない文字列は、その前に
     ‘tformat:’ があるかのように解釈(interpret)されます。 たとえば、以下
     の2つは同等です:

          $ git log -2 --pretty=tformat:%h 4da45bef
          $ git log -2 --pretty=%h 4da45bef


EXAMPLES
********

   • 現在のブランチから到達可能なコミットのリストを出力します。

          git rev-list HEAD

   • このブランチのコミットのリストを出力しますが、アップストリームブラ
     ンチのは表示しません。

          git rev-list @{upstream}..HEAD

   • 作者(author)とコミットメッセージを使用してコミットをフォーマットし
     ます(磁器コマンドのgit-log(1)も参照)。

          git rev-list --format=medium HEAD

   • コミットとその差分をフォーマットします(これを単一のプロセスで実行で
     きる磁器コマンドのgit-log(1)も参照してください)。

          git rev-list HEAD |
          git diff-tree --stdin --format=medium -p

   • 現在のブランチで、‘Documentation‘ディレクトリ内のファイルに関連
     (touch)したコミットのリストを出力します。

          git rev-list HEAD -- Documentation/

   • 任意のブランチ・タグ・他のrefから過去1年間に作者you@example.comが作
     成したコミットのリストを出力します (mailto:他のrefから過去1年間に作
     者you@example.comが作成したコミットのリストを出力します)。

          git rev-list --author=you@example.com --since=1.year.ago --all

   • 現在のブランチから到達可能なオブジェクトのリストを出力します(つまり
     、すべてのコミットと、それらに含まれるブロブとツリー)。

          git rev-list --objects HEAD

   • 到達可能なすべてのオブジェクトのディスクサイズ、reflogから到達可能
     なオブジェクト、およびパックされた合計サイズを比較します。これによ
     り、‘git repack -ad‘を実行すると(到達不能なオブジェクトを削除するこ
     とで)リポジトリのサイズが減少するかどうか、およびreflogの有効期限が
     切れる(expire)ことによってリポジトリのサイズ減少に役立つかどうかが
     わかります。

          # reachable objects
          git rev-list --disk-usage --objects --all
          # plus reflogs
          git rev-list --disk-usage --objects --all --reflog
          # total disk size used
          du -c .git/objects/pack/*.pack .git/objects/??/*
          # alternative to du: add up "size" and "size-pack" fields
          git count-objects -v

   • 現在のブランチで使用されているオブジェクトを除いて、各ブランチのデ
     ィスクサイズを報告します。 これにより、リポジトリサイズの肥大化の原
     因となっているイレギュラー値を見つけることができます(たとえば、誰か
     が誤って大きなビルドアーティファクトをコミットしたためとか)。

          git for-each-ref --format='%(refname)' |
          while read branch
          do
                  size=$(git rev-list --disk-usage --objects HEAD..$branch)
                  echo "$size $branch"
          done |
          sort -n

   • (別のグループを除いた)refsの単一のグループのブランチのディスク上の
     サイズを比較します。1つのリポジトリに複数のリモートからのオブジェク
     トを混在させる場合、これにより、リポジトリ内で、どのリモートがどれ
     だけ占めているかを示すことができます(‘origin‘のサイズを基準値として
     使用)。

          git rev-list --disk-usage --objects --remotes=$suspect --not --remotes=origin


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-rev-parse,  Up: Top

Name
****

git-rev-parse — パラメータを選択してもみもみします。


Synopsis
********

     git rev-parse [<options>] <args>…


DESCRIPTION
***********

多くのGit磁器コマンドは、内部で使用されベースとなる ‘git rev-list’ コマ
ンド用のフラグとパラメーターの組み合わせと、 ‘git rev-list’ の下流で使用
する他のコマンドのフラグとパラメーターの組み合わせを使用します。このコマ
ンドは、それらを識別するために使用されます。


OPTIONS
*******


Operation Modes
===============

これらの各オプションは、コマンドラインの最初にある必要があります。

‘--parseopt’
     オプション解析モードで ‘git rev-parse’ を使用します(以下の PARSEOPT
     セクションを参照)。

‘--sq-quote’
     シェルクォートモードで _git rev-parse_ を使用します(以下の SQ-QUOTE
     セクションを参照)。以下の ‘--sq’ オプションとは対照的に、このモード
     はクォートのみを実行します。コマンド入力に対して他に何も行われませ
     ん。


Options for –parseopt
=====================

‘--keep-dashdash’
     ‘--parseopt’ モードでのみ意味があります。 オプションパーサーに、最
     初に出会った ‘--’ をスキップするのではなく、エコー出力(echo out)す
     るように指示します。

‘--stop-at-non-option’
     ‘--parseopt’ モードでのみ意味があります。オプションパーサーを最初の
     非オプション引数で停止させます。これは、オプション自体を受け取るサ
     ブコマンドを解析するために使用できます。

‘--stuck-long’
     ‘--parseopt’ モードでのみ意味があります。可能な場合は長い形式でオプ
     ションを出力し、それらの引数を固定(stick)します。


Options for Filtering
=====================

‘--revs-only’
     ‘git rev-list’ コマンド用ではないフラグやパラメーターを出力しないで
     ください。

‘--no-revs’
     ‘git rev-list’ コマンド用のフラグとパラメーターを出力しないでくださ
     い。

‘--flags’
     非フラグパラメータを出力しないでください。

‘--no-flags’
     フラグパラメータを出力しないでください。


Options for Output
==================

‘--default <arg>’
     ユーザーが指定したパラメーターがない場合は、代わりに ‘<arg>’ を使用
     してください。

‘--prefix <arg>’
     ‘git rev-parse’ が作業ツリーの ‘<arg>’ サブディレクトリから呼び出さ
     れたかのように動作します。相対ファイル名は、接頭辞が ‘<arg>’ である
     かのように解決され、その形式で出力されます。

     これを使用して、引数をサブディレクトリで実行されるコマンドに変換し
     、リポジトリの最上位に移動した後も使用できるようにすることができま
     す。 例えば:

          prefix=$(git rev-parse --show-prefix)
          cd "$(git rev-parse --show-toplevel)"
          # rev-parse provides the -- needed for 'set'
          eval "set $(git rev-parse --sq --prefix "$prefix" -- "$@")"

‘--verify’
     正確に1つのパラメーターが提供されていること、およびそれがオブジェク
     ト・データベースへのアクセスに使用できる生の20バイトのSHA-1に変換で
     きることを検証します。もしそうなら、それを標準出力に出力します。そ
     れ以外の場合は、エラー出力になります。

     出力が実際にオブジェクトデータベース内のオブジェクトに名前を付けて
     いること、および/または必要な特定のタイプのオブジェクトとして使用で
     きることを確認したい場合は、パラメータに ‘^{type}’ 皮むき演算子
     (peeling operator)を追加できます。 たとえば、 ‘git rev-parse
     "$VAR^{commit}"’ は、 ‘$VAR’ がコミットっぽい既存のオブジェクト(つ
     まりコミット、またはコミットを指す注釈付きタグ)に名前を付けることを
     確認します。 ‘$VAR’ が任意のタイプの既存のオブジェクトに名前を付け
     るようにするには、 ‘git rev-parse "$VAR^{object}"’ を使用できます。

     注意: 信頼できないソースからの名前を検証(verify)する場合は、name引
     数が別のオプションと間違えられないように、 ‘--end-of-options’ の使
     用が賢明です。

‘-q’
‘--quiet’
     ‘--verify’ モードでのみ意味があります。最初の引数が有効なオブジェク
     ト名でない場合は、エラーメッセージを出力しないでください。代わりに
     、ゼロ以外のステータスで黙って終了(exit)します。有効なオブジェクト
     名のSHA-1は、成功するとstdoutに出力されます。

‘--sq’
     通常、出力はフラグとパラメータごとに1行になります。このオプションは
     、シェルによって消費されるための適切に引用された1行の出力を作成しま
     す。パラメータに空白と改行が含まれていると予想される場合に便利です
     (たとえば、 pickaxe ‘-S’ with _git diff-*_ )。 ‘--sq-quote’ オプシ
     ョンとは対照的に、コマンド入力は通常どおり解釈されます。

‘--short[=length]’
     ‘--verify’ と同じですが、オブジェクト名を少なくとも ‘length’ 文字の
     一意のプレフィックスに短縮します。最小の長さは4で、デフォルトは
     ‘core.abbrev’ 構成変数の有効な値です(git-config(1)を参照)。

‘--not’
     オブジェクト名を表示するときは、それらに ‘{caret}’ というプレフィッ
     クスを付け、逆に既に、 ‘{caret}’ プレフィックスを持っているオブジェ
     クト名からは ‘{caret}’ プレフィックスを削除します。

‘--abbrev-ref[=(strict|loose)]’
     オブジェクト名のあいまいでない短い名前。オプション
     core.warnAmbiguousRefs は、厳密な省略形モードを選択するために使用さ
     れます。

‘--symbolic’
     通常、オブジェクト名はSHA-1形式で出力されます(可能な場合は
     ‘{caret}’ プレフィックス付き)。このオプションを使用すると、入力され
     たオリジナルにできるだけ近い形式で出力されます。

‘--symbolic-full-name’
     これは ‘--symbolic’ に似ていますが、ref(つまり、ブランチ名とタグ名
     。または、残念ながら ‘master’ と名付けられたタグがあるとき ‘master’
     ブランチに名前を付けたい場合はより明確な ‘heads/master’ 形式である
     )ではない入力を省略し、完全なrefname(例: "refs/heads/master")として
     表示します。


Options for Objects
===================

‘--all’
     ‘refs/’ で見つかったすべての参照を表示します。

‘--branches[=pattern]’
‘--tags[=pattern]’
‘--remotes[=pattern]’
     すべてのブランチまたはタグまたはリモートトラッキングブランチをそれ
     ぞれ表示します(つまり、それぞれ ‘refs/heads’ または ‘refs/tags’ ま
     たは ‘refs/remotes’ で見つかったref)。

     ‘pattern’ が指定されている場合、指定されたシェルグロブに一致する
     refのみが表示されます。パターンにグロビング文字(‘?’ または ‘*’ また
     は ‘[’)が含まれていない場合は、 ‘/*’ を追加することでプレフィックス
     一致に変換されます。

‘--glob=pattern’
     シェルグロブパターン ‘pattern’ に一致するすべてのrefを表示します。
     パターンが ‘refs/’ で始まらない場合、自動的に先頭に追加されます。パ
     ターンにグロビング文字(‘?’ または ‘*’ または ‘[’)が含まれていない場
     合は、 ‘/*’ を追加することでプレフィックス一致に変換されます。

‘--exclude=<glob-pattern>’
     このオプションに続く ‘--all’ または ‘--branches’ または ‘--tags’ ま
     たは ‘--remotes’ または ‘--glob’ がそれぞれ考慮する
     _<glob-pattern>_ に一致するrefを含めないでください。このオプション
     を繰り返すと、次の ‘--all’ または ‘--branches’ または ‘--tags’ また
     は ‘--remotes’ または ‘--glob’ オプションまで除外パターンが蓄積され
     ます(他のオプションや引数は蓄積されたパターンをクリアしませんされま
     せん)。

     与えられたパターンは、それぞれ ‘--branches’ または ‘--tags’ または
     ‘--remotes’ に適用される場合、それぞれ ‘refs/heads’ 、 ‘refs/tags’
     、‘refs/remotes’ で始まるべきではありません。 ‘--glob’ または
     ‘--all’ に適用する場合は、 ‘refs/’ で始める必要があります。末尾の
     _/*_ を意図している場合は、それを明示的に指定する必要があります。

‘--disambiguate=<prefix>’
     名前が、指定されたプレフィックスで始まるすべてのオブジェクトを表示
     します。 <prefix> は、リポジトリ内のすべてのオブジェクトを誤ってリ
     ストしないように、少なくとも4桁の16進数である必要があります。


Options for Files
=================

‘--local-env-vars’
     リポジトリローカルな GIT_* 環境変数を一覧表示します(例: GIT_DIRまた
     はGIT_WORK_TREE、ただしGIT_EDITORは除く)。 変数が設定されている場合
     でも、変数の名前のみがリストされ、値はリストされません。

‘--path-format=(absolute|relative)’
     他の特定のオプションの動作を制御します。absolute(絶対)を指定すると
     、これらのオプションによって出力されるパスは絶対パスかつ正規化され
     ます。relative(相対)を指定すると、可能であれば、パスは現在の作業デ
     ィレクトリからの相対パスになります。デフォルトは対象の、他の特定の
     オプションそれぞれ固有です。

     このオプションは複数回指定でき、コマンドラインの最後か、またはこの
     オプションの次のインスタンスかの、いずれかに続くコマンドラインの引
     数にのみ影響します。

   以下のオプションは ‘--path-format’ による変更対象です:

‘--git-dir’
     定義されている場合は ‘$GIT_DIR’ を表示します。それ以外の場合は、
     ‘.git’ ディレクトリへのパスを表示します。表示されているパスは、相対
     の場合、現在の作業ディレクトリからの相対パスです。

     ‘$GIT_DIR’ が定義されておらず、現在のディレクトリがGitリポジトリま
     たは作業ツリーにあることが検出されない場合は、標準エラー出力にメッ
     セージを出力し、ゼロ以外のステータスで終了(exit)します。

‘--git-common-dir’
     定義されている場合は ‘$GIT_COMMON_DIR’ を表示し、そうでない場合は
     ‘$GIT_DIR’ を表示します。

‘--resolve-git-dir <path>’
     <path> が有効なリポジトリまたは有効なリポジトリを指す gitfile であ
     るかどうかを確認し、リポジトリの場所を出力します。 <path> が
     gitfile の場合、実際のリポジトリへの解決されたパス(resoluved path)が
     出力されます。

‘--git-path <path>’
     ‘$GIT_DIR/<path>’ を解決し、 $GIT_OBJECT_DIRECTORY、
     $GIT_INDEX_FILE…などの他のパス再配置変数を考慮に入れます。 たとえば
     、 $GIT_OBJECT_DIRECTORY が ‘/foo/bar’ に設定されている場合、 ‘git
     rev-parse --git-path objects/abc’ は ‘/foo/bar/abc’ を返します。

‘--show-toplevel’
     作業ツリーの最上位ディレクトリの(デフォルトでは絶対)パスを表示しま
     す。作業ツリーがない場合は、エラーを報告します。

‘--show-superproject-working-tree’
     現在のリポジトリをサブモジュールとして使用するスーパープロジェクト
     の作業ツリー(存在する場合)のルート(root)の絶対パスを表示します。現
     在のリポジトリがどのプロジェクトでもサブモジュールとして使用されて
     いない場合は、何も出力しません。

‘--shared-index-path’
     共有インデックスファイル(shared index file)へのパスを分割インデック
     スモード(split index mode)で表示します。分割インデックスモードで無
     い場合は空です。

   以下のオプションは、 ‘--path-format’ の影響を受けません:

‘--absolute-git-dir’
     ‘--git-dir’ に似ていますが、その出力は常に正規化された絶対パスです
     。

‘--is-inside-git-dir’
     現在の作業ディレクトリがリポジトリディレクトリ(訳注: 通常 ‘.git’ デ
     ィレクトリ)の下にある場合は ‘true’ 、それ以外の場合は ‘false’ と出
     力します。

‘--is-inside-work-tree’
     現在の作業ディレクトリがリポジトリの作業ツリー内にある場合は ‘true’
     、それ以外の場合は ‘false’ と出力します。(訳注 ‘.git’ ディレクトリ
     内では ‘false’)

‘--is-bare-repository’
     ベアリポジトリの場合は ‘true’ 、それ以外の場合は ‘false’ を出力。

‘--is-shallow-repository’
     shallowリポジトリの場合は ‘true’ 、そうでない場合は ‘false’ を出力
     します。

‘--show-cdup’
     コマンドがサブディレクトリから呼び出された場合は、現在のディレクト
     リを基準にした最上位ディレクトリのパスを表示します(通常は ‘../’ の
     シーケンスまたは空の文字列)。(訳注:作業ディレクトリ内じゃない時はエ
     ラー)

‘--show-prefix’
     コマンドがサブディレクトリから呼び出された場合は、最上位ディレクト
     リを基準にした現在のディレクトリのパスを表示します。(訳注:作業ディ
     レクトリ内じゃない時はエラー)

‘--show-object-format[=(storage|input|output)]’
     ‘.git’ ディレクトリ内でリポジトリのために使われるストレージ
     (storage)、または入力(input)、または出力(output)に使われるオブジェ
     クト形式(ハッシュアルゴリズム)を表示します。入力(input)の場合、複数
     のアルゴリズムがスペースで区切られて出力される場合があります。形式
     を指定しない場合、デフォルトは ‘storage’ です。


Other Options
=============

‘--since=datestring’
‘--after=datestring’
     日付文字列をパースし、 ‘git rev-list’ に対応する ‘-max-age=’ パラメ
     ーターを出力します。

‘--until=datestring’
‘--before=datestring’
     日付文字列をパースし、 ‘git rev-list’ に対応する ‘--min-age=’ パラ
     メーターを出力します。

<args>…
     パースされるフラグとパラメーター。


SPECIFYING REVISIONS
********************

リビジョンパラメータ ‘<rev>’ は必ずしもそうとは限りませんが、通常はコミ
ットオブジェクトに名前を付けます。これは、いわゆる「拡張SHA-1」構文を使
用します。 オブジェクト名を綴るにはさまざまな方法があります。このリスト
の終わり近くにリストされているものは、コミットに含まれているツリーとブロ
ブに名前を付けています。

     *Note*

     この文書は、gitで見られる「生の」構文を示しています。シェルおよびそ
     の他のUIでは、特殊文字を保護し、単語の分割を回避するために、追加の
     引用符が必要になる場合があります。

‘<sha1>’ 例: ‘dae86e1950b1277e545cee180551750029cfe735’, ‘dae86e’
     完全なSHA-1オブジェクト名(40バイトの16進文字列)、またはリポジトリ内
     で一意の先頭のsubstring。例えば
     dae86e1950b1277e545cee180551750029cfe735 と dae86e はどちらも、リポ
     ジトリ内にオブジェクト名が dae86e で始まる他のオブジェクトがない場
     合、全く同じコミットオブジェクトに名前を付けます。

‘<describeOutput>’ 例: ‘v1.7.4.2-679-g3bee7fb’
     ‘git describe’ からの出力。つまり、現在のコミットから最も近いタグ。
     オプションで、ダッシュ(-)とそのタグ以降現在のコミットが何番目になる
     かの数が続き、その後にダッシュ(-)、「g」、および省略されたオブジェ
     クト名が続きます。

‘<refname>’ 例: ‘master’, ‘heads/master’, ‘refs/heads/master’
     シンボリックref名。例えば ‘master’ は通常、 ‘refs/heads/master’ に
     よって参照されるコミットオブジェクトを意味します。 ‘heads/master’ と
     ‘tags/master’ の両方がある場合は、あなたは ‘heads/master’ と明示的
     に指定して、どちらを意味するかをGitに伝えることができます。 あいま
     いな場合、 ‘<refname>’ は、以下のルールに従い最初の一致を採用ことで
     明確になります:

       1. もし ‘$GIT_DIR/<refname>’ が存在するならば、それはあなたが指定
          した通りのものです(これは通常、‘HEAD’ と ‘FETCH_HEAD’ と
          ‘ORIG_HEAD’ と ‘MERGE_HEAD’ と ‘CHERRY_PICK_HEAD’ のみで役に立
          ちます)

       2. でなければ ‘refs/<refname>’ が存在すればそれを採用します。

       3. でなければ ‘refs/tags/<refname>’ が存在すればそれを採用します
          。

       4. でなければ ‘refs/heads/<refname>’ が存在すればそれを採用します
          。

       5. でなければ ‘refs/remotes/<refname>’ が存在すればそれを採用しま
          す。

       6. でなければ ‘refs/remotes/<refname>/HEAD’ が存在すればそれを採
          用します。

          ‘HEAD’ は、作業ツリーの変更に基づいたコミットに名前を付けます
          。 ‘FETCH_HEAD’ は、最後の ‘git fetch’ 呼び出しでリモートリポ
          ジトリからフェッチしたブランチを記録します。 ‘ORIG_HEAD’ は、
          ‘HEAD’ を大幅に移動するコマンドによって作成され、操作前の
          ‘HEAD’ の位置を記録します。これにより、ブランチの先端を実行前
          の状態に簡単に戻すことができます。 ‘MERGE_HEAD’ は、 ‘git
          merge`を実行するときにブランチにマージするコミットを記録します
          。 `CHERRY_PICK_HEAD’ は、 ‘git cherry-pick’ を実行したときに
          チェリーピックしているコミットを記録します。

          注意: 上記の ‘refs/*’ の場合、 ‘$GIT_DIR/refs’ ディレクトリま
          たは ‘$GIT_DIR/packed-refs’ ファイルのいずれかから発生する可能
          性があることに注意してください。ref名のエンコードは指定されて
          いませんが、一部の出力処理ではUTF-8でref名を想定する場合がある
          ため、UTF-8が推奨されます。

‘@’
     ‘@’ 単独では ‘HEAD’ のショートカットを意味します。

‘[<refname>]@{<date>}’ 例: ‘master@\{yesterday\}’, ‘HEAD@{5 minutes ago}’
     refの後に接尾辞 ‘@’ が続き、日付指定が中括弧のペアで囲まれています
     (例: ‘\{yesterday\}’ 、 ‘{1 month 2 weeks 3 days 1 hour 1 second
     ago}’ 、‘{1979-02-26 18:30:00}’ )。これは以前の時点でのrefの値を指
     定します。この接尾辞は、ref名の直後にのみ使用でき、refには既存のロ
     グ( ‘$GIT_DIR/logs/<ref>’ )が必要です。これは、特定の時点での *ロー
     カル* refの状態を検索することに注意してください。たとえば、先週ロー
     カルの ‘master’ ブランチに何があったか、です。特定の時間に行われた
     コミットを確認する場合は、 ‘--since’ と ‘--until’ を参照してくださ
     い。

‘<refname>@{<n>}’ 例: ‘master@\{1\}’
     refの後に接尾辞 ‘@’ が続き、数の指定が中括弧のペアで囲まれている場
     合(たとえば ‘\{1\}’, ‘\{15\}’)、そのrefのn個前の値を指定します。た
     とえば ‘master@\{1\}’ は ‘master’ の直前の値であり、 ‘master@\{5\}’
     は ‘master’ の5個前の値です。この接頭辞は、ref名の直後にのみ使用で
     き、refには既存のログ( ‘$GIT_DIR/logs/<refname>’ )が必要です。

‘@{<n>}’ 例: ‘@\{1\}’
     空のref部分で ‘@’ コンストラクトを使用して、現在のブランチの
     reflogエントリを取得できます。たとえば、あなたがブランチ ‘blabla’ を
     使用している場合、 ‘@\{1\}’ は ‘blabla@\{1\}’ と同じ意味になります
     。

‘@{-<n>}’ 例: ‘@{-1}’
     構成 ‘@{-<n>}’ は、現在のブランチ/コミットの前にチェックアウトされ
     た<n>番目のブランチ/コミットを意味します。

_[<branchname>]@{upstream}_ 例: _master@{upstream}_, _@{u}_
     ブランチ名の接尾辞 _@{upstream}_ (短縮形 _<branchname>@{u}_)は、
     branchnameで指定されたブランチの上部に構築するように設定されている
     ブランチを指します(‘branch.<name>.remote’ と ‘branch.<name>.merge’
     によって設定されます)。ブランチ名が欠落してい場合は、デフォルトで現
     在のブランチ名になります。これらの接尾辞は、大文字で綴る場合にも受
     け入れられ、大文字と小文字を問わず同じ意味になります。

_[<branchname>]@{push}_ 例: _master@{push}_, _@{push}_
     接尾辞 _@{push}_ は、 ‘branchname’ がチェックアウトされているときに
     ‘git push’ が実行された場合(またはブランチ名が指定されていない場合
     は現在の ‘HEAD’ )、「プッシュ先」のブランチを報告します。もちろん、
     プッシュ先はリモートリポジトリにあるため、そのブランチに対応するロ
     ーカルトラッキングブランチ(つまり、 ‘refs/remotes/’ 内の何か)を報告
     します。

     ここで、よりはっきり分かる例を以下に示します:

          $ git config push.default current
          $ git config remote.pushdefault myfork
          $ git switch -c mybranch origin/master

          $ git rev-parse --symbolic-full-name @{upstream}
          refs/remotes/origin/master

          $ git rev-parse --symbolic-full-name @{push}
          refs/remotes/myfork/mybranch

     注意: この例では、ある場所からプルして別の場所にプッシュする三角形
     のワークフローを設定していることに注意してください。非三角形のワー
     クフローでは、 _@{push}_ は _@{upstream}_ と同じであり、このような
     ことをする必要はありません。

     この接尾辞は大文字で綴る場合にも受け入れられ、大文字と小文字を問わ
     ず同じことを意味します。

_<rev>^[<n>]_ 例: _HEAD^, v1.5.1^0_
     リビジョンパラメータの接尾辞 _^_ は、そのコミットオブジェクトの最初
     の親を意味します。 _^<n>_ は <n> 番目の親を意味します(つまり、
     _<rev>^_ は _<rev>^1_ と同じです)。特別ルールとして、 _<rev>^0_ は
     コミット自体を意味し、 _<rev>_ がコミットオブジェクトを参照するタグ
     オブジェクトのオブジェクト名である場合に使用されます。

_<rev>~[<n>]_ 例: _HEAD~, master~3_
     リビジョンパラメータの接尾辞 _~_ は、そのコミットオブジェクトの最初
     の親を意味します。リビジョンパラメータの接尾辞 _~<n>_ は、最初の親
     のみに続く、指定されたコミットオブジェクトの <n> 世代の祖先であるコ
     ミットオブジェクトを意味します。つまり、 _<rev>~3_ は _<rev>^^^_ と
     同じで、するってぇと _<rev>^1^1^1_ と同じということです。この形式に
     ついては以下の図を参照してください。

_<rev>^{<type>}_ 例: _v0.99.8^{commit}_
     接尾辞 _^_ の後に中括弧のペアで囲まれたオブジェクトタイプ名が続くと
     いうことは、タイプ _<type>_ のオブジェクトが見つかるか、オブジェク
     トを逆参照できなくなるまで、 _<rev>_ でオブジェクトを再帰的に逆参照
     する(この場合は、いろいろ一旦飲み込んでしまったのを吐きもどすような
     感じだぬ)ことを意味します。 たとえば、 _<rev>_ がコミットっぽい場合
     、 _<rev>^{commit}_ は対応するコミットオブジェクトを記述します。同
     様に、 _<rev>_ がツリーっぽい場合、 _<rev>^{tree}_ は対応するツリー
     オブジェクトを記述します。 _<rev>^0_ は _<rev>^{commit}_ の省略形で
     す。

     _<rev>^{object}_ を使用すると、 _<rev>_ がタグである必要がなく、
     _<rev>_ を逆参照することなく、 _<rev>_ が存在するオブジェクトに名前
     を付けることができます。なお、タグはすでにオブジェクトであるため、
     オブジェクトに到達するために一度も逆参照する必要はありません。

     _<rev>^{tag}_ を使用して、 _<rev>_ が既存のタグオブジェクトを確実に
     識別することができます。

_<rev>^{}_ 例: _v0.99.8^{}_
     接尾辞 _^_ の後に空のブレースペアが続くということは、オブジェクトが
     タグである可能性があることを意味し、タグ以外のオブジェクトが見つか
     るまでタグを再帰的に逆参照します。

_<rev>^{/<text>}_ 例: _HEAD^{/fix nasty bug}_
     リビジョンパラメータの接尾辞 _^_ と、それに続くスラッシュで始まるテ
     キストを含む中括弧のペアは、以下の _:/fix nasty bug_ 構文と同じです
     が、 _^_ の前の _<rev>_ から到達可能な一致する最も若いコミットを返
     す点が異なります。

_:/<text>_ 例: _:/fix nasty bug_
     コロンに続いてスラッシュそしてそれに続くテキストは、コミットメッセ
     ージが指定された正規表現と一致するコミットを示します。この名前は、
     HEADを含む任意のrefから到達可能な最も若い一致するコミットを返します
     。正規表現は、コミットメッセージの任意の部分に一致できます。文字列
     で始まるメッセージを照合するには、たとえば、 _:/^foo_ とします。特
     別なシーケンス _:/!_ はマッチングの修飾子用に予約されています。ます
     。 _:/!-foo_ は一致の否定を実行し、 _:/!!foo_ はリテラル _!_ 後に
     _foo_ が続く文字列とマッチします。 _:/!_ で始まるその他のシーケンス
     は今のところ予約されています。指定されたテキストによっては、シェル
     により追加の引用符が必要になる場合があります。

_<rev>:<path>_ 例: _HEAD:README_, _master:./README_
     接尾辞 _:_ の後にパス(path)を続けると、コロンの前の部分によって名前
     が付けられたツリー風のオブジェクト内の、指定されたパスにあるブロブ
     またはツリーに名前が付けられます。 _./_ または _../_ で始まるパスは
     、現在の作業ディレクトリからの相対パスです。指定のパスは、作業ツリ
     ーのルートディレクトリからの相対パスに変換されます。これは、作業ツ
     リーと同じツリー構造を持つコミットまたはツリーからブロブまたはツリ
     ーをアドレス指定するのに最も役立ちます。

_:[<n>:]<path>_ 例: _:0:README_, _:README_
     コロンに、オプションでステージ番号(0〜3)とコロンが続き、それにパス
     が続くと、指定されたパスのインデックス内のブロブオブジェクトに名前
     を付けます。ステージ番号省略(およびそれに続くコロン)は、ステージ0エ
     ントリーを示します。マージ作業中、ステージ1は共通の祖先、ステージ
     2はターゲットブランチのバージョン(通常は現在のブランチ)、ステージ
     3はマージされるブランチのバージョンです。

   以下はJon Loeligerによる図解です。コミットノードBとCはどちらもコミッ
トノードAの親です。親コミットは左から右に順序付けられます。

     G   H   I   J
      \ /     \ /
       D   E   F
        \  |  / \
         \ | /   |
          \|/    |
           B     C
            \   /
             \ /
              A

     A =      = A^0
     B = A^   = A^1     = A~1
     C =      = A^2
     D = A^^  = A^1^1   = A~2
     E = B^2  = A^^2
     F = B^3  = A^^3
     G = A^^^ = A^1^1^1 = A~3
     H = D^2  = B^^2    = A^^^2  = A~2^2
     I = F^   = B^3^    = A^^3^
     J = F^2  = B^3^2   = A^^3^2


SPECIFYING RANGES
*****************

‘git log’ などの履歴トラバースコマンドは、単一のコミットだけでなく、一連
のコミットで動作します。

   これらのコマンドの場合、前のセクションで説明した表記法を使用して単一
のリビジョンを指定することは、指定のコミットから「到達可能」なコミットの
組を意味します。

   複数のリビジョンを指定するということは、指定のコミットのいずれかから
到達可能なコミットの組を意味します。

   コミットの到達可能な組は、コミット自体とその祖先チェーン内のコミット
です。

   以下に示すように、接続されたコミット(connected commits)の組(「リビジ
ョン範囲」(revision range)と呼ばれる)を指定するためのいくつかの表記法が
あります。


Commit Exclusions
=================

_^<rev>_ (カレット)記法
     とある到達可能なコミットをコミット達から除外するには、接頭辞 _^_ 表
     記を使用します。 例えば _^r1 r2_ は _r2_ から到達可能なコミットだけ
     ども、 _r1_ から到達可能なコミット(つまり _r1_ とその祖先)は除外す
     る事を意味します。


Dotted Range Notations
======================

_.._ (2ドット)範囲記法
     _^r1 r2_ 操作は頻繁に表示されるため、省略形があります。(上記の
     SPECIFYING REVISIONS で説明されている構文に従って名前が付けられてい
     る)2つのコミット _r1_ と _r2_ がある場合、あなたは _^r1 r2_ によっ
     てr1から到達可能なコミットを取り除き、r2から到達可能なコミットを要
     求できます。そしてこれは _r1..r2_ と書くことができます。

_..._ (3ドット)対称差記法
     似た表記 _r1...r2_ は _r1_ と _r2_ の対称差と呼ばれ、 _r1 r2 –not
     $(git merge-base –all r1 r2)_ として定義されます。 これは、 _r1_ (左
     側)または _r2_ (右側)のいずれかから到達可能であるが、両方からは到達
     できないコミットの組です。

   これらの2つの省略表記では、一方の端を省略して、デフォルトでHEADにする
ことができます。たとえば、 _origin.._ は _origin..HEAD_ の省略形であり、
「originブランチから分岐(fork)してから何をしましたか？」と尋ねます。 同
様に、 _..origin_ は _HEAD..origin_ の省略形であり、「私がそれらから分岐
してから、originは何をしましたか？」と尋ねます。 _.._ は _HEAD..HEAD_ を
意味することに注意してください。これは、HEADから到達可能および到達不能の
両方の空の範囲です。

   2つの異なる範囲を取るように特別に設計されたコマンド(たとえば、2つの範
囲を比較するための "git range-diff R1 R2" ) は存在しますが、それらは例外
です。特に明記されていない限り、一連のコミットを操作するすべての "git" コ
マンドは、単一のリビジョン範囲で機能します。言い換えると、2つの「2ドット
範囲表記」を隣り合わせに記述します。

     $ git log A..B C..D

   ほとんどのコマンドでは2つのリビジョン範囲を指定しません。代わりに、接
続された単一のコミットの組、つまりBまたはDのいずれかから到達可能であるが
、AまたはCのどちらからも到達可能でないコミットの組に名前を付けます。線形
履歴では、以下のようになります:

     ---A---B---o---o---C---D

   AとBはCから到達可能であるため、これら2つの2ドット範囲記法で指定された
リビジョン範囲は単一のコミットDです。


Other <rev>^ Parent Shorthand Notations
=======================================

コミットとその親コミットによって形成される組に名前を付けるために、マージ
コミットに特に役立つ他の3つの省略形が存在します。

   ‘r1{caret}@’ 表記は、 ‘r1’ のすべての親を意味します。

   ‘r1{caret}!’ 表記には コミット ‘r1’ が含まれますが、そのすべての親は
除外されます。この表記自体は、単一のコミット ‘r1’ を示します。

   ‘<rev>{caret}-[<n>]’ 表記には ‘<rev>’ が含まれますが、 <n> 番目の親
(つまり、 ‘<rev>{caret}<n>..<rev>’ の省略形)は除外されます。 <n> が指定
されていない場合は ‘<n>’ = 1 とみなします。これは通常、
‘<commit>{caret}-’ を渡すだけで、マージコミット ‘<commit>’(‘<commit>’ 自
体を含む)でマージされたブランチ内のすべてのコミットを取得できるマージコ
ミットに役立ちます。

   ‘<rev>{caret}<n>’ は単一のコミット親を指定することに関するものでした
が、これらの3つの表記はその親も考慮します。たとえば、
‘HEAD{caret}2{caret}@’ と言うことはできますが、 ‘HEAD{caret}@{caret}2’ と
言うことはできません。


Revision Range Summary
**********************

‘<rev>’
     <rev> から到達可能なコミット(つまり <rev> とその祖先)を含めます。

‘{caret}<rev>’
     <rev> から到達可能なコミット(つまり <rev> とその祖先)を除外します。

‘<rev1>..<rev2>’
     <rev2> から到達可能なコミットを含めますが、 <rev1> から到達可能なコ
     ミットは除外します。 <rev1> または <rev2> のいずれかを省略すると、
     それらはそれぞれデフォルトで ‘HEAD’ になります。

‘<rev1>\...<rev2>’
     <rev1> または <rev2> のいずれかから到達可能なコミットを含めますが、
     両方から到達可能なコミットは除外します。 <rev1> または <rev2> のい
     ずれかを省略すると、それらはそれぞれデフォルトで ‘HEAD’ になります
     。

‘<rev>{caret}@’ 例: ‘HEAD{caret}@’
     接尾辞 ‘{caret}’ の後にアットマーク(‘@’)を付けることは、 ‘<rev>’ の
     すべての親をリストすることと同じです(つまり、親から到達可能なものは
     すべて含まれますが、コミット自体は含まれません)。

‘<rev>{caret}!’ 例: ‘HEAD{caret}!’
     接尾辞 ‘{caret}’ の後に感嘆符(‘!’)を付けることは、コミット ‘<rev>’
     を指定し、そのすべての親の前に ‘{caret}’ を付けてそれら(およびその
     祖先)を除外することと同じです。

‘<rev>{caret}-<n>’ 例: ‘HEAD{caret}-, HEAD{caret}-2’
     ‘<rev>{caret}<n>..<rev>’ と同等であり、 ‘<n>’ が指定されていない場
     合は ‘<n>’ = 1 です。

   上記のLoeliger図解を使用したいくつかの例を以下に示します。表記の拡張
と選択は、それぞれ段階が分かるようステップを踏んで説明してあります:

        Args   Expanded arguments    Selected commits
        D                            G H D
        D F                          G H I J D F
        ^G D                         H D
        ^D B                         E I J F B
        ^D B C                       E I J F B C
        C                            I J F C
        B..C   = ^B C                C
        B...C  = B ^F C              G H D E B C
        B^-    = B^..B
               = ^B^1 B              E I J F B
        C^@    = C^1
               = F                   I J F
        B^@    = B^1 B^2 B^3
               = D E F               D G H E F I J
        C^!    = C ^C^@
               = C ^C^1
               = C ^F                C
        B^!    = B ^B^@
               = B ^B^1 ^B^2 ^B^3
               = B ^D ^E ^F          B
        F^! D  = F ^I ^J D           G H D F


PARSEOPT
********

‘--parseopt’ モードでは、 ‘git rev-parse’ は、オプションをもみもみして、
Cビルトインと同じ機能をシェルスクリプトにもたらすのに役立ちます。これは
、 ‘getopt(1)’ と少し似た、オプションの正規化機能です(たとえば、単一のス
イッチの集合を分割します)。

   パースおよび理解できるオプションの仕様を標準入力で受け取り、引数を正
規化されたものに置き換えるために、‘sh(1)’ ‘eval’ に適した文字列をエコー
します。エラーが発生した場合は、標準エラーストリームで使用状況を出力し、
コード129で終了します。

   注: 結果を ‘eval’ に渡すときは、必ず引用符で囲んでください。例につい
ては、以下を参照してください。


Input Format
============

‘git rev-parse --parseopt’ 入力形式は完全にテキストベースです。 ‘--’ の
みを含む行で区切られた2つの部分から構成されます。セパレーターの前の行
(1つ以上である必要があります)が使用例に使用されます。区切り文字の後の行
は、オプションを示しています。

   オプションの各行の形式はいかのとおりです:

     <opt-spec><flags>*<arg-hint>? SP+ help LF

‘<opt-spec>’
     この形式は、短いオプション1文字で、続いてコンマ(_,_)で区切り、そし
     て長いオプション名があります。少なくとも短長のうち1つは必要ですが、
     両方揃ってなくてもいいです。 ‘<flags>’ 文字を含めることはできません
     。 ‘h,help’ や ‘dry-run’ や ‘f’ は正しい ‘<opt-spec>’ の例です。

‘<flags>’
     ‘<flags>’ とは ‘*’ または ‘=’ または ‘?’ または ‘!’ です。

        • オプションが引数を取る場合は、 ‘=’ を使用します。

        • ‘?’ の使用は、オプションがオプションの引数を取ることを意味しま
          す。オプションの引数を明確に解析できるようにするには、おそらく
          ‘--stuck-long’ モードを使用する必要があります。

        • ‘*’ を使用すると、このオプションが ‘-h’ 引数に対して生成された
          使用法にリストされてはならないことを意味します。 gitcli(7) に
          記載されているように、 ‘--help-all’ には表示されます。

        • ‘！’ を使用すると、対応する否定されたlongオプションを使用可能
          にしません。

‘<arg-hint>’
     ‘<arg-hint>’ は、指定された場合、引数を取るオプションのヘルプ出力で
     引数の名前として使用されます。 ‘<arg-hint>’ は最初の空白で終了しま
     す。複数単語の引数ヒントで単語を区切りたい時は、ダッシュを使う通例
     です。

   スペースを取り除いた後の行の残りの部分は、オプションに関連付けられた
ヘルプとして使用されます。

   空白行は無視され、この仕様に一致しない行はオプショングループヘッダー
として使用されます(意図的にそのような行を作成するためにはスペースで行を
開始します)。


Example
=======

     OPTS_SPEC="\
     some-command [<options>] <args>...

     some-command does foo and bar!
     --
     h,help    show the help

     foo       some nifty option --foo
     bar=      some cool option --bar with an argument
     baz=arg   another cool option --baz with a named argument
     qux?path  qux may take a path argument but has meaning by itself

       An option group Header
     C?        option C with an optional argument"

     eval "$(echo "$OPTS_SPEC" | git rev-parse --parseopt -- "$@" || echo exit $?)"


Usage text
==========

上記の例で ‘"$@"’ が ‘-h’ または ‘--help’ の場合、以下の使用法テキストが
表示されます:

     usage: some-command [<options>] <args>...

         some-command does foo and bar!

         -h, --help            show the help
         --foo                 some nifty option --foo
         --bar ...             some cool option --bar with an argument
         --baz <arg>           another cool option --baz with a named argument
         --qux[=<path>]        qux may take a path argument but has meaning by itself

     An option group Header
         -C[...]               option C with an optional argument


SQ-QUOTE
********

‘--sq-quote’ モードでは、 ‘git rev-parse’ は、 ‘sh(1)’ ‘eval’ に適した
1行を標準出力にエコーします。この行は、 ‘--sq-quote’ に続く引数を正規化
することによって作成されます。引数をクォートする以外に何も行いません。

   出力がシェル引用符で囲まれる前に、コマンド入力を ‘git rev-parse’ によ
って通常どおりに解釈するには ‘--sq’ オプションを参照してください。


Example
=======

     $ cat >your-git-script.sh <<\EOF
     #!/bin/sh
     args=$(git rev-parse --sq-quote "$@")   # quote user-supplied arguments
     command="git frotz -n24 $args"          # and use it inside a handcrafted
                                             # command line
     eval "$command"
     EOF

     $ sh your-git-script.sh "a b'c"


EXAMPLES
********

   • 現在のコミットのオブジェクト名を出力します:

          $ git rev-parse --verify HEAD

   • $REV シェル変数のリビジョンからコミットオブジェクト名を出力します:

          $ git rev-parse --verify --end-of-options $REV^{commit}

     $REV が空であるか、有効なリビジョンでない場合エラーになります。

   • 上記と同様ですが…:

          $ git rev-parse --default master --verify --end-of-options $REV

     これは、 $REV が空の場合、masterからのコミットオブジェクト名が出力
     されます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-revert,  Up: Top

Name
****

git-revert — Revert some existing commits


Synopsis
********

     git revert [–[no-]edit] [-n] [-m parent-number] [-s] [-S[<keyid>]] <commit>…
     git revert (–continue | –skip | –abort | –quit)


DESCRIPTION
***********

Given one or more existing commits, revert the changes that the related
patches introduce, and record some new commits that record them.  This
requires your working tree to be clean (no modifications from the HEAD
commit).

   Note: _git revert_ is used to record some new commits to reverse the
effect of some earlier commits (often only a faulty one).  If you want
to throw away all uncommitted changes in your working directory, you
should see git-reset(1), particularly the ‘--hard’ option.  If you want
to extract specific files as they were in another commit, you should see
git-restore(1), specifically the ‘--source’ option.  Take care with
these alternatives as both will discard uncommitted changes in your
working directory.

   See "Reset, restore and revert" in git(1) for the differences between
the three commands.


OPTIONS
*******

<commit>…
     Commits to revert.  For a more complete list of ways to spell
     commit names, see gitrevisions(7).  Sets of commits can also be
     given but no traversal is done by default, see git-rev-list(1) and
     its ‘--no-walk’ option.

‘-e’
‘--edit’
     With this option, _git revert_ will let you edit the commit message
     prior to committing the revert.  This is the default if you run the
     command from a terminal.

‘-m parent-number’
‘--mainline parent-number’
     Usually you cannot revert a merge because you do not know which
     side of the merge should be considered the mainline.  This option
     specifies the parent number (starting from 1) of the mainline and
     allows revert to reverse the change relative to the specified
     parent.

     Reverting a merge commit declares that you will never want the tree
     changes brought in by the merge.  As a result, later merges will
     only bring in tree changes introduced by commits that are not
     ancestors of the previously reverted merge.  This may or may not be
     what you want.

     See the revert-a-faulty-merge How-To
     (howto/revert-a-faulty-merge.html) for more details.

‘--no-edit’
     With this option, _git revert_ will not start the commit message
     editor.

‘--cleanup=<mode>’
     This option determines how the commit message will be cleaned up
     before being passed on to the commit machinery.  See git-commit(1)
     for more details.  In particular, if the _<mode>_ is given a value
     of ‘scissors’, scissors will be appended to ‘MERGE_MSG’ before
     being passed on in the case of a conflict.

‘-n’
‘--no-commit’
     Usually the command automatically creates some commits with commit
     log messages stating which commits were reverted.  This flag
     applies the changes necessary to revert the named commits to your
     working tree and the index, but does not make the commits.  In
     addition, when this option is used, your index does not have to
     match the HEAD commit.  The revert is done against the beginning
     state of your index.

     This is useful when reverting more than one commits’ effect to your
     index in a row.

‘-S[<keyid>]’
‘--gpg-sign[=<keyid>]’
‘--no-gpg-sign’
     GPG-sign commits.  The ‘keyid’ argument is optional and defaults to
     the committer identity; if specified, it must be stuck to the
     option without a space.  ‘--no-gpg-sign’ is useful to countermand
     both ‘commit.gpgSign’ configuration variable, and earlier
     ‘--gpg-sign’.

‘-s’
‘--signoff’
     Add a ‘Signed-off-by’ trailer at the end of the commit message.
     See the signoff option in git-commit(1) for more information.

‘--strategy=<strategy>’
     Use the given merge strategy.  Should only be used once.  See the
     MERGE STRATEGIES section in git-merge(1) for details.

‘-X<option>’
‘--strategy-option=<option>’
     Pass the merge strategy-specific option through to the merge
     strategy.  See git-merge(1) for details.

‘--rerere-autoupdate’
‘--no-rerere-autoupdate’
     Allow the rerere mechanism to update the index with the result of
     auto-conflict resolution if possible.


SEQUENCER SUBCOMMANDS
*********************

‘--continue’
     ‘.git/sequencer’ の情報を使用して、進行中の操作の続行を行います。失
     敗したcherry-pickまたはrevertの競合を解決した後、続行するために使用
     できます。

‘--skip’
     現在のコミットをスキップして、残りのシーケンスを続行します。

‘--quit’
     進行中の今回の操作を忘れてください。チェリーピックまたはrevertに失
     敗した後、シーケンサーの状態をクリアするために使用できます。

‘--abort’
     操作をキャンセルして、シーケンス操作前の状態に戻ります。


EXAMPLES
********

‘git revert HEAD~3’
     Revert the changes specified by the fourth last commit in HEAD and
     create a new commit with the reverted changes.

‘git revert -n master~5..master~2’
     Revert the changes done by commits from the fifth last commit in
     master (included) to the third last commit in master (included),
     but do not create any commit with the reverted changes.  The revert
     only modifies the working tree and the index.


SEE ALSO
********

git-cherry-pick(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-rm,  Up: Top

Name
****

git-rm — Remove files from the working tree and from the index


Synopsis
********

     git rm [-f | –force] [-n] [-r] [–cached] [–ignore-unmatch]
               [–quiet] [–pathspec-from-file=<file> [–pathspec-file-nul]]
               [–] [<pathspec>…]


DESCRIPTION
***********

Remove files matching pathspec from the index, or from the working tree
and the index.  ‘git rm’ will not remove a file from just your working
directory.  (There is no option to remove a file only from the working
tree and yet keep it in the index; use ‘/bin/rm’ if you want to do
that.)  The files being removed have to be identical to the tip of the
branch, and no updates to their contents can be staged in the index,
though that default behavior can be overridden with the ‘-f’ option.
When ‘--cached’ is given, the staged content has to match either the tip
of the branch or the file on disk, allowing the file to be removed from
just the index.  When sparse-checkouts are in use (see
git-sparse-checkout(1)), ‘git rm’ will only remove paths within the
sparse-checkout patterns.


OPTIONS
*******

<pathspec>…
     Files to remove.  A leading directory name (e.g.  ‘dir’ to remove
     ‘dir/file1’ and ‘dir/file2’) can be given to remove all files in
     the directory, and recursively all sub-directories, but this
     requires the ‘-r’ option to be explicitly given.

     The command removes only the paths that are known to Git.

     File globbing matches across directory boundaries.  Thus, given two
     directories ‘d’ and ‘d2’, there is a difference between using ‘git
     rm 'd*'’ and ‘git rm 'd/*'’, as the former will also remove all of
     directory ‘d2’.

     For more details, see the _pathspec_ entry in gitglossary(7).

‘-f’
‘--force’
     Override the up-to-date check.

‘-n’
‘--dry-run’
     Don’t actually remove any file(s).  Instead, just show if they
     exist in the index and would otherwise be removed by the command.

‘-r’
     Allow recursive removal when a leading directory name is given.

–
     This option can be used to separate command-line options from the
     list of files, (useful when filenames might be mistaken for
     command-line options).

‘--cached’
     Use this option to unstage and remove paths only from the index.
     Working tree files, whether modified or not, will be left alone.

‘--ignore-unmatch’
     Exit with a zero status even if no files matched.

‘-q’
‘--quiet’
     ‘git rm’ normally outputs one line (in the form of an ‘rm’ command)
     for each file removed.  This option suppresses that output.

‘--pathspec-from-file=<file>’
     Pathspec is passed in ‘<file>’ instead of commandline args.  If
     ‘<file>’ is exactly ‘-’ then standard input is used.  Pathspec
     elements are separated by LF or CR/LF. Pathspec elements can be
     quoted as explained for the configuration variable ‘core.quotePath’
     (see git-config(1)).  See also ‘--pathspec-file-nul’ and global
     ‘--literal-pathspecs’.

‘--pathspec-file-nul’
     Only meaningful with ‘--pathspec-from-file’.  Pathspec elements are
     separated with NUL character and all other characters are taken
     literally (including newlines and quotes).


REMOVING FILES THAT HAVE DISAPPEARED FROM THE FILESYSTEM
********************************************************

There is no option for ‘git rm’ to remove from the index only the paths
that have disappeared from the filesystem.  However, depending on the
use case, there are several ways that can be done.


Using “git commit -a”
=====================

If you intend that your next commit should record all modifications of
tracked files in the working tree and record all removals of files that
have been removed from the working tree with ‘rm’ (as opposed to ‘git
rm’), use ‘git commit -a’, as it will automatically notice and record
all removals.  You can also have a similar effect without committing by
using ‘git add -u’.


Using “git add -A”
==================

When accepting a new code drop for a vendor branch, you probably want to
record both the removal of paths and additions of new paths as well as
modifications of existing paths.

   Typically you would first remove all tracked files from the working
tree using this command:

     git ls-files -z | xargs -0 rm -f

   and then untar the new code in the working tree.  Alternately you
could _rsync_ the changes into the working tree.

   After that, the easiest way to record all removals, additions, and
modifications in the working tree is:

     git add -A

   See git-add(1).


Other ways
==========

If all you really want to do is to remove from the index the files that
are no longer present in the working tree (perhaps because your working
tree is dirty so that you cannot use ‘git commit -a’), use the following
command:

     git diff --name-only --diff-filter=D -z | xargs -0 git rm --cached


SUBMODULES
**********

Only submodules using a gitfile (which means they were cloned with a Git
version 1.7.8 or newer) will be removed from the work tree, as their
repository lives inside the .git directory of the superproject.  If a
submodule (or one of those nested inside it) still uses a .git
directory, ‘git rm’ will move the submodules git directory into the
superprojects git directory to protect the submodule’s history.  If it
exists the submodule.<name> section in the gitmodules(5) file will also
be removed and that file will be staged (unless –cached or -n are used).

   A submodule is considered up to date when the HEAD is the same as
recorded in the index, no tracked files are modified and no untracked
files that aren’t ignored are present in the submodules work tree.
Ignored files are deemed expendable and won’t stop a submodule’s work
tree from being removed.

   If you only want to remove the local checkout of a submodule from
your work tree without committing the removal, use git-submodule(1)
‘deinit’ instead.  Also see gitsubmodules(7) for details on submodule
removal.


EXAMPLES
********

‘git rm Documentation/\*.txt’
     Removes all ‘*.txt’ files from the index that are under the
     ‘Documentation’ directory and any of its subdirectories.

     Note that the asterisk ‘*’ is quoted from the shell in this
     example; this lets Git, and not the shell, expand the pathnames of
     files and subdirectories under the ‘Documentation/’ directory.

‘git rm -f git-*.sh’
     Because this example lets the shell expand the asterisk (i.e.  you
     are listing the files explicitly), it does not remove
     ‘subdir/git-foo.sh’.


BUGS
****

Each time a superproject update removes a populated submodule (e.g.
when switching between commits before and after the removal) a stale
submodule checkout will remain in the old location.  Removing the old
directory is only safe when it uses a gitfile, as otherwise the history
of the submodule will be deleted too.  This step will be obsolete when
recursive submodule update has been implemented.


SEE ALSO
********

git-add(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-send-email,  Up: Top

Name
****

git-send-email — Send a collection of patches as emails


Synopsis
********

     git send-email [<options>] <file|directory|rev-list options>…
     git send-email –dump-aliases


DESCRIPTION
***********

Takes the patches given on the command line and emails them out.
Patches can be specified as files, directories (which will send all
files in the directory), or directly as a revision list.  In the last
case, any format accepted by git-format-patch(1) can be passed to git
send-email.

   The header of the email is configurable via command-line options.  If
not specified on the command line, the user will be prompted with a
ReadLine enabled interface to provide the necessary information.

   There are two formats accepted for patch files:

  1. mbox format files

     This is what git-format-patch(1) generates.  Most headers and MIME
     formatting are ignored.

  2. The original format used by Greg Kroah-Hartman’s
     _send_lots_of_email.pl_ script

     This format expects the first line of the file to contain the "Cc:"
     value and the "Subject:" of the message as the second line.


OPTIONS
*******


Composing
=========

‘--annotate’
     Review and edit each patch you’re about to send.  Default is the
     value of ‘sendemail.annotate’.  See the CONFIGURATION section for
     ‘sendemail.multiEdit’.

‘--bcc=<address>,...’
     Specify a "Bcc:" value for each email.  Default is the value of
     ‘sendemail.bcc’.

     This option may be specified multiple times.

‘--cc=<address>,...’
     Specify a starting "Cc:" value for each email.  Default is the
     value of ‘sendemail.cc’.

     This option may be specified multiple times.

‘--compose’
     Invoke a text editor (see GIT_EDITOR in git-var(1)) to edit an
     introductory message for the patch series.

     When ‘--compose’ is used, git send-email will use the From,
     Subject, and In-Reply-To headers specified in the message.  If the
     body of the message (what you type after the headers and a blank
     line) only contains blank (or Git: prefixed) lines, the summary
     won’t be sent, but From, Subject, and In-Reply-To headers will be
     used unless they are removed.

     Missing From or In-Reply-To headers will be prompted for.

     See the CONFIGURATION section for ‘sendemail.multiEdit’.

‘--from=<address>’
     Specify the sender of the emails.  If not specified on the command
     line, the value of the ‘sendemail.from’ configuration option is
     used.  If neither the command-line option nor ‘sendemail.from’ are
     set, then the user will be prompted for the value.  The default for
     the prompt will be the value of GIT_AUTHOR_IDENT, or
     GIT_COMMITTER_IDENT if that is not set, as returned by "git var
     -l".

‘--reply-to=<address>’
     Specify the address where replies from recipients should go to.
     Use this if replies to messages should go to another address than
     what is specified with the –from parameter.

‘--in-reply-to=<identifier>’
     Make the first mail (or all the mails with ‘--no-thread’) appear as
     a reply to the given Message-Id, which avoids breaking threads to
     provide a new patch series.  The second and subsequent emails will
     be sent as replies according to the ‘--[no-]chain-reply-to’
     setting.

     So for example when ‘--thread’ and ‘--no-chain-reply-to’ are
     specified, the second and subsequent patches will be replies to the
     first one like in the illustration below where ‘[PATCH v2 0/3]’ is
     in reply to ‘[PATCH 0/2]’:

          [PATCH 0/2] Here is what I did...
            [PATCH 1/2] Clean up and tests
            [PATCH 2/2] Implementation
            [PATCH v2 0/3] Here is a reroll
              [PATCH v2 1/3] Clean up
              [PATCH v2 2/3] New tests
              [PATCH v2 3/3] Implementation

     Only necessary if –compose is also set.  If –compose is not set,
     this will be prompted for.

‘--subject=<string>’
     Specify the initial subject of the email thread.  Only necessary if
     –compose is also set.  If –compose is not set, this will be
     prompted for.

‘--to=<address>,...’
     Specify the primary recipient of the emails generated.  Generally,
     this will be the upstream maintainer of the project involved.
     Default is the value of the ‘sendemail.to’ configuration value; if
     that is unspecified, and –to-cmd is not specified, this will be
     prompted for.

     This option may be specified multiple times.

‘--8bit-encoding=<encoding>’
     When encountering a non-ASCII message or subject that does not
     declare its encoding, add headers/quoting to indicate it is encoded
     in <encoding>.  Default is the value of the
     _sendemail.assume8bitEncoding_; if that is unspecified, this will
     be prompted for if any non-ASCII files are encountered.

     Note that no attempts whatsoever are made to validate the encoding.

‘--compose-encoding=<encoding>’
     Specify encoding of compose message.  Default is the value of the
     _sendemail.composeencoding_; if that is unspecified, UTF-8 is
     assumed.

‘--transfer-encoding=(7bit|8bit|quoted-printable|base64|auto)’
     Specify the transfer encoding to be used to send the message over
     SMTP. 7bit will fail upon encountering a non-ASCII message.
     quoted-printable can be useful when the repository contains files
     that contain carriage returns, but makes the raw patch email file
     (as saved from a MUA) much harder to inspect manually.  base64 is
     even more fool proof, but also even more opaque.  auto will use
     8bit when possible, and quoted-printable otherwise.

     Default is the value of the ‘sendemail.transferEncoding’
     configuration value; if that is unspecified, default to ‘auto’.

‘--xmailer’
‘--no-xmailer’
     Add (or prevent adding) the "X-Mailer:" header.  By default, the
     header is added, but it can be turned off by setting the
     ‘sendemail.xmailer’ configuration variable to ‘false’.


Sending
=======

‘--envelope-sender=<address>’
     Specify the envelope sender used to send the emails.  This is
     useful if your default address is not the address that is
     subscribed to a list.  In order to use the _From_ address, set the
     value to "auto".  If you use the sendmail binary, you must have
     suitable privileges for the -f parameter.  Default is the value of
     the ‘sendemail.envelopeSender’ configuration variable; if that is
     unspecified, choosing the envelope sender is left to your MTA.

‘--sendmail-cmd=<command>’
     Specify a command to run to send the email.  The command should be
     sendmail-like; specifically, it must support the ‘-i’ option.  The
     command will be executed in the shell if necessary.  Default is the
     value of ‘sendemail.sendmailcmd’.  If unspecified, and if
     –smtp-server is also unspecified, git-send-email will search for
     ‘sendmail’ in ‘/usr/sbin’, ‘/usr/lib’ and $PATH.

‘--smtp-encryption=<encryption>’
     Specify the encryption to use, either _ssl_ or _tls_.  Any other
     value reverts to plain SMTP. Default is the value of
     ‘sendemail.smtpEncryption’.

‘--smtp-domain=<FQDN>’
     Specifies the Fully Qualified Domain Name (FQDN) used in the
     HELO/EHLO command to the SMTP server.  Some servers require the
     FQDN to match your IP address.  If not set, git send-email attempts
     to determine your FQDN automatically.  Default is the value of
     ‘sendemail.smtpDomain’.

‘--smtp-auth=<mechanisms>’
     Whitespace-separated list of allowed SMTP-AUTH mechanisms.  This
     setting forces using only the listed mechanisms.  Example:

          $ git send-email --smtp-auth="PLAIN LOGIN GSSAPI" ...

     If at least one of the specified mechanisms matches the ones
     advertised by the SMTP server and if it is supported by the
     utilized SASL library, the mechanism is used for authentication.
     If neither _sendemail.smtpAuth_ nor ‘--smtp-auth’ is specified, all
     mechanisms supported by the SASL library can be used.  The special
     value _none_ maybe specified to completely disable authentication
     independently of ‘--smtp-user’

‘--smtp-pass[=<password>]’
     Password for SMTP-AUTH. The argument is optional: If no argument is
     specified, then the empty string is used as the password.  Default
     is the value of ‘sendemail.smtpPass’, however ‘--smtp-pass’ always
     overrides this value.

     Furthermore, passwords need not be specified in configuration files
     or on the command line.  If a username has been specified (with
     ‘--smtp-user’ or a ‘sendemail.smtpUser’), but no password has been
     specified (with ‘--smtp-pass’ or ‘sendemail.smtpPass’), then a
     password is obtained using _git-credential_.

‘--no-smtp-auth’
     Disable SMTP authentication.  Short hand for ‘--smtp-auth=none’

‘--smtp-server=<host>’
     If set, specifies the outgoing SMTP server to use (e.g.
     ‘smtp.example.com’ or a raw IP address).  If unspecified, and if
     ‘--sendmail-cmd’ is also unspecified, the default is to search for
     ‘sendmail’ in ‘/usr/sbin’, ‘/usr/lib’ and $PATH if such a program
     is available, falling back to ‘localhost’ otherwise.

     For backward compatibility, this option can also specify a full
     pathname of a sendmail-like program instead; the program must
     support the ‘-i’ option.  This method does not support passing
     arguments or using plain command names.  For those use cases,
     consider using ‘--sendmail-cmd’ instead.

‘--smtp-server-port=<port>’
     Specifies a port different from the default port (SMTP servers
     typically listen to smtp port 25, but may also listen to submission
     port 587, or the common SSL smtp port 465); symbolic port names
     (e.g.  "submission" instead of 587) are also accepted.  The port
     can also be set with the ‘sendemail.smtpServerPort’ configuration
     variable.

‘--smtp-server-option=<option>’
     If set, specifies the outgoing SMTP server option to use.  Default
     value can be specified by the ‘sendemail.smtpServerOption’
     configuration option.

     The –smtp-server-option option must be repeated for each option you
     want to pass to the server.  Likewise, different lines in the
     configuration files must be used for each option.

‘--smtp-ssl’
     Legacy alias for _–smtp-encryption ssl_.

‘--smtp-ssl-cert-path’
     Path to a store of trusted CA certificates for SMTP SSL/TLS
     certificate validation (either a directory that has been processed
     by _c_rehash_, or a single file containing one or more PEM format
     certificates concatenated together: see verify(1) -CAfile and
     -CApath for more information on these).  Set it to an empty string
     to disable certificate verification.  Defaults to the value of the
     ‘sendemail.smtpsslcertpath’ configuration variable, if set, or the
     backing SSL library’s compiled-in default otherwise (which should
     be the best choice on most platforms).

‘--smtp-user=<user>’
     Username for SMTP-AUTH. Default is the value of
     ‘sendemail.smtpUser’; if a username is not specified (with
     ‘--smtp-user’ or ‘sendemail.smtpUser’), then authentication is not
     attempted.

‘--smtp-debug=0|1’
     Enable (1) or disable (0) debug output.  If enabled, SMTP commands
     and replies will be printed.  Useful to debug TLS connection and
     authentication problems.

‘--batch-size=<num>’
     Some email servers (e.g.  smtp.163.com) limit the number emails to
     be sent per session (connection) and this will lead to a failure
     when sending many messages.  With this option, send-email will
     disconnect after sending $<num> messages and wait for a few seconds
     (see –relogin-delay) and reconnect, to work around such a limit.
     You may want to use some form of credential helper to avoid having
     to retype your password every time this happens.  Defaults to the
     ‘sendemail.smtpBatchSize’ configuration variable.

‘--relogin-delay=<int>’
     Waiting $<int> seconds before reconnecting to SMTP server.  Used
     together with –batch-size option.  Defaults to the
     ‘sendemail.smtpReloginDelay’ configuration variable.


Automating
==========

‘--no-[to|cc|bcc]’
     Clears any list of "To:", "Cc:", "Bcc:" addresses previously set
     via config.

‘--no-identity’
     Clears the previously read value of ‘sendemail.identity’ set via
     config, if any.

‘--to-cmd=<command>’
     Specify a command to execute once per patch file which should
     generate patch file specific "To:" entries.  Output of this command
     must be single email address per line.  Default is the value of
     _sendemail.tocmd_ configuration value.

‘--cc-cmd=<command>’
     Specify a command to execute once per patch file which should
     generate patch file specific "Cc:" entries.  Output of this command
     must be single email address per line.  Default is the value of
     ‘sendemail.ccCmd’ configuration value.

‘--[no-]chain-reply-to’
     If this is set, each email will be sent as a reply to the previous
     email sent.  If disabled with "–no-chain-reply-to", all emails
     after the first will be sent as replies to the first email sent.
     When using this, it is recommended that the first file given be an
     overview of the entire patch series.  Disabled by default, but the
     ‘sendemail.chainReplyTo’ configuration variable can be used to
     enable it.

‘--identity=<identity>’
     A configuration identity.  When given, causes values in the
     _sendemail.<identity>_ subsection to take precedence over values in
     the _sendemail_ section.  The default identity is the value of
     ‘sendemail.identity’.

‘--[no-]signed-off-by-cc’
     If this is set, add emails found in the ‘Signed-off-by’ trailer or
     Cc: lines to the cc list.  Default is the value of
     ‘sendemail.signedoffbycc’ configuration value; if that is
     unspecified, default to –signed-off-by-cc.

‘--[no-]cc-cover’
     If this is set, emails found in Cc: headers in the first patch of
     the series (typically the cover letter) are added to the cc list
     for each email set.  Default is the value of _sendemail.cccover_
     configuration value; if that is unspecified, default to
     –no-cc-cover.

‘--[no-]to-cover’
     If this is set, emails found in To: headers in the first patch of
     the series (typically the cover letter) are added to the to list
     for each email set.  Default is the value of _sendemail.tocover_
     configuration value; if that is unspecified, default to
     –no-to-cover.

‘--suppress-cc=<category>’
     Specify an additional category of recipients to suppress the
     auto-cc of:

        • _author_ will avoid including the patch author.

        • _self_ will avoid including the sender.

        • _cc_ will avoid including anyone mentioned in Cc lines in the
          patch header except for self (use _self_ for that).

        • _bodycc_ will avoid including anyone mentioned in Cc lines in
          the patch body (commit message) except for self (use _self_
          for that).

        • _sob_ will avoid including anyone mentioned in the
          Signed-off-by trailers except for self (use _self_ for that).

        • _misc-by_ will avoid including anyone mentioned in Acked-by,
          Reviewed-by, Tested-by and other "-by" lines in the patch
          body, except Signed-off-by (use _sob_ for that).

        • _cccmd_ will avoid running the –cc-cmd.

        • _body_ is equivalent to _sob_ + _bodycc_ + _misc-by_.

        • _all_ will suppress all auto cc values.

     Default is the value of ‘sendemail.suppresscc’ configuration value;
     if that is unspecified, default to _self_ if –suppress-from is
     specified, as well as _body_ if –no-signed-off-cc is specified.

‘--[no-]suppress-from’
     If this is set, do not add the From: address to the cc: list.
     Default is the value of ‘sendemail.suppressFrom’ configuration
     value; if that is unspecified, default to –no-suppress-from.

‘--[no-]thread’
     If this is set, the In-Reply-To and References headers will be
     added to each email sent.  Whether each mail refers to the previous
     email (‘deep’ threading per _git format-patch_ wording) or to the
     first email (‘shallow’ threading) is governed by
     "–[no-]chain-reply-to".

     If disabled with "–no-thread", those headers will not be added
     (unless specified with –in-reply-to).  Default is the value of the
     ‘sendemail.thread’ configuration value; if that is unspecified,
     default to –thread.

     It is up to the user to ensure that no In-Reply-To header already
     exists when _git send-email_ is asked to add it (especially note
     that _git format-patch_ can be configured to do the threading
     itself).  Failure to do so may not produce the expected result in
     the recipient’s MUA.


Administering
=============

‘--confirm=<mode>’
     Confirm just before sending:

        • _always_ will always confirm before sending

        • _never_ will never confirm before sending

        • _cc_ will confirm before sending when send-email has
          automatically added addresses from the patch to the Cc list

        • _compose_ will confirm before sending the first message when
          using –compose.

        • _auto_ is equivalent to _cc_ + _compose_

     Default is the value of ‘sendemail.confirm’ configuration value; if
     that is unspecified, default to _auto_ unless any of the suppress
     options have been specified, in which case default to _compose_.

‘--dry-run’
     Do everything except actually send the emails.

‘--[no-]format-patch’
     When an argument may be understood either as a reference or as a
     file name, choose to understand it as a format-patch argument
     (‘--format-patch’) or as a file name (‘--no-format-patch’).  By
     default, when such a conflict occurs, git send-email will fail.

‘--quiet’
     Make git-send-email less verbose.  One line per email should be all
     that is output.

‘--[no-]validate’
     Perform sanity checks on patches.  Currently, validation means the
     following:

        • Invoke the sendemail-validate hook if present (see
          githooks(5)).

        • Warn of patches that contain lines longer than 998 characters
          unless a suitable transfer encoding (_auto_, _base64_, or
          _quoted-printable_) is used; this is due to SMTP limits as
          described by http://www.ietf.org/rfc/rfc5322.txt
          (http://www.ietf.org/rfc/rfc5322.txt).

     Default is the value of ‘sendemail.validate’; if this is not set,
     default to ‘--validate’.

‘--force’
     Send emails even if safety checks would prevent it.


Information
===========

‘--dump-aliases’
     Instead of the normal operation, dump the shorthand alias names
     from the configured alias file(s), one per line in alphabetical
     order.  Note, this only includes the alias name and not its
     expanded email addresses.  See _sendemail.aliasesfile_ for more
     information about aliases.


CONFIGURATION
*************

sendemail.aliasesFile
     To avoid typing long email addresses, point this to one or more
     email aliases files.  You must also supply
     ‘sendemail.aliasFileType’.

sendemail.aliasFileType
     Format of the file(s) specified in sendemail.aliasesFile.  Must be
     one of _mutt_, _mailrc_, _pine_, _elm_, or _gnus_, or _sendmail_.

     What an alias file in each format looks like can be found in the
     documentation of the email program of the same name.  The
     differences and limitations from the standard formats are described
     below:

     sendmail

             • Quoted aliases and quoted addresses are not supported:
               lines that contain a ‘"’ symbol are ignored.

             • Redirection to a file (‘/path/name’) or pipe (‘|command’)
               is not supported.

             • File inclusion (‘:include: /path/name’) is not supported.

             • Warnings are printed on the standard error output for any
               explicitly unsupported constructs, and any other lines
               that are not recognized by the parser.

sendemail.multiEdit
     If true (default), a single editor instance will be spawned to edit
     files you have to edit (patches when ‘--annotate’ is used, and the
     summary when ‘--compose’ is used).  If false, files will be edited
     one after the other, spawning a new editor each time.

sendemail.confirm
     Sets the default for whether to confirm before sending.  Must be
     one of _always_, _never_, _cc_, _compose_, or _auto_.  See
     ‘--confirm’ in the previous section for the meaning of these
     values.


EXAMPLES
********


Use gmail as the smtp server
============================

To use _git send-email_ to send your patches through the GMail SMTP
server, edit ~/.gitconfig to specify your account settings:

     [sendemail]
             smtpEncryption = tls
             smtpServer = smtp.gmail.com
             smtpUser = yourname@gmail.com
             smtpServerPort = 587

   If you have multi-factor authentication set up on your Gmail account,
you will need to generate an app-specific password for use with _git
send-email_.  Visit
https://security.google.com/settings/security/apppasswords
(https://security.google.com/settings/security/apppasswords) to create
it.

   If you do not have multi-factor authentication set up on your Gmail
account, you will need to allow less secure app access.  Visit
https://myaccount.google.com/lesssecureapps
(https://myaccount.google.com/lesssecureapps) to enable it.

   Once your commits are ready to be sent to the mailing list, run the
following commands:

     $ git format-patch --cover-letter -M origin/master -o outgoing/
     $ edit outgoing/0000-*
     $ git send-email outgoing/*

   The first time you run it, you will be prompted for your credentials.
Enter the app-specific or your regular password as appropriate.  If you
have credential helper configured (see git-credential(1)), the password
will be saved in the credential store so you won’t have to type it the
next time.

   Note: the following core Perl modules that may be installed with your
distribution of Perl are required: MIME::Base64, MIME::QuotedPrint,
Net::Domain and Net::SMTP. These additional Perl modules are also
required: Authen::SASL and Mail::Address.


SEE ALSO
********

git-format-patch(1), git-imap-send(1), mbox(5)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-send-pack,  Up: Top

Name
****

git-send-pack — Push objects over Git protocol to another repository


Synopsis
********

     git send-pack [–all] [–dry-run] [–force] [–receive-pack=<git-receive-pack>]
                     [–verbose] [–thin] [–atomic]
                     [–[no-]signed|–signed=(true|false|if-asked)]
                     [<host>:]<directory> [<ref>…]


DESCRIPTION
***********

Usually you would want to use _git push_, which is a higher-level
wrapper of this command, instead.  See git-push(1).

   Invokes _git-receive-pack_ on a possibly remote repository, and
updates it from the current repository, sending named refs.


OPTIONS
*******

‘--receive-pack=<git-receive-pack>’
     Path to the _git-receive-pack_ program on the remote end.
     Sometimes useful when pushing to a remote repository over ssh, and
     you do not have the program in a directory on the default $PATH.

‘--exec=<git-receive-pack>’
     Same as –receive-pack=<git-receive-pack>.

‘--all’
     Instead of explicitly specifying which refs to update, update all
     heads that locally exist.

‘--stdin’
     Take the list of refs from stdin, one per line.  If there are refs
     specified on the command line in addition to this option, then the
     refs from stdin are processed after those on the command line.

     If ‘--stateless-rpc’ is specified together with this option then
     the list of refs must be in packet format (pkt-line).  Each ref
     must be in a separate packet, and the list must end with a flush
     packet.

‘--dry-run’
     Do everything except actually send the updates.

‘--force’
     Usually, the command refuses to update a remote ref that is not an
     ancestor of the local ref used to overwrite it.  This flag disables
     the check.  What this means is that the remote repository can lose
     commits; use it with care.

‘--verbose’
     Run verbosely.

‘--thin’
     Send a "thin" pack, which records objects in deltified form based
     on objects not included in the pack to reduce network traffic.

‘--atomic’
     Use an atomic transaction for updating the refs.  If any of the
     refs fails to update then the entire push will fail without
     changing any refs.

‘--[no-]signed’
‘--signed=(true|false|if-asked)’
     GPG-sign the push request to update refs on the receiving side, to
     allow it to be checked by the hooks and/or be logged.  If ‘false’
     or ‘--no-signed’, no signing will be attempted.  If ‘true’ or
     ‘--signed’, the push will fail if the server does not support
     signed pushes.  If set to ‘if-asked’, sign if and only if the
     server supports signed pushes.  The push will also fail if the
     actual call to ‘gpg --sign’ fails.  See git-receive-pack(1) for the
     details on the receiving end.

‘--push-option=<string>’
     Pass the specified string as a push option for consumption by hooks
     on the server side.  If the server doesn’t support push options,
     error out.  See git-push(1) and githooks(5) for details.

<host>
     A remote host to house the repository.  When this part is
     specified, _git-receive-pack_ is invoked via ssh.

<directory>
     The repository to update.

<ref>…
     The remote refs to update.


SPECIFYING THE REFS
*******************

There are three ways to specify which refs to update on the remote end.

   With ‘--all’ flag, all refs that exist locally are transferred to the
remote side.  You cannot specify any _<ref>_ if you use this flag.

   Without ‘--all’ and without any _<ref>_, the heads that exist both on
the local side and on the remote side are updated.

   When one or more _<ref>_ are specified explicitly (whether on the
command line or via ‘--stdin’), it can be either a single pattern, or a
pair of such pattern separated by a colon ":" (this means that a ref
name cannot have a colon in it).  A single pattern _<name>_ is just a
shorthand for _<name>:<name>_.

   Each pattern pair consists of the source side (before the colon) and
the destination side (after the colon).  The ref to be pushed is
determined by finding a match that matches the source side, and where it
is pushed is determined by using the destination side.  The rules used
to match a ref are the same rules used by _git rev-parse_ to resolve a
symbolic ref name.  See git-rev-parse(1).

   • It is an error if <src> does not match exactly one of the local
     refs.

   • It is an error if <dst> matches more than one remote refs.

   • If <dst> does not match any remote ref, either

        • it has to start with "refs/"; <dst> is used as the destination
          literally in this case.

        • <src> == <dst> and the ref that matched the <src> must not
          exist in the set of remote refs; the ref matched <src> locally
          is used as the name of the destination.

   Without ‘–force‘, the <src> ref is stored at the remote only if <dst>
does not exist, or <dst> is a proper subset (i.e.  an ancestor) of
<src>.  This check, known as "fast-forward check", is performed in order
to avoid accidentally overwriting the remote ref and lose other peoples’
commits from there.

   With ‘--force’, the fast-forward check is disabled for all refs.

   Optionally, a <ref> parameter can be prefixed with a plus _+_ sign to
disable the fast-forward check only on that ref.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-sh-i18n--envsubst,  Up: Top

Name
****

git-sh-i18n–envsubst — i18nフォールバック用のGit独自のenvsubst(1)


Synopsis
********

     eval_gettext () {
             printf "%s" "$1" | (
                     export PATH $(git sh-i18n–envsubst –variables "$1");
                     git sh-i18n–envsubst "$1"
             )
     }


DESCRIPTION
***********

これは、全くもってエンドユーザーが実行するコマンドではありません。この文
書は、配管スクリプトを研究している、および/または新しいスクリプトを作成
している人々を対象としています。

   _git sh-i18n–envsubst_ は、GNU gettextパッケージに付属するGNU
‘envsubst(1)’ プログラムのGit用簡略版です。これは、 git-sh-i18n(1) によ
って内部的に使用され、 ‘eval_gettext’ 関数に渡された変数を差し込みます。

   インターフェイスについては何も約束されていません。また、このプログラ
ムが次のバージョンのGitで警告なしに消えることはありません。使用しないで
ください。(No promises are made about the interface, or that this
program won’t disappear without warning in the next version of Git.
Don’t use it.)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-sh-i18n,  Up: Top

Name
****

git-sh-i18n — シェルスクリプトのためのGit用i18nセットアップコード


Synopsis
********

     . "$(git –exec-path)/git-sh-i18n"


DESCRIPTION
***********

これは、全くもってエンドユーザーが実行するコマンドではありません。この文
書は、磁器風のスクリプトを研究している、および/または新しいスクリプトを
書いている人々を対象としています。

   ’git sh-i18n スクリプトレットは、シェルスクリプト内に実装されたGitの
磁器プログラムによって、(‘.`を使用してsourceコマンドで)実行されるように
設計されています。 これは、 `gettext.sh’ スクリプトを介してアクセス可能
なGNU ‘gettext’ および ‘eval_gettext’ 関数のラッパーを提供し、GNU
gettextのないシステムではこれらが自動的に使われます(pass-through
fallbacks)。


FUNCTIONS
*********

gettext
     現在、 ‘printf(1)’ のラッパーとして実装されているダミーのフォールス
     ルー関数。今後のバージョンでは、実際のgettext実装に置き換えられる事
     でしょう。

eval_gettext
     現在、 ‘printf(1)’ のラッパーとして実装されているダミーのフォールス
     ルー関数で、その変数達は git-sh-i18n–envsubst(1) ヘルパーによって展
     開されます。今後のバージョンでは、実際のgettext実装に置き換えられる
     事でしょう。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-sh-setup,  Up: Top

Name
****

git-sh-setup — 一般的なGitシェルスクリプトのセットアップコード


Synopsis
********

     . "$(git –exec-path)/git-sh-setup"


DESCRIPTION
***********

これは、エンドユーザーが実行するコマンドではありません。この文書は、磁器
風のスクリプトを研究している、および/または 新しいスクリプトを書いている
人々を対象としています。

   _git sh-setup_ スクリプトレットは、他のシェルスクリプトから( ‘.’ を使
用して)実行(source)され、通常のGitディレクトリと、いくつかのヘルパーシェ
ル関数を指す、いくつかの環境変数を設定するように設計されています。

   実行(source)前に、スクリプトでいくつかの環境変数を設定する必要があり
ます。‘USAGE’ (および存在する場合は ‘LONG_USAGE’ )は、 ‘usage()’ シェル
関数によって与えられるメッセージを定義するために使用されます。スクリプト
が作業ツリーのサブディレクトリから実行できる場合は、 ‘SUBDIRECTORY_OK’ を
設定できます(一部のコマンドは実行できません)。

   スクリプトレットは ‘GIT_DIR’ と ‘GIT_OBJECT_DIRECTORY’ シェル変数を設
定しますが、それらを環境にエクスポートしません。


FUNCTIONS
*********

die
     提供されたエラーメッセージを標準エラーストリームに出力した後に終了
     します。

usage
     使用法メッセージで die します。

set_reflog_action
     すでに設定されていない限り、 ‘GIT_REFLOG_ACTION’ 環境変数を指定の文
     字列(通常はプログラムの名前)に設定します。スクリプトが、refを更新す
     る ‘git’ コマンドを実行するたびに、この文字列の値を使用してreflogエ
     ントリが作成され、どのコマンドがrefを更新したかの記録が残されます。

git_editor
     特定のファイルに対してユーザーが選択したエディター(GIT_EDITOR また
     は core.editor または VISUAL または EDITOR)を実行しますが、エディタ
     ーが指定されておらず、端末がダムの場合はエラーになります。

is_bare_repository
     ‘true’ または ‘false’ を標準出力ストリームに出力して、リポジトリが
     ベアリポジトリであるかどうか(つまり、関連する作業ツリーがないかどう
     か)を示します。

cd_to_toplevel
     作業ツリーのトップレベルまでchdirを実行します。

require_work_tree
     現在のディレクトリがリポジトリの作業ツリー内にあるかどうかを確認し
     、そうでない場合は停止(die)します。

require_work_tree_exists
     リポジトリに関連付けられている作業ツリーが存在するかどうかを確認し
     、存在しない場合は停止(die)します。多くの場合、cd_to_toplevelを呼び
     出す前に実行されますが、作業ツリーがない場合は実行できません。

require_clean_work_tree <action> [<hint>]
     リポジトリに関連付けられている作業ツリーとインデックスに、追跡され
     たファイルへのコミットされていない変更がないことを確認します。それ
     以外の場合は、 ‘Cannot <action>: <reason>. <hint>’ の形式のエラーメ
     ッセージを出力し、dieします。 例:

          require_clean_work_tree rebase "Please commit or stash them."

get_author_ident_from_commit
     特定のコミットの GIT_AUTHOR_NAME と GIT_AUTHOR_EMAIL と
     GIT_AUTHOR_DATE 変数を設定するためにevalで使用するコードを出力しま
     す。

create_virtual_base
     最初のファイルを変更して、2番目のファイルと共通の行だけが残るように
     します。共通の資料が不十分な場合、最初のファイルは空のままになりま
     す。 結果は、3方向マージの仮想ベース入力として適しています。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-shell,  Up: Top

Name
****

git-shell — GitのみのSSHアクセス用の制限付きログインシェル


Synopsis
********

     chsh -s $(command -v git-shell) <user>
     git clone <user>@localhost:/path/to/repo.git
     ssh <user>@localhost


DESCRIPTION
***********

これは、制限されたGitアクセスを提供するためのSSHアカウントのログインシェ
ルです。プル/プッシュ機能を実装するサーバー側のGitコマンドと、ユーザーの
ホームディレクトリの ‘git-shell-commands’ という名前のサブディレクトリに
あるカスタムコマンドの実行のみを許可します。


COMMANDS
********

_git shell_ は、 ‘-c’ オプションの後に以下のコマンドを受け入れます:

_git receive-pack <argument>_
_git upload-pack <argument>_
_git upload-archive <argument>_
     対応するサーバー側コマンドを呼び出して、クライアントの「git push」
     または「git fetch」または「git archive –remote」リクエストをサポー
     トします。

_cvs server_
     CVSサーバーを模倣します。 git-cvsserver(1) 参照。

   ‘~/git-shell-commands’ ディレクトリが存在する場合、 _git shell_ は、
ユーザーのホームディレクトリから "‘git-shell-commands/<command>
<arguments>’" を実行することにより他のカスタムコマンドも処理します。


INTERACTIVE USE
***************

デフォルトでは、上記のコマンドは ‘-c’ オプションでのみ実行できます。シェ
ルはインタラクティブではありません。

   ‘~/git-shell-commands’ ディレクトリが存在する場合、 _git shell_ をイ
ンタラクティブに実行することもできます(引数なしで)。 ‘help’ コマンドが
‘git-shell-commands’ ディレクトリにある場合、許可されたアクションの概要
をユーザーに提供するために実行されます。次に、 ‘git> ‘ プロンプトが表示
され、「git-shell-commands」ディレクトリから任意のコマンドを入力すること
ができます。「exit」を使用すれば接続を閉じることができます。

   通常、このモードは、ユーザーがアクセスできるリポジトリの一覧表示、リ
ポジトリの作成、削除、名前変更、またはリポジトリの説明と権限の変更を可能
にする管理インターフェイスとして使用されます。

   ‘no-interactive-login’ コマンドが存在する場合、それが実行され、対話型
シェルが中止(abort)されます。


EXAMPLES
********

インタラクティブログインを無効にするには、代わりにgreeting(挨拶)を表示し
ます:

     $ chsh -s /usr/bin/git-shell
     $ mkdir $HOME/git-shell-commands
     $ cat >$HOME/git-shell-commands/no-interactive-login <<\EOF
     #!/bin/sh
     printf '%s\n' "Hi $USER! You've successfully authenticated, but I do not"
     printf '%s\n' "provide interactive shell access."
     exit 128
     EOF
     $ chmod +x $HOME/git-shell-commands/no-interactive-login

   git-cvsserverアクセスを有効にするには(なお、git-shell-commandsディレ
クトリを作成するとインタラクティブログインが可能になるため、通常、上記の
「no-interactive-login」の例が前提条件として必要です):

     $ cat >$HOME/git-shell-commands/cvs <<\EOF
     if ! test $# = 1 && test "$1" = "server"
     then
             echo >&2 "git-cvsserver only handles \"server\""
             exit 1
     fi
     exec git cvsserver server
     EOF
     $ chmod +x $HOME/git-shell-commands/cvs


SEE ALSO
********

ssh(1), git-daemon(1), contrib/git-shell-commands/README


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-shortlog,  Up: Top

Name
****

git-shortlog — ’git log’ の出力を要約します。


Synopsis
********

     git shortlog [<options>] [<revision range>] [[–] <path>…]
     git log –pretty=short | git shortlog [<options>]


DESCRIPTION
***********

’git log’の出力を、リリースアナウンスに含めるのに適した形式で要約します
。各コミットは、作者とタイトルごとにグループ化されます。

   加えて、「[PATCH]」はコミットの説明から削除されます。

   コマンドラインでリビジョンが渡されず、かつ、標準入力が端末ではないか
または現在のブランチがない場合、「git shortlog」は、現在のリポジトリを参
照せずに、標準入力から読み取られたログの概要を出力します。


OPTIONS
*******

‘-n’
‘--numbered’
     作者のアルファベット順ではなく、作者のコミット数に従って出力を並べ
     替えます。

‘-s’
‘--summary’
     コミットの説明を抑制し、コミット数の要約のみを提供します。

‘-e’
‘--email’
     各作者のメールアドレスを表示します。

‘--format[=<format>]’
     コミットの件名の代わりに、他の情報を使用して各コミットを説明します
     。 ‘<format>’ は、 ‘* [%h] %s’ など 、 ‘git log’ の ‘--format’ オプ
     ションで受け入れられる任意の文字列にすることができます。
     (git-log(1) の「PRETTY FORMATS」セクションを参照してください。)

          pretty-printされた各コミットは、表示される前に再ラップ(rewrapp)されます。

‘--group=<type>’
     グループは ‘<type>’ に基づいてコミットします。 ‘--group’ オプション
     が指定されていない場合、デフォルトは ‘author’ です。 ‘<type>’ は以
     下のいずれかです:

        • ‘author’ : コミットは作成者ごとにグループ化されます

        • ‘committer’ : コミットはコミッターによってグループ化されます(
          ‘-c’ と同じ)

        • ‘trailer:<field>’ : ‘<field>’ は大文字と小文字を区別しないコミ
          ットメッセージトレーラーとして解釈されます
          (git-interpret-trailers(1) 参照)。たとえば、プロジェクトで
          ‘Reviewed-by’ のトレーラーを使用している場合、 ‘git shortlog
          -ns --group=trailer:reviewed-by’ を使用して誰がレビューしてい
          るかを確認できます。

          注意: トレーラーを含まないコミットはカウントされないことに注意
          してください。同様に、複数のトレーラーを使用したコミット(複数
          のサインオフなど)は、複数回カウントされる場合があります(ただし
          、そのコミットの一意のトレーラー値ごとに1回のみです)。

          shortlog は、各トレーラー値を ‘name <email>’ ID としてパースし
          ようとします。成功すると、mailmapが適用され、 ‘--email’ オプシ
          ョンが指定されていない限りemailは省略されます。値をIDとして解
          析できない場合は、その文言通りに取得されます。

     ‘--group’ が複数回指定されている場合、コミットは各値でカウントされ
     ます(ただし、そのコミットの一意の値ごとに1回だけカウントされます)。
     たとえば、 ‘git shortlog --group=author
     --group=trailer:co-authored-by’ は、authorとco-authorの両方をカウン
     トします。

‘-c’
‘--committer’
     ‘--group=committer’ のエイリアスです。

‘-w[<width>[,<indent1>[,<indent2>]]]’
     各行を ‘width’ で折り返すことにより、出力を行折り返します。各エント
     リの最初の行は ‘indent1’ スペースでインデントされ、2行目以降は
     ‘indent2’ スペースでインデントされます。 ‘width’ と ‘indent1’ と
     ‘indent2’ のデフォルトは、それぞれ76と6と9です。

     widthが ‘0’ (ゼロ)の場合、出力の行を折り返すことなくインデントしま
     す。

<revision range>
     指定のリビジョン範囲のコミットのみを表示します。 <revision range> が
     指定されていない場合、デフォルトで ‘HEAD’ (つまり、現在のコミットに
     つながる履歴全体)になります。 ‘origin..HEAD’ は、現在のコミット(つ
     まり、 ‘HEAD’ )から到達可能なすべてのコミットを指定しますが、
     ‘origin’ からは指定しません。 <revision range> のスペルの完全なリス
     トについては、 gitrevisions(7) の「Specifying Ranges」セクションを
     参照してください。

[–] <path>…
     指定されたパスに一致するファイルがどのように作成されたかを説明する
     のに十分なコミットのみを検討してください。

     混乱が生じた場合、パスをオプションまたはリビジョン範囲から分離する
     ために、パスの前に ‘--’ を付ける必要がある場合があります。


Commit Limiting
===============

ここで説明されている特別な表記法を使用してリストする必要があるコミットの
範囲を指定することに加えて、追加のコミット制限が適用される場合があります
。

   より多くのオプションを使用すると、通常、出力がさらに制限されます(たと
えば、‘--since=<date1>`は’<date1>‘より新しいコミットに制限され、
’–grep=<pattern>‘と一緒に使用すると、ログメッセージに’<pattern>‘と一致す
る行があるコミットにさらに制限されます)。

   注意: これらは、‘–reverse‘などのコミット順序およびフォーマットオプシ
ョンの前に適用されることに注意してください。

‘-<number>’
‘-n <number>’
‘--max-count=<number>’
     出力するコミットの数を制限します。

‘--skip=<number>’
     コミット出力の表示を開始する前に、’number’個のコミットをスキップし
     ます。

–since=<date>
‘--after=<date>’
     指定の日付よりも新しいコミットを表示します。

‘--until=<date>’
‘--before=<date>’
     指定の日付より古いコミットを表示します。

‘--author=<pattern>’
‘--committer=<pattern>’
     コミット出力を、指定されたパターン(正規表現)に一致する作者
     (author)/コミッター(committer)ヘッダー行を持つものに制限します。複
     数の ‘--author=<pattern>’ がある場合、作者が指定されたパターンのい
     ずれかに一致するコミットが選択されます(複数の
     ‘--committer=<pattern>’ の場合も同様)。

‘--grep-reflog=<pattern>’
     コミット出力を、指定されたパターン(正規表現)に一致するreflogエント
     リを持つものに制限します。複数の‘–grep-reflog‘を使用すると、指定さ
     れたパターンのいずれかに一致するreflogメッセージを持つコミットが選
     択されます。‘–walk-reflogs‘が使用されていない限り、このオプションを
     使用するとエラーになります。

‘--grep=<pattern>’
     コミット出力を、指定されたパターン(正規表現)に一致するログメッセー
     ジを持つものに制限します。複数の‘–grep=<pattern>‘を使用すると、指定
     されたパターンのいずれかにメッセージが一致するコミットが選択されま
     す(全てに一致するコミットだけを選択したい場合、’–all-match‘を参照し
     てください)。

     ‘–notes‘が有効な場合、ノートからのメッセージは、ログメッセージの一
     部であるかのようにマッチングされます。

‘--all-match’
     コミット出力を、少なくとも1つに一致するものではなく、指定されたすべ
     ての‘–grep‘に一致するものに制限します。

‘--invert-grep’
     コミット出力を、‘–grep=<pattern>‘で指定されたパターンと一致しないロ
     グメッセージを持つものに制限します。

‘-i’
‘--regexp-ignore-case’
     大文字小文字に関係なく、正規表現の制限パターンに一致します。

‘--basic-regexp’
     制限パターンを基本正規表現として扱います。これがデフォルトです。

‘-E’
‘--extended-regexp’
     制限パターンを、デフォルトの基本正規表現の代わりに拡張正規表現とし
     て扱います。

‘-F’
‘--fixed-strings’
     制限パターンを固定文字列として扱います(パターンを正規表現として解釈
     しないでください)。

‘-P’
‘--perl-regexp’
     制限パターンをPerl互換の正規表現として扱います。

     これらのタイプの正規表現のサポートは、コンパイル時オプションに依存
     します。Gitが当該のサポート付きでコンパイルされていない場合、このオ
     プションを提供すると、Gitが死にます(die)。

‘--remove-empty’
     指定されたパスがツリーから見えなくなったら停止(stop)します。

‘--merges’
     マージコミットのみを印刷します。これは‘–min-parents=2‘とまったく同
     じです。

‘--no-merges’
     複数の親を持つコミットを出力しない。これは‘–max-parents=1‘とまった
     く同じです。

‘--min-parents=<number>’
‘--max-parents=<number>’
‘--no-min-parents’
‘--no-max-parents’
     量の多少に関わらず、とにかく複数の親コミットがあるコミットのみを表
     示します。特に、‘--max-parents=1`は’–no-merges‘と同じであり、
     ‘--min-parents=2`は’–merges‘と同じです。‘--max-parents=0`はすべての
     ルートコミットを提供し、’–min-parents=3‘はすべてのタコ足マージ
     (octopus merges)を示します。

     ‘--no-min-parents`と’–no-max-parents‘は、これらの制限を(制限なしに
     )再度リセットします。同等の形式は、‘--min-parents=0’(すべてのコミッ
     トに0個以上の親があります)および‘–max-parents=-1‘(マイナスの数は上
     限がないことを示します)です。

‘--first-parent’
     マージコミットを確認したら、最初の親コミットのみを探索します。この
     オプションは、特定のトピックブランチの進化を表示するときに、より良
     い概要を提供できます。トピックブランチへのマージは、時々更新される
     アップストリームに調整することだけである傾向があり、このオプション
     を使用すると、そのようなマージによって履歴に取り込まれた個々のコミ
     ットを無視できます。

‘--not’
     次に現れる‘–not‘までの間、後続のすべてのリビジョン指定子の’^’プレフ
     ィックス(またはその欠如)の意味を逆にします。

‘--all’
     ‘refs/‘内のすべてのrefが‘HEAD‘とともに、コマンドラインに
     ’<commit>’としてリストされているかのように見せかけます。

‘--branches[=<pattern>]’
     ‘refs/heads‘内のすべてのrefがコマンドラインに’<commit>’としてリスト
     されているかのように見せかけます。_<pattern>’が指定されている場合、
     ブランチを指定されたシェルグロブ(shell glob)に一致するものに制限し
     ます。パターンに_?_または_*’または’[_がない場合、最後に_/*’が含まれ
     ます。

‘--tags[=<pattern>]’
     ‘refs/tags‘内のすべてのrefがコマンドラインに’<commit>’としてリスト
     されているかのように見せかけます。_<pattern>’が指定されている場合は
     、指定されたシェルグロブ(shell glob)に一致するタグにタグを制限しま
     す。パターンに_?_または_*’または’[_がない場合、最後に_/*’が含まれま
     す。

‘--remotes[=<pattern>]’
     ‘refs/remotes‘内のすべてのrefがコマンドラインに’<commit>’としてリス
     トされているかのように見せかけます。_<pattern>’が指定されている場合
     、リモート追跡ブランチを指定されたシェルグロブ(shell glob)に一致す
     るものに制限します。パターンに_?_または_*’または’[_がない場合、最後
     に_/*’が含まれます。

‘--glob=<glob-pattern>’
     シェルグロブ’<glob-pattern>’に一致するすべてのrefがコマンドラインに
     ’<commit>’としてリストされているかのように見せかけます。先頭の
     ’refs/_は、欠落している場合は自動的に先頭に追加されます。パターンに
     _?_または_*’または’[_がない場合、最後に_/*’が含まれます。

‘--exclude=<glob-pattern>’
     次の‘–all‘または‘–branches‘または‘–tags‘または‘–remotes‘または
     ‘–glob‘が別の方法で考慮する’<glob-pattern>’に一致するrefを含めない
     でください。このオプションを繰り返すと、次の‘–all‘または
     ‘–branches‘または‘–tags‘または‘–remotes‘または‘–glob‘オプションまで
     除外パターンが蓄積されます(他のオプションまたは引数は、蓄積されたパ
     ターンをクリアしません)。

     与えられたパターンは、それぞれ‘–branches‘または‘ –tags‘または
     ‘–remotes‘に適用される場合、‘refs/heads‘または‘refs/tags‘または
     ‘refs/remotes‘で始まるべきではありません。‘--glob`または’–all‘に適
     用する場合は、‘refs/‘で始める必要があります。末尾の’/*’を意図してい
     る場合は、明示的に指定する必要があります。

‘--reflog’
     reflogsで言及されているすべてのオブジェクトがコマンドラインに
     ‘<commit>‘としてリストされているかのように見せかけます。

‘--alternate-refs’
     代替リポジトリのref先端として言及されているすべてのオブジェクトがコ
     マンドラインにリストされているかのように見せかけます。代替リポジト
     リは、オブジェクトディレクトリが‘objects/info/alternates‘で指定され
     ているリポジトリです。インクルードされたオブジェクトのセットは、
     ‘core.alternateRefsCommand‘などによって変更できます。
     git-config(1)を参照してください。

‘--single-worktree’
     デフォルトでは、作業ツリーが複数ある場合、‘--all`と’-reflog‘と
     ‘–indexed-objects‘では、すべての作業ツリーが検査されます
     (git-worktree(1)を参照)。このオプションは、現在の作業ツリーのみを調
     べるように強制します。

‘--ignore-missing’
     入力に無効なオブジェクト名が含まれている場合、そもそもその不正な入
     力が行われていないかのように見せかけます。

‘--bisect’
     コマンドラインで、bad bisection ref ‘refs/bisect/bad’ がリストされ
     、その後に ‘--not’ と good bisection ref ‘refs/bisect/good-*’ が続
     くかのように見せかけます。

‘--stdin’
     コマンドラインにリストされている’<commit>’に加えて、標準入力からそ
     れらを読み取ります。‘–‘区切り文字が表示された場合は、コミットの読み
     取りを停止し、パスの読み取りを開始して結果を制限します。

‘--cherry-mark’
     ‘--cherry-pick’（以下を参照）と同様ですが、同等のコミットを省略せず
     に‘=‘と印し、同等でないコミットを’+‘と印します。

‘--cherry-pick’
     コミットの組を対称差(symmetric difference)に制限する場合、「反対側
     」の別のコミットと同じ変更を導入するコミットを省略します。

     たとえば、‘A`と`B`の2つのブランチがある場合、それらの片側だけですべ
     てのコミットを一覧表示する通常の方法は、’–left-right‘を使用すること
     です(‘–left-right‘オプションの説明の以下の例を参照してください)。た
     だし、他のブランチからは(ブランチAと重複しない)厳選されたコミットが
     表示されます(たとえば、「3rd onb」はブランチAからチェリーピックされ
     る可能性があります)。このオプションを使用すると、そのようなコミット
     のペアは出力から除外されます。

‘--left-only’
‘--right-only’
     リストは、対称差のそれぞれの側でのみコミットします。つまり、
     ‘--left-right`で `<’ と印されるのだけか、あるいは‘–left-right‘で
     ‘>‘と印されるものだけです。

     たとえば、‘--cherry-pick --right-only A...B`は、`A`にある、または
     `A`のコミットとパッチと同等のコミットを`B`から省略します。つまり、
     これは`git cherry A B`からの’+‘コミットをリストします。より正確に書
     くと、’–cherry-pick –right-only –no-merges‘により正確なリストを提供
     します。

‘--cherry’
     ‘–right-only –cherry-mark –no-merges‘の同義語です。出力を私たちの側
     のコミットに制限し、フォークされた履歴の反対の側に適用されたものを
     、‘git cherry upstream mybranch‘と同様に‘git log –cherry
     upstream…mybranch‘で印するのに役立ちます。

‘-g’
‘--walk-reflogs’
     コミットの祖先チェーンをたどる代わりに、reflogエントリを最新のもの
     から古いものに移動します。このオプションを使用する場合、除外するコ
     ミットを指定することはできません(つまり、’^commit’や
     ’commit1..commit2’や’commit1...commit2’表記は使用できません)。

     (明らかな理由で、)‘oneline`と`reference`以外の’–pretty‘形式では、こ
     れにより、出力にreflogから取得された2行の追加情報が含まれます。出力
     のreflog指定子は、‘ref@{Nth}’(‘Nth`はreflogの逆時系列インデックス
     (reverse-chronological index))または`ref@{timestamp}’(そのエントリ
     のタイムスタンプ付き)として表示されます。表示は下記のいくつかのルー
     ルに依存します:

       1. 開始点が ‘ref@{Nth}’ として指定されている場合は、インデックス
          形式を表示します。

       2. 開始点が ‘ref@{now}’ として指定されている場合は、タイムスタン
          プ形式を表示します。

       3. 上記のどちらも使用されていないが、コマンドラインで‘–date‘が指
          定されている場合は、‘–date‘で要求された形式でタイムスタンプを
          表示します。

       4. それ以外の場合は、インデックス形式を表示します。

     ‘--pretty = oneline`では、コミットメッセージの前にこの情報が同じ行
     に付けられます。このオプションを’–reverse‘と組み合わせることはでき
     ません。git-reflog(1)も参照してください。

     ‘–pretty=reference‘では、この情報はまったく表示されません。

‘--merge’
     マージが失敗した後、競合があり、マージするすべてのheadに存在しない
     ファイルに関連(touch)するrefを表示します。

‘--boundary’
     除外された境界コミットを出力します。 境界コミットの前には ‘-‘が付い
     ています。


History Simplification
======================

特定の<path>を変更するコミットなど、履歴の一部のみに関心がある場合があり
ます。ただし、「履歴の簡略化」(History Simplification)は2つの部分から成
ります。履歴を簡略化するためにはさまざまな戦略があるためです。その1つは
コミットの選択であり、もう1つはそれを行う方法です。

   以下のオプションは、表示するコミットを選択します:

<paths>
     指定された<パス>を変更するコミットが選択されます。

‘--simplify-by-decoration’
     いくつかのブランチまたはタグによって参照されるコミットが選択されま
     す。

   注意: 意味のある重要な履歴のために、追加のコミットを表示できることに
注意してください。

   以下のオプションは、簡略化の実行方法に影響します。

Default mode
     履歴を、ツリーの最終状態を説明する最も単純な履歴に単純化します。最
     終結果が同じである場合(つまり、同じコンテンツのブランチをマージする
     場合)、いくつかの傍流ブランチ(side branches)を削除するため、最も単
     純です。

‘--show-pulls’
     デフォルトモードからのすべてのコミットを含めますが、最初の親への
     TREESAMEではなく、後の親へのTREESAMEであるマージコミットも含めます
     。このモードは、ブランチに変更を「最初に導入した」マージコミットを
     表示するのに役立ちます。(訳注:TREESAME=pathspecが全く同一であるツリ
     ー)

‘--full-history’
     デフォルトモードと同じですが、一部の履歴を削除しません。

‘--dense’
     選択したコミットのみが表示され、重大で意味のある履歴を持つコミット
     もいくつか表示されます。

‘--sparse’
     簡略化された履歴内のすべてのコミットが表示されます。

‘--simplify-merges’
     このマージに寄与する選択されたコミットがないため、結果の履歴からい
     くつかの不要なマージを削除するための‘–full-history‘への追加オプショ
     ン。

‘--ancestry-path’
     表示するコミットの範囲が指定されている場合(たとえば、
     _commit1..commit2’または’commit2 ^commit1_)、 _commit1_ と
     _commit2_ の間の祖先チェーンに直接存在するコミットのみ、つまり、
     _commit1_ の子孫であり、 _commit2_ の祖先であるコミットを表示します
     。

   より詳細な説明は以下のとおりです。

   <paths> として ‘foo’ を指定したとします。 ‘foo’ !TREESAME を変更する
コミットを呼び出し、残りをTREESAMEと呼びます。( ‘foo’ のためにフィルタリ
ングされた差分では、それぞれ異なって見えたりたり等しく見えたりします。）

   以下、簡略化設定の違いを説明するために、同じ履歴例を使います。このコ
ミットグラフでは、ファイル ‘foo’ をフィルタリングしていると想定していま
す:

               .-A---M---N---O---P---Q
              /     /   /   /   /   /
             I     B   C   D   E   Y
              \   /   /   /   /   /
               `-------------'   X

   履歴 A—Q の水平線は、各マージの最初の親と見なされます。その各コミット
は以下のとおりです:

   • ‘I’ は最初のコミットであり、ファイル ‘foo’ が内容 “asdf” で存在し、
     ファイル ‘quux’ は内容 “quux” で存在します。最初のコミットは空のツ
     リーと比較されるため、‘I’ は !TREESAME です。

   • ‘A’ では、 ‘foo’ には “foo” だけが含まれています。

   • ‘B’ には ‘A’ と同じ変更が含まれています。そのマージ ‘M’ は些細なこ
     とであり、したがってすべての親にとって TREESAME です。

   • ‘C’ は ‘foo’ を変更しませんが、そのマージ ‘N’ はそれを “foobar” に
     変更するので、どの親にとっても TREESAME ではありません。

   • ‘D’ は ‘foo’ を “baz” に設定します。そのマージ ‘O’ は、 ‘N’ と ‘D’
     から “foobarbaz” への文字列を結合します。つまり、どの親にとっても
     TREESAME ではありません。

   • ‘E’ は ‘quux’ を “xyzzy” に変更し、そのマージ ‘P’ は文字列を
     “quuxxyzzy” に結合します。 ‘P’ は ‘O’ に対して TREESAME ですが、
     ‘E’ に対してはそうではありません。

   • ‘X’ は、新ファイル ‘side’ を追加し、 ‘Y’ がそれを変更した独立したル
     ートコミットです。 ‘Y’ は ‘X’ へのTREESAMEです。そのマージ ‘Q’ は
     ‘P’ に ‘side’ を追加し、 ‘Q’ は ‘P’ にはTREESAMEですが、‘Y’ に対し
     てはそうではありません。

   ‘rev-list’ は、 ‘--full-history’ および/または、( ‘--parents’ または
‘--children’ を介して)親の書き換えが使用されているかどうかに基づいて、コ
ミットを含めたり除外したりして、履歴を逆方向にウォークスルーします。以下
の設定が可能です。

Default mode
     コミットは、どの親に対してもTREESAMEでない場合に含まれます(これは変
     更できますが、以下の ‘--sparse’ を参照してください)。コミットがマー
     ジであり、一方の親に対するTREESAMEであった場合は、その親のみをフォ
     ローします。(TREESAMEの親が複数ある場合でも、そのうちの1つだけをフ
     ォローします)。それ以外の場合は、すべての親をフォローします。

     これにより、以下のようになります:

                    .-A---N---O
                   /     /   /
                  I---------D

     TREESAMEの親のみに従うルールが利用可能な場合は、 ‘B’ を検討対象から
     完全に削除したことに注意してください。 ‘C’ は ‘N’ を介して考慮され
     ましたが、しかしそれはTREESAMEです。ルートコミットは空のツリーと比
     較されるため、 ‘I’ は !TREESAME です。

     親子関係は ‘--parents’ でのみ表示されますが、デフォルトモードで選択
     されたコミットには影響しないため、親の行を示しました。

‘--full-history without parent rewriting’
     このモードは、デフォルトとはある一点で異なります。つまり、いずれか
     の親に対してTREESAMEであっても、常にマージのすべての親に従います。
     マージの複数の側にコミットが含まれている場合でも、これはマージ自体
     が含まれていることを意味するものではありません！ 例では以下のように
     なります。

                  I  A  B  N  D  O  P  Q

     ‘M’ は、両方の親にとってTREESAMEであるため、除外されました。 ‘E’ と
     ‘C’ と ‘B’ をすべて巡りましたが、 ‘B’ だけが !TREESAME だったので、
     他は表示されません。

     注意: 親の書き換え(rewrite)がないと、コミット間の親子関係について話
     す(talk)ことは実際には不可能であるため、それらが切断されている
     (disconnected)ことを示していることに注意してください。

‘--full-history with parent rewriting’
     通常のコミットは !TREESAME の場合にのみ含まれます(これは変更できま
     すが、以下の ‘--sparse’ を参照してください)。

     マージは常に含まれます。ただし、親リストは書き直されます。各親に沿
     って、自分自身に含まれていないコミットを削除します。 これにより以下
     のようになります。

                    .-A---M---N---O---P---Q
                   /     /   /   /   /
                  I     B   /   D   /
                   \   /   /   /   /
                    `-------------'

     上記を書き直さずに ‘--full-history’ と比較してください。 ‘E’ は
     TREESAMEであるため削除されましたが、Pの親リストは ‘E’ の親 ‘I’ を含
     むように書き直されていることに注意してください。 ‘C’ と ‘N’ および
     ‘X’ と ‘Y’ と ‘Q’ についても同じことが起こりました。

   上記の設定に加えて、あなたはTREESAMEが包含に影響を与えるかどうかを変
更できます:

‘--dense’
     巡ったコミットは、親にとってTREESAMEでない場合に含まれます。

‘--sparse’
     巡ったすべてのコミットが含まれます。

     ‘--full-history’ がなくても、これによりマージが単純化されることに注
     意してください。親の1つがTREESAMEの場合、その1つだけに従うため、マ
     ージの反対側を巡ることはありません。

‘--simplify-merges’
     最初に、親を書き換えた ‘--full-history’ と同じ方法で履歴グラフを作
     成します(上記を参照)。

     それから、以下のルールに従って、各コミット ‘C’ を最終履歴内の置換
     ‘C'’ に単純化します:

        • ‘C'’ を ‘C’ にセットします。

        • ‘C'’ の各親 ‘P’ をその簡略化された ‘P'’ に置き換えます。その過
          程で、他の親の祖先であるか、ルートである親を削除すると、
          TREESAMEが空のツリーにコミットされ、重複が削除されますが、
          TREESAMEであるすべての親を削除しないように注意してください。

        • この親の書き換え後、 ‘C'’ がルートまたはマージコミット(0または
          >1 の親を持つ)、境界コミット、または !TREESAMEである場合、それ
          は残ります。それ以外の場合は、唯一の親に置き換えられます。

     この効果は、親の書き換えを使用した ‘--full-history’ と比較すること
     で最もよく示されます。例は以下のようになります:

                    .-A---M---N---O
                   /     /       /
                  I     B       D
                   \   /       /
                    `---------'

     注意: ‘--full-history’ に対する ‘N’ と ‘P’ と ‘Q’ の主な違いに注意
     してください:

        • ‘N’ の親リストは、他の親 ‘M’ の祖先であるため、 ‘I’ が削除され
          ました。それでも、 !TREESAME なので ‘N’ が残りました。

        • ‘P’ の親リストも同様に ‘I’ が削除されました。 ‘P’ は、親が1つ
          で TREESAMEであるため、完全に削除されました。

        • ‘Q’ の親リストでは、 ‘Y’ が ‘X’ に簡略化されていました。その後
          、 ‘X’ はTREESAMEルートであったため、削除されました。 ‘Q’ は、
          親が1つで TREESAMEであるため、完全に削除されました。

   利用可能な別の簡略化モードがあります:

‘--ancestry-path’
     表示されるコミットを、指定されたコミット範囲内の “from” コミットと
     “to” コミットの間の祖先チェーンに直接あるコミットに制限します。つま
     り、 “to” コミットの祖先であるコミットと “from” コミットの子孫であ
     るコミットのみを表示します。

     ユースケースの例として、以下のコミット履歴について考えます:

                      D---E-------F
                     /     \       \
                    B---C---G---H---I---J
                   /                     \
                  A-------K---------------L--M

     通常の _D..M_ は、 ‘M’ の祖先であるコミットのセットを計算しますが、
     ‘D’ の祖先であるコミットは除外します。 これは、「 ‘M’ には ‘D’ には
     存在しなかったものがある」という意味で、 ‘D’ 以降の ‘M`に至るまでの
     歴史に何が起こったのかを知るのに役立ちます。この例の結果は、 `A’ と
     ‘B’ (そしてもちろん ‘D’ 自体)を除くすべてのコミットになります。

     ただし、 ‘M’ のコミットが ‘D’ で入ったバグで汚染されており、修正が
     必要な場合は、実際には ‘D’ の子孫である _D..M_ のサブセットのみを表
     示する必要があります。つまり、 ‘C’ と ‘K’ を除外します。これはまさ
     に ‘--ancestry-path’ オプションが行うことです。これを _D..M_ 範囲に
     適用すると、以下のようになります:

                          E-------F
                           \       \
                            G---H---I---J
                                         \
                                          L--M

   別のオプション ‘--show-pulls’ について説明する前に、新しいサンプル履
歴を作成する必要があります。

   簡略化された履歴を見るときにユーザーが直面する一般的な問題は、ファイ
ルを変更したことがわかっているコミットが、ファイルの簡略化された履歴に表
示されないことです。そこで、新しい例を示し、その場合に ‘--full-history’
や ‘--simplify-merges’ などのオプションがどのように機能するかを示しまし
ょう。

               .-A---M-----C--N---O---P
              /     / \  \  \/   /   /
             I     B   \  R-'`-Z'   /
              \   /     \/         /
               \ /      /\        /
                `---X--'  `---Y--'

   この例では、 ‘I’ が ‘file.txt’ を作成し、それが ‘A’ と‘B‘ と ‘X’ にて
さまざまな方法で変更されたとします。ひとり親のコミット ‘C’ と ‘Z’ と ‘Y’
は ‘file.txt’ を変更していません。マージコミット ‘M’ は、マージの競合を
解決して、 ‘A’ と ‘B’ の両方の変更を含めることによって作成されたため、ど
ちらにもTREESAMEではありません。ただし、マージコミット ‘R’ は、 ‘M’ の
‘file.txt`の内容を無視し、 `X’ の ‘file.txt’ の内容のみを取得することに
よって作成されました。 したがって、 ‘R’ は ‘X’ へのTREESAMEですが、 ‘M’
はそうではありません。最後に、 ‘N’ を作成するための自然なマージ解決は、
‘R’ で ‘file.txt’ の内容を取得することです。したがって、 ‘N’ は ‘C’ では
なく ‘R’ へのTREESAMEです。マージコミット ‘O’ と ‘P’ は、最初の親には
TREESAMEですが、2番目の親である ‘Z’ と ‘Y’ にはついてはそうではありませ
ん。

   デフォルトモードを使用する場合、 ‘N’ と ‘R’ は両方ともTREESAMEの親を
持っているため、これらのエッジはウォークされ、他のエッジは無視されます。
結果の履歴グラフは以下のとおりです:

             I---X

   ‘--full-history’ を使用する場合、Gitはすべてのエッジを巡ります。これ
により、コミット ‘A’ と ‘B’ と マージ ‘M’ が検出されますが、マージコミッ
ト ‘O’ と ‘P’ も明らかになります。 親を書き換えると、結果のグラフは以下
のようになります:

               .-A---M--------N---O---P
              /     / \  \  \/   /   /
             I     B   \  R-'`--'   /
              \   /     \/         /
               \ /      /\        /
                `---X--'  `------'

   ここで、マージコミット ‘O’ と ‘P’ は、実際には ‘file.txt’ への変更を
提供しなかったため、余分なノイズを提供します。古いバージョンの
‘file.txt’ に基づいたトピックのみをマージしました。これは、多くの寄稿者
が並行して作業し、トピックブランチを単一のトランクに沿ってマージするワー
クフローを使用するリポジトリの一般的な問題です。開発に関係のないマージが
‘--full-history’ の結果に表示されます。

   ‘--simplify-merges’ オプションを使用すると、コミット ‘O’ と ‘P’ が結
果から消えます。 これは、 ‘O’ と ‘P’ の書き直された2番目の親が、最初の親
から到達可能であるためです。これらのエッジが削除されると、コミットは、親
にとってTREESAMEである単一の親のコミットのように見えます。これはコミット
‘N’ にも発生し、以下のような履歴ビューが表示されます:

               .-A---M--.
              /     /    \
             I     B      R
              \   /      /
               \ /      /
                `---X--'

   このビューでは、 ‘A’ と ‘B’ と ‘X’ からの重要なひとり親の変更がすべて
表示されます。また、慎重に解決されたマージ ‘M’ とそれほど慎重に解決され
ていないマージ ‘R’ も表示されます。これは通常、コミット ‘A’ と ‘B’ がデ
フォルトのビューの履歴から「消えた」理由を判断するのに十分な情報です。た
だし、このアプローチにはいくつかの問題があります。

   最初の問題はパフォーマンスです。以前のオプションとは異なり、
‘--simplify-merges’ オプションでは、単一の結果を返す前にコミット履歴全体
をウォークする必要があります。これにより、非常に大規模なリポジトリでこの
オプションを使用するのが難しくなる可能性があります。

   2番目の問題は監査の1つです。多くの寄稿者が同じリポジトリで作業してい
る場合、どのマージコミットが重要なブランチに変更を導入したかが重要です。
上記の問題のあるマージ ‘R’ は、重要なブランチにマージするために使用され
たマージコミットではない可能性があります。 代わりに、マージ ‘N’ を使用し
て ‘R’ と ‘X’ を重要なブランチにマージしました。このコミットには、変更
‘X’ がコミットメッセージの ‘A’ と ‘B’ からの変更を上書きするようになった
理由に関する情報が含まれている可能性があります。

‘--show-pulls’
     デフォルトの履歴に表示されるコミットに加えて、最初の親には
     TREESAMEではなく、後の親にはTREESAMEである各マージコミットを表示し
     ます。

     マージコミットが ‘--show-pulls’ に含まれている場合、マージは別のブ
     ランチから変更を「プル」したかのように扱われます。この例で
     ‘--show-pulls’ を使用すると(他のオプションは使用しない場合、)結果の
     グラフは行かのようになります:

                  I---X---R---N

     ここで、コミット ‘X’ と ‘R’ をそれぞれベースブランチにプルしたため
     、マージコミット ‘R’ と ‘N’ が含まれています。これらのマージは、コ
     ミット ‘A’ と ‘B’ がデフォルトの履歴に表示されない理由です。

     ‘--show-pulls’ が ‘--simplify-merges’ とペアになっている場合、グラ
     フには必要なすべての情報が含まれます:

                    .-A---M--.   N
                   /     /    \ /
                  I     B      R
                   \   /      /
                    \ /      /
                     `---X--'

     ‘M’ は ‘R’ から到達可能であるため、 ‘N’ から ‘M’ へのエッジが単純化
     されていることに注意してください。ただし、 ‘N’ は、変更 ‘R’ をメイ
     ンブランチに「プル」したため、重要なコミットとして履歴に表示されま
     す。

   ‘--simplify-by-decoration’ オプションを使用すると、タグで参照されてい
ないコミットを省略して、履歴のトポロジの全体像のみを表示できます。コミッ
トは、(1)タグによって参照されている場合、または (2)コマンドラインで指定
されたパスの内容を変更した場合に、!TREESAMEとしてマークされます(つまり、
上記の履歴簡略化ルールの後に保持されます)。他のすべてのコミットは
TREESAMEとしてマークされます(簡略化される可能性があります)。


MAPPING AUTHORS
***************

See gitmailmap(5).

   注意: (標準入力でログの内容を処理するため) ‘git shortlog’ がリポジト
リの外部で実行される場合、現在のディレクトリで ‘.mailmap’ ファイルが検索
されることに注意してください。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-show-branch,  Up: Top

Name
****

git-show-branch — Show branches and their commits


Synopsis
********

     git show-branch [-a|–all] [-r|–remotes] [–topo-order | –date-order]
                     [–current] [–color[=<when>] | –no-color] [–sparse]
                     [–more=<n> | –list | –independent | –merge-base]
                     [–no-name | –sha1-name] [–topics]
                     [(<rev> | <glob>)…]
     git show-branch (-g|–reflog)[=<n>[,<base>]] [–list] [<ref>]


DESCRIPTION
***********

Shows the commit ancestry graph starting from the commits named with
<rev>s or <glob>s (or all refs under refs/heads and/or refs/tags)
semi-visually.

   It cannot show more than 29 branches and commits at a time.

   It uses ‘showbranch.default’ multi-valued configuration items if no
<rev> or <glob> is given on the command line.


OPTIONS
*******

<rev>
     Arbitrary extended SHA-1 expression (see gitrevisions(7)) that
     typically names a branch head or a tag.

<glob>
     A glob pattern that matches branch or tag names under refs/.  For
     example, if you have many topic branches under refs/heads/topic,
     giving ‘topic/*’ would show all of them.

‘-r’
‘--remotes’
     Show the remote-tracking branches.

‘-a’
‘--all’
     Show both remote-tracking branches and local branches.

‘--current’
     With this option, the command includes the current branch to the
     list of revs to be shown when it is not given on the command line.

‘--topo-order’
     By default, the branches and their commits are shown in reverse
     chronological order.  This option makes them appear in topological
     order (i.e., descendant commits are shown before their parents).

‘--date-order’
     This option is similar to ‘--topo-order’ in the sense that no
     parent comes before all of its children, but otherwise commits are
     ordered according to their commit date.

‘--sparse’
     By default, the output omits merges that are reachable from only
     one tip being shown.  This option makes them visible.

‘--more=<n>’
     Usually the command stops output upon showing the commit that is
     the common ancestor of all the branches.  This flag tells the
     command to go <n> more common commits beyond that.  When <n> is
     negative, display only the <reference>s given, without showing the
     commit ancestry tree.

‘--list’
     Synonym to ‘--more=-1’

‘--merge-base’
     Instead of showing the commit list, determine possible merge bases
     for the specified commits.  All merge bases will be contained in
     all specified commits.  This is different from how
     git-merge-base(1) handles the case of three or more commits.

‘--independent’
     Among the <reference>s given, display only the ones that cannot be
     reached from any other <reference>.

‘--no-name’
     Do not show naming strings for each commit.

‘--sha1-name’
     Instead of naming the commits using the path to reach them from
     heads (e.g.  "master~2" to mean the grandparent of "master"), name
     them with the unique prefix of their object names.

‘--topics’
     Shows only commits that are NOT on the first branch given.  This
     helps track topic branches by hiding any commit that is already in
     the main line of development.  When given "git show-branch –topics
     master topic1 topic2", this will show the revisions given by "git
     rev-list ^master topic1 topic2"

‘-g’
‘--reflog[=<n>[,<base>]] [<ref>]’
     Shows <n> most recent ref-log entries for the given ref.  If <base>
     is given, <n> entries going back from that entry.  <base> can be
     specified as count or date.  When no explicit <ref> parameter is
     given, it defaults to the current branch (or ‘HEAD’ if it is
     detached).

‘--color[=<when>]’
     Color the status sign (one of these: ‘*’ ‘!’  ‘+’ ‘-’) of each
     commit corresponding to the branch it’s in.  The value must be
     always (the default), never, or auto.

‘--no-color’
     Turn off colored output, even when the configuration file gives the
     default to color output.  Same as ‘--color=never’.

   Note that –more, –list, –independent and –merge-base options are
mutually exclusive.


OUTPUT
******

Given N <references>, the first N lines are the one-line description
from their commit message.  The branch head that is pointed at by
$GIT_DIR/HEAD is prefixed with an asterisk ‘*’ character while other
heads are prefixed with a ‘!’ character.

   Following these N lines, one-line log for each commit is displayed,
indented N places.  If a commit is on the I-th branch, the I-th
indentation character shows a ‘+’ sign; otherwise it shows a space.
Merge commits are denoted by a ‘-’ sign.  Each commit shows a short name
that can be used as an extended SHA-1 to name that commit.

   The following example shows three branches, "master", "fixes" and
"mhf":

     $ git show-branch master fixes mhf
     * [master] Add 'git show-branch'.
      ! [fixes] Introduce "reset type" flag to "git reset"
       ! [mhf] Allow "+remote:local" refspec to cause --force when fetching.
     ---
       + [mhf] Allow "+remote:local" refspec to cause --force when fetching.
       + [mhf~1] Use git-octopus when pulling more than one heads.
      +  [fixes] Introduce "reset type" flag to "git reset"
       + [mhf~2] "git fetch --force".
       + [mhf~3] Use .git/remote/origin, not .git/branches/origin.
       + [mhf~4] Make "git pull" and "git fetch" default to origin
       + [mhf~5] Infamous 'octopus merge'
       + [mhf~6] Retire git-parse-remote.
       + [mhf~7] Multi-head fetch.
       + [mhf~8] Start adding the $GIT_DIR/remotes/ support.
     *++ [master] Add 'git show-branch'.

   These three branches all forked from a common commit, [master], whose
commit message is "Add ’git show-branch’".  The "fixes" branch adds one
commit "Introduce "reset type" flag to "git reset"".  The "mhf" branch
adds many other commits.  The current branch is "master".


EXAMPLES
********

If you keep your primary branches immediately under ‘refs/heads’, and
topic branches in subdirectories of it, having the following in the
configuration file may help:

     [showbranch]
             default = --topo-order
             default = heads/*

   With this, ‘git show-branch’ without extra parameters would show only
the primary branches.  In addition, if you happen to be on your topic
branch, it is shown as well.

     $ git show-branch --reflog="10,1 hour ago" --list master

   shows 10 reflog entries going back from the tip as of 1 hour ago.
Without ‘--list’, the output also shows how these tips are topologically
related with each other.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-show-index,  Up: Top

Name
****

git-show-index — パックされたアーカイブインデックスを表示する


Synopsis
********

     git show-index [–object-format=<hash-algorithm>]


DESCRIPTION
***********

標準入力から、(git-pack-objects(1) または git-index-pack(1) で作成の
)Gitパックファイルの、 ‘.idx’ ファイルを読み取り、その内容をダンプします
。 出力は、行ごとに1つのオブジェクトで構成され、各行には2つまたは3つのス
ペースで区切られた複数列が含まれます:

   • 最初の列は、対応するパックファイル内のオブジェクトのバイト単位のオ
     フセットです。

   • 2番目の列はオブジェクトのオブジェクトIDです

   • インデックスバージョンが2以上の場合、3番目の列にはオブジェクトデー
     タのCRC32が含まれます

   オブジェクトは、インデックスファイルで見つかった順序で出力されます。
(正しく作成されたファイルであれば、)インデックスファイルはオブジェクト
IDソートされていなければなりません。

   注意: あなたは git-verify-pack(1) を呼び出すと、パックファイルに関す
る情報をよりたくさん取得できます。けれども、このコマンド(show-index)はイ
ンデックスファイル自体のみを考慮するため、より高速で柔軟性があります。


OPTIONS
*******

‘--object-format=<hash-algorithm>’
     インデックスファイルのためのオブジェクト形式(ハッシュアルゴリズム
     )を指定します。有効な値は _sha1_ および (有効な場合) _sha256_ です
     。 デフォルトは、現在のリポジトリのアルゴリズム
     (‘extensions.objectFormat’ で設定)、または値が設定されていないかリ
     ポジトリの外部にある場合は _sha1_ です。

     このオプションは実験的なものです！ SHA-256のサポートは実験的なもの
     であり、まだ初期段階です。 SHA-256リポジトリは、通常、「通常の」
     SHA-1リポジトリと作業を共有できません。 たとえば、SHA-256リポジトリ
     に関連するGit内部ファイル形式は、下位互換性のない方法で変更される可
     能性があると想定する必要があります。テスト目的でのみ
     ‘--object-format=sha256’ を使用してください。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-show-ref,  Up: Top

Name
****

git-show-ref — List references in a local repository


Synopsis
********

     git show-ref [-q|–quiet] [–verify] [–head] [-d|–dereference]
                  [-s|–hash[=<n>]] [–abbrev[=<n>]] [–tags]
                  [–heads] [–] [<pattern>…]
     git show-ref –exclude-existing[=<pattern>]


DESCRIPTION
***********

Displays references available in a local repository along with the
associated commit IDs.  Results can be filtered using a pattern and tags
can be dereferenced into object IDs.  Additionally, it can be used to
test whether a particular ref exists.

   By default, shows the tags, heads, and remote refs.

   The –exclude-existing form is a filter that does the inverse.  It
reads refs from stdin, one ref per line, and shows those that don’t
exist in the local repository.

   Use of this utility is encouraged in favor of directly accessing
files under the ‘.git’ directory.


OPTIONS
*******

‘--head’
     Show the HEAD reference, even if it would normally be filtered out.

‘--heads’
‘--tags’
     Limit to "refs/heads" and "refs/tags", respectively.  These options
     are not mutually exclusive; when given both, references stored in
     "refs/heads" and "refs/tags" are displayed.

‘-d’
‘--dereference’
     Dereference tags into object IDs as well.  They will be shown with
     "^{}" appended.

‘-s’
‘--hash[=<n>]’
     Only show the SHA-1 hash, not the reference name.  When combined
     with –dereference the dereferenced tag will still be shown after
     the SHA-1.

‘--verify’
     Enable stricter reference checking by requiring an exact ref path.
     Aside from returning an error code of 1, it will also print an
     error message if ‘--quiet’ was not specified.

‘--abbrev[=<n>]’
     Abbreviate the object name.  When using ‘--hash’, you do not have
     to say ‘--hash --abbrev’; ‘--hash=n’ would do.

‘-q’
‘--quiet’
     Do not print any results to stdout.  When combined with ‘--verify’
     this can be used to silently check if a reference exists.

‘--exclude-existing[=<pattern>]’
     Make _git show-ref_ act as a filter that reads refs from stdin of
     the form "‘^(?:<anything>\s)?<refname>(?:\^{})?$’" and performs the
     following actions on each: (1) strip "^{}" at the end of line if
     any; (2) ignore if pattern is provided and does not head-match
     refname; (3) warn if refname is not a well-formed refname and skip;
     (4) ignore if refname is a ref that exists in the local repository;
     (5) otherwise output the line.

<pattern>…
     Show references matching one or more patterns.  Patterns are
     matched from the end of the full name, and only complete parts are
     matched, e.g.  _master_ matches _refs/heads/master_,
     _refs/remotes/origin/master_, _refs/tags/jedi/master_ but not
     _refs/heads/mymaster_ or _refs/remotes/master/jedi_.


OUTPUT
******

The output is in the format: _<SHA-1 ID>_ _<space>_ _<reference name>_.

     $ git show-ref --head --dereference
     832e76a9899f560a90ffd62ae2ce83bbeff58f54 HEAD
     832e76a9899f560a90ffd62ae2ce83bbeff58f54 refs/heads/master
     832e76a9899f560a90ffd62ae2ce83bbeff58f54 refs/heads/origin
     3521017556c5de4159da4615a39fa4d5d2c279b5 refs/tags/v0.99.9c
     6ddc0964034342519a87fe013781abf31c6db6ad refs/tags/v0.99.9c^{}
     055e4ae3ae6eb344cbabf2a5256a49ea66040131 refs/tags/v1.0rc4
     423325a2d24638ddcc82ce47be5e40be550f4507 refs/tags/v1.0rc4^{}
     ...

   When using –hash (and not –dereference) the output format is: _<SHA-1
ID>_

     $ git show-ref --heads --hash
     2e3ba0114a1f52b47df29743d6915d056be13278
     185008ae97960c8d551adcd9e23565194651b5d1
     03adf42c988195b50e1a1935ba5fcbc39b2b029b
     ...


EXAMPLES
********

To show all references called "master", whether tags or heads or
anything else, and regardless of how deep in the reference naming
hierarchy they are, use:

             git show-ref master

   This will show "refs/heads/master" but also
"refs/remote/other-repo/master", if such references exists.

   When using the ‘--verify’ flag, the command requires an exact path:

             git show-ref --verify refs/heads/master

   will only match the exact branch called "master".

   If nothing matches, _git show-ref_ will return an error code of 1,
and in the case of verification, it will show an error message.

   For scripting, you can ask it to be quiet with the "–quiet" flag,
which allows you to do things like

             git show-ref --quiet --verify -- "refs/heads/$headname" ||
                     echo "$headname is not a valid branch"

   to check whether a particular branch exists or not (notice how we
don’t actually want to show any results, and we want to use the full
refname for it in order to not trigger the problem with ambiguous
partial matches).

   To show only tags, or only proper branch heads, use "–tags" and/or
"–heads" respectively (using both means that it shows tags and heads,
but not other random references under the refs/ subdirectory).

   To do automatic tag object dereferencing, use the "-d" or
"–dereference" flag, so you can do

             git show-ref --tags --dereference

   to get a listing of all tags together with what they dereference.


FILES
*****

‘.git/refs/*’, ‘.git/packed-refs’


SEE ALSO
********

git-for-each-ref(1), git-ls-remote(1), git-update-ref(1),
gitrepository-layout(5)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-show,  Up: Top

Name
****

git-show — さまざまなタイプのオブジェクトを表示


Synopsis
********

     git show [<options>] [<object>…]


DESCRIPTION
***********

1つまたはそれ以上のオブジェクト(ブロブ・ツリー・タグ・コミット)を表示し
ます。

   コミットの場合、ログメッセージとテキストの差分が表示されます。 また、
_git diff-tree –cc_ によって生成された特別な形式でマージコミットを示しま
す。

   タグの場合、タグメッセージと参照オブジェクトが表示されます。

   ツリーの場合は、名前が表示されます(‘--name-only’ オプション付きの
_git ls-tree_ 相当)。

   プレーンブロブの場合は、プレーンコンテンツが表示されます。

   このコマンドは、「git diff-tree」コマンドに適用可能なオプションを使用
して、コミットによって導入された変更の表示方法を制御します。

   このマニュアルページでは、最も頻繁に使用されるオプションについてのみ
説明します。


OPTIONS
*******

<object>…
     表示するオブジェクトの名前(デフォルトは「HEAD」)。オブジェクト名を
     綴る方法のより完全なリストについては、 gitrevisions(7) の「
     SPECIFYING REVISIONS」セクションを参照してください。

‘--pretty[=<format>]’
‘--format=<format>’
     コミットログの内容を指定された形式できれいに印刷(pretty-print)しま
     す。 _<format>_ は oneline・short・medium・full・fuller・
     reference・email・raw・format:<string>・tformat:<string> のいずれか
     になります。 _<format>_ が上記のいずれでもなく、 _%placeholder_ が
     含まれている場合、 _–pretty=tformat:<format>_ が指定されたかのよう
     に動作します。

     各フォーマットの詳細については、 "PRETTY FORMATS" セクションを参照
     してください。 _=<format>_ の部分を省略すると、デフォルトで
     _medium_ になります。

     注意: リポジトリー構成でデフォルトのpretty formatを指定できます
     (git-config(1) 参照)。

‘--abbrev-commit’
     40バイトの16進コミットオブジェクト名全体を表示する代わりに、オブジ
     ェクトに一意の名前を付けるプレフィックスを表示します。
     "–abbrev=<n>" (表示されている場合はdiff出力も変更します)オプション
     を使用して、プレフィックスの最小長を指定できます。

     これにより、80桁幅の端末を使用している人にとって "–pretty=oneline"
     がずっと読みやすくなるはずです。

‘--no-abbrev-commit’
     完全な40バイトの16進コミットオブジェクト名を表示します。 これにより
     、明示的または "–oneline" などの他のオプションによって暗黙的に示さ
     れる ‘--abbrev-commit’ が無効になります。また、 ‘log.abbrevCommit’
     変数をオーバーライドします。

‘--oneline’
     これは、 "–pretty=oneline –abbrev-commit" を一緒に使用するための省
     略形です。

‘--encoding=<encoding>’
     コミットオブジェクトは、ログメッセージに使用される文字エンコードを
     エンコードヘッダーに記録します。このオプションを使用して、ユーザー
     が好むエンコーディングでコミットログメッセージを再コーディングする
     ようにコマンドに指示できます。配管以外のコマンドの場合、これはデフ
     ォルトでUTF-8になります。オブジェクトが ‘X’ でエンコードされている
     と主張し、 ‘X’ で出力している場合、オブジェクトをそのまま出力するこ
     とに注意してください。これは、元のコミットの無効なシーケンスが出力
     にコピーされる可能性があることを意味します。同様に、 iconv(3) コミ
     ットの変換に失敗した場合、警告とともに元のオブジェクトをそのまま出
     力します。

‘--expand-tabs=<n>’
‘--expand-tabs’
‘--no-expand-tabs’
     出力に表示する前に、ログメッセージでタブ展開を実行します(タブ幅を
     <n> とみなして <n> 境界に揃うように空白で調整する)。
     ‘--expand-tabs’ は ‘--expand-tabs=8’ の省略形であり、
     ‘--no-expand-tabs’ は ‘--expand-tabs=0’ の省略形です。タブの展開を
     無効にします。

     デフォルトでは、タブはログメッセージを4つのスペースでインデントする
     きれいな形式(pretty formats)で展開されます(つまり、デフォルトの
     _medium_ と’full’ と _fuller_)。

‘--notes[=<ref>]’
     コミットログメッセージを表示するときに、コミットに注釈を付ける
     notes(git-notes(1) 参照)を表示します。これは、コマンドラインに
     ‘--pretty’ 、‘--format’ または ‘--oneline’ オプションが指定されてい
     ない場合の、 ‘git log’ と ‘git show’ と ‘ git whatchanged‘ コマンド
     のデフォルトです。

     デフォルトでは、表示されるnotesは、 ‘core.notesRef’ および
     ‘notes.displayRef’ 変数(または対応する環境変数オーバーライド)にリス
     トされているnote refからのものです。詳細については git-config(1) を
     参照してください。

     オプションの _<ref>_ 引数を使用して、refを使用して表示するnotesを検
     索します。 refは、 ‘refs/notes/’ で始まる完全なrefnameを指定できま
     す。 ‘notes/’ で始まるか、 ‘refs/’ で始まるか、それ以外で始まる場合
     、 ‘refs/notes/’ が接頭辞として付けられ、refのフルネームを形成しま
     す。

     複数の –notes オプションを組み合わせて、表示するノートを制御できま
     す。 例: "–notes=foo" は "refs/notes/foo" からのnotesのみを表示しま
     す。 "–notes=foo –notes" は、 "refs/notes/foo" とデフォルトのnotes
     ref(s) の両方のnotesを表示します。

‘--no-notes’
     notesを表示しないでください。 これは、notesが表示されるnotes refの
     リストをリセットすることにより、上記の ‘--notes’ オプションを無効に
     します。 オプションは、コマンドラインで指定された順序で解析されます
     。 "–notes –notes=foo –no-notes –notes=bar" は、 "refs/notes/bar" か
     らのnotesのみを表示します。

‘--show-notes[=<ref>]’
‘--[no-]standard-notes’
     これらのオプションは非推奨です。 代わりに、上記の –notes/–no-notes
     オプションを使用してください。

‘--show-signature’
     署名を ‘gpg --verify’ に渡して、署名されたコミットオブジェクトの有
     効性を確認し、出力を表示します。


PRETTY FORMATS
**************

コミットがマージであり、 pretty-format が _oneline_ または _email_ また
は _raw_ でない場合、 _Author:_ 行の前に追加の行が挿入されます。この行は
"Merge: " で始まり、先祖のコミットのハッシュがスペースで区切られて出力さ
れます。履歴の表示を制限している場合、たとえば、特定のディレクトリまたは
ファイルに関連する変更のみに関心がある場合、リストされたコミットは必ずし
も *直接* の親コミットのリストではない可能性があることに注意してください
。

   いくつかの組み込みフォーマットがあります。そして以下で説明するように
、 pretty.<name> 構成オプション(config option)を別のフォーマット名または
_format:_ 文字列に設定することで、追加のフォーマットを定義できます
(git-config(1) 参照)。組み込みフォーマットの詳細は以下のとおりです:

   • _oneline_

          <hash> <title line>

     これは、可能な限りコンパクトになるように設計されています。

   • _short_

          commit <hash>
          Author: <author>

          <title line>

   • _medium_

          commit <hash>
          Author: <author>
          Date:   <author date>

          <title line>

          <full commit message>

   • _full_

          commit <hash>
          Author: <author>
          Commit: <committer>

          <title line>

          <full commit message>

   • _fuller_

          commit <hash>
          Author:     <author>
          AuthorDate: <author date>
          Commit:     <committer>
          CommitDate: <committer date>

          <title line>

          <full commit message>

   • _reference_

          <abbrev hash> (<title line>, <short author date>)

     この形式は、コミットメッセージ内の別のコミットを参照するために使用
     され、 ‘--pretty='format:%C(auto)%h (%s, %ad)'’ と同じです。 デフォ
     ルトでは、別の ‘--date’ オプションが明示的に指定されていない限り、
     日付は ‘--date=short’ でフォーマットされます。formatプレースホルダ
     ーを使用する他の ‘format:’ と同様に、その出力は、 ‘--decorate’ や
     ‘--walk-reflogs’ などの他のオプションの影響を受けません。

   • _email_

          From <hash> <date>
          From: <author>
          Date: <author date>
          Subject: [PATCH] <title line>

          <full commit message>

   • _mboxrd_

     _email_ と同様ですが、コミットメッセージの "From " で始まる行(前に
     0個以上の ">" が付いている)は ">" でクォートされているため、新しい
     コミットの開始と混同されることはありません。

   • _raw_

     _raw_ 形式は、コミットオブジェクトに格納されているとおりにコミット
     全体を正確に表示します。とりわけ –abbrev または –no-abbrev のどちら
     が使用されているかに関係なく、ハッシュは完全に表示され、「親」
     (parents)情報は、移植や履歴の単純化を考慮せずに、真の親のコミットを
     示します。この形式は、コミットの表示方法に影響しますが、いわゆる
     ‘git log --raw’ の差分の表示方法ではありません。生のdiff形式で完全
     なオブジェクト名を取得するには、 ‘--no-abbrev’ を使用します。

   • _format:<string>_

     _format:<string>_ 形式を使用すると、表示する情報を指定できます。注
     意: これはprintf書式に少し似ていますが、 _\n_ の代わりに _%n_ を使
     用して改行を取得するという例外に注意してください。

     例: _format:"The author of %h was %an, %ar%nThe title was
     >>%s<<%n"_ は以下のように表示されます:

          The author of fe6e0ee was Junio C Hamano, 23 hours ago
          The title was >>t4119: test autocomputing -p<n> for traditional diff input.<<

     さて、以下がプレースホルダー達です:

        • 単一のリテラル文字に展開されるプレースホルダー:

          _%n_
               改行(newline)

          _%%_
               ’%’そのもの

          _%x00_
               16進数のバイト値を出力

        • うしろのプレースホルダーのフォーマッティングに影響するプレース
          ホルダー:

          _%Cred_
               赤色に切り替える

          _%Cgreen_
               緑色に切り替える

          _%Cblue_
               青色に切り替える。

          _%Creset_
               色をリセットする

          _%C(…)_
               git-config(1) の "CONFIGURATION FILE" 節の Values で説明
               されている色の指定。 デフォルトでは、色はログ出力が有効に
               なっている場合にのみ表示されます（ ‘color.diff’ または ‘
               color.ui‘ または ‘--color`によって、ターミナルに行く場合
               は前者の `auto’ 設定を尊重します)。 ‘%C(auto,...)’ は、
               default の歴史的同義語として受け入れられます(例:
               ‘%C(auto,red)’)。 ‘%C(always,...)’ を指定すると、色が有効
               になっていない場合でも色が表示されます(この形式やgitが色
               付けする可能性のある他のすべてのものを含め、出力全体の色
               を有効にするために ‘--color = always’ の使用を検討してく
               ださい)。 ‘auto’ のみ(つまり、 ‘%C(auto)’ )は、色が再び切
               り替わるまで、続くプレースホルダーで自動色付けをオンにし
               ます。

          _%m_
               左(‘<’) または 右(‘>’) または 境界 (‘-’) の印

          _%w([<w>[,<i1>[,<i2>]]])_
               git-shortlog(1) の -w オプションのように、 行の折り返しを
               切り替えます。

          _%<(<N>[,trunc|ltrunc|mtrunc])_
               次のプレースホルダーに少なくともN列を使用させ、 必要に応
               じて右側にスペースを埋め込みます。オプションで、出力がN列
               より長い場合は、先頭(ltrunc)または中間(mtrunc)または末尾
               (trunc)で切り捨てます。注意: 切り捨ては、 N >= 2 でのみ正
               しく機能することに注意してください。

          _%<|(<N>)_
               次のプレースホルダーを少なくともN番目の列まで取得し、 必
               要に応じて右側にスペースを埋め込みます

          _%>(<N>)_, _%>|(<N>)_
               それぞれ _%<(<N>)_ 、 _%<|(<N>)_ に似ていますが、 左側に
               スペースが埋め込まれています

          _%>>(<N>)_, _%>>|(<N>)_
               _%>(<N>)_ 、 _%>|(<N>)_ とそれぞれ似ていますが、 次のプレ
               ースホルダーが指定されたよりも多くのスペースを取り、その
               左側にスペースがある場合は、それらのスペースを使用します
               。

          _%><(<N>)_, _%><|(<N>)_
               それぞれ _%<(<N>)_ 、 _%<|(<N>)_ に似ていますが、 両側に
               パディングがあります(つまり、テキストが中央に配置されます
               )

        • コミットから抽出された情報に展開するプレースホルダー:

          _%H_
               コミットハッシュ

          _%h_
               省略されたコミットハッシュ

          _%T_
               ツリーハッシュ

          _%t_
               省略されたツリーハッシュ

          _%P_
               親のハッシュ達

          _%p_
               省略された親のハッシュ達

          _%an_
               作者名

          _%aN_
               作者名( .mailmap に関しては、git-shortlog(1) または
               git-blame(1) を参照)

          _%ae_
               作者電子メールアドレス

          _%aE_
               作者電子メールアドレス(.mailmap に関しては
               git-shortlog(1) または git-blame(1) を参照)

          _%al_
               作者電子メールアドレスアカウント名(local-part)( _@_ の前
               の部分)

          _%aL_
               作者電子メールアドレスアカウント名(local-part)(_%al_ 参照
               ) .mailmap に関しては git-shortlog(1) または git-blame(1)
               参照)

          _%ad_
               作成日(フォーマットに関しては –date= オプション参照)

          _%aD_
               作成日 RFC2822形式

          _%ar_
               作成日 相対(relative)形式

          _%at_
               作成日 UNIXタイムスタンプ形式

          _%ai_
               作成日 ISO 8601風形式

          _%aI_
               作成日 厳密なISO 8601形式

          _%as_
               作成日 短い形式(‘YYYY-MM-DD’)

          _%ah_
               作成日 human形式( git-rev-list(1) の ‘--date=human’ オプ
               ションのようなかんじ)

          _%cn_
               コミッター名

          _%cN_
               コミッター名( .mailmap に関しては git-shortlog(1) または
               git-blame(1) 参照)

          _%ce_
               コミッター電子メールアドレス

          _%cE_
               コミッター電子メールアドレス(.mailmap に関しては
               git-shortlog(1) または git-blame(1) 参照)

          _%cl_
               コミッター電子メールアドレスアカウント名(local-part)( _@_
               の前の部分)

          _%cL_
               コミッター電子メールアドレスアカウント名(local-part)(
               _%cl_ 参照) .mailmap に関しては git-shortlog(1) または
               git-blame(1) 参照)

          _%cd_
               コミッター日付(フォーマットに関しては –date= オプション参
               照)

          _%cD_
               コミッター日付 RFC2822形式

          _%cr_
               コミッター日付 相対(relative)形式

          _%ct_
               コミッター日付 UNIXタイムスタンプ形式

          _%ci_
               コミッター日付 ISO 8601風形式

          _%cI_
               コミッター日付 厳密なISO 8601形式

          _%cs_
               コミッター日付 短い形式(‘YYYY-MM-DD’)

          _%ch_
               コミッター日付 human形式(git-rev-list(1) の
               ‘--date=human’ オプションのようなかんじ)

          _%d_
               ref名 git-log(1) の –decorate オプションみたいなの

          _%D_
               " (", ")" で囲ってないref名

          _%(describe[:options])_
               git-describe(1) のような人間が読める名前。 説明できないコ
               ミットの場合は空の文字列。 ‘describe’ 文字列の後には、コ
               ロンと0個以上のカンマ区切りオプションを続けることができま
               す。タグが同時に追加または削除されると、説明に一貫性がな
               くなる可能性があります。

                  • _match=<pattern>_: "refs/tags/" プレフィックスを除い
                    て、指定された ‘glob(7)’ パターンに一致するタグのみ
                    を考慮します。

                  • _exclude=<pattern>_: "refs/tags/" プレフィックスを除
                    いて、指定された ‘glob(7)’ パターンに一致するタグを
                    考慮しないでください。

          _%S_
               コミットに到達したコマンドラインで指定されたref名 ( ‘git
               log --source’ など)は、 ‘git log’ でのみ機能します

          _%e_
               エンコーディング

          _%s_
               件名(subject)

          _%f_
               ファイル名に適した、サニタイズされた件名

          _%b_
               本文(body)

          _%B_
               生本文(raw body)(ラップされてない件名と本文)

          _%N_
               コミットノート(commit notes)

          _%GG_
               署名されたコミットの為のGPSからの生の検証メッセージ

          _%G?_
               良い(good)な(有効な)署名の場合は "G" 、 悪い(bad)な署名の
               場合は "B" 、有効性が不明(unknown)な良い署名の場合は "U"
               、期限切れ(eXpired)の良い署名の場合は "X" 、期限切れのキ
               ーで作成された良い署名の場合は "Y" 、取り消されたキーによ
               って作成された良い署名の場合は "R" 、署名を確認できない場
               合(キーの欠落など)は "E" 、署名がない場合は "N" を表示し
               ます。

          _%GS_
               署名されたコミットの署名者の名前を表示する

          _%GK_
               署名されたコミットに署名するために使用されるキーを表示す
               る

          _%GF_
               署名されたコミットに署名するために使用されるキーのフィン
               ガープリントを表示する

          _%GP_
               署名されたコミットに署名するためにサブキーが使用された 主
               キーのフィンガープリントを表示します

          _%GT_
               署名されたコミットに署名するために使用されるキーの信頼レ
               ベル(trust level)を表示します

          _%gD_
               reflogセレクター(例:‘refs/stash@{1}’ or ‘refs/stash@{2
               minutes ago}’) この形式は、 ‘-g’ オプションで説明されてい
               る規則に従います。 ‘@’ の前の部分は、コマンドラインで指定
               されたrefnameです(したがって、 ‘git log -g
               refs/heads/master’ は ‘refs/heads/master@{0}’ を生成しま
               す)。

          _%gd_
               短縮されたreflogセレクター。 ‘%gD’ と同じですが、 人間が
               読みやすいようにrefname部分が短縮されています(したがって
               、 ‘refs/heads/master’ は単に ‘master’ になります)。

          _%gn_
               reflog ID名

          _%gN_
               reflog ID名( .mailmap に関しては git-shortlog(1) または
               git-blame(1) 参照)

          _%ge_
               reflog ID 電子メールアドレス

          _%gE_
               reflog ID 電子メールアドレス( .mailmap に関しては
               git-shortlog(1) または git-blame(1) 参照)

          _%gs_
               reflog 件名

          _%(trailers[:options])_
               git-interpret-trailers(1) によって解釈されるようにボディ
               のトレーラーを表示します。 ‘trailers’ 文字列の後には、コ
               ロンと0個以上のカンマ区切りオプションを続けることができま
               す。いずれかのオプションが複数回提供された場合、それぞれ
               最後のものが優先されます。

               ブール値オプションは、オプションの値 ‘[=<BOOL>]’ を受け入
               れます。 値 ‘true’ 、‘false’ 、 ‘on’ 、‘off’ などはすべて
               受け入れられます。 git-config(1) の "EXAMPLES" の
               "boolean" サブセクションを参照してください。ブール値オプ
               ションが値なしで指定された場合、それは有効を指定した事に
               なります。

                  • _key=<K>_ は指定されたキーを持つトレーラーのみを表示
                    します。マッチングは大文字と小文字を区別せずに行われ
                    、末尾のコロンはオプションです。オプションが複数回指
                    定されている場合、いずれかのキーに一致するトレーラー
                    行が表示されます。このオプションは自動的に ‘only’ オ
                    プションを有効にして、トレーラーブロック内の非トレー
                    ラー行が非表示になるようにします。それが望ましくない
                    場合は、 ‘only=false’ で無効にすることができます。 た
                    とえば、 ‘%(trailers:key=Reviewed-by)’ は、キーが
                    ‘Reviewed-by‘のトレーラー行を表示します。

                  • _only[=<BOOL>]_ はトレーラーブロックに非トレーラー行
                    を含めるかどうかを選択します。

                  • _separator=<SEP>_ はトレーラー行の間に挿入される区切
                    り文字を指定します。このオプションが指定されていない
                    場合、各トレーラー行は改行文字で終了します。文字列
                    SEPには、上記のリテラルフォーマットコードが含まれる
                    場合があります。区切り文字としてコンマを使用するには
                    、次のオプションとして解析されないよう ‘%x2C’ を使用
                    する必要があります。 たとえば、
                    %(trailers:key=Ticket,separator=%x2C )‘ は、キーが
                    "Ticket" であるすべてのトレーラー行をカンマとスペー
                    スで区切って表示します。

                  • _unfold[=<BOOL>]_ は interpret-trailer の ‘--unfold’
                    オプションが指定されたかのように動作させます。たとえ
                    ば、 ‘%(trailers:only,unfold=true)’ が展開され、すべ
                    てのトレーラー行が表示されます。

                  • _keyonly[=<BOOL>]_ トレーラーのキー部分のみを表示。

                  • _valueonly[=<BOOL>]_ トレーラーの値部分のみ表示。

                  • _key_value_separator=<SEP>_ トレーラー行の間に挿入さ
                    れる区切り文字を指定します。このオプションが指定され
                    ていない場合、各トレーラーのキーと値のペアは ": " で
                    区切られます。 それ以外の場合は、上記の
                    _separator=<SEP>_ と同じセマンティクスを共有します。

     *Note*

     一部のプレースホルダーは、リビジョントラバーサルエンジンに指定され
     た他のオプションに依存する場合があります。 たとえば、 ‘%g*’ reflogオ
     プションは、reflogエントリをトラバースしない限り(たとえば、 ‘git
     log -g`によって)空の文字列を挿入します。コマンドラインで
     `--decorate’ がまだ指定されていない場合、 ‘%d’ と ‘%D’ プレースホル
     ダーは「短い」(short)装飾形式を使用します。

   プレースホルダーの _%_ の後に ‘+’ (プラス記号)を追加すると、プレース
ホルダーが空でない文字列に展開される場合に限り、展開の直前に改行が挿入さ
れます。

   プレースホルダーの _%_ の後に ‘-’ (マイナス記号)を追加すると、プレー
スホルダーが空の文字列に展開された場合にのみ、展開の直前の連続するすべて
の改行が削除されます。

   プレースホルダーの _%_ の後に ‘ ‘ (スペース)を追加すると、プレースホ
ルダーが空でない文字列に展開される場合に限り、展開の直前にスペースが挿入
されます。

   • _tformat:_

     _tformat:_ 形式は、 "separator" セマンティクスの代わりに
     "terminator" セマンティクスを提供することを除いて、 _format:_ とま
     ったく同じように機能します。 つまり、各コミットには、エントリ間に区
     切り文字を配置するのではなく、メッセージターミネータ文字(通常は改行
     )が追加されます。 これは、「1行」形式と同様に、1行形式の最終エント
     リが新しい行で適切に終了することを意味します。 例えば:

          $ git log -2 --pretty=format:%h 4da45bef \
            | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
          4da45be
          7134973 -- NO NEWLINE

          $ git log -2 --pretty=tformat:%h 4da45bef \
            | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
          4da45be
          7134973

     加えて、 ‘%’ が含まれている認識されない文字列は、その前に
     ‘tformat:’ があるかのように解釈(interpret)されます。 たとえば、以下
     の2つは同等です:

          $ git log -2 --pretty=tformat:%h 4da45bef
          $ git log -2 --pretty=%h 4da45bef


DIFF FORMATTING
***************

以下のオプションを使用して、 ‘git show’ がdiff出力を生成する方法を変更で
きます。

‘-p’
‘-u’
‘--patch’
     パッチを生成します(generating patches に関するセクションを参照)。

‘-s’
‘--no-patch’
     diff出力を抑制します。デフォルトでパッチを表示する ‘git show’ のよ
     うなコマンド、または ‘--patch’ の効果をキャンセルする場合に便利です
     。

‘--diff-merges=(off|none|on|first-parent|1|separate|m|combined|c|dense-combined|cc)’
‘--no-diff-merges’
     マージコミットに使用するdiff形式を指定します。 ‘--first-parent’ が
     使用されている場合を除き、デフォルトは ‘dense-combined’ です。使用
     されている場合は、 ‘first-parent’ がデフォルトです。

     ‘--diff-merges=(off|none)’
     ‘--no-diff-merges’
          マージコミットのdiffの出力を無効にします。暗黙の値を上書きする
          のに便利です。

     ‘--diff-merges=on’
     ‘--diff-merges=m’
     ‘-m’
          このオプションにより、マージコミットのdiff出力がデフォルトの形
          式で表示されます。 ‘-m’ は、 ‘-p’ も指定されている場合にのみ出
          力を生成します。デフォルトの形式は、 ‘log.diffMerges’ 構成パラ
          メーター(configuration parameter)を使用して変更できます。デフ
          ォルト値は ‘separate’ です。

     ‘--diff-merges=first-parent’
     ‘--diff-merges=1’
          このオプションにより、マージコミットは最初の親に関してのみ完全
          なdiffを表示します。

     ‘--diff-merges=separate’
          これにより、マージコミットは各親に関して完全なdiffを表示します
          。親ごとに個別のログエントリとdiffが生成されます。

     ‘--diff-merges=combined’
     ‘--diff-merges=c’

‘-c:’
     このオプションを使用すると、マージコミットのdiff出力は、親と結果の
     ペアごとの差分を一度に1つずつ表示するのではなく、各親からの差分をマ
     ージ結果に同時に表示します。さらに、すべての親から変更されたファイ
     ルのみが一覧表示されます。 ‘-c’ は ‘-p’ の機能を含んでいます。

     ‘--diff-merges=dense-combined’
     ‘--diff-merges=cc’
     ‘--cc’
          このオプションを使用すると、 ‘--diff-merges=Combined’ によって
          生成される出力は、親のコンテンツに2つの派生(variants)しかない
          、興味のないハンクを省略してさらに圧縮され、マージ結果は変更な
          しでそのうちの1つを選択します。 ‘--cc’ は ‘-p’ の機能を含んで
          います。

‘--combined-all-paths’
     このフラグにより、結合された差分(マージコミットに使用)にすべての親
     からのファイルの名前が一覧表示されます。したがって、これは
     ‘--diff-merges=[dense-]combined’ が使用されている場合にのみ有効であ
     り、ファイル名の変更が検出された場合(つまり、名前の変更またはコピー
     の検出が要求された場合)にのみ役立つ可能性があります。

‘-U<n>’
‘--unified=<n>’
     通常の3行ではなく、<n> 行の内容でdiffを生成します。 ‘--patch’ の機
     能を含んでいます。

‘--output=<file>’
     stdout ではなく指定のファイルに出力します。

‘--output-indicator-new=<char>’
‘--output-indicator-old=<char>’
‘--output-indicator-context=<char>’
     生成されたパッチの新しい行、古い行、またはコンテキスト行を示すため
     に使用される文字を指定します。 通常、それらはそれぞれ _+_ 、 _-_ 、
     ’ ’ です。

‘--raw’
     コミットごとに、生の差分形式を使用して変更の概要を表示します。
     git-diff(1) の "RAW OUTPUT FORMAT" セクションを参照してください。 こ
     れは、ログ自体をraw形式で表示することとは異なります。 これは
     ‘--format=raw’ で 実現できます。

‘--patch-with-raw’
     ‘-p --raw’ の同義語。

‘-t’
     diff出力にツリーオブジェクトを表示します。

‘--indent-heuristic’
     diffハンクの境界をずらす(shift)ヒューリスティックを有効にして、パッ
     チを読みやすくします。 これがデフォルトです。

‘--no-indent-heuristic’
     インデントヒューリスティック(indent heuristic)を無効にします。

‘--minimal’
     より多くの時間を費やして、可能な限り最小のdiffが生成されるようにし
     ます。

‘--patience’
     "patience diff" アルゴリズムを使用してdiffを生成します。

‘--histogram’
     "histogram diff" アルゴリズムを使用してdiffを生成します。

‘--anchored=<text>’
     "anchored diff" アルゴリズムを使用してdiffを生成します。

     このオプションは複数回指定できます。

     行がソースと宛先の両方に存在し、1回だけ存在し、このテキストで始まる
     場合、このアルゴリズムは、その行が出力に削除または追加として表示さ
     れないようにします。内部で "patience diff" アルゴリズムを使用します
     。

‘--diff-algorithm={patience|minimal|histogram|myers}’
     diffアルゴリズムを選択します。その派生(variants)は以下のとおりです:

     ‘default’, ‘myers’
          基本的な貪欲な差分アルゴリズム(greedy diff algorithm)。現在、
          これがデフォルトです。

     ‘minimal’
          より多くの時間を費やして、可能な限り最小のdiffが生成されるよう
          にします。

     ‘patience’
          パッチを生成する時に "patience diff" アルゴリズムを使います。

     ‘histogram’
          このアルゴリズムは、忍耐アルゴリズム(patience algorithm)を拡張
          して、「発生率の低い共通要素をサポート」(support
          low-occurrence common elements)します。

     たとえば、 あなたが ‘diff.algorithm’ 変数をデフォルト以外の値に設定
     した上で、それでもデフォルト値を使用する場合は、
     ‘--diff-algorithm=default’ オプションを使用する必要があります。

‘--stat[=<width>[,<name-width>[,<count>]]]’
     diffstatを生成します。 デフォルトでは、必要なだけのスペースがファイ
     ル名部分に使用され、残りはグラフ部分に使用されます。最大幅はデフォ
     ルトで端末幅、または端末に接続されていない場合は80桁であり、
     ‘<width>’ で上書きできます。ファイル名部分の幅は、コンマの後に別の
     幅 ‘<name-width>’ を指定することで制限できます。グラフ部分の幅は、
     ‘--stat-graph-width=<width>’ (統計グラフを生成するすべてのコマンド
     に影響します)を使用するか、 ‘diff.statGraphWidth=<width>’ ( ‘git
     format-patch’ に影響しません)を設定することによって制限できます。
     3番目のパラメータ ‘<count>’ を指定することにより、出力を最初の
     ‘<count>’ 行に制限し、それに ‘...’ が続く形にできます。

     これらのパラメータは、 ‘--stat-width=<width>’ と
     ‘--stat-name-width=<name-width>’ と ‘--stat-count=<count>’ を使用し
     て個別に設定することもできます。

‘--compact-summary’
     ファイルの作成や削除( "new" または "gone" 。オプションでシンボリッ
     クリンクの場合は "+l" )、diffstatのモード変更(実行可能ビットを追加
     または削除する場合は、それぞれ "+x" または "-x" )など、拡張ヘッダー
     情報の要約を出力します。情報はファイル名部分とグラフ部分の間に置か
     れます。本機能は ‘--stat’ の機能を含んでいます。

‘--numstat’
     ‘--stat`に似ていますが、プログラムで処理しやすい(machine friendly)よ
     うに、追加および削除された行数を10進表記とパス名で省略形なしで表示
     します。バイナリファイルの場合、 `0 0’ の代わりに2つの ‘-’ を出力し
     ます。

‘--shortstat’
     変更されたファイルの総数と、追加および削除された行の数を含む
     ‘--stat’ 形式の最後の行のみを出力します。

‘-X[<param1,param2,...>]’
‘--dirstat[=<param1,param2,...>]’
     各サブディレクトリの相対的な変更量の分布を出力します。 ‘--dirstat’
     の動作は、パラメータのコンマ区切りリストを渡すことでカスタマイズで
     きます。デフォルトは、 ‘diff.dirstat’ 構成変数によって制御されます
     (git-config(1) 参照)。以下のパラメータを使用できます:

     ‘changes’
          ソースから削除された、または宛先に追加された行をカウントして、
          dirstat数を計算します。これは、ファイル内の純粋なコード移動の
          量を無視します。つまり、ファイル内の行の再配置は、他の変更ほど
          カウントされません。これは、パラメーターが指定されていない場合
          のデフォルトの動作です。

     ‘lines’
          通常の行ベースのdiff分析を実行し、削除/追加された行数を合計し
          て、dirstat数を計算します。 (バイナリファイルの場合、バイナリ
          ファイルには行の概念がないため、代わりに64バイトのチャンクをカ
          ウントします)。 これは ‘changes’ 動作よりも高価な ‘--dirstat’
          動作ですが、他の変更と同じようにファイル内の再配置された行をカ
          ウントします。結果の出力は、他の ‘--*stat’ オプションから得ら
          れるものと一致しています。

     ‘files’
          変更されたファイルの数を数えて、dirstat数を計算します。変更さ
          れた各ファイルは、dirstat分析で等しくカウントされます。これは
          、ファイルの内容をまったく調べる必要がないため、計算コストが最
          もかからない ‘--dirstat’ の動作です。

     ‘cumulative’
          親ディレクトリの子ディレクトリの変更も同様にカウントします。
          ‘cumulative’(累積的) を使用する場合、報告されるパーセンテージ
          の合計が100%を超える場合があることに注意してください。デフォル
          トの(非累積的な)動作は、‘noncumulative’ パラメーターで指定でき
          ます。

     <limit>
          整数パラメーターは、カットオフパーセント(デフォルトでは3%)を指
          定します。指定の割合より少ないディレクトリは、出力に表示されま
          せん。

     例: 変更されたファイルの総数の10%未満のディレクトリを無視し、親ディ
     レクトリに子ディレクトリの数を累積しながら、変更されたファイルをカ
     ウント: ‘--dirstat=files,10,cumulative’

‘--cumulative’
     ‘--dirstat=cumulative’ と同義語

‘--dirstat-by-file[=<param1,param2>...]’
     ‘--dirstat=files,param1,param2...’ と同義語

‘--summary’
     作成、名前変更、モード変更などの拡張ヘッダー情報の短い要約
     (condensed summary)を出力します。

‘--patch-with-stat’
     ‘-p --stat’ と同義語。

‘-z’
     改行(newline)ではなく、NULでコミットを区切ります。

     また、 ‘--raw’ または ‘--numstat’ を指定した場合は、パス名を難読化
     (munge)したり、出力フィールドターミネータとしてNULを使用したりしな
     いでください。

     このオプションがないと、構成変数 ‘core.quotePath’ で説明されている
     ように、 通常の文字以外(unusual characters)を含むパス名が引用符で囲
     まれます(git-config(1) 参照)。

‘--name-only’
     変更されたファイルの名前のみを表示します。 多くの場合、ファイル名は
     UTF-8でエンコードされます。 詳細については、 git-log(1) のマニュア
     ルページにあるエンコーディングに関する議論(the discussion about
     encoding)を参照してください。

‘--name-status’
     変更されたファイルの名前とステータスのみを表示します。ステータス文
     字の意味については、 ‘--diff-filter’ オプションの説明を参照してくだ
     さい。 ‘--name-only’ と同じように、ファイル名はしばしばUTF-8でエン
     コードされます。

‘--submodule[=<format>]’
     サブモジュールの違いをどのように表示するかを指定します。
     ‘--submodule=short’ を指定する場合、 _short_ 形式が使用されます。こ
     の形式は、範囲の最初と最後にコミットの名前を表示するだけです。
     ‘--submodule’ または ‘--submodule=log’ が指定されている場合、 _log_
     形式が使用されます。この形式では、 git-submodule(1) ‘summary’ のよ
     うに範囲内のコミットが一覧表示されます。 ‘--submodule=diff’ が指定
     されている場合、 _diff_ 形式が使用されます。この形式は、コミット範
     囲間のサブモジュールの内容の変更のインラインdiffを示します。
     configオプションが設定されていない場合、デフォルトは
     ‘diff.submodule’ または _short_ 形式です。

‘--color[=<when>]’
     色付きのdiffを表示します。 ‘--color’ (つまり、 _=<when>_ ) は
     ‘--color=always’ と同じです。 _<when>_ は、 ‘always’ または ‘never’
     または ‘auto’ のいずれかになります。

‘--no-color’
     カラーdiffをオフにします。 ‘--color=never’ と同じです。

‘--color-moved[=<mode>]’
     ソースコードの移動した行を別の色にします。 <mode>は、オプションが指
     定されていない場合はデフォルトで _no_ になり、 モードが指定されてい
     ないオプションが指定されている場合は _zebra_ になります。 モードは
     以下のいずれかでなければなりません:

     no
          移動行をハイライトしません。

     default
          ‘zebra’ の同義語です。これは、将来、より賢明なモードに変更され
          る可能性があります。

     plain
          ある場所で追加され、別の場所で削除された行は、
          _color.diff.newMoved_ で色付けされます。 同様に、
          _color.diff.oldMoved_ は、差分の別の場所に追加された削除された
          行に使用されます。このモードは移動された行をピックアップします
          が、コードのブロックが順列なしで移動されたかどうかを判断するこ
          とはレビューではあまり役に立ちません。

     blocks
          少なくとも20文字の英数字の移動テキストのブロックが貪欲に検出さ
          れます。検出されたブロックは、 _color.diff.{old,new}Moved_ 色
          のいずれかを使用して色付けされます。隣接するブロックを区別する
          ことはできません。

     zebra
          移動されたテキストのブロックは、 _blocks_ モードの場合と同様に
          検出されます。 ブロックは、 _color.diff.{old,new}Moved_ 色また
          は _color.diff.{old,new}MovedAlternative_ 色のいずれかを使用し
          て色付けされます。2つの色の間の変化は、新しいブロックが検出さ
          れたことを示します。

     dimmed-zebra
          _zebra_ に似ていますが、移動されたコードの重要でない部分の追加
          の調光(dimmed)が実行されます。隣接する2つのブロックの境界線は
          興味深いと見なされ、残りは興味深いものではありません。
          ‘dimmed_zebra’ は非推奨の同義語です。

‘--no-color-moved’
     移動検出をオフにします。 これは、構成設定を上書きするために使用でき
     ます。 ‘--color-moved=no’ と同じです。

‘--color-moved-ws=<modes>’
     これは、 ‘--color-moved’ の移動検出を実行するときに空白を無視する方
     法を設定します。 これらのモードは、コンマ区切りのリストとして指定で
     きます:

     no
          移動行検出を実行するときに、空白(whitespace)を無視しない。

     ignore-space-at-eol
          行末(EOL)での空白(whitespace)の変更を無視します。

     ignore-space-change
          空白(whitespace)の数の変更は無視してください。これは、行末の空
          白(whitespace)を無視し、1つ以上の空白文字(whitespace
          characters)の他のすべてのシーケンスを同等と見なします。

     ignore-all-space
          行を比較するときは空白(whitespace)を無視します。これにより、一
          方の行に空白があり、もう一方の行に空白がない場合でも、違いは無
          視されます。

     allow-indentation-change
          最初に移動検出で空白(whitespace)を無視し、空白(whitespace)の変
          更が行ごとに同じである場合にのみ、移動されたコードブロックをブ
          ロックにグループ化します。 これは他のモードと互換性がありませ
          ん。

‘--no-color-moved-ws’
     移動検出を実行するときは、空白(whitespace)を無視しないでください。
     これは、構成設定を上書きするために使用できます。
     ‘--color-moved-ws=no’ と同じです。

‘--word-diff[=<mode>]’
     <mode> を使用して変更された単語を区切ることにより、単語のdiffを表示
     します。デフォルトでは、単語は空白で区切られます。 以下の
     ‘--word-diff-regex’ を参照してください。 <mode> のデフォルトは
     ’plain’です。 <mode> は以下のいずれかである必要があります:

     color
          変更された単語(word)を色のみを使用して強調表示します。
          ‘--color’ を意味します。

     plain
          単語を ‘[-removed-]’ および ‘{+added+}’ として表示します。 区
          切り文字が入力に表示されている場合、区切り文字をエスケープしよ
          うとしないため、出力があいまいになる可能性があります。

     porcelain
          スクリプトの使用を目的とした特別な行ベースの形式を使用します。
          追加/削除/無変更については、通常の統一されたdiff形式で印刷され
          、行の先頭の ‘+’/‘-’/‘ ‘ 文字で始まり、行の終わりまで続きます
          。入力の改行は、それ自体の行のチルダ ‘~’ で表されます。

     none
          単語(word)のdiffを再度無効にします。

     注意: 最初のモードの名前にもかかわらず、有効になっている場合、すべ
     てのモードで変更された部分を強調するために色が使用されることに注意
     してください。

‘--word-diff-regex=<regex>’
     空白以外を単語と見なす代わりに、 <regex> を使用して単語が何であるか
     を決定します。また、すでに有効になっていない限り、この機能は
     ‘--word-diff’ の機能を含んでいます。

     <regex> の重複しないマッチはすべて、単語と見なされます。これらのマ
     ッチの間のすべては空白と見なされ、違いを見つけるためとしては無視さ
     れます！ 正規表現に ‘|[^[:space:]]’ を追加して、空白以外のすべての
     文字とマッチすることを確認することをお勧めします。改行を含むマッチ
     は、改行で黙って切り捨てられます！

     たとえば、 ‘--word-diff-regex=.’ は各文字を単語として扱い、それに応
     じて文字ごとの違いを表示します。

     正規表現は、diffドライバーまたは構成オプション(configuration
     option)を介して設定することもできます。 gitattributes(5) または
     git-config(1) を参照してください。これを指定すると、diffドライバー
     または構成設定(configuration settings)が明示的にオーバーライドされ
     ます。diffドライバーは構成設定を上書きします。

‘--color-words[=<regex>]’
     ‘--word-diff=color’ に ‘--word-diff-regex=<regex>’ を加えたものに相
     当します(正規表現が指定されている場合)。

‘--no-renames’
     構成ファイルにデフォルトで指定されている場合でも、名前変更の検出を
     オフにします。

‘--[no-]rename-empty’
     名前変更ソースとして空のブロブを使用するかどうか。

‘--check’
     変更によって競合マーカーまたは空白エラーが発生した場合に警告します
     。空白エラーと見なされるものは、 ‘core.whitespace’ 構成によって制御
     されます。 デフォルトでは、末尾の空白(空白のみで構成される行を含む
     )と、行の最初のインデント内で直後にタブ文字が続くスペース文字は、空
     白エラーと見なされます。問題が見つかった場合は、ゼロ以外のステータ
     スで終了します。なお、 –exit-code とは互換性がありません。

‘--ws-error-highlight=<kind>’
     diffの ‘context’ または ‘old’ または ‘new’ 行の空白エラーを強調表示
     します。複数の値はコンマで区切られ、 ‘none’ は前の値をリセットし、
     ‘default’ はリストを ‘new’ にリセットし、 ‘all’ は old、new、
     context の省略形です。このオプションが指定されておらず、構成変数
     ‘diff.wsErrorHighlight’ が設定されていない場合、 ‘new’ 行の空白エラ
     ーのみが強調表示されます。空白エラーは ‘color.diff.whitespace’ で色
     分けされています。

‘--full-index’
     パッチ形式の出力を生成するときは、最初の一握りの文字(first handful
     of characters)の代わりに、「インデックス」行にイメージ前およびイメ
     ージ後の完全ブロブオブジェクト名を表示します。

‘--binary’
     ‘--full-index’ に加えて、 ‘git-apply’ で適用できるバイナリ差分を出
     力します。 ‘--patch’ の機能を含んでいます。

‘--abbrev[=<n>]’
     完全な40バイトの16進オブジェクト名をdiff-raw形式の出力とdiff-treeヘ
     ッダー行に表示する代わりに、オブジェクトを一意に参照する、少なくと
     も _<n>_ 桁の16進数の長さの最短のプレフィックスを表示します。diffパ
     ッチ出力形式では、 ‘--full-index’ が優先されます。つまり、
     ‘--full-index’ が指定されている場合、 ‘--abbrev’ に関係なく、完全な
     ブロブ名が表示されます。デフォルト以外の桁数は、 ‘--abbrev=<n>’ で
     指定できます。

‘-B[<n>][/<m>]’
‘--break-rewrites[=[<n>][/<m>]]’
     完全な書き換えの変更を削除と作成のペアに分割します。これには以下の
     2つの目的があります:

     これは、ファイルの完全な書き換えに相当する変更が、コンテキストとし
     てテキストで一致する非常に少数の行と混合された一連の削除と挿入とし
     てではなく、古いものすべての単一の削除とそれに続く すべての新しいも
     のを1回挿入し、数値 ‘m’ が -B オプションのこの側面を制御します(デフ
     ォルトは60%)。 ‘-B/70%’ は、Gitがそれを完全な書き換えと見なすために
     、元の30%未満が結果に残る必要があることを指定します(つまり、結果の
     パッチは、コンテキスト行と混合された一連の削除と挿入になります)。

     -M と一緒に使用すると、完全に書き換えられたファイルも名前変更のソー
     スと見なされ(通常、 -M は、消えたファイルのみを名前変更のソースと見
     なします)、数 ‘n’ が -Bオプションのこの側面を制御します(デフォルト
     は50%)。 ‘-B20%’ は、ファイルのサイズの20%以上と比較して、追加およ
     び削除を伴う変更が、別のファイルへの名前変更の可能なソースとして取
     得される資格があることを指定します。

‘-M[<n>]’
‘--find-renames[=<n>]’
     diffを生成する場合は、コミットごとに名前の変更を検出して報告します
     。 履歴をトラバースしながら名前を変更してファイルをフォローする方法
     については、 ‘--follow’ を参照してください。 ‘n’ が指定されている場
     合、それは類似性インデックスのしきい値です (つまり、ファイルのサイ
     ズと比較した追加/削除の量)。 たとえば、 ‘-M90%’ は、ファイルの90%以
     上が変更されていない場合、 Gitが削除/追加のペアを名前変更と見なす必
     要があることを意味します。 ‘%’ 記号がない場合、数値は小数として読み
     取られ、その前に小数点が付きます。 つまり、 ‘-M5’ は0.5になるため、
     ‘-M50%’ と同じになります。 同様に、 ‘-M05’ は ‘-M5%’ と同じです。 検
     出を正確な名前変更に制限するには、 ‘-M100%’ を使用します。 デフォル
     トの類似性インデックスは50%です。

‘-C[<n>]’
‘--find-copies[=<n>]’
     名前と同様コピーを検出します。 ‘--find-copies-harder’ ‘も参照してく
     ださい。 `n’ を指定すると、 ‘-M<n>’ と同じ意味になります。

‘--find-copies-harder’
     パフォーマンス上の理由から、デフォルトでは、 ‘-C’ オプションは、コ
     ピーの元のファイルが同じ変更組(changeset)で変更された場合にのみコピ
     ーを検索します。このフラグにより、コマンドは変更されていないファイ
     ルをコピー元の候補として検査します。これは大規模なプロジェクトでは
     非常にコストのかかる操作であるため、注意して使用してください。 複数
     の ‘-C’ オプションを指定しても同じ効果があります。

‘-D’
‘--irreversible-delete’
     削除するプレイメージ(preimage)を省略します。つまり、ヘッダーのみを
     出力し、プレイメージと ‘/dev/null’ の差分は出力しません。結果のパッ
     チは、 ‘patch’ または ‘git apply’ で適用されることを意図していませ
     ん。これは、変更後にテキストを確認することに集中したい人のためだけ
     のものです。さらに、出力には明らかに、そのようなパッチを手動でも逆
     に適用するのに十分な情報が不足しているため、オプションの名前が付け
     られています。

     ‘-B’ と併用する場合は、削除/作成ペアの削除部分のプリイメージ
     (preimage)も省略してください。

‘-l<num>’
     ‘-M’ および ‘-C’ オプションには、名前変更/コピーのサブセットを安価
     に検出できるいくつかの準備手順が含まれ、その後に、残りのすべてのペ
     アになっていない宛先をすべての関連ソースと比較する徹底的なフォール
     バック部分が続きます。(名前の変更の場合、残りのペアになっていないソ
     ースのみが関係します。コピーの場合、すべての元のソースが関係します
     )。Nのソースと宛先の場合、この徹底的なチェックのコストは O(N^2) で
     す。このオプションは、関係するソース/宛先ファイルの数が指定された数
     を超えた場合に、名前変更/コピー検出の完全な部分が実行されないように
     します。デフォルトは diff.renameLimit です。 値0は無制限として扱わ
     れることに注意してください。

‘--diff-filter=[(A|C|D|M|R|T|U|X|B)...[*]]’
     追加(Add)・コピー(Copy)・削除(Delete)・変更(Modify)・名前変更
     (Rename)されたファイル、タイプが変更されたファイル(T)、マージされて
     いないファイル(U)、不明なファイル(X)、またはペアリングが壊れている
     ファイル(B)のみを選択します。フィルタ文字(無しも含む)の任意の組み合
     わせを使用できます。 組み合わせに ‘*’ (全てまたは無し)が追加される
     と、比較で他の基準に一致するファイルがある場合、すべてのパスが選択
     されます。 他の基準に一致するファイルがない場合、何も選択されません
     。

     また、逆に、除外したい時はこれらの各大文字指定を小文字にして指定し
     ます。例えば ‘--diff-filter=ad’ は、追加および削除されたパスを除外
     します。

     注意:すべてのdiffがすべてのタイプを特徴とするわけではないことに注意
     してください。 たとえば、インデックスから作業ツリーへのdiffにエント
     リを追加することはできません(diffに含まれるパスのセットは、インデッ
     クスの内容によって制限されるため)。 同様に、これらのタイプの検出が
     無効になっている場合、コピーおよび名前変更されたエントリは表示され
     ません。

‘-S<string>’
     ファイル内の指定の文字列(つまり、 addition 、deletion)の出現回数の
     差分を調べます。スクリプターが使用することを目的としています。

     (構造体など)コードの正確なブロックを探していて、そのブロックが最初
     に作成されてからの履歴を知りたい場合に便利です。この機能を繰り返し
     使用して、プリイメージ(preimage)内の興味深いブロックを ‘-S’ にフィ
     ードバックし、そしてあなたはそれをブロックの最初のバージョンを取得
     するまで続けます。

     バイナリファイルも検索されます。

‘-G<regex>’
     パッチテキストに <regex> にマッチする 追加/削除 された行が含まれて
     いる差分を探します。

     ‘-S<regex>-pickaxe-regex’ と ‘-G<regex>’ の違いを説明するために、同
     じファイル内で以下のdiffを使用してコミットすることを検討してくださ
     い:

          +    return frotz(nitfol, two->ptr, 1, 0);
          ...
          -    hit = frotz(nitfol, mf2.ptr, 1, 0);

     ‘git log -G"frotz\(nitfol"’ はこのコミットを表示しますが、 ‘git log
     -S"frotz\(nitfol" --pickaxe-regex’ は表示しません(その文字列の出現
     回数が変更されなかったため)。

     ‘--text’ が提供されていない限り、 textconv フィルターのないバイナリ
     ファイルのパッチは無視されます。

     詳細については gitdiffcore(7) の _pickaxe_ エントリを参照してくださ
     い。

‘--find-object=<object-id>’
     指定されたオブジェクトの出現回数を変更する違いを探します。 ‘-S’ と
     同様に、引数だけが異なり、特定の文字列ではなく特定のオブジェクト
     IDを検索します。

     オブジェクトは、ブロブまたはサブモジュールのコミットにすることがで
     きます。 これは、 ‘git-log’ の ‘-t’ オプションがツリーも探すことを
     意味します。

‘--pickaxe-all’
     ‘-S’ または ‘-G’ が変更を見つけたら、 <string> の変更を含むファイル
     だけでなく、その変更セット(changeset)のすべての変更を表示します。

‘--pickaxe-regex’
     ‘-S’ に指定した <string> を拡張POSIX正規表現として扱います。

‘-O<orderfile>’
     ファイルが出力に表示される順序を制御します。これは ‘diff.orderFile’
     構成変数をオーバーライドします(git-config(1) 参照)。
     ‘diff.orderFile’ をキャンセルするには、 ‘-O/dev/null’ を使用します
     。

     出力順序は、 <orderfile> 内のglobパターンの順序によって決定されます
     。最初のパターンに一致するパス名を持つすべてのファイルが最初に出力
     され、2番目のパターンに一致する(ただし最初のパターンには一致しない
     )パス名を持つすべてのファイルが次に出力されます。パス名がどのパター
     ンとも一致しないすべてのファイルは、ファイルの最後に暗黙のすべて一
     致パターンがあるかのように、最後に出力されます。複数のパス名のラン
     クが同じである場合(同じパターンに一致するが、以前のパターンには一致
     しない)、相互の出力順序は通常の順序です。

     <orderfile> は以下のとおりパースされます:

        • 空白行は無視されるため、読みやすくするための区切りとして使用で
          きます。

        • ハッシュ ("‘#’") で始まる行は無視されるため、コメントに使用で
          きます。 パターンがハッシュで始まる場合は、パターンの先頭にバ
          ックスラッシュ(訳注:日本では環境により円記号)("‘\’") を追加し
          ます。

        • 他の各行には、単一のパターンが含まれています。

     パターンは、 FNM_PATHNAME フラグなしで fnmatch(3) に使用されるパタ
     ーンと同じ構文とセマンティクスを持ちますが、最終的なパス名コンポー
     ネントをいくつも削除するとパターンと一致する場合、パス名もパターン
     と一致する点が異なります。 たとえば、パターン "‘foo*bar’" は、
     "‘fooasdfbar’" および "‘foo/bar/baz/asdf’" と一致しますが、
     "‘foobarx’" とは一致しません。

‘--skip-to=<file>’
‘--rotate-to=<file>’
     名前付き <file> の前のファイルを出力から破棄するか(スキップして)、
     出力の最後に移動させます(ローテーションさせます)。 これらは主に
     ‘git difftool’ コマンドを使用するために考案されたものであり、それ以
     外の場合はあまり役に立たない可能性があります。

‘-R’
     2つの入力を交換します。 つまり、インデックスまたはディスク上のファ
     イルとツリーの内容の違いを表示します。

‘--relative[=<path>]’
‘--no-relative’
     プロジェクトのサブディレクトリから実行する場合、このオプションを使
     用して、ディレクトリ外の変更を除外し、それに関連するパス名を表示す
     るように指示できます。サブディレクトリ(ベアリポジトリなど)にいない
     場合は、引数として <path> を指定することで、出力を作成するサブディ
     レクトリに名前を付けることができます。 ‘--no-relative`は、
     `diff.relative’ 設定オプションと以前の ‘--relative’ の両方を打ち消
     すために使用できます。

‘-a’
‘--text’
     すべてのファイルをテキストとして扱います。

‘--ignore-cr-at-eol’
     比較を行うときは、行末のキャリッジリターン(carriage-return)を無視し
     ます。

‘--ignore-space-at-eol’
     行末(EOL)での空白(whitespace)の変更を無視します。

‘-b’
‘--ignore-space-change’
     空白(whitespace)の数の変更は無視してください。これは、行末の空白
     (whitespace)を無視し、1つ以上の空白文字(whitespace characters)の他
     のすべてのシーケンスを同等と見なします。

‘-w’
‘--ignore-all-space’
     行を比較するときは空白を無視します。 これにより、一方の行に空白があ
     り、もう一方の行に空白がない場合でも、違いは無視されます。

‘--ignore-blank-lines’
     全て空白の行の変更は無視します。

‘-I<regex>’
‘--ignore-matching-lines=<regex>’
     すべての行が <regex> にマッチする変更を無視します。このオプションは
     複数回指定できます。

‘--inter-hunk-context=<lines>’
     指定された行数までの差分ハンク間のコンテキストを表示し、それによっ
     て互いに近いハンクを融合します。デフォルトは
     ‘diff.interHunkContext’ で、設定オプションが設定されていない場合は
     0です。

‘-W’
‘--function-context’
     関数全体を各変更のコンテキスト行として表示します。関数名は、 ‘git
     diff’ がパッチハンクヘッダーを処理するのと同じ方法で決定されます
     (gitattributes(5) の _Defining a custom hunk-header_ を参照)。

‘--ext-diff’
     外部diffヘルパーの実行を許可します。 gitattributes(5) を使用して外
     部diffドライバーを設定する場合は、 git-log(1) およびその仲間と一緒
     にこのオプションを使用する必要があります。

‘--no-ext-diff’
     外部diffドライバーを禁止します。

‘--textconv’
‘--no-textconv’
     バイナリファイルを比較するときに、外部テキスト変換フィルターの実行
     を許可(または禁止)します。 詳細については、 gitattributes(5) を参照
     してください。textconvフィルターは通常、一方向の変換であるため、結
     果のdiffは人間の消費に適していますが、適用(apply)することはできませ
     ん。このため、textconvフィルターは、 git-diff(1) および git-log(1)
     に対してのみデフォルトで有効になりますが、 git-format-patch(1) また
     はdiff配管コマンドに対しては有効になりません。

‘--ignore-submodules[=<when>]’
     diff生成のサブモジュールへの変更を無視します。 <when> は、 none・
     untracked・dirty・allのいずれかになります。これがデフォルトです。
     noneを使用すると、追跡されていないファイルまたは変更されたファイル
     が含まれている場合、またはそのHEADがスーパープロジェクトに記録され
     ているコミットと異なる場合にサブモジュールが変更されたと見なされ、
     git-config(1) または gitmodules(5) の ignoreオプションの設定をオー
     バーライドするために使用できます。untrackedが使用されている場合、サ
     ブモジュールには追跡されていないコンテンツのみが含まれている場合、
     サブモジュールはダーティとは見なされません(ただし、変更されたコンテ
     ンツはスキャンされます)。「dirty」を使用すると、サブモジュールの作
     業ツリーへのすべての変更が無視され、スーパープロジェクトに格納され
     ているコミットへの変更のみが表示されます(これは1.7.0までの動作でし
     た)。「all」を使用すると、サブモジュールへのすべての変更が非表示に
     なります。

‘--src-prefix=<prefix>’
     "a/" の代わりに、与えられたソースプレフィックス(source prefix)を表
     示します。

‘--dst-prefix=<prefix>’
     "b/" の代わりに、指定された宛先プレフィックス(destination prefix)を
     表示します。

‘--no-prefix’
     送信元(source)または宛先(destination)のプレフィックスを表示しません
     。

‘--line-prefix=<prefix>’
     出力のすべての行に追加のプレフィックスを付加します。

‘--ita-invisible-in-index’
     デフォルトでは、 "git add -N" によって追加されたエントリは、 "git
     diff" に既存の空のファイルとして表示され、 "git diff –cached" に新
     しいファイルとして表示されます。このオプションを使用すると、エント
     リは "git diff" では新しいファイルとして表示され、 "git diff
     –cached" では存在しません。このオプションは、
     ‘--ita-visible-in-index’ で元に戻すことができます。どちらのオプショ
     ンも実験的なものであり、将来削除される可能性があります。

   これらの一般的なオプションの詳細については、 gitdiffcore(7) も参照し
てください。


Generating patch text with -p
*****************************

git-diff(1) 、 git-log(1) 、 git-show(1) 、 git-diff-index(1) 、
git-diff-tree(1) 、 git-diff-files(1) に ‘-p’ オプションを付けて実行する
とパッチテキストを生成します。パッチテキストの作成は、
‘GIT_EXTERNAL_DIFF’ と ‘GIT_DIFF_OPTS’ 環境変数( git(1) 参照)、および
‘diff’ 属性( gitattributes(5) 参照)を介してカスタマイズできます。

   -pオプションが生成するものは、従来のdiff形式とは少々異なります:

  1. 先行して、以下のような "git diff" ヘッダーがあります:

          diff --git a/file1 b/file2

     名前の変更/コピーが含まれない限り、 ‘a/’ と ‘b/’ のファイル名は同じ
     です。 特に、作成または削除の場合でも、 ‘a/’ または ‘b/’ ファイル名
     の代わりに ‘/dev/ null’ が使用されることはありません。

     名前変更/コピーが含まれる場合、 ‘file1’ と‘file2‘ は、それぞれ名前
     変更/コピーのソースファイルの名前と、名前変更/コピーが生成するファ
     イルの名前を示します。

  2. その後に、1つ以上の拡張ヘッダー行達が続きます:

          old mode <mode>
          new mode <mode>
          deleted file mode <mode>
          new file mode <mode>
          copy from <path>
          copy to <path>
          rename from <path>
          rename to <path>
          similarity index <number>
          dissimilarity index <number>
          index <hash>..<hash> <mode>

     ファイルモードは、ファイルタイプとファイル許可ビットを含む6桁の8進
     数として出力されます。

     拡張ヘッダーのパス名には、 ‘a/’ および ‘b/’ プレフィックスは含まれ
     ません。

     類似インデックス(similarity index)は変更されていない行のパーセンテ
     ージであり、非類似インデックス(dissimilarity index)は変更された行の
     パーセンテージです。これは切り捨てられた整数であり、その後にパーセ
     ント記号が続きます。したがって、100％の類似インデックス値は2つの等
     しいファイルを表し、100％の非類似性は古いファイルから新しいファイル
     に移行された行がないことを意味します。

     インデックス行には、変更前後のブロブオブジェクト名が含まれます。
     <mode> は、ファイルモードが変更されない場合に含まれます。それ以外の
     場合、別々の行は古いモードと新しいモードを示します。

  3. 通常の文字でないキャラクタ(\"unusual\" characters)を含むパス名は、
     構成変数 ‘core.quotePath’ で説明されているように引用符で囲まれてい
     ます( git-config(1)参照)。

  4. 出力内のすべての ‘file1’ ファイルはコミット前のファイルを参照し、す
     べての ‘file2’ ファイルはコミット後のファイルを参照します。各変更を
     各ファイルに順番に適用するのは誤りです。たとえば、以下のパッチはaと
     bを交換します:

          diff --git a/a b/b
          rename from a
          rename to b
          diff --git a/b b/a
          rename from b
          rename to a

  5. ハンクのヘッダーには、ハンクが適用される関数の名前が記載されていま
     す。特定の言語に合わせてこれを調整する方法の詳細については、
     gitattributes(5) の "Defining a custom hunk-header" を参照してくだ
     さい。


Combined diff format
********************

diffを生成するコマンドは、マージを表示するときに ‘-c’ または ‘--cc’ オプ
ションを使用して「合成diff」(combined diff)を生成できます。これは
git-diff(1) または git-show(1) でのマージを表示するときのデフォルトの形
式です。 注意: これらのコマンドのいずれかに適切な ‘--diff-merges’ オプシ
ョンを指定して、特定の形式で差分を強制的に生成できることにも注意してくだ
さい。

   合成diff形式は以下のようになります:

     diff --combined describe.c
     index fabadb8,cc95eb0..4866510
     --- a/describe.c
     +++ b/describe.c
     @@@ -98,20 -98,12 +98,20 @@@
             return (a_date > b_date) ? -1 : (a_date == b_date) ? 0 : 1;
       }

     - static void describe(char *arg)
      -static void describe(struct commit *cmit, int last_one)
     ++static void describe(char *arg, int last_one)
       {
      +      unsigned char sha1[20];
      +      struct commit *cmit;
             struct commit_list *list;
             static int initialized = 0;
             struct commit_name *n;

      +      if (get_sha1(arg, sha1) < 0)
      +              usage(describe_usage);
      +      cmit = lookup_commit_reference(sha1);
      +      if (!cmit)
      +              usage(describe_usage);
      +
             if (!initialized) {
                     initialized = 1;
                     for_each_ref(get_name);

  1. まず "git diff" ヘッダーがあり、以下のようになります( ‘-c’ オプショ
     ンが使用されている場合):

          diff --combined file

     または、以下のようになります( ‘--cc’ オプションが使用されている場合
     ):

          diff --cc file

  2. その後に1つ以上の拡張ヘッダー行が続きます(以下の例は、2つの親とのマ
     ージを示しています):

          index <hash>,<hash>..<hash>
          mode <mode>,<mode>..<mode>
          new file mode <mode>
          deleted file mode <mode>,<mode>

     ‘mode <mode>,<mode>..<mode>’ 行は、<mode> の少なくとも1つが他の
     <mode> と異なる場合にのみ表示されます。検出されたコンテンツの移動
     (名前の変更とコピーの検出)に関する情報を含む拡張ヘッダーは、2つの
     <tree-ish> のdiffで機能するように設計されており、合成diff形式では使
     用されません。

  3. その後に2行の from-file/to-file ヘッダーが続きます

          --- a/file
          +++ b/file

     従来の統一diff形式の2行ヘッダーと同様に、 ‘/dev/null’ は、作成また
     は削除されたファイルを通知するために使用されます。

     ただし、 –combined-all-paths オプションが指定されている場合、2行の
     from-file/to-file の代わりに、 N+1 行の from-file/to-file ヘッダー
     が取得されます。ここで、 N はマージコミットの親の数です。

          --- a/file
          --- a/file
          --- a/file
          +++ b/file

     この拡張形式は、名前変更またはコピー検出がアクティブな場合に役立ち
     、別の親のファイルの元の名前を確認できます。

  4. チャンクヘッダーの形式が変更され、誤って ‘patch-p1’ にフィードされ
     るのを防ぎます。合成差分形式は、マージコミットの変更を確認するため
     に作成されたものであり、適用されることを意図したものではありません
     。この変更は、拡張された「インデックス」ヘッダーの変更に似ています:

          @@@ <from-file-range> <from-file-range> <to-file-range> @@@

     合成diff形式のチャンクヘッダーには親の数+1の ‘@’ 文字があります。

   従来の統一diff形式とは異なり、2つのファイルAとBが、 ‘-’ (マイナスは
Aに表示されますが、Bでは削除されます) または ‘+’ (プラスはAにはありませ
んが、Bには追加されます)、または ‘" "’（スペースは変更なし) プレフィック
スを持つ単一の列で表示される場合、この形式は2つ以上のファイル file1,
file2,… を1つのファイルXと比較し、Xが各 fileN とどのように異なるかを示し
ます。ファイルNごとに1つの列が出力行の前に追加され、Xの行が出力行とどの
ように異なるかを示します。

   列Nの ‘-’ 文字は、その行が fileN に表示されているが、結果には表示され
ていないことを意味します。 列Nの ‘+’ 文字は、結果に行が表示され、 fileN
にその行がないことを意味します(つまり、その親の観点から見て行が追加され
たことを示す)。

   上記の出力例では、関数のシグネチャが両方のファイルから見て変更されて
います(したがって、 file1 と file2 の両方から2つの ‘-’ が削除され、さら
に ‘++’ が追加されたため、 file1 と file2 のどちらにも表示されません)。
また、他の8行は file1 と同じですが、 file2 には表示されません(したがって
、接頭辞として ‘+’ が付けられます)。

   ‘git diff-tree -c’ で表示される場合、マージコミットの親をマージ結果と
比較します(つまり、 file1..fileN が親です)。 ‘git diff-files -c’ で表示
される場合、2つの未解決のマージ親を作業ツリーファイルと比較します(つまり
、 file1 はステージ2、別名「私たちのバージョン」、 file2 はステージ3、別
名「彼らのバージョン」です)。


EXAMPLES
********

‘git show v1.0.0’
     タグ ‘v1.0.0’ と、タグが指すオブジェクトを表示します。

‘git show v1.0.0^{tree}’
     タグ ‘v1.0.0’ が指すツリーを表示します。

‘git show -s --format=%s v1.0.0^{commit}’
     タグ ‘v1.0.0’ が指すコミットの件名を表示します。

‘git show next~10:Documentation/README’
     ブランチ ‘next’ の最後から10番目のコミットで最新であったファイル
     ‘Documentation/README’ の内容を表示します。

‘git show master:Makefile master:t/Makefile’
     ブランチ ‘master’ の先頭にあるMakefileの内容を連結して表示します。


DISCUSSION
**********

Gitは、ある程度までは文字エンコードに依存しません。

   • ブロブオブジェクトの内容は、解釈されていないバイトのシーケンスです
     。コアレベルでのエンコーディング変換はありません。

   • パス名はUTF-8正規化形式C(UTF-8 normalization form C)でエンコードさ
     れます。これは、ツリーオブジェクト、インデックスファイル、ref名、お
     よびコマンドライン引数、環境変数、構成ファイル( ‘.git/config’
     (git-config(1) 参照) と gitignore(5) と gitattributes(5) と
     gitmodules(5)) のパス名に適用されます。

     コアレベルのGitは、パス名を単に非NULバイトのシーケンスとして扱い、
     パス名をエンコードする変換はありません(MacとWindowsを除く)。したが
     って、非ASCIIパス名の使用は、レガシー拡張ASCIIエンコーディングを使
     用するプラットフォームやファイルシステムでもほとんど機能します。た
     だし、そのようなシステムで作成されたリポジトリは、UTF-8ベースのシス
     テム(Linux、Mac、Windowsなど)では正しく機能しません。その逆も同様で
     す。さらに、多くのGitベースのツールは、パス名がUTF-8であると単純に
     想定しており、他のエンコーディングを正しく表示できません。

   • コミットログメッセージは通常UTF-8でエンコードされますが、他の拡張
     ASCIIエンコードもサポートされています。これには、ISO-8859-x、
     CP125xなどが含まれますが、UTF-16/32、EBCDIC、およびCJKマルチバイト
     エンコーディング(GBK、Shift-JIS、Big5、EUC-x、CP9xxなど)は含まれま
     せん。

   我々はコミットログメッセージをUTF-8でエンコードすることをお勧めします
が、コアとGit Porcelainはどちらも、プロジェクトでUTF-8を強制しないように
設計されています。特定のプロジェクトのすべての参加者がレガシーエンコーデ
ィングを使用する方が便利だと感じた場合、Gitはそれを禁止しません。 ただし
、覚えておくべきことがいくつかあります。

  1. _git commit_ と _git commit-tree_ は、プロジェクトがレガシーエンコ
     ーディングを使用していることを明示的に指定しない限り、与えられたコ
     ミットログメッセージが有効なUTF-8文字列のように見えない場合に警告を
     発します。明示的に指定する方法は、以下のように、 ‘.git/config’ ファ
     イルに ‘i18n.commitEncoding’ を含めることです。

          [i18n]
                  commitEncoding = ISO-8859-1

     上記の設定で作成されたコミットオブジェクトは、 ‘encoding’ ヘッダー
     に ‘i18n.commitEncoding’ の値を記録します。 これは、後でそれらを見
     る他の人々を助けるためです。このヘッダーがないということは、コミッ
     トログメッセージがUTF-8でエンコードされていることを意味します。

  2. _git log_ と _git show_ と _git blame_ とその仲間たちは、コミットオ
     ブジェクトの ‘encoding’ ヘッダーを見て、特に指定がない限り、ログメ
     ッセージをUTF-8に再コーディングしようとします。あなたは以下のように
     、 ‘.git/config’ ファイルの ‘i18n.logOutputEncoding’ を使用して目的
     の出力エンコーディングを指定できます。

          [i18n]
                  logOutputEncoding = ISO-8859-1

     この構成変数がない場合は、代わりに ‘i18n.commitEncoding’ の値が使用
     されます。

   UTF-8への再コーディングは必ずしも可逆的な操作ではないため、我々はコミ
ットが行われたときにコミットログメッセージを再コーディングしないことを意
図的に選択したことに注意してください。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-sparse-checkout,  Up: Top

Name
****

git-sparse-checkout — Initialize and modify the sparse-checkout
configuration, which reduces the checkout to a set of paths given by a
list of patterns.


Synopsis
********

     git sparse-checkout <subcommand> [options]


DESCRIPTION
***********

Initialize and modify the sparse-checkout configuration, which reduces
the checkout to a set of paths given by a list of patterns.

   THIS COMMAND IS EXPERIMENTAL. ITS BEHAVIOR, AND THE BEHAVIOR OF OTHER
COMMANDS IN THE PRESENCE OF SPARSE-CHECKOUTS, WILL LIKELY CHANGE IN THE
FUTURE.


COMMANDS
********

_list_
     Describe the patterns in the sparse-checkout file.

_init_
     Enable the ‘core.sparseCheckout’ setting.  If the sparse-checkout
     file does not exist, then populate it with patterns that match
     every file in the root directory and no other directories, then
     will remove all directories tracked by Git.  Add patterns to the
     sparse-checkout file to repopulate the working directory.

     To avoid interfering with other worktrees, it first enables the
     ‘extensions.worktreeConfig’ setting and makes sure to set the
     ‘core.sparseCheckout’ setting in the worktree-specific config file.

     When ‘--cone’ is provided, the ‘core.sparseCheckoutCone’ setting is
     also set, allowing for better performance with a limited set of
     patterns (see _CONE PATTERN SET_ below).

     Use the ‘--[no-]sparse-index’ option to toggle the use of the
     sparse index format.  This reduces the size of the index to be more
     closely aligned with your sparse-checkout definition.  This can
     have significant performance advantages for commands such as ‘git
     status’ or ‘git add’.  This feature is still experimental.  Some
     commands might be slower with a sparse index until they are
     properly integrated with the feature.

     *WARNING:* Using a sparse index requires modifying the index in a
     way that is not completely understood by external tools.  If you
     have trouble with this compatibility, then run ‘git sparse-checkout
     init --no-sparse-index’ to rewrite your index to not be sparse.
     Older versions of Git will not understand the sparse directory
     entries index extension and may fail to interact with your
     repository until it is disabled.

_set_
     Write a set of patterns to the sparse-checkout file, as given as a
     list of arguments following the _set_ subcommand.  Update the
     working directory to match the new patterns.  Enable the
     core.sparseCheckout config setting if it is not already enabled.

     When the ‘--stdin’ option is provided, the patterns are read from
     standard in as a newline-delimited list instead of from the
     arguments.

     When ‘core.sparseCheckoutCone’ is enabled, the input list is
     considered a list of directories instead of sparse-checkout
     patterns.  The command writes patterns to the sparse-checkout file
     to include all files contained in those directories (recursively)
     as well as files that are siblings of ancestor directories.  The
     input format matches the output of ‘git ls-tree --name-only’.  This
     includes interpreting pathnames that begin with a double quote (")
     as C-style quoted strings.

_add_
     Update the sparse-checkout file to include additional patterns.  By
     default, these patterns are read from the command-line arguments,
     but they can be read from stdin using the ‘--stdin’ option.  When
     ‘core.sparseCheckoutCone’ is enabled, the given patterns are
     interpreted as directory names as in the _set_ subcommand.

_reapply_
     Reapply the sparsity pattern rules to paths in the working tree.
     Commands like merge or rebase can materialize paths to do their
     work (e.g.  in order to show you a conflict), and other
     sparse-checkout commands might fail to sparsify an individual file
     (e.g.  because it has unstaged changes or conflicts).  In such
     cases, it can make sense to run ‘git sparse-checkout reapply’ later
     after cleaning up affected paths (e.g.  resolving conflicts,
     undoing or committing changes, etc.).

_disable_
     Disable the ‘core.sparseCheckout’ config setting, and restore the
     working directory to include all files.  Leaves the sparse-checkout
     file intact so a later _git sparse-checkout init_ command may
     return the working directory to the same state.


SPARSE CHECKOUT
***************

"Sparse checkout" allows populating the working directory sparsely.  It
uses the skip-worktree bit (see git-update-index(1)) to tell Git whether
a file in the working directory is worth looking at.  If the
skip-worktree bit is set, then the file is ignored in the working
directory.  Git will not populate the contents of those files, which
makes a sparse checkout helpful when working in a repository with many
files, but only a few are important to the current user.

   The ‘$GIT_DIR/info/sparse-checkout’ file is used to define the
skip-worktree reference bitmap.  When Git updates the working directory,
it updates the skip-worktree bits in the index based on this file.  The
files matching the patterns in the file will appear in the working
directory, and the rest will not.

   To enable the sparse-checkout feature, run ‘git sparse-checkout init’
to initialize a simple sparse-checkout file and enable the
‘core.sparseCheckout’ config setting.  Then, run ‘git sparse-checkout
set’ to modify the patterns in the sparse-checkout file.

   To repopulate the working directory with all files, use the ‘git
sparse-checkout disable’ command.


FULL PATTERN SET
****************

By default, the sparse-checkout file uses the same syntax as
‘.gitignore’ files.

   While ‘$GIT_DIR/info/sparse-checkout’ is usually used to specify what
files are included, you can also specify what files are _not_ included,
using negative patterns.  For example, to remove the file ‘unwanted’:

     /*
     !unwanted


CONE PATTERN SET
****************

The full pattern set allows for arbitrary pattern matches and
complicated inclusion/exclusion rules.  These can result in O(N*M)
pattern matches when updating the index, where N is the number of
patterns and M is the number of paths in the index.  To combat this
performance issue, a more restricted pattern set is allowed when
‘core.sparseCheckoutCone’ is enabled.

   The accepted patterns in the cone pattern set are:

  1. *Recursive:* All paths inside a directory are included.

  2. *Parent:* All files immediately inside a directory are included.

   In addition to the above two patterns, we also expect that all files
in the root directory are included.  If a recursive pattern is added,
then all leading directories are added as parent patterns.

   By default, when running ‘git sparse-checkout init’, the root
directory is added as a parent pattern.  At this point, the
sparse-checkout file contains the following patterns:

     /*
     !/*/

   This says "include everything in root, but nothing two levels below
root."

   When in cone mode, the ‘git sparse-checkout set’ subcommand takes a
list of directories instead of a list of sparse-checkout patterns.  In
this mode, the command ‘git sparse-checkout set A/B/C’ sets the
directory ‘A/B/C’ as a recursive pattern, the directories ‘A’ and ‘A/B’
are added as parent patterns.  The resulting sparse-checkout file is now

     /*
     !/*/
     /A/
     !/A/*/
     /A/B/
     !/A/B/*/
     /A/B/C/

   Here, order matters, so the negative patterns are overridden by the
positive patterns that appear lower in the file.

   If ‘core.sparseCheckoutCone=true’, then Git will parse the
sparse-checkout file expecting patterns of these types.  Git will warn
if the patterns do not match.  If the patterns do match the expected
format, then Git will use faster hash- based algorithms to compute
inclusion in the sparse-checkout.

   In the cone mode case, the ‘git sparse-checkout list’ subcommand will
list the directories that define the recursive patterns.  For the
example sparse-checkout file above, the output is as follows:

     $ git sparse-checkout list
     A/B/C

   If ‘core.ignoreCase=true’, then the pattern-matching algorithm will
use a case-insensitive check.  This corrects for case mismatched
filenames in the _git sparse-checkout set_ command to reflect the
expected cone in the working directory.

   When changing the sparse-checkout patterns in cone mode, Git will
inspect each tracked directory that is not within the sparse-checkout
cone to see if it contains any untracked files.  If all of those files
are ignored due to the ‘.gitignore’ patterns, then the directory will be
deleted.  If any of the untracked files within that directory is not
ignored, then no deletions will occur within that directory and a
warning message will appear.  If these files are important, then reset
your sparse-checkout definition so they are included, use ‘git add’ and
‘git commit’ to store them, then remove any remaining files manually to
ensure Git can behave optimally.


SUBMODULES
**********

If your repository contains one or more submodules, then submodules are
populated based on interactions with the ‘git submodule’ command.
Specifically, ‘git submodule init -- <path>’ will ensure the submodule
at ‘<path>’ is present, while ‘git submodule deinit [-f] -- <path>’ will
remove the files for the submodule at ‘<path>’ (including any untracked
files, uncommitted changes, and unpushed history).  Similar to how
sparse-checkout removes files from the working tree but still leaves
entries in the index, deinitialized submodules are removed from the
working directory but still have an entry in the index.

   Since submodules may have unpushed changes or untracked files,
removing them could result in data loss.  Thus, changing sparse
inclusion/exclusion rules will not cause an already checked out
submodule to be removed from the working copy.  Said another way, just
as ‘checkout’ will not cause submodules to be automatically removed or
initialized even when switching between branches that remove or add
submodules, using ‘sparse-checkout’ to reduce or expand the scope of
"interesting" files will not cause submodules to be automatically
deinitialized or initialized either.

   Further, the above facts mean that there are multiple reasons that
"tracked" files might not be present in the working copy: sparsity
pattern application from sparse-checkout, and submodule initialization
state.  Thus, commands like ‘git grep’ that work on tracked files in the
working copy may return results that are limited by either or both of
these restrictions.


SEE ALSO
********

git-read-tree(1) gitignore(5)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-stage,  Up: Top

Name
****

git-stage — ファイルの内容をステージング領域に追加


Synopsis
********

     git stage args…


DESCRIPTION
***********

これは git-add(1) の同義語です。 git-add(1) の文書を参照してください。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-stash,  Up: Top

Name
****

git-stash — Stash the changes in a dirty working directory away


Synopsis
********

     git stash list [<log-options>]
     git stash show [-u|–include-untracked|–only-untracked] [<diff-options>] [<stash>]
     git stash drop [-q|–quiet] [<stash>]
     git stash ( pop | apply ) [–index] [-q|–quiet] [<stash>]
     git stash branch <branchname> [<stash>]
     git stash [push [-p|–patch] [-k|–[no-]keep-index] [-q|–quiet]
                  [-u|–include-untracked] [-a|–all] [-m|–message <message>]
                  [–pathspec-from-file=<file> [–pathspec-file-nul]]
                  [–] [<pathspec>…]]
     git stash clear
     git stash create [<message>]
     git stash store [-m|–message <message>] [-q|–quiet] <commit>


DESCRIPTION
***********

Use ‘git stash’ when you want to record the current state of the working
directory and the index, but want to go back to a clean working
directory.  The command saves your local modifications away and reverts
the working directory to match the ‘HEAD’ commit.

   The modifications stashed away by this command can be listed with
‘git stash list’, inspected with ‘git stash show’, and restored
(potentially on top of a different commit) with ‘git stash apply’.
Calling ‘git stash’ without any arguments is equivalent to ‘git stash
push’.  A stash is by default listed as "WIP on _branchname_ …", but you
can give a more descriptive message on the command line when you create
one.

   The latest stash you created is stored in ‘refs/stash’; older stashes
are found in the reflog of this reference and can be named using the
usual reflog syntax (e.g.  ‘stash@{0}’ is the most recently created
stash, ‘stash@{1}’ is the one before it, ‘stash@{2.hours.ago}’ is also
possible).  Stashes may also be referenced by specifying just the stash
index (e.g.  the integer ‘n’ is equivalent to ‘stash@{n}’).


COMMANDS
********

push [-p|–patch] [-k|–[no-]keep-index] [-u|–include-untracked] [-a|–all] [-q|–quiet] [-m|–message <message>] [–pathspec-from-file=<file> [–pathspec-file-nul]] [–] [<pathspec>…]
     Save your local modifications to a new _stash entry_ and roll them
     back to HEAD (in the working tree and in the index).  The <message>
     part is optional and gives the description along with the stashed
     state.

     For quickly making a snapshot, you can omit "push".  In this mode,
     non-option arguments are not allowed to prevent a misspelled
     subcommand from making an unwanted stash entry.  The two exceptions
     to this are ‘stash -p’ which acts as alias for ‘stash push -p’ and
     pathspec elements, which are allowed after a double hyphen ‘--’ for
     disambiguation.

save [-p|–patch] [-k|–[no-]keep-index] [-u|–include-untracked] [-a|–all] [-q|–quiet] [<message>]
     This option is deprecated in favour of _git stash push_.  It
     differs from "stash push" in that it cannot take pathspec.
     Instead, all non-option arguments are concatenated to form the
     stash message.

list [<log-options>]
     List the stash entries that you currently have.  Each _stash entry_
     is listed with its name (e.g.  ‘stash@{0}’ is the latest entry,
     ‘stash@{1}’ is the one before, etc.), the name of the branch that
     was current when the entry was made, and a short description of the
     commit the entry was based on.

          stash@{0}: WIP on submit: 6ebd0e2... Update git-stash documentation
          stash@{1}: On master: 9cc0589... Add git-stash

     The command takes options applicable to the _git log_ command to
     control what is shown and how.  See git-log(1).

show [-u|–include-untracked|–only-untracked] [<diff-options>] [<stash>]
     Show the changes recorded in the stash entry as a diff between the
     stashed contents and the commit back when the stash entry was first
     created.  By default, the command shows the diffstat, but it will
     accept any format known to _git diff_ (e.g., ‘git stash show -p
     stash@{1}’ to view the second most recent entry in patch form).  If
     no ‘<diff-option>’ is provided, the default behavior will be given
     by the ‘stash.showStat’, and ‘stash.showPatch’ config variables.
     You can also use ‘stash.showIncludeUntracked’ to set whether
     ‘--include-untracked’ is enabled by default.

pop [–index] [-q|–quiet] [<stash>]
     Remove a single stashed state from the stash list and apply it on
     top of the current working tree state, i.e., do the inverse
     operation of ‘git stash push’.  The working directory must match
     the index.

     Applying the state can fail with conflicts; in this case, it is not
     removed from the stash list.  You need to resolve the conflicts by
     hand and call ‘git stash drop’ manually afterwards.

apply [–index] [-q|–quiet] [<stash>]
     Like ‘pop’, but do not remove the state from the stash list.
     Unlike ‘pop’, ‘<stash>’ may be any commit that looks like a commit
     created by ‘stash push’ or ‘stash create’.

branch <branchname> [<stash>]
     Creates and checks out a new branch named ‘<branchname>’ starting
     from the commit at which the ‘<stash>’ was originally created,
     applies the changes recorded in ‘<stash>’ to the new working tree
     and index.  If that succeeds, and ‘<stash>’ is a reference of the
     form ‘stash@{<revision>}’, it then drops the ‘<stash>’.

     This is useful if the branch on which you ran ‘git stash push’ has
     changed enough that ‘git stash apply’ fails due to conflicts.
     Since the stash entry is applied on top of the commit that was HEAD
     at the time ‘git stash’ was run, it restores the originally stashed
     state with no conflicts.

clear
     Remove all the stash entries.  Note that those entries will then be
     subject to pruning, and may be impossible to recover (see
     _Examples_ below for a possible strategy).

drop [-q|–quiet] [<stash>]
     Remove a single stash entry from the list of stash entries.

create
     Create a stash entry (which is a regular commit object) and return
     its object name, without storing it anywhere in the ref namespace.
     This is intended to be useful for scripts.  It is probably not the
     command you want to use; see "push" above.

store
     Store a given stash created via _git stash create_ (which is a
     dangling merge commit) in the stash ref, updating the stash reflog.
     This is intended to be useful for scripts.  It is probably not the
     command you want to use; see "push" above.


OPTIONS
*******

‘-a’
‘--all’
     This option is only valid for ‘push’ and ‘save’ commands.

     All ignored and untracked files are also stashed and then cleaned
     up with ‘git clean’.

‘-u’
‘--include-untracked’
‘--no-include-untracked’
     When used with the ‘push’ and ‘save’ commands, all untracked files
     are also stashed and then cleaned up with ‘git clean’.

     When used with the ‘show’ command, show the untracked files in the
     stash entry as part of the diff.

‘--only-untracked’
     This option is only valid for the ‘show’ command.

     Show only the untracked files in the stash entry as part of the
     diff.

‘--index’
     This option is only valid for ‘pop’ and ‘apply’ commands.

     Tries to reinstate not only the working tree’s changes, but also
     the index’s ones.  However, this can fail, when you have conflicts
     (which are stored in the index, where you therefore can no longer
     apply the changes as they were originally).

‘-k’
‘--keep-index’
‘--no-keep-index’
     This option is only valid for ‘push’ and ‘save’ commands.

     All changes already added to the index are left intact.

‘-p’
‘--patch’
     This option is only valid for ‘push’ and ‘save’ commands.

     Interactively select hunks from the diff between HEAD and the
     working tree to be stashed.  The stash entry is constructed such
     that its index state is the same as the index state of your
     repository, and its worktree contains only the changes you selected
     interactively.  The selected changes are then rolled back from your
     worktree.  See the “Interactive Mode” section of git-add(1) to
     learn how to operate the ‘--patch’ mode.

     The ‘--patch’ option implies ‘--keep-index’.  You can use
     ‘--no-keep-index’ to override this.

‘--pathspec-from-file=<file>’
     This option is only valid for ‘push’ command.

     Pathspec is passed in ‘<file>’ instead of commandline args.  If
     ‘<file>’ is exactly ‘-’ then standard input is used.  Pathspec
     elements are separated by LF or CR/LF. Pathspec elements can be
     quoted as explained for the configuration variable ‘core.quotePath’
     (see git-config(1)).  See also ‘--pathspec-file-nul’ and global
     ‘--literal-pathspecs’.

‘--pathspec-file-nul’
     This option is only valid for ‘push’ command.

     Only meaningful with ‘--pathspec-from-file’.  Pathspec elements are
     separated with NUL character and all other characters are taken
     literally (including newlines and quotes).

‘-q’
‘--quiet’
     This option is only valid for ‘apply’, ‘drop’, ‘pop’, ‘push’,
     ‘save’, ‘store’ commands.

     Quiet, suppress feedback messages.

–
     This option is only valid for ‘push’ command.

     Separates pathspec from options for disambiguation purposes.

<pathspec>…
     This option is only valid for ‘push’ command.

     The new stash entry records the modified states only for the files
     that match the pathspec.  The index entries and working tree files
     are then rolled back to the state in HEAD only for these files,
     too, leaving files that do not match the pathspec intact.

     For more details, see the _pathspec_ entry in gitglossary(7).

<stash>
     This option is only valid for ‘apply’, ‘branch’, ‘drop’, ‘pop’,
     ‘show’ commands.

     A reference of the form ‘stash@{<revision>}’.  When no ‘<stash>’ is
     given, the latest stash is assumed (that is, ‘stash@{0}’).


DISCUSSION
**********

A stash entry is represented as a commit whose tree records the state of
the working directory, and its first parent is the commit at ‘HEAD’ when
the entry was created.  The tree of the second parent records the state
of the index when the entry is made, and it is made a child of the
‘HEAD’ commit.  The ancestry graph looks like this:

            .----W
           /    /
     -----H----I

   where ‘H’ is the ‘HEAD’ commit, ‘I’ is a commit that records the
state of the index, and ‘W’ is a commit that records the state of the
working tree.


EXAMPLES
********

Pulling into a dirty tree
     When you are in the middle of something, you learn that there are
     upstream changes that are possibly relevant to what you are doing.
     When your local changes do not conflict with the changes in the
     upstream, a simple ‘git pull’ will let you move forward.

     However, there are cases in which your local changes do conflict
     with the upstream changes, and ‘git pull’ refuses to overwrite your
     changes.  In such a case, you can stash your changes away, perform
     a pull, and then unstash, like this:

          $ git pull
           ...
          file foobar not up to date, cannot merge.
          $ git stash
          $ git pull
          $ git stash pop

Interrupted workflow
     When you are in the middle of something, your boss comes in and
     demands that you fix something immediately.  Traditionally, you
     would make a commit to a temporary branch to store your changes
     away, and return to your original branch to make the emergency fix,
     like this:

          # ... hack hack hack ...
          $ git switch -c my_wip
          $ git commit -a -m "WIP"
          $ git switch master
          $ edit emergency fix
          $ git commit -a -m "Fix in a hurry"
          $ git switch my_wip
          $ git reset --soft HEAD^
          # ... continue hacking ...

     You can use _git stash_ to simplify the above, like this:

          # ... hack hack hack ...
          $ git stash
          $ edit emergency fix
          $ git commit -a -m "Fix in a hurry"
          $ git stash pop
          # ... continue hacking ...

Testing partial commits
     You can use ‘git stash push --keep-index’ when you want to make two
     or more commits out of the changes in the work tree, and you want
     to test each change before committing:

          # ... hack hack hack ...
          $ git add --patch foo            # add just first part to the index
          $ git stash push --keep-index    # save all other changes to the stash
          $ edit/build/test first part
          $ git commit -m 'First part'     # commit fully tested change
          $ git stash pop                  # prepare to work on all other changes
          # ... repeat above five steps until one commit remains ...
          $ edit/build/test remaining parts
          $ git commit foo -m 'Remaining parts'

Recovering stash entries that were cleared/dropped erroneously
     If you mistakenly drop or clear stash entries, they cannot be
     recovered through the normal safety mechanisms.  However, you can
     try the following incantation to get a list of stash entries that
     are still in your repository, but not reachable any more:

          git fsck --unreachable |
          grep commit | cut -d\  -f3 |
          xargs git log --merges --no-walk --grep=WIP


SEE ALSO
********

git-checkout(1), git-commit(1), git-reflog(1), git-reset(1),
git-switch(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-status,  Up: Top

Name
****

git-status — Show the working tree status


Synopsis
********

     git status [<options>…] [–] [<pathspec>…]


DESCRIPTION
***********

Displays paths that have differences between the index file and the
current HEAD commit, paths that have differences between the working
tree and the index file, and paths in the working tree that are not
tracked by Git (and are not ignored by gitignore(5)).  The first are
what you _would_ commit by running ‘git commit’; the second and third
are what you _could_ commit by running _git add_ before running ‘git
commit’.


OPTIONS
*******

‘-s’
‘--short’
     Give the output in the short-format.

‘-b’
‘--branch’
     Show the branch and tracking info even in short-format.

‘--show-stash’
     Show the number of entries currently stashed away.

‘--porcelain[=<version>]’
     Give the output in an easy-to-parse format for scripts.  This is
     similar to the short output, but will remain stable across Git
     versions and regardless of user configuration.  See below for
     details.

     The version parameter is used to specify the format version.  This
     is optional and defaults to the original version _v1_ format.

‘--long’
     Give the output in the long-format.  This is the default.

‘-v’
‘--verbose’
     In addition to the names of files that have been changed, also show
     the textual changes that are staged to be committed (i.e., like the
     output of ‘git diff --cached’).  If ‘-v’ is specified twice, then
     also show the changes in the working tree that have not yet been
     staged (i.e., like the output of ‘git diff’).

‘-u[<mode>]’
‘--untracked-files[=<mode>]’
     Show untracked files.

     The mode parameter is used to specify the handling of untracked
     files.  It is optional: it defaults to _all_, and if specified, it
     must be stuck to the option (e.g.  ‘-uno’, but not ‘-u no’).

     The possible options are:

        • _no_ - Show no untracked files.

        • _normal_ - Shows untracked files and directories.

        • _all_ - Also shows individual files in untracked directories.

     When ‘-u’ option is not used, untracked files and directories are
     shown (i.e.  the same as specifying ‘normal’), to help you avoid
     forgetting to add newly created files.  Because it takes extra work
     to find untracked files in the filesystem, this mode may take some
     time in a large working tree.  Consider enabling untracked cache
     and split index if supported (see ‘git update-index
     --untracked-cache’ and ‘git update-index --split-index’), Otherwise
     you can use ‘no’ to have ‘git status’ return more quickly without
     showing untracked files.

     The default can be changed using the status.showUntrackedFiles
     configuration variable documented in git-config(1).

‘--ignore-submodules[=<when>]’
     Ignore changes to submodules when looking for changes.  <when> can
     be either "none", "untracked", "dirty" or "all", which is the
     default.  Using "none" will consider the submodule modified when it
     either contains untracked or modified files or its HEAD differs
     from the commit recorded in the superproject and can be used to
     override any settings of the _ignore_ option in git-config(1) or
     gitmodules(5).  When "untracked" is used submodules are not
     considered dirty when they only contain untracked content (but they
     are still scanned for modified content).  Using "dirty" ignores all
     changes to the work tree of submodules, only changes to the commits
     stored in the superproject are shown (this was the behavior before
     1.7.0).  Using "all" hides all changes to submodules (and
     suppresses the output of submodule summaries when the config option
     ‘status.submoduleSummary’ is set).

‘--ignored[=<mode>]’
     Show ignored files as well.

     The mode parameter is used to specify the handling of ignored
     files.  It is optional: it defaults to _traditional_.

     The possible options are:

        • _traditional_ - Shows ignored files and directories, unless
          –untracked-files=all is specified, in which case individual
          files in ignored directories are displayed.

        • _no_ - Show no ignored files.

        • _matching_ - Shows ignored files and directories matching an
          ignore pattern.

     When _matching_ mode is specified, paths that explicitly match an
     ignored pattern are shown.  If a directory matches an ignore
     pattern, then it is shown, but not paths contained in the ignored
     directory.  If a directory does not match an ignore pattern, but
     all contents are ignored, then the directory is not shown, but all
     contents are shown.

‘-z’
     Terminate entries with NUL, instead of LF. This implies the
     ‘--porcelain=v1’ output format if no other format is given.

‘--column[=<options>]’
‘--no-column’
     Display untracked files in columns.  See configuration variable
     ‘column.status’ for option syntax.  ‘--column’ and ‘--no-column’
     without options are equivalent to _always_ and _never_
     respectively.

‘--ahead-behind’
‘--no-ahead-behind’
     Display or do not display detailed ahead/behind counts for the
     branch relative to its upstream branch.  Defaults to true.

‘--renames’
‘--no-renames’
     Turn on/off rename detection regardless of user configuration.  See
     also git-diff(1) ‘--no-renames’.

‘--find-renames[=<n>]’
     Turn on rename detection, optionally setting the similarity
     threshold.  See also git-diff(1) ‘--find-renames’.

<pathspec>…
     See the _pathspec_ entry in gitglossary(7).


OUTPUT
******

The output from this command is designed to be used as a commit template
comment.  The default, long format, is designed to be human readable,
verbose and descriptive.  Its contents and format are subject to change
at any time.

   The paths mentioned in the output, unlike many other Git commands,
are made relative to the current directory if you are working in a
subdirectory (this is on purpose, to help cutting and pasting).  See the
status.relativePaths config option below.


Short Format
============

In the short-format, the status of each path is shown as one of these
forms

     XY PATH
     XY ORIG_PATH -> PATH

   where ‘ORIG_PATH’ is where the renamed/copied contents came from.
‘ORIG_PATH’ is only shown when the entry is renamed or copied.  The ‘XY’
is a two-letter status code.

   The fields (including the ‘->’) are separated from each other by a
single space.  If a filename contains whitespace or other nonprintable
characters, that field will be quoted in the manner of a C string
literal: surrounded by ASCII double quote (34) characters, and with
interior special characters backslash-escaped.

   There are three different types of states that are shown using this
format, and each one uses the ‘XY’ syntax differently:

   • When a merge is occurring and the merge was successful, or outside
     of a merge situation, ‘X’ shows the status of the index and ‘Y’
     shows the status of the working tree.

   • When a merge conflict has occurred and has not yet been resolved,
     ‘X’ and ‘Y’ show the state introduced by each head of the merge,
     relative to the common ancestor.  These paths are said to be
     _unmerged_.

   • When a path is untracked, ‘X’ and ‘Y’ are always the same, since
     they are unknown to the index.  ‘??’ is used for untracked paths.
     Ignored files are not listed unless ‘--ignored’ is used; if it is,
     ignored files are indicated by ‘!!’.

   Note that the term _merge_ here also includes rebases using the
default ‘--merge’ strategy, cherry-picks, and anything else using the
merge machinery.

   In the following table, these three classes are shown in separate
sections, and these characters are used for ‘X’ and ‘Y’ fields for the
first two sections that show tracked paths:

   • ’ ’ = unmodified

   • _M_ = modified

   • _A_ = added

   • _D_ = deleted

   • _R_ = renamed

   • _C_ = copied

   • _U_ = updated but unmerged

     X          Y     Meaning
     -------------------------------------------------
              [AMD]   not updated
     M        [ MD]   updated in index
     A        [ MD]   added to index
     D                deleted from index
     R        [ MD]   renamed in index
     C        [ MD]   copied in index
     [MARC]           index and work tree matches
     [ MARC]     M    work tree changed since index
     [ MARC]     D    deleted in work tree
     [ D]        R    renamed in work tree
     [ D]        C    copied in work tree
     -------------------------------------------------
     D           D    unmerged, both deleted
     A           U    unmerged, added by us
     U           D    unmerged, deleted by them
     U           A    unmerged, added by them
     D           U    unmerged, deleted by us
     A           A    unmerged, both added
     U           U    unmerged, both modified
     -------------------------------------------------
     ?           ?    untracked
     !           !    ignored
     -------------------------------------------------

   Submodules have more state and instead report M the submodule has a
different HEAD than recorded in the index m the submodule has modified
content ?  the submodule has untracked files since modified content or
untracked files in a submodule cannot be added via ‘git add’ in the
superproject to prepare a commit.

   _m_ and _?_  are applied recursively.  For example if a nested
submodule in a submodule contains an untracked file, this is reported as
_?_  as well.

   If -b is used the short-format status is preceded by a line

     ## branchname tracking info


Porcelain Format Version 1
==========================

Version 1 porcelain format is similar to the short format, but is
guaranteed not to change in a backwards-incompatible way between Git
versions or based on user configuration.  This makes it ideal for
parsing by scripts.  The description of the short format above also
describes the porcelain format, with a few exceptions:

  1. The user’s color.status configuration is not respected; color will
     always be off.

  2. The user’s status.relativePaths configuration is not respected;
     paths shown will always be relative to the repository root.

   There is also an alternate -z format recommended for machine parsing.
In that format, the status field is the same, but some other things
change.  First, the _->_ is omitted from rename entries and the field
order is reversed (e.g _from -> to_ becomes _to from_).  Second, a NUL
(ASCII 0) follows each filename, replacing space as a field separator
and the terminating newline (but a space still separates the status
field from the first filename).  Third, filenames containing special
characters are not specially formatted; no quoting or backslash-escaping
is performed.

   Any submodule changes are reported as modified ‘M’ instead of ‘m’ or
single ‘?’.


Porcelain Format Version 2
==========================

Version 2 format adds more detailed information about the state of the
worktree and changed items.  Version 2 also defines an extensible set of
easy to parse optional headers.

   Header lines start with "#" and are added in response to specific
command line arguments.  Parsers should ignore headers they don’t
recognize.


Branch Headers
--------------

If ‘--branch’ is given, a series of header lines are printed with
information about the current branch.

     Line                                     Notes
     ------------------------------------------------------------
     # branch.oid <commit> | (initial)        Current commit.
     # branch.head <branch> | (detached)      Current branch.
     # branch.upstream <upstream_branch>      If upstream is set.
     # branch.ab +<ahead> -<behind>           If upstream is set and
                                              the commit is present.
     ------------------------------------------------------------


Changed Tracked Entries
-----------------------

Following the headers, a series of lines are printed for tracked
entries.  One of three different line formats may be used to describe an
entry depending on the type of change.  Tracked entries are printed in
an undefined order; parsers should allow for a mixture of the 3 line
types in any order.

   Ordinary changed entries have the following format:

     1 <XY> <sub> <mH> <mI> <mW> <hH> <hI> <path>

   Renamed or copied entries have the following format:

     2 <XY> <sub> <mH> <mI> <mW> <hH> <hI> <X><score> <path><sep><origPath>

     Field       Meaning
     --------------------------------------------------------
     <XY>        A 2 character field containing the staged and
                 unstaged XY values described in the short format,
                 with unchanged indicated by a "." rather than
                 a space.
     <sub>       A 4 character field describing the submodule state.
                 "N..." when the entry is not a submodule.
                 "S<c><m><u>" when the entry is a submodule.
                 <c> is "C" if the commit changed; otherwise ".".
                 <m> is "M" if it has tracked changes; otherwise ".".
                 <u> is "U" if there are untracked changes; otherwise ".".
     <mH>        The octal file mode in HEAD.
     <mI>        The octal file mode in the index.
     <mW>        The octal file mode in the worktree.
     <hH>        The object name in HEAD.
     <hI>        The object name in the index.
     <X><score>  The rename or copy score (denoting the percentage
                 of similarity between the source and target of the
                 move or copy). For example "R100" or "C75".
     <path>      The pathname.  In a renamed/copied entry, this
                 is the target path.
     <sep>       When the `-z` option is used, the 2 pathnames are separated
                 with a NUL (ASCII 0x00) byte; otherwise, a tab (ASCII 0x09)
                 byte separates them.
     <origPath>  The pathname in the commit at HEAD or in the index.
                 This is only present in a renamed/copied entry, and
                 tells where the renamed/copied contents came from.
     --------------------------------------------------------

   Unmerged entries have the following format; the first character is a
"u" to distinguish from ordinary changed entries.

     u <xy> <sub> <m1> <m2> <m3> <mW> <h1> <h2> <h3> <path>

     Field       Meaning
     --------------------------------------------------------
     <XY>        A 2 character field describing the conflict type
                 as described in the short format.
     <sub>       A 4 character field describing the submodule state
                 as described above.
     <m1>        The octal file mode in stage 1.
     <m2>        The octal file mode in stage 2.
     <m3>        The octal file mode in stage 3.
     <mW>        The octal file mode in the worktree.
     <h1>        The object name in stage 1.
     <h2>        The object name in stage 2.
     <h3>        The object name in stage 3.
     <path>      The pathname.
     --------------------------------------------------------


Other Items
-----------

Following the tracked entries (and if requested), a series of lines will
be printed for untracked and then ignored items found in the worktree.

   Untracked items have the following format:

     ? <path>

   Ignored items have the following format:

     ! <path>


Pathname Format Notes and -z
----------------------------

When the ‘-z’ option is given, pathnames are printed as is and without
any quoting and lines are terminated with a NUL (ASCII 0x00) byte.

   Without the ‘-z’ option, pathnames with "unusual" characters are
quoted as explained for the configuration variable ‘core.quotePath’ (see
git-config(1)).


CONFIGURATION
*************

The command honors ‘color.status’ (or ‘status.color’ — they mean the
same thing and the latter is kept for backward compatibility) and
‘color.status.<slot>’ configuration variables to colorize its output.

   If the config variable ‘status.relativePaths’ is set to false, then
all paths shown are relative to the repository root, not to the current
directory.

   If ‘status.submoduleSummary’ is set to a non zero number or true
(identical to -1 or an unlimited number), the submodule summary will be
enabled for the long format and a summary of commits for modified
submodules will be shown (see –summary-limit option of
git-submodule(1)).  Please note that the summary output from the status
command will be suppressed for all submodules when
‘diff.ignoreSubmodules’ is set to _all_ or only for those submodules
where ‘submodule.<name>.ignore=all’.  To also view the summary for
ignored submodules you can either use the –ignore-submodules=dirty
command line option or the _git submodule summary_ command, which shows
a similar output but does not honor these settings.


BACKGROUND REFRESH
******************

By default, ‘git status’ will automatically refresh the index, updating
the cached stat information from the working tree and writing out the
result.  Writing out the updated index is an optimization that isn’t
strictly necessary (‘status’ computes the values for itself, but writing
them out is just to save subsequent programs from repeating our
computation).  When ‘status’ is run in the background, the lock held
during the write may conflict with other simultaneous processes, causing
them to fail.  Scripts running ‘status’ in the background should
consider using ‘git --no-optional-locks status’ (see git(1) for
details).


SEE ALSO
********

gitignore(5)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-stripspace,  Up: Top

Name
****

git-stripspace — 不要な空白(whitespace)を削除します


Synopsis
********

     git stripspace [-s | –strip-comments]
     git stripspace [-c | –comment-lines]


DESCRIPTION
***********

コミットメッセージ・メモ・タグ・ブランチの説明などのテキストを標準の入力
から読み取り、Gitで使用されている作法でクリーンアップします。

   引数なしの場合、この作法は以下のようになります:

   • 全ての行の末尾の空白(whitespace)を取り除く

   • 複数の連続する空行を1つの空行に折りたたむ

   • 入力の最初と最後から空行を削除

   • 必要に応じて、欠落している _\n_ を最後の行に追加します。

   入力がすべて空白文字(whitespace characters)で構成されている場合、出力
は生成されません。

   *注意* これはメタデータのクリーニングを目的としています。リポジトリ内
のパッチまたは ファイルの空白を修正するには、 git-apply(1) の
‘--whitespace=fix’ モードをお勧めします。


OPTIONS
*******

‘-s’
‘--strip-comments’
     コメント文字で始まるすべての行をスキップして削除します(デフォルトは
     _#_ )。

‘-c’
‘--comment-lines’
     各行の前にコメント文字と空白を付けます。行は自動的に改行で終了しま
     す。 空行では、コメント文字のみが先頭に追加されます。


EXAMPLES
********

以下のようなノイズの多い入力があるとします。 _$_ は行の終わりを示してい
ます:

     |A brief introduction   $
     |   $
     |$
     |A new paragraph$
     |# with a commented-out line    $
     |explaining lots of stuff.$
     |$
     |# An old paragraph, also commented-out. $
     |      $
     |The end.$
     |  $

   _git stripspace_ を引数無しで実行すると以下のようになります:

     |A brief introduction$
     |$
     |A new paragraph$
     |# with a commented-out line$
     |explaining lots of stuff.$
     |$
     |# An old paragraph, also commented-out.$
     |$
     |The end.$

   _git stripspace –strip-comments_ を使うと以下のようになります:

     |A brief introduction$
     |$
     |A new paragraph$
     |explaining lots of stuff.$
     |$
     |The end.$


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-submodule,  Up: Top

Name
****

git-submodule — サブモジュールを初期化、更新、または検査します


Synopsis
********

     git submodule [–quiet] [–cached]
     git submodule [–quiet] add [<options>] [–] <repository> [<path>]
     git submodule [–quiet] status [–cached] [–recursive] [–] [<path>…]
     git submodule [–quiet] init [–] [<path>…]
     git submodule [–quiet] deinit [-f|–force] (–all|[–] <path>…)
     git submodule [–quiet] update [<options>] [–] [<path>…]
     git submodule [–quiet] set-branch [<options>] [–] <path>
     git submodule [–quiet] set-url [–] <path> <newurl>
     git submodule [–quiet] summary [<options>] [–] [<path>…]
     git submodule [–quiet] foreach [–recursive] <command>
     git submodule [–quiet] sync [–recursive] [–] [<path>…]
     git submodule [–quiet] absorbgitdirs [–] [<path>…]


DESCRIPTION
***********

サブモジュールを検査、更新、管理します。

   サブモジュールの詳細については、 gitsubmodules(7) を参照してください
。


COMMANDS
********

With no arguments, shows the status of existing submodules.  Several
subcommands are available to perform operations on the submodules.

add [-b <branch>] [-f|–force] [–name <name>] [–reference <repository>] [–depth <depth>] [–] <repository> [<path>]
     Add the given repository as a submodule at the given path to the
     changeset to be committed next to the current project: the current
     project is termed the "superproject".

     <repository> is the URL of the new submodule’s origin repository.
     This may be either an absolute URL, or (if it begins with ./ or
     ../), the location relative to the superproject’s default remote
     repository (Please note that to specify a repository _foo.git_
     which is located right next to a superproject _bar.git_, you’ll
     have to use ‘../foo.git’ instead of ‘./foo.git’ - as one might
     expect when following the rules for relative URLs - because the
     evaluation of relative URLs in Git is identical to that of relative
     directories).

     The default remote is the remote of the remote-tracking branch of
     the current branch.  If no such remote-tracking branch exists or
     the HEAD is detached, "origin" is assumed to be the default remote.
     If the superproject doesn’t have a default remote configured the
     superproject is its own authoritative upstream and the current
     working directory is used instead.

     The optional argument <path> is the relative location for the
     cloned submodule to exist in the superproject.  If <path> is not
     given, the canonical part of the source repository is used ("repo"
     for "/path/to/repo.git" and "foo" for "host.xz:foo/.git").  If
     <path> exists and is already a valid Git repository, then it is
     staged for commit without cloning.  The <path> is also used as the
     submodule’s logical name in its configuration entries unless
     ‘--name’ is used to specify a logical name.

     The given URL is recorded into ‘.gitmodules’ for use by subsequent
     users cloning the superproject.  If the URL is given relative to
     the superproject’s repository, the presumption is the superproject
     and submodule repositories will be kept together in the same
     relative location, and only the superproject’s URL needs to be
     provided.  git-submodule will correctly locate the submodule using
     the relative URL in ‘.gitmodules’.

status [–cached] [–recursive] [–] [<path>…]
     Show the status of the submodules.  This will print the SHA-1 of
     the currently checked out commit for each submodule, along with the
     submodule path and the output of _git describe_ for the SHA-1.
     Each SHA-1 will possibly be prefixed with ‘-’ if the submodule is
     not initialized, ‘+’ if the currently checked out submodule commit
     does not match the SHA-1 found in the index of the containing
     repository and ‘U’ if the submodule has merge conflicts.

     If ‘--cached’ is specified, this command will instead print the
     SHA-1 recorded in the superproject for each submodule.

     If ‘--recursive’ is specified, this command will recurse into
     nested submodules, and show their status as well.

     If you are only interested in changes of the currently initialized
     submodules with respect to the commit recorded in the index or the
     HEAD, git-status(1) and git-diff(1) will provide that information
     too (and can also report changes to a submodule’s work tree).

init [–] [<path>…]
     Initialize the submodules recorded in the index (which were added
     and committed elsewhere) by setting ‘submodule.$name.url’ in
     .git/config.  It uses the same setting from ‘.gitmodules’ as a
     template.  If the URL is relative, it will be resolved using the
     default remote.  If there is no default remote, the current
     repository will be assumed to be upstream.

     Optional <path> arguments limit which submodules will be
     initialized.  If no path is specified and submodule.active has been
     configured, submodules configured to be active will be initialized,
     otherwise all submodules are initialized.

     When present, it will also copy the value of
     ‘submodule.$name.update’.  This command does not alter existing
     information in .git/config.  You can then customize the submodule
     clone URLs in .git/config for your local setup and proceed to ‘git
     submodule update’; you can also just use ‘git submodule update
     --init’ without the explicit _init_ step if you do not intend to
     customize any submodule locations.

     See the add subcommand for the definition of default remote.

deinit [-f|–force] (–all|[–] <path>…)
     Unregister the given submodules, i.e.  remove the whole
     ‘submodule.$name’ section from .git/config together with their work
     tree.  Further calls to ‘git submodule update’, ‘git submodule
     foreach’ and ‘git submodule sync’ will skip any unregistered
     submodules until they are initialized again, so use this command if
     you don’t want to have a local checkout of the submodule in your
     working tree anymore.

     When the command is run without pathspec, it errors out, instead of
     deinit-ing everything, to prevent mistakes.

     If ‘--force’ is specified, the submodule’s working tree will be
     removed even if it contains local modifications.

     If you really want to remove a submodule from the repository and
     commit that use git-rm(1) instead.  See gitsubmodules(7) for
     removal options.

update [–init] [–remote] [-N|–no-fetch] [–[no-]recommend-shallow] [-f|–force] [–checkout|–rebase|–merge] [–reference <repository>] [–depth <depth>] [–recursive] [–jobs <n>] [–[no-]single-branch] [–] [<path>…]
     Update the registered submodules to match what the superproject
     expects by cloning missing submodules, fetching missing commits in
     submodules and updating the working tree of the submodules.  The
     "updating" can be done in several ways depending on command line
     options and the value of ‘submodule.<name>.update’ configuration
     variable.  The command line option takes precedence over the
     configuration variable.  If neither is given, a _checkout_ is
     performed.  The _update_ procedures supported both from the command
     line as well as through the ‘submodule.<name>.update’ configuration
     are:

     checkout
          the commit recorded in the superproject will be checked out in
          the submodule on a detached HEAD.

          If ‘--force’ is specified, the submodule will be checked out
          (using ‘git checkout --force’), even if the commit specified
          in the index of the containing repository already matches the
          commit checked out in the submodule.

     rebase
          the current branch of the submodule will be rebased onto the
          commit recorded in the superproject.

     merge
          the commit recorded in the superproject will be merged into
          the current branch in the submodule.

     The following _update_ procedures are only available via the
     ‘submodule.<name>.update’ configuration variable:

     custom command
          arbitrary shell command that takes a single argument (the sha1
          of the commit recorded in the superproject) is executed.  When
          ‘submodule.<name>.update’ is set to _!command_, the remainder
          after the exclamation mark is the custom command.

     none
          the submodule is not updated.

     If the submodule is not yet initialized, and you just want to use
     the setting as stored in ‘.gitmodules’, you can automatically
     initialize the submodule with the ‘--init’ option.

     If ‘--recursive’ is specified, this command will recurse into the
     registered submodules, and update any nested submodules within.

set-branch (-b|–branch) <branch> [–] <path>
set-branch (-d|–default) [–] <path>
     Sets the default remote tracking branch for the submodule.  The
     ‘--branch’ option allows the remote branch to be specified.  The
     ‘--default’ option removes the submodule.<name>.branch
     configuration key, which causes the tracking branch to default to
     the remote _HEAD_.

set-url [–] <path> <newurl>
     Sets the URL of the specified submodule to <newurl>.  Then, it will
     automatically synchronize the submodule’s new remote URL
     configuration.

summary [–cached|–files] [(-n|–summary-limit) <n>] [commit] [–] [<path>…]
     Show commit summary between the given commit (defaults to HEAD) and
     working tree/index.  For a submodule in question, a series of
     commits in the submodule between the given super project commit and
     the index or working tree (switched by ‘--cached’) are shown.  If
     the option ‘--files’ is given, show the series of commits in the
     submodule between the index of the super project and the working
     tree of the submodule (this option doesn’t allow to use the
     ‘--cached’ option or to provide an explicit commit).

     Using the ‘--submodule=log’ option with git-diff(1) will provide
     that information too.

foreach [–recursive] <command>
     Evaluates an arbitrary shell command in each checked out submodule.
     The command has access to the variables $name, $sm_path,
     $displaypath, $sha1 and $toplevel: $name is the name of the
     relevant submodule section in ‘.gitmodules’, $sm_path is the path
     of the submodule as recorded in the immediate superproject,
     $displaypath contains the relative path from the current working
     directory to the submodules root directory, $sha1 is the commit as
     recorded in the immediate superproject, and $toplevel is the
     absolute path to the top-level of the immediate superproject.  Note
     that to avoid conflicts with _$PATH_ on Windows, the _$path_
     variable is now a deprecated synonym of _$sm_path_ variable.  Any
     submodules defined in the superproject but not checked out are
     ignored by this command.  Unless given ‘--quiet’, foreach prints
     the name of each submodule before evaluating the command.  If
     ‘--recursive’ is given, submodules are traversed recursively (i.e.
     the given shell command is evaluated in nested submodules as well).
     A non-zero return from the command in any submodule causes the
     processing to terminate.  This can be overridden by adding _|| :_
     to the end of the command.

     As an example, the command below will show the path and currently
     checked out commit for each submodule:

          git submodule foreach 'echo $sm_path `git rev-parse HEAD`'

sync [–recursive] [–] [<path>…]
     Synchronizes submodules’ remote URL configuration setting to the
     value specified in ‘.gitmodules’.  It will only affect those
     submodules which already have a URL entry in .git/config (that is
     the case when they are initialized or freshly added).  This is
     useful when submodule URLs change upstream and you need to update
     your local repositories accordingly.

     ‘git submodule sync’ synchronizes all submodules while ‘git
     submodule sync -- A’ synchronizes submodule "A" only.

     If ‘--recursive’ is specified, this command will recurse into the
     registered submodules, and sync any nested submodules within.

absorbgitdirs
     サブモジュールのgitディレクトリがサブモジュール内にある場合、サブモ
     ジュールのgitディレクトリをそのスーパープロジェクトの
     ‘$GIT_DIR/modules’ パスに移動し、次に、 ‘core.worktree’ を設定して
     、gitディレクトリとその作業ディレクトリを接続し、そして、スーパープ
     ロジェクトのgitディレクトリに埋め込んだサブモジュールのgitディレク
     トリを指す .git ファイルを追加します。

     独立して複製され、後でサブモジュールまたは古いセットアップとして追
     加されたリポジトリでは、スーパープロジェクトのgitディレクトリに埋め
     込まれるのではなく、サブモジュール内にサブモジュールのgitディレクト
     リがあります。

     このコマンドはデフォルトで再帰的に実行されます。


OPTIONS
*******

‘-q’
‘--quiet’
     Only print error messages.

‘--progress’
     This option is only valid for add and update commands.  Progress
     status is reported on the standard error stream by default when it
     is attached to a terminal, unless -q is specified.  This flag
     forces progress status even if the standard error stream is not
     directed to a terminal.

‘--all’
     This option is only valid for the deinit command.  Unregister all
     submodules in the working tree.

‘-b <branch>’
‘--branch <branch>’
     Branch of repository to add as submodule.  The name of the branch
     is recorded as ‘submodule.<name>.branch’ in ‘.gitmodules’ for
     ‘update --remote’.  A special value of ‘.’ is used to indicate that
     the name of the branch in the submodule should be the same name as
     the current branch in the current repository.  If the option is not
     specified, it defaults to the remote _HEAD_.

‘-f’
‘--force’
     This option is only valid for add, deinit and update commands.
     When running add, allow adding an otherwise ignored submodule path.
     When running deinit the submodule working trees will be removed
     even if they contain local changes.  When running update (only
     effective with the checkout procedure), throw away local changes in
     submodules when switching to a different commit; and always run a
     checkout operation in the submodule, even if the commit listed in
     the index of the containing repository matches the commit checked
     out in the submodule.

‘--cached’
     This option is only valid for status and summary commands.  These
     commands typically use the commit found in the submodule HEAD, but
     with this option, the commit stored in the index is used instead.

‘--files’
     This option is only valid for the summary command.  This command
     compares the commit in the index with that in the submodule HEAD
     when this option is used.

‘-n’
‘--summary-limit’
     This option is only valid for the summary command.  Limit the
     summary size (number of commits shown in total).  Giving 0 will
     disable the summary; a negative number means unlimited (the
     default).  This limit only applies to modified submodules.  The
     size is always limited to 1 for added/deleted/typechanged
     submodules.

‘--remote’
     This option is only valid for the update command.  Instead of using
     the superproject’s recorded SHA-1 to update the submodule, use the
     status of the submodule’s remote-tracking branch.  The remote used
     is branch’s remote (‘branch.<name>.remote’), defaulting to
     ‘origin’.  The remote branch used defaults to the remote ‘HEAD’,
     but the branch name may be overridden by setting the
     ‘submodule.<name>.branch’ option in either ‘.gitmodules’ or
     ‘.git/config’ (with ‘.git/config’ taking precedence).

     This works for any of the supported update procedures
     (‘--checkout’, ‘--rebase’, etc.).  The only change is the source of
     the target SHA-1.  For example, ‘submodule update --remote --merge’
     will merge upstream submodule changes into the submodules, while
     ‘submodule update --merge’ will merge superproject gitlink changes
     into the submodules.

     In order to ensure a current tracking branch state, ‘update
     --remote’ fetches the submodule’s remote repository before
     calculating the SHA-1.  If you don’t want to fetch, you should use
     ‘submodule update --remote --no-fetch’.

     Use this option to integrate changes from the upstream subproject
     with your submodule’s current HEAD. Alternatively, you can run ‘git
     pull’ from the submodule, which is equivalent except for the remote
     branch name: ‘update --remote’ uses the default upstream repository
     and ‘submodule.<name>.branch’, while ‘git pull’ uses the
     submodule’s ‘branch.<name>.merge’.  Prefer
     ‘submodule.<name>.branch’ if you want to distribute the default
     upstream branch with the superproject and ‘branch.<name>.merge’ if
     you want a more native feel while working in the submodule itself.

‘-N’
‘--no-fetch’
     This option is only valid for the update command.  Don’t fetch new
     objects from the remote site.

‘--checkout’
     This option is only valid for the update command.  Checkout the
     commit recorded in the superproject on a detached HEAD in the
     submodule.  This is the default behavior, the main use of this
     option is to override ‘submodule.$name.update’ when set to a value
     other than ‘checkout’.  If the key ‘submodule.$name.update’ is
     either not explicitly set or set to ‘checkout’, this option is
     implicit.

‘--merge’
     This option is only valid for the update command.  Merge the commit
     recorded in the superproject into the current branch of the
     submodule.  If this option is given, the submodule’s HEAD will not
     be detached.  If a merge failure prevents this process, you will
     have to resolve the resulting conflicts within the submodule with
     the usual conflict resolution tools.  If the key
     ‘submodule.$name.update’ is set to ‘merge’, this option is
     implicit.

‘--rebase’
     This option is only valid for the update command.  Rebase the
     current branch onto the commit recorded in the superproject.  If
     this option is given, the submodule’s HEAD will not be detached.
     If a merge failure prevents this process, you will have to resolve
     these failures with git-rebase(1).  If the key
     ‘submodule.$name.update’ is set to ‘rebase’, this option is
     implicit.

‘--init’
     This option is only valid for the update command.  Initialize all
     submodules for which "git submodule init" has not been called so
     far before updating.

‘--name’
     This option is only valid for the add command.  It sets the
     submodule’s name to the given string instead of defaulting to its
     path.  The name must be valid as a directory name and may not end
     with a _/_.

‘--reference <repository>’
     This option is only valid for add and update commands.  These
     commands sometimes need to clone a remote repository.  In this
     case, this option will be passed to the git-clone(1) command.

     *NOTE*: Do *not* use this option unless you have read the note for
     git-clone(1)’s ‘--reference’, ‘--shared’, and ‘--dissociate’
     options carefully.

‘--dissociate’
     This option is only valid for add and update commands.  These
     commands sometimes need to clone a remote repository.  In this
     case, this option will be passed to the git-clone(1) command.

     *NOTE*: see the NOTE for the ‘--reference’ option.

‘--recursive’
     This option is only valid for foreach, update, status and sync
     commands.  Traverse submodules recursively.  The operation is
     performed not only in the submodules of the current repo, but also
     in any nested submodules inside those submodules (and so on).

‘--depth’
     This option is valid for add and update commands.  Create a
     _shallow_ clone with a history truncated to the specified number of
     revisions.  See git-clone(1)

‘--[no-]recommend-shallow’
     This option is only valid for the update command.  The initial
     clone of a submodule will use the recommended
     ‘submodule.<name>.shallow’ as provided by the ‘.gitmodules’ file by
     default.  To ignore the suggestions use ‘--no-recommend-shallow’.

‘-j <n>’
‘--jobs <n>’
     This option is only valid for the update command.  Clone new
     submodules in parallel with as many jobs.  Defaults to the
     ‘submodule.fetchJobs’ option.

‘--[no-]single-branch’
     This option is only valid for the update command.  Clone only one
     branch during update: HEAD or one specified by –branch.

<path>…
     Paths to submodule(s).  When specified this will restrict the
     command to only operate on the submodules found at the specified
     paths.  (This argument is required with add).


FILES
*****

When initializing submodules, a ‘.gitmodules’ file in the top-level
directory of the containing repository is used to find the url of each
submodule.  This file should be formatted in the same way as
‘$GIT_DIR/config’.  The key to each submodule url is
"submodule.$name.url".  See gitmodules(5) for details.


SEE ALSO
********

gitsubmodules(7), gitmodules(5).


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-svn,  Up: Top

Name
****

git-svn — Bidirectional operation between a Subversion repository and
Git


Synopsis
********

     git svn <command> [<options>] [<arguments>]


DESCRIPTION
***********

_git svn_ is a simple conduit for changesets between Subversion and Git.
It provides a bidirectional flow of changes between a Subversion and a
Git repository.

   _git svn_ can track a standard Subversion repository, following the
common "trunk/branches/tags" layout, with the –stdlayout option.  It can
also follow branches and tags in any layout with the -T/-t/-b options
(see options to _init_ below, and also the _clone_ command).

   Once tracking a Subversion repository (with any of the above
methods), the Git repository can be updated from Subversion by the
_fetch_ command and Subversion updated from Git by the _dcommit_
command.


COMMANDS
********

_init_
     Initializes an empty Git repository with additional metadata
     directories for _git svn_.  The Subversion URL may be specified as
     a command-line argument, or as full URL arguments to -T/-t/-b.
     Optionally, the target directory to operate on can be specified as
     a second argument.  Normally this command initializes the current
     directory.

     -T<trunk_subdir>
     –trunk=<trunk_subdir>
     -t<tags_subdir>
     –tags=<tags_subdir>
     -b<branches_subdir>
     –branches=<branches_subdir>
     -s
     –stdlayout
          These are optional command-line options for init.  Each of
          these flags can point to a relative repository path
          (–tags=project/tags) or a full url
          (–tags=https://foo.org/project/tags).  You can specify more
          than one –tags and/or –branches options, in case your
          Subversion repository places tags or branches under multiple
          paths.  The option –stdlayout is a shorthand way of setting
          trunk,tags,branches as the relative paths, which is the
          Subversion default.  If any of the other options are given as
          well, they take precedence.

     –no-metadata
          Set the _noMetadata_ option in the [svn-remote] config.  This
          option is not recommended, please read the _svn.noMetadata_
          section of this manpage before using this option.

     –use-svm-props
          Set the _useSvmProps_ option in the [svn-remote] config.

     –use-svnsync-props
          Set the _useSvnsyncProps_ option in the [svn-remote] config.

     –rewrite-root=<URL>
          Set the _rewriteRoot_ option in the [svn-remote] config.

     –rewrite-uuid=<UUID>
          Set the _rewriteUUID_ option in the [svn-remote] config.

     –username=<user>
          For transports that SVN handles authentication for (http,
          https, and plain svn), specify the username.  For other
          transports (e.g.  ‘svn+ssh://’), you must include the username
          in the URL, e.g.  ‘svn+ssh://foo@svn.bar.com/project’

     –prefix=<prefix>
          This allows one to specify a prefix which is prepended to the
          names of remotes if trunk/branches/tags are specified.  The
          prefix does not automatically include a trailing slash, so be
          sure you include one in the argument if that is what you want.
          If –branches/-b is specified, the prefix must include a
          trailing slash.  Setting a prefix (with a trailing slash) is
          strongly encouraged in any case, as your SVN-tracking refs
          will then be located at "refs/remotes/$prefix/*", which is
          compatible with Git’s own remote-tracking ref layout
          (refs/remotes/$remote/*).  Setting a prefix is also useful if
          you wish to track multiple projects that share a common
          repository.  By default, the prefix is set to _origin/_.

               *Note*

               Before Git v2.0, the default prefix was "" (no prefix).
               This meant that SVN-tracking refs were put at
               "refs/remotes/*", which is incompatible with how Git’s
               own remote-tracking refs are organized.  If you still
               want the old default, you can get it by passing ‘--prefix
               ""’ on the command line (‘--prefix=""’ may not work if
               your Perl’s Getopt::Long is < v2.37).

     –ignore-refs=<regex>
          When passed to _init_ or _clone_ this regular expression will
          be preserved as a config key.  See _fetch_ for a description
          of ‘--ignore-refs’.

     –ignore-paths=<regex>
          When passed to _init_ or _clone_ this regular expression will
          be preserved as a config key.  See _fetch_ for a description
          of ‘--ignore-paths’.

     –include-paths=<regex>
          When passed to _init_ or _clone_ this regular expression will
          be preserved as a config key.  See _fetch_ for a description
          of ‘--include-paths’.

     –no-minimize-url
          When tracking multiple directories (using –stdlayout,
          –branches, or –tags options), git svn will attempt to connect
          to the root (or highest allowed level) of the Subversion
          repository.  This default allows better tracking of history if
          entire projects are moved within a repository, but may cause
          issues on repositories where read access restrictions are in
          place.  Passing ‘--no-minimize-url’ will allow git svn to
          accept URLs as-is without attempting to connect to a higher
          level directory.  This option is off by default when only one
          URL/branch is tracked (it would do little good).

_fetch_
     Fetch unfetched revisions from the Subversion remote we are
     tracking.  The name of the [svn-remote "…"] section in the
     $GIT_DIR/config file may be specified as an optional command-line
     argument.

     This automatically updates the rev_map if needed (see
     _$GIT_DIR/svn/**/.rev_map.*_ in the FILES section below for
     details).

     –localtime
          Store Git commit times in the local time zone instead of UTC.
          This makes _git log_ (even without –date=local) show the same
          times that ‘svn log’ would in the local time zone.

          This doesn’t interfere with interoperating with the Subversion
          repository you cloned from, but if you wish for your local Git
          repository to be able to interoperate with someone else’s
          local Git repository, either don’t use this option or you
          should both use it in the same local time zone.

     –parent
          Fetch only from the SVN parent of the current HEAD.

     –ignore-refs=<regex>
          Ignore refs for branches or tags matching the Perl regular
          expression.  A "negative look-ahead assertion" like
          ‘^refs/remotes/origin/(?!tags/wanted-tag|wanted-branch).*$’
          can be used to allow only certain refs.

               config key: svn-remote.<name>.ignore-refs

          If the ignore-refs configuration key is set, and the
          command-line option is also given, both regular expressions
          will be used.

     –ignore-paths=<regex>
          This allows one to specify a Perl regular expression that will
          cause skipping of all matching paths from checkout from SVN.
          The ‘--ignore-paths’ option should match for every _fetch_
          (including automatic fetches due to _clone_, _dcommit_,
          _rebase_, etc) on a given repository.

               config key: svn-remote.<name>.ignore-paths

          If the ignore-paths configuration key is set, and the
          command-line option is also given, both regular expressions
          will be used.

          Examples:

          Skip "doc*" directory for every fetch
                    --ignore-paths="^doc"

          Skip "branches" and "tags" of first level directories
                    --ignore-paths="^[^/]+/(?:branches|tags)"

     –include-paths=<regex>
          This allows one to specify a Perl regular expression that will
          cause the inclusion of only matching paths from checkout from
          SVN. The ‘--include-paths’ option should match for every
          _fetch_ (including automatic fetches due to _clone_,
          _dcommit_, _rebase_, etc) on a given repository.
          ‘--ignore-paths’ takes precedence over ‘--include-paths’.

               config key: svn-remote.<name>.include-paths

     –log-window-size=<n>
          Fetch <n> log entries per request when scanning Subversion
          history.  The default is 100.  For very large Subversion
          repositories, larger values may be needed for _clone_/_fetch_
          to complete in reasonable time.  But overly large values may
          lead to higher memory usage and request timeouts.

_clone_
     Runs _init_ and _fetch_.  It will automatically create a directory
     based on the basename of the URL passed to it; or if a second
     argument is passed; it will create a directory and work within
     that.  It accepts all arguments that the _init_ and _fetch_
     commands accept; with the exception of ‘--fetch-all’ and
     ‘--parent’.  After a repository is cloned, the _fetch_ command will
     be able to update revisions without affecting the working tree; and
     the _rebase_ command will be able to update the working tree with
     the latest changes.

     –preserve-empty-dirs
          Create a placeholder file in the local Git repository for each
          empty directory fetched from Subversion.  This includes
          directories that become empty by removing all entries in the
          Subversion repository (but not the directory itself).  The
          placeholder files are also tracked and removed when no longer
          necessary.

     –placeholder-filename=<filename>
          Set the name of placeholder files created by
          –preserve-empty-dirs.  Default: ".gitignore"

_rebase_
     This fetches revisions from the SVN parent of the current HEAD and
     rebases the current (uncommitted to SVN) work against it.

     This works similarly to ‘svn update’ or _git pull_ except that it
     preserves linear history with _git rebase_ instead of _git merge_
     for ease of dcommitting with _git svn_.

     This accepts all options that _git svn fetch_ and _git rebase_
     accept.  However, ‘--fetch-all’ only fetches from the current
     [svn-remote], and not all [svn-remote] definitions.

     Like _git rebase_; this requires that the working tree be clean and
     have no uncommitted changes.

     This automatically updates the rev_map if needed (see
     _$GIT_DIR/svn/**/.rev_map.*_ in the FILES section below for
     details).

     -l
     –local
          Do not fetch remotely; only run _git rebase_ against the last
          fetched commit from the upstream SVN.

_dcommit_
     Commit each diff from the current branch directly to the SVN
     repository, and then rebase or reset (depending on whether or not
     there is a diff between SVN and head).  This will create a revision
     in SVN for each commit in Git.

     When an optional Git branch name (or a Git commit object name) is
     specified as an argument, the subcommand works on the specified
     branch, not on the current branch.

     Use of _dcommit_ is preferred to _set-tree_ (below).

     –no-rebase
          After committing, do not rebase or reset.

     –commit-url <URL>
          Commit to this SVN URL (the full path).  This is intended to
          allow existing _git svn_ repositories created with one
          transport method (e.g.  ‘svn://’ or ‘http://’ for anonymous
          read) to be reused if a user is later given access to an
          alternate transport method (e.g.  ‘svn+ssh://’ or ‘https://’)
          for commit.

               config key: svn-remote.<name>.commiturl
               config key: svn.commiturl (overwrites all svn-remote.<name>.commiturl options)

          Note that the SVN URL of the commiturl config key includes the
          SVN branch.  If you rather want to set the commit URL for an
          entire SVN repository use svn-remote.<name>.pushurl instead.

          Using this option for any other purpose (don’t ask) is very
          strongly discouraged.

     –mergeinfo=<mergeinfo>
          Add the given merge information during the dcommit (e.g.
          ‘--mergeinfo="/branches/foo:1-10"’).  All svn server versions
          can store this information (as a property), and svn clients
          starting from version 1.5 can make use of it.  To specify
          merge information from multiple branches, use a single space
          character between the branches
          (‘--mergeinfo="/branches/foo:1-10 /branches/bar:3,5-6,8"’)

               config key: svn.pushmergeinfo

          This option will cause git-svn to attempt to automatically
          populate the svn:mergeinfo property in the SVN repository when
          possible.  Currently, this can only be done when dcommitting
          non-fast-forward merges where all parents but the first have
          already been pushed into SVN.

     –interactive
          Ask the user to confirm that a patch set should actually be
          sent to SVN. For each patch, one may answer "yes" (accept this
          patch), "no" (discard this patch), "all" (accept all patches),
          or "quit".

          _git svn dcommit_ returns immediately if answer is "no" or
          "quit", without committing anything to SVN.

_branch_
     Create a branch in the SVN repository.

     -m
     –message
          Allows to specify the commit message.

     -t
     –tag
          Create a tag by using the tags_subdir instead of the
          branches_subdir specified during git svn init.

     -d<path>
     –destination=<path>
          If more than one –branches (or –tags) option was given to the
          _init_ or _clone_ command, you must provide the location of
          the branch (or tag) you wish to create in the SVN repository.
          <path> specifies which path to use to create the branch or tag
          and should match the pattern on the left-hand side of one of
          the configured branches or tags refspecs.  You can see these
          refspecs with the commands

               git config --get-all svn-remote.<name>.branches git config --get-all
               svn-remote.<name>.tags

          where <name> is the name of the SVN repository as specified by
          the -R option to _init_ (or "svn" by default).

     –username
          Specify the SVN username to perform the commit as.  This
          option overrides the _username_ configuration property.

     –commit-url
          Use the specified URL to connect to the destination Subversion
          repository.  This is useful in cases where the source SVN
          repository is read-only.  This option overrides configuration
          property _commiturl_.

               git config --get-all svn-remote.<name>.commiturl

     –parents
          Create parent folders.  This parameter is equivalent to the
          parameter –parents on svn cp commands and is useful for
          non-standard repository layouts.

_tag_
     Create a tag in the SVN repository.  This is a shorthand for
     _branch -t_.

_log_
     This should make it easy to look up svn log messages when svn users
     refer to -r/–revision numbers.

     The following features from ‘svn log’ are supported:

     -r <n>[:<n>]
     –revision=<n>[:<n>]
          is supported, non-numeric args are not: HEAD, NEXT, BASE,
          PREV, etc …

     -v
     –verbose
          it’s not completely compatible with the –verbose output in svn
          log, but reasonably close.

     –limit=<n>
          is NOT the same as –max-count, doesn’t count merged/excluded
          commits

     –incremental
          supported

     New features:

     –show-commit
          shows the Git commit sha1, as well

     –oneline
          our version of –pretty=oneline

          *Note*

          SVN itself only stores times in UTC and nothing else.  The
          regular svn client converts the UTC time to the local time (or
          based on the TZ= environment).  This command has the same
          behaviour.

     Any other arguments are passed directly to _git log_

_blame_
     Show what revision and author last modified each line of a file.
     The output of this mode is format-compatible with the output of
     ‘svn blame’ by default.  Like the SVN blame command, local
     uncommitted changes in the working tree are ignored; the version of
     the file in the HEAD revision is annotated.  Unknown arguments are
     passed directly to _git blame_.

     –git-format
          Produce output in the same format as _git blame_, but with SVN
          revision numbers instead of Git commit hashes.  In this mode,
          changes that haven’t been committed to SVN (including local
          working-copy edits) are shown as revision 0.

_find-rev_
     When given an SVN revision number of the form _rN_, returns the
     corresponding Git commit hash (this can optionally be followed by a
     tree-ish to specify which branch should be searched).  When given a
     tree-ish, returns the corresponding SVN revision number.

     -B
     –before
          Don’t require an exact match if given an SVN revision, instead
          find the commit corresponding to the state of the SVN
          repository (on the current branch) at the specified revision.

     -A
     –after
          Don’t require an exact match if given an SVN revision; if
          there is not an exact match return the closest match searching
          forward in the history.

_set-tree_
     You should consider using _dcommit_ instead of this command.
     Commit specified commit or tree objects to SVN. This relies on your
     imported fetch data being up to date.  This makes absolutely no
     attempts to do patching when committing to SVN, it simply
     overwrites files with those specified in the tree or commit.  All
     merging is assumed to have taken place independently of _git svn_
     functions.

_create-ignore_
     Recursively finds the svn:ignore property on directories and
     creates matching .gitignore files.  The resulting files are staged
     to be committed, but are not committed.  Use -r/–revision to refer
     to a specific revision.

_show-ignore_
     Recursively finds and lists the svn:ignore property on directories.
     The output is suitable for appending to the $GIT_DIR/info/exclude
     file.

_mkdirs_
     Attempts to recreate empty directories that core Git cannot track
     based on information in $GIT_DIR/svn/<refname>/unhandled.log files.
     Empty directories are automatically recreated when using "git svn
     clone" and "git svn rebase", so "mkdirs" is intended for use after
     commands like "git checkout" or "git reset".  (See the
     svn-remote.<name>.automkdirs config file option for more
     information.)

_commit-diff_
     Commits the diff of two tree-ish arguments from the command-line.
     This command does not rely on being inside a ‘git svn init’-ed
     repository.  This command takes three arguments, (a) the original
     tree to diff against, (b) the new tree result, (c) the URL of the
     target Subversion repository.  The final argument (URL) may be
     omitted if you are working from a _git svn_-aware repository (that
     has been ‘init’-ed with _git svn_).  The -r<revision> option is
     required for this.

     The commit message is supplied either directly with the ‘-m’ or
     ‘-F’ option, or indirectly from the tag or commit when the second
     tree-ish denotes such an object, or it is requested by invoking an
     editor (see ‘--edit’ option below).

     -m <msg>
     –message=<msg>
          Use the given ‘msg’ as the commit message.  This option
          disables the ‘--edit’ option.

     -F <filename>
     –file=<filename>
          Take the commit message from the given file.  This option
          disables the ‘--edit’ option.

_info_
     Shows information about a file or directory similar to what ‘svn
     info’ provides.  Does not currently support a -r/–revision
     argument.  Use the –url option to output only the value of the
     _URL:_ field.

_proplist_
     Lists the properties stored in the Subversion repository about a
     given file or directory.  Use -r/–revision to refer to a specific
     Subversion revision.

_propget_
     Gets the Subversion property given as the first argument, for a
     file.  A specific revision can be specified with -r/–revision.

_propset_
     Sets the Subversion property given as the first argument, to the
     value given as the second argument for the file given as the third
     argument.

     Example:

          git svn propset svn:keywords "FreeBSD=%H" devel/py-tipper/Makefile

     This will set the property _svn:keywords_ to _FreeBSD=%H_ for the
     file _devel/py-tipper/Makefile_.

_show-externals_
     Shows the Subversion externals.  Use -r/–revision to specify a
     specific revision.

_gc_
     Compress $GIT_DIR/svn/<refname>/unhandled.log files and remove
     $GIT_DIR/svn/<refname>/index files.

_reset_
     Undoes the effects of _fetch_ back to the specified revision.  This
     allows you to re-_fetch_ an SVN revision.  Normally the contents of
     an SVN revision should never change and _reset_ should not be
     necessary.  However, if SVN permissions change, or if you alter
     your –ignore-paths option, a _fetch_ may fail with "not found in
     commit" (file not previously visible) or "checksum mismatch"
     (missed a modification).  If the problem file cannot be ignored
     forever (with –ignore-paths) the only way to repair the repo is to
     use _reset_.

     Only the rev_map and refs/remotes/git-svn are changed (see
     _$GIT_DIR/svn/**/.rev_map.*_ in the FILES section below for
     details).  Follow _reset_ with a _fetch_ and then _git reset_ or
     _git rebase_ to move local branches onto the new tree.

     -r <n>
     –revision=<n>
          Specify the most recent revision to keep.  All later revisions
          are discarded.

     -p
     –parent
          Discard the specified revision as well, keeping the nearest
          parent instead.

     Example:
          Assume you have local changes in "master", but you need to
          refetch "r2".

                   r1---r2---r3 remotes/git-svn
                               \
                                A---B master

          Fix the ignore-paths or SVN permissions problem that caused
          "r2" to be incomplete in the first place.  Then:

               git svn reset -r2 -p
               git svn fetch

                   r1---r2'--r3' remotes/git-svn
                     \
                      r2---r3---A---B master

          Then fixup "master" with _git rebase_.  Do NOT use _git merge_
          or your history will not be compatible with a future
          _dcommit_!

               git rebase –onto remotes/git-svn A^ master

                   r1---r2'--r3' remotes/git-svn
                               \
                                A'--B' master


OPTIONS
*******

‘--shared[=(false|true|umask|group|all|world|everybody)]’
‘--template=<template_directory>’
     Only used with the _init_ command.  These are passed directly to
     _git init_.

‘-r <arg>’
‘--revision <arg>’
     Used with the _fetch_ command.

     This allows revision ranges for partial/cauterized history to be
     supported.  $NUMBER, $NUMBER1:$NUMBER2 (numeric ranges),
     $NUMBER:HEAD, and BASE:$NUMBER are all supported.

     This can allow you to make partial mirrors when running fetch; but
     is generally not recommended because history will be skipped and
     lost.

-
‘--stdin’
     Only used with the _set-tree_ command.

     Read a list of commits from stdin and commit them in reverse order.
     Only the leading sha1 is read from each line, so _git rev-list
     –pretty=oneline_ output can be used.

‘--rmdir’
     Only used with the _dcommit_, _set-tree_ and _commit-diff_
     commands.

     Remove directories from the SVN tree if there are no files left
     behind.  SVN can version empty directories, and they are not
     removed by default if there are no files left in them.  Git cannot
     version empty directories.  Enabling this flag will make the commit
     to SVN act like Git.

          config key: svn.rmdir

‘-e’
‘--edit’
     Only used with the _dcommit_, _set-tree_ and _commit-diff_
     commands.

     Edit the commit message before committing to SVN. This is off by
     default for objects that are commits, and forced on when committing
     tree objects.

          config key: svn.edit

‘-l<num>’
‘--find-copies-harder’
     Only used with the _dcommit_, _set-tree_ and _commit-diff_
     commands.

     They are both passed directly to _git diff-tree_; see
     git-diff-tree(1) for more information.

          config key: svn.l
          config key: svn.findcopiesharder

‘-A<filename>’
‘--authors-file=<filename>’
     Syntax is compatible with the file used by _git cvsimport_ but an
     empty email address can be supplied with _<>_:

                  loginname = Joe User <user@example.com>

     If this option is specified and _git svn_ encounters an SVN
     committer name that does not exist in the authors-file, _git svn_
     will abort operation.  The user will then have to add the
     appropriate entry.  Re-running the previous _git svn_ command after
     the authors-file is modified should continue operation.

          config key: svn.authorsfile

‘--authors-prog=<filename>’
     If this option is specified, for each SVN committer name that does
     not exist in the authors file, the given file is executed with the
     committer name as the first argument.  The program is expected to
     return a single line of the form "Name <email>" or "Name <>", which
     will be treated as if included in the authors file.

     Due to historical reasons a relative _filename_ is first searched
     relative to the current directory for _init_ and _clone_ and
     relative to the root of the working tree for _fetch_.  If
     _filename_ is not found, it is searched like any other command in
     _$PATH_.

          config key: svn.authorsProg

‘-q’
‘--quiet’
     Make _git svn_ less verbose.  Specify a second time to make it even
     less verbose.

‘-m’
‘--merge’
‘-s<strategy>’
‘--strategy=<strategy>’
‘-p’
‘--rebase-merges’
‘--preserve-merges (DEPRECATED)’
     These are only used with the _dcommit_ and _rebase_ commands.

     Passed directly to _git rebase_ when using _dcommit_ if a _git
     reset_ cannot be used (see _dcommit_).

‘-n’
‘--dry-run’
     This can be used with the _dcommit_, _rebase_, _branch_ and _tag_
     commands.

     For _dcommit_, print out the series of Git arguments that would
     show which diffs would be committed to SVN.

     For _rebase_, display the local branch associated with the upstream
     svn repository associated with the current branch and the URL of
     svn repository that will be fetched from.

     For _branch_ and _tag_, display the urls that will be used for
     copying when creating the branch or tag.

‘--use-log-author’
     When retrieving svn commits into Git (as part of _fetch_, _rebase_,
     or _dcommit_ operations), look for the first ‘From:’ line or
     ‘Signed-off-by’ trailer in the log message and use that as the
     author string.

          config key: svn.useLogAuthor

‘--add-author-from’
     When committing to svn from Git (as part of _set-tree_ or _dcommit_
     operations), if the existing log message doesn’t already have a
     ‘From:’ or ‘Signed-off-by’ trailer, append a ‘From:’ line based on
     the Git commit’s author string.  If you use this, then
     ‘--use-log-author’ will retrieve a valid author string for all
     commits.

          config key: svn.addAuthorFrom


ADVANCED OPTIONS
****************

‘-i<GIT_SVN_ID>’
‘--id <GIT_SVN_ID>’
     This sets GIT_SVN_ID (instead of using the environment).  This
     allows the user to override the default refname to fetch from when
     tracking a single URL. The _log_ and _dcommit_ commands no longer
     require this switch as an argument.

‘-R<remote name>’
‘--svn-remote <remote name>’
     Specify the [svn-remote "<remote name>"] section to use, this
     allows SVN multiple repositories to be tracked.  Default: "svn"

‘--follow-parent’
     This option is only relevant if we are tracking branches (using one
     of the repository layout options –trunk, –tags, –branches,
     –stdlayout).  For each tracked branch, try to find out where its
     revision was copied from, and set a suitable parent in the first
     Git commit for the branch.  This is especially helpful when we’re
     tracking a directory that has been moved around within the
     repository.  If this feature is disabled, the branches created by
     _git svn_ will all be linear and not share any history, meaning
     that there will be no information on where branches were branched
     off or merged.  However, following long/convoluted histories can
     take a long time, so disabling this feature may speed up the
     cloning process.  This feature is enabled by default, use
     –no-follow-parent to disable it.

          config key: svn.followparent


CONFIG FILE-ONLY OPTIONS
************************

svn.noMetadata
svn-remote.<name>.noMetadata
     This gets rid of the _git-svn-id:_ lines at the end of every
     commit.

     This option can only be used for one-shot imports as _git svn_ will
     not be able to fetch again without metadata.  Additionally, if you
     lose your _$GIT_DIR/svn/**/.rev_map.*_ files, _git svn_ will not be
     able to rebuild them.

     The _git svn log_ command will not work on repositories using this,
     either.  Using this conflicts with the _useSvmProps_ option for
     (hopefully) obvious reasons.

     This option is NOT recommended as it makes it difficult to track
     down old references to SVN revision numbers in existing
     documentation, bug reports, and archives.  If you plan to
     eventually migrate from SVN to Git and are certain about dropping
     SVN history, consider git-filter-repo
     (https://github.com/newren/git-filter-repo) instead.  filter-repo
     also allows reformatting of metadata for ease-of-reading and
     rewriting authorship info for non-"svn.authorsFile" users.

svn.useSvmProps
svn-remote.<name>.useSvmProps
     This allows _git svn_ to re-map repository URLs and UUIDs from
     mirrors created using SVN::Mirror (or svk) for metadata.

     If an SVN revision has a property, "svm:headrev", it is likely that
     the revision was created by SVN::Mirror (also used by SVK). The
     property contains a repository UUID and a revision.  We want to
     make it look like we are mirroring the original URL, so introduce a
     helper function that returns the original identity URL and UUID,
     and use it when generating metadata in commit messages.

svn.useSvnsyncProps
svn-remote.<name>.useSvnsyncprops
     Similar to the useSvmProps option; this is for users of the
     svnsync(1) command distributed with SVN 1.4.x and later.

svn-remote.<name>.rewriteRoot
     This allows users to create repositories from alternate URLs.  For
     example, an administrator could run _git svn_ on the server locally
     (accessing via file://) but wish to distribute the repository with
     a public http:// or svn:// URL in the metadata so users of it will
     see the public URL.

svn-remote.<name>.rewriteUUID
     Similar to the useSvmProps option; this is for users who need to
     remap the UUID manually.  This may be useful in situations where
     the original UUID is not available via either useSvmProps or
     useSvnsyncProps.

svn-remote.<name>.pushurl
     Similar to Git’s ‘remote.<name>.pushurl’, this key is designed to
     be used in cases where _url_ points to an SVN repository via a
     read-only transport, to provide an alternate read/write transport.
     It is assumed that both keys point to the same repository.  Unlike
     _commiturl_, _pushurl_ is a base path.  If either _commiturl_ or
     _pushurl_ could be used, _commiturl_ takes precedence.

svn.brokenSymlinkWorkaround
     This disables potentially expensive checks to workaround broken
     symlinks checked into SVN by broken clients.  Set this option to
     "false" if you track a SVN repository with many empty blobs that
     are not symlinks.  This option may be changed while _git svn_ is
     running and take effect on the next revision fetched.  If unset,
     _git svn_ assumes this option to be "true".

svn.pathnameencoding
     This instructs git svn to recode pathnames to a given encoding.  It
     can be used by windows users and by those who work in non-utf8
     locales to avoid corrupted file names with non-ASCII characters.
     Valid encodings are the ones supported by Perl’s Encode module.

svn-remote.<name>.automkdirs
     Normally, the "git svn clone" and "git svn rebase" commands attempt
     to recreate empty directories that are in the Subversion
     repository.  If this option is set to "false", then empty
     directories will only be created if the "git svn mkdirs" command is
     run explicitly.  If unset, _git svn_ assumes this option to be
     "true".

   Since the noMetadata, rewriteRoot, rewriteUUID, useSvnsyncProps and
useSvmProps options all affect the metadata generated and used by _git
svn_; they *must* be set in the configuration file before any history is
imported and these settings should never be changed once they are set.

   Additionally, only one of these options can be used per svn-remote
section because they affect the _git-svn-id:_ metadata line, except for
rewriteRoot and rewriteUUID which can be used together.


BASIC EXAMPLES
**************

Tracking and contributing to the trunk of a Subversion-managed project
(ignoring tags and branches):

     # Clone a repo (like git clone):
             git svn clone http://svn.example.com/project/trunk
     # Enter the newly cloned directory:
             cd trunk
     # You should be on master branch, double-check with 'git branch'
             git branch
     # Do some work and commit locally to Git:
             git commit ...
     # Something is committed to SVN, rebase your local changes against the
     # latest changes in SVN:
             git svn rebase
     # Now commit your changes (that were committed previously using Git) to SVN,
     # as well as automatically updating your working HEAD:
             git svn dcommit
     # Append svn:ignore settings to the default Git exclude file:
             git svn show-ignore >> .git/info/exclude

   Tracking and contributing to an entire Subversion-managed project
(complete with a trunk, tags and branches):

     # Clone a repo with standard SVN directory layout (like git clone):
             git svn clone http://svn.example.com/project --stdlayout --prefix svn/
     # Or, if the repo uses a non-standard directory layout:
             git svn clone http://svn.example.com/project -T tr -b branch -t tag --prefix svn/
     # View all branches and tags you have cloned:
             git branch -r
     # Create a new branch in SVN
             git svn branch waldo
     # Reset your master to trunk (or any other branch, replacing 'trunk'
     # with the appropriate name):
             git reset --hard svn/trunk
     # You may only dcommit to one branch/tag/trunk at a time.  The usage
     # of dcommit/rebase/show-ignore should be the same as above.

   The initial _git svn clone_ can be quite time-consuming (especially
for large Subversion repositories).  If multiple people (or one person
with multiple machines) want to use _git svn_ to interact with the same
Subversion repository, you can do the initial _git svn clone_ to a
repository on a server and have each person clone that repository with
_git clone_:

     # Do the initial import on a server
             ssh server "cd /pub && git svn clone http://svn.example.com/project [options...]"
     # Clone locally - make sure the refs/remotes/ space matches the server
             mkdir project
             cd project
             git init
             git remote add origin server:/pub/project
             git config --replace-all remote.origin.fetch '+refs/remotes/*:refs/remotes/*'
             git fetch
     # Prevent fetch/pull from remote Git server in the future,
     # we only want to use git svn for future updates
             git config --remove-section remote.origin
     # Create a local branch from one of the branches just fetched
             git checkout -b master FETCH_HEAD
     # Initialize 'git svn' locally (be sure to use the same URL and
     # --stdlayout/-T/-b/-t/--prefix options as were used on server)
             git svn init http://svn.example.com/project [options...]
     # Pull the latest changes from Subversion
             git svn rebase


REBASE VS. PULL/MERGE
*********************

Prefer to use _git svn rebase_ or _git rebase_, rather than _git pull_
or _git merge_ to synchronize unintegrated commits with a _git svn_
branch.  Doing so will keep the history of unintegrated commits linear
with respect to the upstream SVN repository and allow the use of the
preferred _git svn dcommit_ subcommand to push unintegrated commits back
into SVN.

   Originally, _git svn_ recommended that developers pulled or merged
from the _git svn_ branch.  This was because the author favored ‘git svn
set-tree B’ to commit a single head rather than the ‘git svn set-tree
A..B’ notation to commit multiple commits.  Use of _git pull_ or _git
merge_ with ‘git svn set-tree A..B’ will cause non-linear history to be
flattened when committing into SVN and this can lead to merge commits
unexpectedly reversing previous commits in SVN.


MERGE TRACKING
**************

While _git svn_ can track copy history (including branches and tags) for
repositories adopting a standard layout, it cannot yet represent merge
history that happened inside git back upstream to SVN users.  Therefore
it is advised that users keep history as linear as possible inside Git
to ease compatibility with SVN (see the CAVEATS section below).


HANDLING OF SVN BRANCHES
************************

If _git svn_ is configured to fetch branches (and –follow-branches is in
effect), it sometimes creates multiple Git branches for one SVN branch,
where the additional branches have names of the form _branchname@nnn_
(with nnn an SVN revision number).  These additional branches are
created if _git svn_ cannot find a parent commit for the first commit in
an SVN branch, to connect the branch to the history of the other
branches.

   Normally, the first commit in an SVN branch consists of a copy
operation.  _git svn_ will read this commit to get the SVN revision the
branch was created from.  It will then try to find the Git commit that
corresponds to this SVN revision, and use that as the parent of the
branch.  However, it is possible that there is no suitable Git commit to
serve as parent.  This will happen, among other reasons, if the SVN
branch is a copy of a revision that was not fetched by _git svn_ (e.g.
because it is an old revision that was skipped with ‘--revision’), or if
in SVN a directory was copied that is not tracked by _git svn_ (such as
a branch that is not tracked at all, or a subdirectory of a tracked
branch).  In these cases, _git svn_ will still create a Git branch, but
instead of using an existing Git commit as the parent of the branch, it
will read the SVN history of the directory the branch was copied from
and create appropriate Git commits.  This is indicated by the message
"Initializing parent: <branchname>".

   Additionally, it will create a special branch named
_<branchname>@<SVN-Revision>_, where <SVN-Revision> is the SVN revision
number the branch was copied from.  This branch will point to the newly
created parent commit of the branch.  If in SVN the branch was deleted
and later recreated from a different version, there will be multiple
such branches with an _@_.

   Note that this may mean that multiple Git commits are created for a
single SVN revision.

   An example: in an SVN repository with a standard trunk/tags/branches
layout, a directory trunk/sub is created in r.100.  In r.200, trunk/sub
is branched by copying it to branches/.  _git svn clone -s_ will then
create a branch _sub_.  It will also create new Git commits for r.100
through r.199 and use these as the history of branch _sub_.  Thus there
will be two Git commits for each revision from r.100 to r.199 (one
containing trunk/, one containing trunk/sub/).  Finally, it will create
a branch _sub@200_ pointing to the new parent commit of branch _sub_
(i.e.  the commit for r.200 and trunk/sub/).


CAVEATS
*******

For the sake of simplicity and interoperating with Subversion, it is
recommended that all _git svn_ users clone, fetch and dcommit directly
from the SVN server, and avoid all _git clone_/_pull_/_merge_/_push_
operations between Git repositories and branches.  The recommended
method of exchanging code between Git branches and users is _git
format-patch_ and _git am_, or just ’dcommit’ing to the SVN repository.

   Running _git merge_ or _git pull_ is NOT recommended on a branch you
plan to _dcommit_ from because Subversion users cannot see any merges
you’ve made.  Furthermore, if you merge or pull from a Git branch that
is a mirror of an SVN branch, _dcommit_ may commit to the wrong branch.

   If you do merge, note the following rule: _git svn dcommit_ will
attempt to commit on top of the SVN commit named in

     git log --grep=^git-svn-id: --first-parent -1

   You _must_ therefore ensure that the most recent commit of the branch
you want to dcommit to is the _first_ parent of the merge.  Chaos will
ensue otherwise, especially if the first parent is an older commit on
the same SVN branch.

   _git clone_ does not clone branches under the refs/remotes/ hierarchy
or any _git svn_ metadata, or config.  So repositories created and
managed with using _git svn_ should use _rsync_ for cloning, if cloning
is to be done at all.

   Since _dcommit_ uses rebase internally, any Git branches you _git
push_ to before _dcommit_ on will require forcing an overwrite of the
existing ref on the remote repository.  This is generally considered bad
practice, see the git-push(1) documentation for details.

   Do not use the –amend option of git-commit(1) on a change you’ve
already dcommitted.  It is considered bad practice to –amend commits
you’ve already pushed to a remote repository for other users, and
dcommit with SVN is analogous to that.

   When cloning an SVN repository, if none of the options for describing
the repository layout is used (–trunk, –tags, –branches, –stdlayout),
_git svn clone_ will create a Git repository with completely linear
history, where branches and tags appear as separate directories in the
working copy.  While this is the easiest way to get a copy of a complete
repository, for projects with many branches it will lead to a working
copy many times larger than just the trunk.  Thus for projects using the
standard directory structure (trunk/branches/tags), it is recommended to
clone with option ‘--stdlayout’.  If the project uses a non-standard
structure, and/or if branches and tags are not required, it is easiest
to only clone one directory (typically trunk), without giving any
repository layout options.  If the full history with branches and tags
is required, the options ‘--trunk’ / ‘--branches’ / ‘--tags’ must be
used.

   When using multiple –branches or –tags, _git svn_ does not
automatically handle name collisions (for example, if two branches from
different paths have the same name, or if a branch and a tag have the
same name).  In these cases, use _init_ to set up your Git repository
then, before your first _fetch_, edit the $GIT_DIR/config file so that
the branches and tags are associated with different name spaces.  For
example:

     branches = stable/*:refs/remotes/svn/stable/*
     branches = debug/*:refs/remotes/svn/debug/*


CONFIGURATION
*************

_git svn_ stores [svn-remote] configuration information in the
repository $GIT_DIR/config file.  It is similar the core Git [remote]
sections except _fetch_ keys do not accept glob arguments; but they are
instead handled by the _branches_ and _tags_ keys.  Since some SVN
repositories are oddly configured with multiple projects glob expansions
such those listed below are allowed:

     [svn-remote "project-a"]
             url = http://server.org/svn
             fetch = trunk/project-a:refs/remotes/project-a/trunk
             branches = branches/*/project-a:refs/remotes/project-a/branches/*
             branches = branches/release_*:refs/remotes/project-a/branches/release_*
             branches = branches/re*se:refs/remotes/project-a/branches/*
             tags = tags/*/project-a:refs/remotes/project-a/tags/*

   Keep in mind that the ‘*’ (asterisk) wildcard of the local ref (right
of the ‘:’) *must* be the farthest right path component; however the
remote wildcard may be anywhere as long as it’s an independent path
component (surrounded by ‘/’ or EOL). This type of configuration is not
automatically created by _init_ and should be manually entered with a
text-editor or using _git config_.

   Also note that only one asterisk is allowed per word.  For example:

     branches = branches/re*se:refs/remotes/project-a/branches/*

   will match branches _release_, _rese_, _re123se_, however

     branches = branches/re*s*e:refs/remotes/project-a/branches/*

   will produce an error.

   It is also possible to fetch a subset of branches or tags by using a
comma-separated list of names within braces.  For example:

     [svn-remote "huge-project"]
             url = http://server.org/svn
             fetch = trunk/src:refs/remotes/trunk
             branches = branches/{red,green}/src:refs/remotes/project-a/branches/*
             tags = tags/{1.0,2.0}/src:refs/remotes/project-a/tags/*

   Multiple fetch, branches, and tags keys are supported:

     [svn-remote "messy-repo"]
             url = http://server.org/svn
             fetch = trunk/project-a:refs/remotes/project-a/trunk
             fetch = branches/demos/june-project-a-demo:refs/remotes/project-a/demos/june-demo
             branches = branches/server/*:refs/remotes/project-a/branches/*
             branches = branches/demos/2011/*:refs/remotes/project-a/2011-demos/*
             tags = tags/server/*:refs/remotes/project-a/tags/*

   Creating a branch in such a configuration requires disambiguating
which location to use using the -d or –destination flag:

     $ git svn branch -d branches/server release-2-3-0

   Note that git-svn keeps track of the highest revision in which a
branch or tag has appeared.  If the subset of branches or tags is
changed after fetching, then $GIT_DIR/svn/.metadata must be manually
edited to remove (or reset) branches-maxRev and/or tags-maxRev as
appropriate.


FILES
*****

$GIT_DIR/svn/**/.rev_map.*
     Mapping between Subversion revision numbers and Git commit names.
     In a repository where the noMetadata option is not set, this can be
     rebuilt from the git-svn-id: lines that are at the end of every
     commit (see the _svn.noMetadata_ section above for details).

     _git svn fetch_ and _git svn rebase_ automatically update the
     rev_map if it is missing or not up to date.  _git svn reset_
     automatically rewinds it.


BUGS
****

We ignore all SVN properties except svn:executable.  Any unhandled
properties are logged to $GIT_DIR/svn/<refname>/unhandled.log

   Renamed and copied directories are not detected by Git and hence not
tracked when committing to SVN. I do not plan on adding support for this
as it’s quite difficult and time-consuming to get working for all the
possible corner cases (Git doesn’t do it, either).  Committing renamed
and copied files is fully supported if they’re similar enough for Git to
detect them.

   In SVN, it is possible (though discouraged) to commit changes to a
tag (because a tag is just a directory copy, thus technically the same
as a branch).  When cloning an SVN repository, _git svn_ cannot know if
such a commit to a tag will happen in the future.  Thus it acts
conservatively and imports all SVN tags as branches, prefixing the tag
name with _tags/_.


SEE ALSO
********

git-rebase(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-switch,  Up: Top

Name
****

git-switch — ブランチを切り替える


Synopsis
********

     git switch [<options>] [–no-guess] <branch>
     git switch [<options>] –detach [<start-point>]
     git switch [<options>] (-c|-C) <new-branch> [<start-point>]
     git switch [<options>] –orphan <new-branch>


DESCRIPTION
***********

指定のブランチに切り替えます。作業ツリーとインデックスは、ブランチに一致
するように更新されます。新規コミットは、全てこのブランチの先端に追加され
ることになります。

   オプションで、同じ名前のリモートブランチから自動的に ‘-c’ や ‘-C’ を
使用して新しいブランチを作成するか(‘--guess’ 参照)、あるいは切り替え時に
‘--detach’ を使用して任意のブランチから作業ツリーをデタッチできます。

   ブランチを切り替えるには、クリーンなインデックスと作業ツリーは必要あ
りません(つまり、「HEAD」との違いはありません)。ただし、操作によってロー
カル変更が失われる場合、 ‘--discard-changes’ または ‘--merge’ で特に指示
されない限り、操作は中止されます。

   !!このコマンドは実験的なものです。 動作が変わる可能性があります!!


OPTIONS
*******

<branch>
     切り替え先のブランチ

<new-branch>
     新ブランチの名前

<start-point>
     新ブランチの開始点。 ‘<start-point>’ を指定すると、HEADが現在指し示
     している場所以外の履歴内の場所に基づいてブランチを作成できます。(ま
     たは、 ‘--detach’ の場合、他の場所から検査してデタッチすることがで
     きます。)

     ‘@{-N}’ 構文を使用して、「git switch」または「git checkout」操作を
     使用して切り替えられた最後からN番目のブランチ/コミットを参照できま
     す。 ‘@{-1}’ と同義の ‘-’ を指定することもできます。これは、2つのブ
     ランチをすばやく切り替えたり、誤って切り替えたブランチを元に戻した
     りするためによく使用されます。

     特別な場合として、マージベースが1つしかない場合は、 ‘A’ と ‘B’ のマ
     ージベースのショートカットとして ‘A...B’ を使用できます。 ‘A’ と
     ‘B’ のうち片方を省略できます。その場合、省略した方はデフォルトで
     ‘HEAD’ になります。

‘-c <new-branch>’
‘--create <new-branch>’
     ブランチに切り替える前に、 ‘<start-point>’ で始まる ‘<new-branch>’
     という名前の新しいブランチを作成します。これは以下に代わる便利なシ
     ョートカットです:

          $ git branch <new-branch>
          $ git switch <new-branch>

‘-C <new-branch>’
‘--force-create <new-branch>’
     ‘--create`と似ていますが、 `<new-branch>’ がすでに存在する場合、
     ‘<start-point>’ にリセットされる点が異なります。これは以下に代わる
     便利なショートカットです:

          $ git branch -f <new-branch>
          $ git switch <new-branch>

‘-d’
‘--detach’
     検査と破棄可能な実験のためのコミットに切り替えます。詳細については
     、 git-checkout(1) の「DETACHED HEAD」セクションを参照してください
     。

‘--guess’
‘--no-guess’
     ‘<branch>’ が見つからないが、名前が一致するリモートが正確に1つだけ
     あり(‘<remote>’ と呼びます)、それに追跡ブランチが存在する場合は、以
     下と同等のものとして扱います。

          $ git switch -c <branch> --track <remote>/<branch>

     ブランチが複数のリモートに存在し、そのうちの1つが
     ‘checkout.defaultRemote’ 構成変数によって名前が付けられている場合、
     ‘<branch>’ がすべてのリモートで一意でなくても、曖昧さ回避の目的でそ
     のブランチを使用します。例えば、 ‘<branch>’ があいまいであるが、
     _origin_ リモートに存在する場合、そこからリモートブランチを常にチェ
     ックアウトするには、これを ‘checkout.defaultRemote=origin’ と設定し
     ます。 git-config(1) の ‘checkout.defaultRemote’ も参照してください
     。

     ‘--guess’ がデフォルトの動作です。無効にするには、 ‘--no-guess’ を
     使用します。

     デフォルトの動作は、 ‘checkout.guess’ 構成変数で設定できます。

‘-f’
‘--force’
     ‘--discard-changes’ のエイリアス。

‘--discard-changes’
     インデックスまたは作業ツリーが ‘HEAD’ と異なっていても続行します。
     インデックスと作業ツリーの両方が、切り替え先(switching target)に一
     致するように復元されます。 ‘--recurse-submodules’ が指定されている
     場合、サブモジュールの内容も切り替え先に一致するように復元されます
     。これは、ローカルの変更を破棄するために使用されます。

‘-m’
‘--merge’
     現在のブランチと切り替え先のブランチの間で異なる1つ以上のファイルに
     ローカルの変更がある場合、コマンドは、変更をコンテキストに保持する
     ためにブランチの切り替えを拒否します。 ただし、このオプションを使用
     すると、現在のブランチ、作業ツリーの内容、および新しいブランチの間
     の3方向のマージが実行され、新しいブランチに移動します。

     マージの競合が発生すると、競合するパスのインデックスエントリはマー
     ジされないままになり、競合を解決し、解決されたパスを ‘git add’ (ま
     たはマージによってパスが削除される場合は ‘git rm’)でマークする必要
     があります。

‘--conflict=<style>’
     上記の ‘--merge’ オプションと同じですが、競合するハンクの表示方法を
     変更し、 ‘merge.conflictStyle’ 構成変数をオーバーライドします。指定
     可能な値は「merge」(デフォルト)と「diff3」(「merge」スタイルで表示
     されるものに加えて、元のコンテンツを表示)です。

‘-q’
‘--quiet’
     静かにします。フィードバックメッセージを抑制します。

‘--progress’
‘--no-progress’
     ‘--quiet’ が指定されていない限り、進行状況は、端末に接続されている
     場合、デフォルトで標準エラーストリームに報告されます。このフラグは
     、 ‘--quiet’ に関係なく、端末に接続されていない場合でも進行状況のレ
     ポートを有効にします。

‘-t’
‘--track’
     新しいブランチを作成するときは、 "upstream" 構成をセットアップしま
     す。 ‘-c’ が暗黙に指定されたものと見なします。詳細については、
     git-branch(1) の ‘--track’ を参照してください。

     ‘-c’ オプションが指定されていない場合、新しいブランチの名前は、対応
     するリモート用に構成されたrefspecのローカル部分を調べ、次に、最初の
     部分を「*」まで削除することにより、リモート追跡ブランチから取得され
     ます。これは、 ‘origin/hack’ (または ‘remotes/origin/hack’ あるいは
     ‘refs/remotes/origin/hack’)から分岐するときに、ローカルブランチとし
     て ‘hack’ を使用するように指示します。指定された名前にスラッシュ
     (/)がない場合、または上記の推測の結果が空の名前になる場合、推測は中
     止されます。このような場合は、 ‘-c’ を使用して明示的に名前を付ける
     ことができます。

‘--no-track’
     ‘branch.autoSetupMerge’ 構成変数がtrueであっても、 "upstream" 構成
     をセットアップしない。

‘--orphan <new-branch>’
     ‘<new-branch>’ という名前の新しい 「孤立した」(orphan)ブランチを作
     成します。追跡中のファイルはすべて削除されます。

‘--ignore-other-worktrees’
     ‘git switch’ は、必要なrefが別のワークツリーによってすでにチェック
     アウトされている場合に拒否します。このオプションを使用すると、とに
     かくrefをチェックアウトできます。つまり、refは複数のワークツリーで
     保持できます。

‘--recurse-submodules’
‘--no-recurse-submodules’
     ‘--recurse-submodules’ を使用すると、スーパープロジェクト(親プロジ
     ェクト)に記録されたコミットに従って、すべてのアクティブなサブモジュ
     ールのコンテンツが更新されます。何も使用されていない(または
     ‘--no-recurse-submodules’)場合、サブモジュールの作業ツリーは更新さ
     れません。 git-submodule(1) と同様に、これはサブモジュールの ‘HEAD’
     を切り離します(detach)。


EXAMPLES
********

以下のコマンドは "master" ブランチに切り替えます:

     $ git switch master

   間違ったブランチで作業した後、正しいブランチへの切り替えは以下を使用
して行われます:

     $ git switch mytopic

   ただし、「間違った」ブランチと正しい「mytopic」ブランチは、ローカルで
変更したファイルが異なる場合があります。その場合、上記のswitchは以下のよ
うに失敗します:

     $ git switch mytopic
     error: You have local changes to 'frotz'; not switching branches.

   コマンドに ‘-m’ フラグを指定すると、3方向のマージを試行します:

     $ git switch -m mytopic
     Auto-merging frotz

   この3者間マージの後、ローカルの変更はインデックスファイルに登録されな
いため、 ‘git diff’ は、新しいブランチの先端以降に行った変更を示します。

   mytopicに切り替える前に前のブランチ(つまり、 "master" ブランチ)に戻す
には:

     $ git switch -

   どのコミットからでも新しいブランチを成長させることができます。たとえ
ば、 "HEAD~3" に切り替えて、ブランチ "fixup" を作成します:

     $ git switch -c fixup HEAD~3
     Switched to a new branch 'fixup'

   同じ名前のリモートブランチから新しいブランチを開始する場合:

     $ git switch new-topic
     Branch 'new-topic' set up to track remote branch 'new-topic' from 'origin'
     Switched to a new branch 'new-topic'

   新しいブランチを作成せずに、一時的な検査または実験のためにコミット
‘HEAD~3’ をチェックアウトするには:

     $ git switch --detach HEAD~3
     HEAD is now at 9fc9555312 Merge branch 'cc/shared-index-permbits'

   一時的な検査または実験のために行ったことに維持する価値があることが判
明した場合は、(切り替えることなく)、いつでも新しい名前を作成できます:

     $ git switch -c good-surprises


SEE ALSO
********

git-checkout(1), git-branch(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-symbolic-ref,  Up: Top

Name
****

git-symbolic-ref — シンボリックrefの読み取り、変更、および削除


Synopsis
********

     git symbolic-ref [-m <reason>] <name> <ref>
     git symbolic-ref [-q] [–short] <name>
     git symbolic-ref –delete [-q] <name>


DESCRIPTION
***********

引数が1つ与えられると、指定されたシンボリックrefが参照するブランチヘッド
を読み取り、 ‘.git/’ ディレクトリを基準にしてそのパスを出力します。 通常
、作業ツリーがどのブランチにあるかを確認するには、 <name> 引数として
‘HEAD’ を指定します。

   2つの引数を与えると、指定されたブランチ <ref> を指すようにシンボリッ
クref <name> を作成または更新します。

   ‘--delete’ と追加の引数を指定すると、指定されたシンボリックrefが削除
されます。

   シンボリックrefは、 ‘ref: refs/’ で始まる文字列を格納する通常のファイ
ルです。 たとえば、 ‘.git/HEAD’ は、内容が ‘ref: refs/heads/master’ であ
る通常のファイルです。


OPTIONS
*******

‘-d’
‘--delete’
     シンボリックref <name> を削除します。

‘-q’
‘--quiet’
     <name> がシンボリックrefではなく、切り離されたHEAD(detached HEAD)で
     ある場合は、エラーメッセージを発行しないでください。 代わりに、ゼロ
     以外のステータスで何も言わずに終了します。

‘--short’
     <name> の値をシンボリックrefとして表示する場合は、値を短くする事を
     試みます。例えば ‘refs/heads/master’ から ‘master’ へ。

‘-m’
     <name> のreflogを <reason> で更新します。これは、シンボリックrefを
     作成または更新する場合にのみ有効です。


NOTES
*****

以前は、 ‘.git/HEAD’ は ‘refs/heads/master’ を指すシンボリックリンクでし
た。別のブランチに切り替えたい場合は、 ‘ln -sf refs/heads/newbranch
.git/HEAD’ を実行し、現在のブランチを確認したい場合は、 ‘readlink
.git/HEAD’ を実行しました。 ただし、シンボリックリンクは完全に移植可能で
はないため、非推奨になり、(上記のとおり)シンボリックrefがデフォルトで使
用されます。

   _git symbolic-ref_ は、シンボリックrefの内容が正しく出力された場合は
ステータス0で終了し、要求された名前がシンボリックrefでない場合はステータ
ス1で終了し、別のエラーが発生した場合は128で終了します。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-tag,  Up: Top

Name
****

git-tag — Create, list, delete or verify a tag object signed with GPG


Synopsis
********

     git tag [-a | -s | -u <keyid>] [-f] [-m <msg> | -F <file>] [-e]
             <tagname> [<commit> | <object>]
     git tag -d <tagname>…
     git tag [-n[<num>]] -l [–contains <commit>] [–no-contains <commit>]
             [–points-at <object>] [–column[=<options>] | –no-column]
             [–create-reflog] [–sort=<key>] [–format=<format>]
             [–merged <commit>] [–no-merged <commit>] [<pattern>…]
     git tag -v [–format=<format>] <tagname>…


DESCRIPTION
***********

Add a tag reference in ‘refs/tags/’, unless ‘-d/-l/-v’ is given to
delete, list or verify tags.

   Unless ‘-f’ is given, the named tag must not yet exist.

   If one of ‘-a’, ‘-s’, or ‘-u <keyid>’ is passed, the command creates
a _tag_ object, and requires a tag message.  Unless ‘-m <msg>’ or ‘-F
<file>’ is given, an editor is started for the user to type in the tag
message.

   If ‘-m <msg>’ or ‘-F <file>’ is given and ‘-a’, ‘-s’, and ‘-u
<keyid>’ are absent, ‘-a’ is implied.

   Otherwise, a tag reference that points directly at the given object
(i.e., a lightweight tag) is created.

   A GnuPG signed tag object will be created when ‘-s’ or ‘-u <keyid>’
is used.  When ‘-u <keyid>’ is not used, the committer identity for the
current user is used to find the GnuPG key for signing.  The
configuration variable ‘gpg.program’ is used to specify custom GnuPG
binary.

   Tag objects (created with ‘-a’, ‘-s’, or ‘-u’) are called "annotated"
tags; they contain a creation date, the tagger name and e-mail, a
tagging message, and an optional GnuPG signature.  Whereas a
"lightweight" tag is simply a name for an object (usually a commit
object).

   Annotated tags are meant for release while lightweight tags are meant
for private or temporary object labels.  For this reason, some git
commands for naming objects (like ‘git describe’) will ignore
lightweight tags by default.


OPTIONS
*******

‘-a’
‘--annotate’
     Make an unsigned, annotated tag object

‘-s’
‘--sign’
     Make a GPG-signed tag, using the default e-mail address’s key.  The
     default behavior of tag GPG-signing is controlled by ‘tag.gpgSign’
     configuration variable if it exists, or disabled otherwise.  See
     git-config(1).

‘--no-sign’
     Override ‘tag.gpgSign’ configuration variable that is set to force
     each and every tag to be signed.

‘-u <keyid>’
‘--local-user=<keyid>’
     Make a GPG-signed tag, using the given key.

‘-f’
‘--force’
     Replace an existing tag with the given name (instead of failing)

‘-d’
‘--delete’
     Delete existing tags with the given names.

‘-v’
‘--verify’
     Verify the GPG signature of the given tag names.

‘-n<num>’
     <num> specifies how many lines from the annotation, if any, are
     printed when using -l.  Implies ‘--list’.

     The default is not to print any annotation lines.  If no number is
     given to ‘-n’, only the first line is printed.  If the tag is not
     annotated, the commit message is displayed instead.

‘-l’
‘--list’
     List tags.  With optional ‘<pattern>...’, e.g.  ‘git tag --list
     'v-*'’, list only the tags that match the pattern(s).

     Running "git tag" without arguments also lists all tags.  The
     pattern is a shell wildcard (i.e., matched using fnmatch(3)).
     Multiple patterns may be given; if any of them matches, the tag is
     shown.

     This option is implicitly supplied if any other list-like option
     such as ‘--contains’ is provided.  See the documentation for each
     of those options for details.

‘--sort=<key>’
     Sort based on the key given.  Prefix ‘-’ to sort in descending
     order of the value.  You may use the –sort=<key> option multiple
     times, in which case the last key becomes the primary key.  Also
     supports "version:refname" or "v:refname" (tag names are treated as
     versions).  The "version:refname" sort order can also be affected
     by the "versionsort.suffix" configuration variable.  The keys
     supported are the same as those in ‘git for-each-ref’.  Sort order
     defaults to the value configured for the ‘tag.sort’ variable if it
     exists, or lexicographic order otherwise.  See git-config(1).

‘--color[=<when>]’
     Respect any colors specified in the ‘--format’ option.  The
     ‘<when>’ field must be one of ‘always’, ‘never’, or ‘auto’ (if
     ‘<when>’ is absent, behave as if ‘always’ was given).

‘-i’
‘--ignore-case’
     Sorting and filtering tags are case insensitive.

‘--column[=<options>]’
‘--no-column’
     Display tag listing in columns.  See configuration variable
     ‘column.tag’ for option syntax.  ‘--column’ and ‘--no-column’
     without options are equivalent to _always_ and _never_
     respectively.

     This option is only applicable when listing tags without annotation
     lines.

‘--contains [<commit>]’
     Only list tags which contain the specified commit (HEAD if not
     specified).  Implies ‘--list’.

‘--no-contains [<commit>]’
     Only list tags which don’t contain the specified commit (HEAD if
     not specified).  Implies ‘--list’.

‘--merged [<commit>]’
     Only list tags whose commits are reachable from the specified
     commit (‘HEAD’ if not specified).

‘--no-merged [<commit>]’
     Only list tags whose commits are not reachable from the specified
     commit (‘HEAD’ if not specified).

‘--points-at <object>’
     Only list tags of the given object (HEAD if not specified).
     Implies ‘--list’.

‘-m <msg>’
‘--message=<msg>’
     Use the given tag message (instead of prompting).  If multiple ‘-m’
     options are given, their values are concatenated as separate
     paragraphs.  Implies ‘-a’ if none of ‘-a’, ‘-s’, or ‘-u <keyid>’ is
     given.

‘-F <file>’
‘--file=<file>’
     Take the tag message from the given file.  Use _-_ to read the
     message from the standard input.  Implies ‘-a’ if none of ‘-a’,
     ‘-s’, or ‘-u <keyid>’ is given.

‘-e’
‘--edit’
     The message taken from file with ‘-F’ and command line with ‘-m’
     are usually used as the tag message unmodified.  This option lets
     you further edit the message taken from these sources.

‘--cleanup=<mode>’
     This option sets how the tag message is cleaned up.  The _<mode>_
     can be one of _verbatim_, _whitespace_ and _strip_.  The _strip_
     mode is default.  The _verbatim_ mode does not change message at
     all, _whitespace_ removes just leading/trailing whitespace lines
     and _strip_ removes both whitespace and commentary.

‘--create-reflog’
     Create a reflog for the tag.  To globally enable reflogs for tags,
     see ‘core.logAllRefUpdates’ in git-config(1).  The negated form
     ‘--no-create-reflog’ only overrides an earlier ‘--create-reflog’,
     but currently does not negate the setting of
     ‘core.logAllRefUpdates’.

‘--format=<format>’
     A string that interpolates ‘%(fieldname)’ from a tag ref being
     shown and the object it points at.  The format is the same as that
     of git-for-each-ref(1).  When unspecified, defaults to
     ‘%(refname:strip=2)’.

<tagname>
     The name of the tag to create, delete, or describe.  The new tag
     name must pass all checks defined by git-check-ref-format(1).  Some
     of these checks may restrict the characters allowed in a tag name.

<commit>
<object>
     The object that the new tag will refer to, usually a commit.
     Defaults to HEAD.


CONFIGURATION
*************

By default, _git tag_ in sign-with-default mode (-s) will use your
committer identity (of the form ‘Your Name <your@email.address>’) to
find a key.  If you want to use a different default key, you can specify
it in the repository configuration as follows:

     [user]
         signingKey = <gpg-keyid>

   ‘pager.tag’ is only respected when listing tags, i.e., when ‘-l’ is
used or implied.  The default is to use a pager.  See git-config(1).


DISCUSSION
**********


On Re-tagging
=============

What should you do when you tag a wrong commit and you would want to
re-tag?

   If you never pushed anything out, just re-tag it.  Use "-f" to
replace the old one.  And you’re done.

   But if you have pushed things out (or others could just read your
repository directly), then others will have already seen the old tag.
In that case you can do one of two things:

  1. The sane thing.  Just admit you screwed up, and use a different
     name.  Others have already seen one tag-name, and if you keep the
     same name, you may be in the situation that two people both have
     "version X", but they actually have _different_ "X"’s.  So just
     call it "X.1" and be done with it.

  2. The insane thing.  You really want to call the new version "X" too,
     _even though_ others have already seen the old one.  So just use
     _git tag -f_ again, as if you hadn’t already published the old one.

   However, Git does *not* (and it should not) change tags behind users
back.  So if somebody already got the old tag, doing a _git pull_ on
your tree shouldn’t just make them overwrite the old one.

   If somebody got a release tag from you, you cannot just change the
tag for them by updating your own one.  This is a big security issue, in
that people MUST be able to trust their tag-names.  If you really want
to do the insane thing, you need to just fess up to it, and tell people
that you messed up.  You can do that by making a very public
announcement saying:

     Ok, I messed up, and I pushed out an earlier version tagged as X. I
     then fixed something, and retagged the *fixed* tree as X again.

     If you got the wrong tag, and want the new one, please delete
     the old one and fetch the new one by doing:

             git tag -d X
             git fetch origin tag X

     to get my updated tag.

     You can test which tag you have by doing

             git rev-parse X

     which should return 0123456789abcdef.. if you have the new version.

     Sorry for the inconvenience.

   Does this seem a bit complicated?  It *should* be.  There is no way
that it would be correct to just "fix" it automatically.  People need to
know that their tags might have been changed.


On Automatic following
======================

If you are following somebody else’s tree, you are most likely using
remote-tracking branches (eg.  ‘refs/remotes/origin/master’).  You
usually want the tags from the other end.

   On the other hand, if you are fetching because you would want a
one-shot merge from somebody else, you typically do not want to get tags
from there.  This happens more often for people near the toplevel but
not limited to them.  Mere mortals when pulling from each other do not
necessarily want to automatically get private anchor point tags from the
other person.

   Often, "please pull" messages on the mailing list just provide two
pieces of information: a repo URL and a branch name; this is designed to
be easily cut&pasted at the end of a _git fetch_ command line:

     Linus, please pull from

             git://git..../proj.git master

     to get the following updates...

   becomes:

     $ git pull git://git..../proj.git master

   In such a case, you do not want to automatically follow the other
person’s tags.

   One important aspect of Git is its distributed nature, which largely
means there is no inherent "upstream" or "downstream" in the system.  On
the face of it, the above example might seem to indicate that the tag
namespace is owned by the upper echelon of people and that tags only
flow downwards, but that is not the case.  It only shows that the usage
pattern determines who are interested in whose tags.

   A one-shot pull is a sign that a commit history is now crossing the
boundary between one circle of people (e.g.  "people who are primarily
interested in the networking part of the kernel") who may have their own
set of tags (e.g.  "this is the third release candidate from the
networking group to be proposed for general consumption with 2.6.21
release") to another circle of people (e.g.  "people who integrate
various subsystem improvements").  The latter are usually not interested
in the detailed tags used internally in the former group (that is what
"internal" means).  That is why it is desirable not to follow tags
automatically in this case.

   It may well be that among networking people, they may want to
exchange the tags internal to their group, but in that workflow they are
most likely tracking each other’s progress by having remote-tracking
branches.  Again, the heuristic to automatically follow such tags is a
good thing.


On Backdating Tags
==================

If you have imported some changes from another VCS and would like to add
tags for major releases of your work, it is useful to be able to specify
the date to embed inside of the tag object; such data in the tag object
affects, for example, the ordering of tags in the gitweb interface.

   To set the date used in future tag objects, set the environment
variable GIT_COMMITTER_DATE (see the later discussion of possible
values; the most common form is "YYYY-MM-DD HH:MM").

   For example:

     $ GIT_COMMITTER_DATE="2006-10-02 10:31" git tag -s v1.0.1


DATE FORMATS
************

‘GIT_AUTHOR_DATE’ と ‘GIT_COMMITTER_DATE’ 環境変数は、以下の日付形式をサ
ポートします:

Git internal format
     これは ‘<unix timestamp> <time zone offset>’ ここで、 ‘<unix
     timestamp>’ UNIXエポックからの秒数です。 ‘<time zone offset>’ は
     UTCからの正または負のオフセットです。 たとえば、CET(UTCより1時間進
     んでいます)は ‘+0100’ です。

RFC 2822
     RFC 2822で説明されている標準の電子メール形式。たとえば、 ‘Thu, 07
     Apr 2005 22:13:13 +0200’ 。

ISO 8601
     ISO 8601規格で指定されている日時(例: ‘2005-04-07T22:13:13’)。パーサ
     は、 ‘T’ 文字の代わりにスペースも受け入れます。秒の小数部分は無視さ
     れます。たとえば、 ‘2005-04-07T22:13:13.019’ は
     ‘2005-04-07T22:13:13’ として扱われます。

          *Note*

          日付部分は、上記に加えて、 ‘YYYY.MM.DD’ または ‘MM/DD/YYYY’ ま
          たは ‘DD.MM.YYYY’ 形式が受け入れられます。


NOTES
*****

複数の ‘--contains’ フィルターと ‘--no-contains’ フィルターを組み合わせ
る場合、少なくとも1つの ‘--contains’ コミットを含み、 ‘--no-contains’ コ
ミットを含まない参照のみが表示されます。

   複数の ‘--merged’ フィルターと ‘--no-merged’ フィルターを組み合わせる
と、少なくとも1つの ‘--merged’ コミットから到達可能で、 ‘--no-merged’ コ
ミットのいずれからも到達できない参照のみが表示されます。


SEE ALSO
********

git-check-ref-format(1).  git-config(1).


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-unpack-file,  Up: Top

Name
****

git-unpack-file — ブロブの内容を含む一時(temporary)ファイルを作成します


Synopsis
********

     git unpack-file <blob>


DESCRIPTION
***********

sha1で指定されたブロブの内容を保持するファイルを作成します。 一時
(temporary)ファイルの名前を次の形式で返します: .merge_file_XXXXX


OPTIONS
*******

<blob>
     ブロブIDである必要があります


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-unpack-objects,  Up: Top

Name
****

git-unpack-objects — パックされたアーカイブからオブジェクトを取り出しま
す


Synopsis
********

     git unpack-objects [-n] [-q] [-r] [–strict]


DESCRIPTION
***********

標準入力からパックされたアーカイブ(.pack)を読み取り、そこに含まれるオブ
ジェクトを展開して、"loose" 形式(ファイルごとに1つのオブジェクト)でリポ
ジトリに書き込みます。

   リポジトリにすでに存在するオブジェクトは、パックファイルから取り出さ
れません。したがって、ターゲットリポジトリ内に存在するパックファイルでこ
のコマンドを使用しても、何も取り出されません。

   新しいパックを生成して既存のパックを置き換えるオプションについては、
git-repack(1) を参照してください。


OPTIONS
*******

‘-n’
     ドライランします。 実際にオブジェクトを取り出さずにパックファイルを
     確認するのみです。

‘-q’
     このコマンドは通常、進捗率を表示しますが、このフラグはそれを抑制し
     ます。

‘-r’
     破損したパックファイルから取り出そうとすると、コマンドは最初の破損
     で終了します。このフラグは破損があっても続行し、できるだけ多くのオ
     ブジェクトを回復するために最善を尽くすことを指示します。

‘--strict’
     壊れたコンテンツやリンクを含むオブジェクトをリポジトリに書き込まな
     い

‘--max-input-size=<size>’
     入力サイズが <size> より大きい場合は何もせず終了します。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-update-index,  Up: Top

Name
****

git-update-index — Register file contents in the working tree to the
index


Synopsis
********

     git update-index
                  [–add] [–remove | –force-remove] [–replace]
                  [–refresh] [-q] [–unmerged] [–ignore-missing]
                  [(–cacheinfo <mode>,<object>,<file>)…]
                  [–chmod=(+|-)x]
                  [–[no-]assume-unchanged]
                  [–[no-]skip-worktree]
                  [–[no-]ignore-skip-worktree-entries]
                  [–[no-]fsmonitor-valid]
                  [–ignore-submodules]
                  [–[no-]split-index]
                  [–[no-|test-|force-]untracked-cache]
                  [–[no-]fsmonitor]
                  [–really-refresh] [–unresolve] [–again | -g]
                  [–info-only] [–index-info]
                  [-z] [–stdin] [–index-version <n>]
                  [–verbose]
                  [–] [<file>…]


DESCRIPTION
***********

Modifies the index.  Each file mentioned is updated into the index and
any _unmerged_ or _needs updating_ state is cleared.

   See also git-add(1) for a more user-friendly way to do some of the
most common operations on the index.

   The way _git update-index_ handles files it is told about can be
modified using the various options:


OPTIONS
*******

‘--add’
     If a specified file isn’t in the index already then it’s added.
     Default behaviour is to ignore new files.

‘--remove’
     If a specified file is in the index but is missing then it’s
     removed.  Default behavior is to ignore removed file.

‘--refresh’
     Looks at the current index and checks to see if merges or updates
     are needed by checking stat() information.

‘-q’
     Quiet.  If –refresh finds that the index needs an update, the
     default behavior is to error out.  This option makes _git
     update-index_ continue anyway.

‘--ignore-submodules’
     Do not try to update submodules.  This option is only respected
     when passed before –refresh.

‘--unmerged’
     If –refresh finds unmerged changes in the index, the default
     behavior is to error out.  This option makes _git update-index_
     continue anyway.

‘--ignore-missing’
     Ignores missing files during a –refresh

‘--cacheinfo <mode>,<object>,<path>’
‘--cacheinfo <mode> <object> <path>’
     Directly insert the specified info into the index.  For backward
     compatibility, you can also give these three arguments as three
     separate parameters, but new users are encouraged to use a
     single-parameter form.

‘--index-info’
     Read index information from stdin.

‘--chmod=(+|-)x’
     Set the execute permissions on the updated files.

‘--[no-]assume-unchanged’
     When this flag is specified, the object names recorded for the
     paths are not updated.  Instead, this option sets/unsets the
     "assume unchanged" bit for the paths.  When the "assume unchanged"
     bit is on, the user promises not to change the file and allows Git
     to assume that the working tree file matches what is recorded in
     the index.  If you want to change the working tree file, you need
     to unset the bit to tell Git.  This is sometimes helpful when
     working with a big project on a filesystem that has very slow
     lstat(2) system call (e.g.  cifs).

     Git will fail (gracefully) in case it needs to modify this file in
     the index e.g.  when merging in a commit; thus, in case the
     assumed-untracked file is changed upstream, you will need to handle
     the situation manually.

‘--really-refresh’
     Like ‘--refresh’, but checks stat information unconditionally,
     without regard to the "assume unchanged" setting.

‘--[no-]skip-worktree’
     When one of these flags is specified, the object name recorded for
     the paths are not updated.  Instead, these options set and unset
     the "skip-worktree" bit for the paths.  See section "Skip-worktree
     bit" below for more information.

‘--[no-]ignore-skip-worktree-entries’
     Do not remove skip-worktree (AKA "index-only") entries even when
     the ‘--remove’ option was specified.

‘--[no-]fsmonitor-valid’
     When one of these flags is specified, the object name recorded for
     the paths are not updated.  Instead, these options set and unset
     the "fsmonitor valid" bit for the paths.  See section "File System
     Monitor" below for more information.

‘-g’
‘--again’
     Runs _git update-index_ itself on the paths whose index entries are
     different from those from the ‘HEAD’ commit.

‘--unresolve’
     Restores the _unmerged_ or _needs updating_ state of a file during
     a merge if it was cleared by accident.

‘--info-only’
     Do not create objects in the object database for all <file>
     arguments that follow this flag; just insert their object IDs into
     the index.

‘--force-remove’
     Remove the file from the index even when the working directory
     still has such a file.  (Implies –remove.)

‘--replace’
     By default, when a file ‘path’ exists in the index, _git
     update-index_ refuses an attempt to add ‘path/file’.  Similarly if
     a file ‘path/file’ exists, a file ‘path’ cannot be added.  With
     –replace flag, existing entries that conflict with the entry being
     added are automatically removed with warning messages.

‘--stdin’
     Instead of taking list of paths from the command line, read list of
     paths from the standard input.  Paths are separated by LF (i.e.
     one path per line) by default.

‘--verbose’
     Report what is being added and removed from index.

‘--index-version <n>’
     Write the resulting index out in the named on-disk format version.
     Supported versions are 2, 3 and 4.  The current default version is
     2 or 3, depending on whether extra features are used, such as ‘git
     add -N’.

     Version 4 performs a simple pathname compression that reduces index
     size by 30%-50% on large repositories, which results in faster load
     time.  Version 4 is relatively young (first released in 1.8.0 in
     October 2012).  Other Git implementations such as JGit and libgit2
     may not support it yet.

‘-z’
     Only meaningful with ‘--stdin’ or ‘--index-info’; paths are
     separated with NUL character instead of LF.

‘--split-index’
‘--no-split-index’
     Enable or disable split index mode.  If split-index mode is already
     enabled and ‘--split-index’ is given again, all changes in
     $GIT_DIR/index are pushed back to the shared index file.

     These options take effect whatever the value of the
     ‘core.splitIndex’ configuration variable (see git-config(1)).  But
     a warning is emitted when the change goes against the configured
     value, as the configured value will take effect next time the index
     is read and this will remove the intended effect of the option.

‘--untracked-cache’
‘--no-untracked-cache’
     Enable or disable untracked cache feature.  Please use
     ‘--test-untracked-cache’ before enabling it.

     These options take effect whatever the value of the
     ‘core.untrackedCache’ configuration variable (see git-config(1)).
     But a warning is emitted when the change goes against the
     configured value, as the configured value will take effect next
     time the index is read and this will remove the intended effect of
     the option.

‘--test-untracked-cache’
     Only perform tests on the working directory to make sure untracked
     cache can be used.  You have to manually enable untracked cache
     using ‘--untracked-cache’ or ‘--force-untracked-cache’ or the
     ‘core.untrackedCache’ configuration variable afterwards if you
     really want to use it.  If a test fails the exit code is 1 and a
     message explains what is not working as needed, otherwise the exit
     code is 0 and OK is printed.

‘--force-untracked-cache’
     Same as ‘--untracked-cache’.  Provided for backwards compatibility
     with older versions of Git where ‘--untracked-cache’ used to imply
     ‘--test-untracked-cache’ but this option would enable the extension
     unconditionally.

‘--fsmonitor’
‘--no-fsmonitor’
     Enable or disable files system monitor feature.  These options take
     effect whatever the value of the ‘core.fsmonitor’ configuration
     variable (see git-config(1)).  But a warning is emitted when the
     change goes against the configured value, as the configured value
     will take effect next time the index is read and this will remove
     the intended effect of the option.

–
     Do not interpret any more arguments as options.

<file>
     Files to act on.  Note that files beginning with _._  are
     discarded.  This includes ‘./file’ and ‘dir/./file’.  If you don’t
     want this, then use cleaner names.  The same applies to directories
     ending _/_ and paths with _//_


USING –REFRESH
**************

‘--refresh’ does not calculate a new sha1 file or bring the index up to
date for mode/content changes.  But what it *does* do is to "re-match"
the stat information of a file with the index, so that you can refresh
the index for a file that hasn’t been changed but where the stat entry
is out of date.

   For example, you’d want to do this after doing a _git read-tree_, to
link up the stat index details with the proper files.


USING –CACHEINFO OR –INFO-ONLY
******************************

‘--cacheinfo’ is used to register a file that is not in the current
working directory.  This is useful for minimum-checkout merging.

   To pretend you have a file at path with mode and sha1, say:

     $ git update-index --add --cacheinfo <mode>,<sha1>,<path>

   ‘--info-only’ is used to register files without placing them in the
object database.  This is useful for status-only repositories.

   Both ‘--cacheinfo’ and ‘--info-only’ behave similarly: the index is
updated but the object database isn’t.  ‘--cacheinfo’ is useful when the
object is in the database but the file isn’t available locally.
‘--info-only’ is useful when the file is available, but you do not wish
to update the object database.


USING –INDEX-INFO
*****************

‘--index-info’ is a more powerful mechanism that lets you feed multiple
entry definitions from the standard input, and designed specifically for
scripts.  It can take inputs of three formats:

  1. mode SP type SP sha1 TAB path

     This format is to stuff ‘git ls-tree’ output into the index.

  2. mode SP sha1 SP stage TAB path

     This format is to put higher order stages into the index file and
     matches _git ls-files –stage_ output.

  3. mode SP sha1 TAB path

     This format is no longer produced by any Git command, but is and
     will continue to be supported by ‘update-index --index-info’.

   To place a higher stage entry to the index, the path should first be
removed by feeding a mode=0 entry for the path, and then feeding
necessary input lines in the third format.

   For example, starting with this index:

     $ git ls-files -s
     100644 8a1218a1024a212bb3db30becd860315f9f3ac52 0       frotz

   you can feed the following input to ‘--index-info’:

     $ git update-index --index-info
     0 0000000000000000000000000000000000000000      frotz
     100644 8a1218a1024a212bb3db30becd860315f9f3ac52 1       frotz
     100755 8a1218a1024a212bb3db30becd860315f9f3ac52 2       frotz

   The first line of the input feeds 0 as the mode to remove the path;
the SHA-1 does not matter as long as it is well formatted.  Then the
second and third line feeds stage 1 and stage 2 entries for that path.
After the above, we would end up with this:

     $ git ls-files -s
     100644 8a1218a1024a212bb3db30becd860315f9f3ac52 1       frotz
     100755 8a1218a1024a212bb3db30becd860315f9f3ac52 2       frotz


USING “ASSUME UNCHANGED” BIT
****************************

Many operations in Git depend on your filesystem to have an efficient
‘lstat(2)’ implementation, so that ‘st_mtime’ information for working
tree files can be cheaply checked to see if the file contents have
changed from the version recorded in the index file.  Unfortunately,
some filesystems have inefficient ‘lstat(2)’.  If your filesystem is one
of them, you can set "assume unchanged" bit to paths you have not
changed to cause Git not to do this check.  Note that setting this bit
on a path does not mean Git will check the contents of the file to see
if it has changed — it makes Git to omit any checking and assume it has
*not* changed.  When you make changes to working tree files, you have to
explicitly tell Git about it by dropping "assume unchanged" bit, either
before or after you modify them.

   In order to set "assume unchanged" bit, use ‘--assume-unchanged’
option.  To unset, use ‘--no-assume-unchanged’.  To see which files have
the "assume unchanged" bit set, use ‘git ls-files -v’ (see
git-ls-files(1)).

   The command looks at ‘core.ignorestat’ configuration variable.  When
this is true, paths updated with ‘git update-index paths...’ and paths
updated with other Git commands that update both index and working tree
(e.g.  _git apply –index_, _git checkout-index -u_, and _git read-tree
-u_) are automatically marked as "assume unchanged".  Note that "assume
unchanged" bit is *not* set if ‘git update-index --refresh’ finds the
working tree file matches the index (use ‘git update-index
--really-refresh’ if you want to mark them as "assume unchanged").


EXAMPLES
********

To update and refresh only the files already checked out:

     $ git checkout-index -n -f -a && git update-index --ignore-missing --refresh

On an inefficient filesystem with ‘core.ignorestat’ set
          $ git update-index --really-refresh              (1)
          $ git update-index --no-assume-unchanged foo.c   (2)
          $ git diff --name-only                           (3)
          $ edit foo.c
          $ git diff --name-only                           (4)
          M foo.c
          $ git update-index foo.c                         (5)
          $ git diff --name-only                           (6)
          $ edit foo.c
          $ git diff --name-only                           (7)
          $ git update-index --no-assume-unchanged foo.c   (8)
          $ git diff --name-only                           (9)
          M foo.c

     *note (1): CO1-1.
          forces lstat(2) to set "assume unchanged" bits for paths that
          match index.

     *note (2): CO1-2.
          mark the path to be edited.

     *note (3): CO1-3.
          this does lstat(2) and finds index matches the path.

     *note (4): CO1-4.
          this does lstat(2) and finds index does *not* match the path.

     *note (5): CO1-5.
          registering the new version to index sets "assume unchanged"
          bit.

     *note (6): CO1-6.
          and it is assumed unchanged.

     *note (7): CO1-7.
          even after you edit it.

     *note (8): CO1-8.
          you can tell about the change after the fact.

     *note (9): CO1-9.
          now it checks with lstat(2) and finds it has been changed.


SKIP-WORKTREE BIT
*****************

Skip-worktree bit can be defined in one (long) sentence: When reading an
entry, if it is marked as skip-worktree, then Git pretends its working
directory version is up to date and read the index version instead.

   To elaborate, "reading" means checking for file existence, reading
file attributes or file content.  The working directory version may be
present or absent.  If present, its content may match against the index
version or not.  Writing is not affected by this bit, content safety is
still first priority.  Note that Git _can_ update working directory
file, that is marked skip-worktree, if it is safe to do so (i.e.
working directory version matches index version)

   Although this bit looks similar to assume-unchanged bit, its goal is
different from assume-unchanged bit’s.  Skip-worktree also takes
precedence over assume-unchanged bit when both are set.


SPLIT INDEX
***********

This mode is designed for repositories with very large indexes, and aims
at reducing the time it takes to repeatedly write these indexes.

   In this mode, the index is split into two files, $GIT_DIR/index and
$GIT_DIR/sharedindex.<SHA-1>.  Changes are accumulated in
$GIT_DIR/index, the split index, while the shared index file contains
all index entries and stays unchanged.

   All changes in the split index are pushed back to the shared index
file when the number of entries in the split index reaches a level
specified by the splitIndex.maxPercentChange config variable (see
git-config(1)).

   Each time a new shared index file is created, the old shared index
files are deleted if their modification time is older than what is
specified by the splitIndex.sharedIndexExpire config variable (see
git-config(1)).

   To avoid deleting a shared index file that is still used, its
modification time is updated to the current time every time a new split
index based on the shared index file is either created or read from.


UNTRACKED CACHE
***************

This cache is meant to speed up commands that involve determining
untracked files such as ‘git status’.

   This feature works by recording the mtime of the working tree
directories and then omitting reading directories and stat calls against
files in those directories whose mtime hasn’t changed.  For this to work
the underlying operating system and file system must change the
‘st_mtime’ field of directories if files in the directory are added,
modified or deleted.

   You can test whether the filesystem supports that with the
‘--test-untracked-cache’ option.  The ‘--untracked-cache’ option used to
implicitly perform that test in older versions of Git, but that’s no
longer the case.

   If you want to enable (or disable) this feature, it is easier to use
the ‘core.untrackedCache’ configuration variable (see git-config(1))
than using the ‘--untracked-cache’ option to ‘git update-index’ in each
repository, especially if you want to do so across all repositories you
use, because you can set the configuration variable to ‘true’ (or
‘false’) in your ‘$HOME/.gitconfig’ just once and have it affect all
repositories you touch.

   When the ‘core.untrackedCache’ configuration variable is changed, the
untracked cache is added to or removed from the index the next time a
command reads the index; while when ‘--[no-|force-]untracked-cache’ are
used, the untracked cache is immediately added to or removed from the
index.

   Before 2.17, the untracked cache had a bug where replacing a
directory with a symlink to another directory could cause it to
incorrectly show files tracked by git as untracked.  See the "status:
add a failing test showing a core.untrackedCache bug" commit to git.git.
A workaround for that is (and this might work for other undiscovered
bugs in the future):

     $ git -c core.untrackedCache=false status

   This bug has also been shown to affect non-symlink cases of replacing
a directory with a file when it comes to the internal structures of the
untracked cache, but no case has been reported where this resulted in
wrong "git status" output.

   There are also cases where existing indexes written by git versions
before 2.17 will reference directories that don’t exist anymore,
potentially causing many "could not open directory" warnings to be
printed on "git status".  These are new warnings for existing issues
that were previously silently discarded.

   As with the bug described above the solution is to one-off do a "git
status" run with ‘core.untrackedCache=false’ to flush out the leftover
bad data.


FILE SYSTEM MONITOR
*******************

This feature is intended to speed up git operations for repos that have
large working directories.

   It enables git to work together with a file system monitor (see the
"fsmonitor-watchman" section of githooks(5)) that can inform it as to
what files have been modified.  This enables git to avoid having to
lstat() every file to find modified files.

   When used in conjunction with the untracked cache, it can further
improve performance by avoiding the cost of scanning the entire working
directory looking for new files.

   If you want to enable (or disable) this feature, it is easier to use
the ‘core.fsmonitor’ configuration variable (see git-config(1)) than
using the ‘--fsmonitor’ option to ‘git update-index’ in each repository,
especially if you want to do so across all repositories you use, because
you can set the configuration variable in your ‘$HOME/.gitconfig’ just
once and have it affect all repositories you touch.

   When the ‘core.fsmonitor’ configuration variable is changed, the file
system monitor is added to or removed from the index the next time a
command reads the index.  When ‘--[no-]fsmonitor’ are used, the file
system monitor is immediately added to or removed from the index.


CONFIGURATION
*************

The command honors ‘core.filemode’ configuration variable.  If your
repository is on a filesystem whose executable bits are unreliable, this
should be set to _false_ (see git-config(1)).  This causes the command
to ignore differences in file modes recorded in the index and the file
mode on the filesystem if they differ only on executable bit.  On such
an unfortunate filesystem, you may need to use _git update-index
–chmod=_.

   Quite similarly, if ‘core.symlinks’ configuration variable is set to
_false_ (see git-config(1)), symbolic links are checked out as plain
files, and this command does not modify a recorded file mode from
symbolic link to regular file.

   The command looks at ‘core.ignorestat’ configuration variable.  See
_Using "assume unchanged" bit_ section above.

   The command also looks at ‘core.trustctime’ configuration variable.
It can be useful when the inode change time is regularly modified by
something outside Git (file system crawlers and backup systems use ctime
for marking files processed) (see git-config(1)).

   The untracked cache extension can be enabled by the
‘core.untrackedCache’ configuration variable (see git-config(1)).


NOTES
*****

Users often try to use the assume-unchanged and skip-worktree bits to
tell Git to ignore changes to files that are tracked.  This does not
work as expected, since Git may still check working tree files against
the index when performing certain operations.  In general, Git does not
provide a way to ignore changes to tracked files, so alternate solutions
are recommended.

   For example, if the file you want to change is some sort of config
file, the repository can include a sample config file that can then be
copied into the ignored name and modified.  The repository can even
include a script to treat the sample file as a template, modifying and
copying it automatically.


SEE ALSO
********

git-config(1), git-add(1), git-ls-files(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-update-ref,  Up: Top

Name
****

git-update-ref — Update the object name stored in a ref safely


Synopsis
********

     git update-ref [-m <reason>] [–no-deref] (-d <ref> [<oldvalue>] | [–create-reflog] <ref> <newvalue> [<oldvalue>] | –stdin [-z])


DESCRIPTION
***********

Given two arguments, stores the <newvalue> in the <ref>, possibly
dereferencing the symbolic refs.  E.g.  ‘git update-ref HEAD <newvalue>’
updates the current branch head to the new object.

   Given three arguments, stores the <newvalue> in the <ref>, possibly
dereferencing the symbolic refs, after verifying that the current value
of the <ref> matches <oldvalue>.  E.g.  ‘git update-ref
refs/heads/master <newvalue> <oldvalue>’ updates the master branch head
to <newvalue> only if its current value is <oldvalue>.  You can specify
40 "0" or an empty string as <oldvalue> to make sure that the ref you
are creating does not exist.

   It also allows a "ref" file to be a symbolic pointer to another ref
file by starting with the four-byte header sequence of "ref:".

   More importantly, it allows the update of a ref file to follow these
symbolic pointers, whether they are symlinks or these "regular file
symbolic refs".  It follows *real* symlinks only if they start with
"refs/": otherwise it will just try to read them and update them as a
regular file (i.e.  it will allow the filesystem to follow them, but
will overwrite such a symlink to somewhere else with a regular
filename).

   If –no-deref is given, <ref> itself is overwritten, rather than the
result of following the symbolic pointers.

   In general, using

     git update-ref HEAD "$head"

   should be a _lot_ safer than doing

     echo "$head" > "$GIT_DIR/HEAD"

   both from a symlink following standpoint *and* an error checking
standpoint.  The "refs/" rule for symlinks means that symlinks that
point to "outside" the tree are safe: they’ll be followed for reading
but not for writing (so we’ll never write through a ref symlink to some
other tree, if you have copied a whole archive by creating a symlink
tree).

   With ‘-d’ flag, it deletes the named <ref> after verifying it still
contains <oldvalue>.

   With ‘--stdin’, update-ref reads instructions from standard input and
performs all modifications together.  Specify commands of the form:

     update SP <ref> SP <newvalue> [SP <oldvalue>] LF
     create SP <ref> SP <newvalue> LF
     delete SP <ref> [SP <oldvalue>] LF
     verify SP <ref> [SP <oldvalue>] LF
     option SP <opt> LF
     start LF
     prepare LF
     commit LF
     abort LF

   With ‘--create-reflog’, update-ref will create a reflog for each ref
even if one would not ordinarily be created.

   Quote fields containing whitespace as if they were strings in C
source code; i.e., surrounded by double-quotes and with backslash
escapes.  Use 40 "0" characters or the empty string to specify a zero
value.  To specify a missing value, omit the value and its preceding SP
entirely.

   Alternatively, use ‘-z’ to specify in NUL-terminated format, without
quoting:

     update SP <ref> NUL <newvalue> NUL [<oldvalue>] NUL
     create SP <ref> NUL <newvalue> NUL
     delete SP <ref> NUL [<oldvalue>] NUL
     verify SP <ref> NUL [<oldvalue>] NUL
     option SP <opt> NUL
     start NUL
     prepare NUL
     commit NUL
     abort NUL

   In this format, use 40 "0" to specify a zero value, and use the empty
string to specify a missing value.

   In either format, values can be specified in any form that Git
recognizes as an object name.  Commands in any other format or a
repeated <ref> produce an error.  Command meanings are:

update
     Set <ref> to <newvalue> after verifying <oldvalue>, if given.
     Specify a zero <newvalue> to ensure the ref does not exist after
     the update and/or a zero <oldvalue> to make sure the ref does not
     exist before the update.

create
     Create <ref> with <newvalue> after verifying it does not exist.
     The given <newvalue> may not be zero.

delete
     Delete <ref> after verifying it exists with <oldvalue>, if given.
     If given, <oldvalue> may not be zero.

verify
     Verify <ref> against <oldvalue> but do not change it.  If
     <oldvalue> is zero or missing, the ref must not exist.

option
     Modify behavior of the next command naming a <ref>.  The only valid
     option is ‘no-deref’ to avoid dereferencing a symbolic ref.

start
     Start a transaction.  In contrast to a non-transactional session, a
     transaction will automatically abort if the session ends without an
     explicit commit.  This command may create a new empty transaction
     when the current one has been committed or aborted already.

prepare
     Prepare to commit the transaction.  This will create lock files for
     all queued reference updates.  If one reference could not be
     locked, the transaction will be aborted.

commit
     Commit all reference updates queued for the transaction, ending the
     transaction.

abort
     Abort the transaction, releasing all locks if the transaction is in
     prepared state.

   If all <ref>s can be locked with matching <oldvalue>s simultaneously,
all modifications are performed.  Otherwise, no modifications are
performed.  Note that while each individual <ref> is updated or deleted
atomically, a concurrent reader may still see a subset of the
modifications.


LOGGING UPDATES
***************

If config parameter "core.logAllRefUpdates" is true and the ref is one
under "refs/heads/", "refs/remotes/", "refs/notes/", or a pseudoref like
HEAD or ORIG_HEAD; or the file "$GIT_DIR/logs/<ref>" exists then ‘git
update-ref’ will append a line to the log file "$GIT_DIR/logs/<ref>"
(dereferencing all symbolic refs before creating the log name)
describing the change in ref value.  Log lines are formatted as:

     oldsha1 SP newsha1 SP committer LF

   Where "oldsha1" is the 40 character hexadecimal value previously
stored in <ref>, "newsha1" is the 40 character hexadecimal value of
<newvalue> and "committer" is the committer’s name, email address and
date in the standard Git committer ident format.

   Optionally with -m:

     oldsha1 SP newsha1 SP committer TAB message LF

   Where all fields are as described above and "message" is the value
supplied to the -m option.

   An update will fail (without changing <ref>) if the current user is
unable to create a new log file, append to the existing log file or does
not have committer information available.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-update-server-info,  Up: Top

Name
****

git-update-server-info — ダムサーバー(dumb servers)を支援するために補助
情報ファイル(auxiliary info file)を更新する


Synopsis
********

     git update-server-info


DESCRIPTION
***********

オンザフライパック生成(on-the-fly pack generations)を行わないダムサーバ
ー(dumb server)は、クライアントがサーバーの参照とパックを検出できるよう
に、 $GIT_DIR/info と $GIT_OBJECT_DIRECTORY/info ディレクトリにいくつか
の補助情報ファイル(auxiliary information files)を持っている必要がありま
す。このコマンドは、そのような補助ファイルを生成します。


OUTPUT
******

現在、このコマンドは以下のファイルを更新します。それらの目的の説明につい
ては、 gitrepository-layout(5) を参照してください:

   • objects/info/packs

   • info/refs


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-upload-archive,  Up: Top

Name
****

git-upload-archive — アーカイブを git-archive に送り返す


Synopsis
********

     git upload-archive <directory>


DESCRIPTION
***********

_git archive –remote_ によって呼び出され、生成されたアーカイブをGitプロ
トコルを介して送信します。

   このコマンドは通常、エンドユーザーによって直接呼び出されることはあり
ません。 プロトコルのUIは _git archive_ 側にあり、プログラムのペアはリモ
ートリポジトリからアーカイブを取得するために使用することを目的としていま
す。


SECURITY
********

履歴から削除されたが、まだ剪定(prune)されてない可能性のあるオブジェクト
のプライバシーを保護するために、 ‘git-upload-archive’ は、リポジトリの
refから到達できないコミットおよびツリーのアーカイブの提供を回避します。
ただし、オブジェクトの到達可能性の計算には計算コストがかかるため、
‘git-upload-archive’ は、より厳密でありながらチェックしやすい一連のルー
ルを実装します。

  1. クライアントは、refが直接指すコミットまたはツリーを要求できます。 例
     : ‘git archive --remote=origin v1.0’

  2. クライアントは、 ‘ref：path’ 構文を使用して、コミットまたはツリー内
     のサブツリーを要求できます。例: ‘git archive --remote=origin
     v1.0:Documentation’

  3. 最終結果に到達できる場合でも、クライアントは他のsha1式を使用できま
     せん。 たとえば、refから結果に到達できる場合でも、 ‘master^’ のよう
     な相対コミットや ‘abcd1234’ のようなリテラルsha1は許可されません。

   注意: 3番目の規則3は、プライバシーに影響を与えない多くの場合を許可し
ないことに注意してください。これらのルールはgitの将来のバージョンで変更
される可能性があり、 ‘git archive --remote’ によってアクセスされるサーバ
ーは、これらの正確なルールに従う場合と従わない場合があります。

   構成オプション ‘uploadArchive.allowUnreachable’ がtrueの場合、これら
の規則は無視され、クライアントは任意のsha1式を使用できます。これは、到達
不能なオブジェクトのプライバシーを気にしない場合、またはオブジェクトデー
タベースが非スマートhttp経由でアクセスできるようにすでに公開されている場
合に役立ちます。


OPTIONS
*******

<directory>
     tarアーカイブを取得するリポジトリ。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-upload-pack,  Up: Top

Name
****

git-upload-pack — パックされたオブジェクトをgit-fetch-packに送り返す


Synopsis
********

     git-upload-pack [–[no-]strict] [–timeout=<n>] [–stateless-rpc]
                       [–advertise-refs] <directory>


DESCRIPTION
***********

_git fetch-pack_ によって呼び出され、通信の反対側で欠落しているオブジェ
クトを調べ、パッキング後にそれらを送信します。

   このコマンドは通常、エンドユーザーによって直接呼び出されることはあり
ません。プロトコルのUIは「git fetch-pack」側にあり、プログラムのペアはリ
モートリポジトリから更新をプルするために使用されることを目的としています
。プッシュ操作については、「git send-pack」を参照してください。


OPTIONS
*******

‘--[no-]strict’
     <directory> Gitディレクトリでない場合、 <directory>/.git/ を試さな
     い

‘--timeout=<n>’
     非アクティブになった <n> 秒後に転送を中断します。

‘--stateless-rpc’
     stdinとstdoutを使用して 読み取り/書き込み サイクルを1回だけ実行しま
     す。これは、プログラムが要求を読み取り、応答を書き込み、終了する必
     要があるHTTP POST要求処理モデルに適合します。

‘--http-backend-info-refs’
     git-http-backend(1) が、
     ‘$GIT_URL/info/refs?service=git-upload-pack’ リクエストを処理するた
     めに使用します。 the HTTP transfer protocols
     (technical/http-protocol.html) 文書の「Smart Clients」および the
     Git Wire Protocol, Version 2 (technical/protocol-v2.html) 文書の「
     HTTP Transport」を参照してください。なお、 git-receive-pack(1) でも
     同様です。

<directory>
     同期元のリポジトリ。


ENVIRONMENT
***********

‘GIT_PROTOCOL’
     ワイヤープロトコルをハンドシェイクするために使用される内部変数。サ
     ーバー管理者は、この変数を渡すことができるようにいくつかのトランス
     ポートを構成する必要がある場合があります。 git(1) のdiscussionを参
     照してください。


SEE ALSO
********

gitnamespaces(7)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-var,  Up: Top

Name
****

git-var — Git論理変数を表示します


Synopsis
********

     git var ( -l | <variable> )


DESCRIPTION
***********

Git論理変数を出力します。


OPTIONS
*******

‘-l’
     論理変数をリストします。さらに、Git構成ファイル .git/config のすべ
     ての変数も一覧表示されます。 (ただし、構成変数を一覧表示する機能は
     非推奨になり、 ‘git config -l’ が採用されました。)


EXAMPLES
********

     $ git var GIT_AUTHOR_IDENT
     Eric W. Biederman <ebiederm@lnxi.com> 1121223278 -0600


VARIABLES
*********

GIT_AUTHOR_IDENT
     コードの作者。

GIT_COMMITTER_IDENT
     コードの一部をGitに入れた人。

GIT_EDITOR
     Gitコマンドで使用するためのテキストエディタ。この値は、使用時にシェ
     ルによって解釈されることを意図しています。例: ‘~/bin/vi’ 、
     ‘$SOME_ENVIRONMENT_VARIABLE’ 、 ‘"C:\Program Files\Vim\gvim.exe"
     --nofork’ 。 優先順位は、 ‘$GIT_EDITOR’ 環境変数 、‘core.editor’ 構
     成、 ‘$VISUAL’ 、‘$EDITOR’ 、そしてコンパイル時に選択されるデフォル
     ト(通常は _vi_)です。

GIT_PAGER
     Gitコマンドで使用するためのテキストビューア(例: less)。値はシェルに
     よって解釈されることを意図しています。 優先順位は、 ‘$GIT_PAGER’ 環
     境変数、 ‘core.pager’ 構成、 ‘$PAGER’ 、そしてコンパイル時に選択さ
     れるデフォルト(通常は _less_)です。


SEE ALSO
********

git-commit-tree(1) git-tag(1) git-config(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-verify-commit,  Up: Top

Name
****

git-verify-commit — コミットのGPG署名を確認します。


Synopsis
********

     git verify-commit <commit>…


DESCRIPTION
***********

_git commit -S_ によって作成されたGPG署名を検証します。


OPTIONS
*******

‘--raw’
     通常の人間が読める形式の出力ではなく、生のgpgステータス出力を、標準
     エラーに出力します。

‘-v’
‘--verbose’
     検証する前に、コミットオブジェクトの内容を出力します。

<commit>…
     GitコミットオブジェクトのSHA-1 ID。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-verify-pack,  Up: Top

Name
****

git-verify-pack — パックされたGitアーカイブファイルを検証する


Synopsis
********

     git verify-pack [-v|–verbose] [-s|–stat-only] [–] <pack>.idx …


DESCRIPTION
***********

_git pack-objects_ コマンドで作成されたパックされたGitアーカイブの指定の
idxファイルを読み取り、idxファイルと、対応するパックファイルが正しいこと
を確認します。


OPTIONS
*******

<pack>.idx …
     確認するidxファイル(複数ファイル指定可)

‘-v’
‘--verbose’
     パックを確認した後、パックに含まれるオブジェクトのリストとデルタチ
     ェーン長のヒストグラムを表示します。

‘-s’
‘--stat-only’
     パックの内容を確認せず、デルタチェーン長のヒストグラムのみを表示し
     ます。 ‘--verbose’ を使用すると、オブジェクトのリストも表示されます
     。

–
     これ以降の引数をオプションとして解釈しないでください。


OUTPUT FORMAT
*************

オプション -v を指定する場合、使用される形式は以下のとおりです:

     SHA-1 type size size-in-packfile offset-in-packfile

   は、パックで削除されていないオブジェクトの場合です。そして、

     SHA-1 type size size-in-packfile offset-in-packfile depth base-SHA-1

   は、削除されたオブジェクトの場合です。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-verify-tag,  Up: Top

Name
****

git-verify-tag — タグのGPG署名を確認する


Synopsis
********

     git verify-tag [–format=<format>] <tag>…


DESCRIPTION
***********

_git tag_ によって作成されたgpg署名を検証します。


OPTIONS
*******

‘--raw’
     通常の人間が読める形式の出力の代わりに、生のgpgステータス出力を標準
     エラーに出力します。

‘-v’
‘--verbose’
     検証する前に、タグオブジェクトの内容を出力します。

<tag>…
     GitタグオブジェクトのSHA-1 ID。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-version,  Up: Top

Name
****

git-version — Gitに関するバージョン情報を表示する


Synopsis
********

     git version [–build-options]


DESCRIPTION
***********

オプションが指定されていない場合、 _git_ のバージョンが標準出力に出力さ
れます。

   ‘git --version’ は ‘git version’ と同じであることに注意してください。
これは、前者が内部で後者に変換されるためです。


OPTIONS
*******

‘--build-options’
     診断目的でgitがどのように構築されたかに関する追加情報を含めます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-web--browse,  Up: Top

Name
****

git-web–browse — Git helper script to launch a web browser


Synopsis
********

     git web–browse [<options>] <url|file>…


DESCRIPTION
***********

This script tries, as much as possible, to display the URLs and FILEs
that are passed as arguments, as HTML pages in new tabs on an already
opened web browser.

   The following browsers (or commands) are currently supported:

   • firefox (this is the default under X Window when not using KDE)

   • iceweasel

   • seamonkey

   • iceape

   • chromium (also supported as chromium-browser)

   • google-chrome (also supported as chrome)

   • konqueror (this is the default under KDE, see _Note about
     konqueror_ below)

   • opera

   • w3m (this is the default outside graphical environments)

   • elinks

   • links

   • lynx

   • dillo

   • open (this is the default under Mac OS X GUI)

   • start (this is the default under MinGW)

   • cygstart (this is the default under Cygwin)

   • xdg-open

   Custom commands may also be specified.


OPTIONS
*******

‘-b <browser>’
‘--browser=<browser>’
     Use the specified browser.  It must be in the list of supported
     browsers.

‘-t <browser>’
‘--tool=<browser>’
     Same as above.

‘-c <conf.var>’
‘--config=<conf.var>’
     CONF.VAR is looked up in the Git config files.  If it’s set, then
     its value specifies the browser that should be used.


CONFIGURATION VARIABLES
***********************


CONF.VAR (from -c option) and web.browser
=========================================

The web browser can be specified using a configuration variable passed
with the -c (or –config) command-line option, or the ‘web.browser’
configuration variable if the former is not used.


browser.<tool>.path
===================

You can explicitly provide a full path to your preferred browser by
setting the configuration variable ‘browser.<tool>.path’.  For example,
you can configure the absolute path to firefox by setting
_browser.firefox.path_.  Otherwise, _git web–browse_ assumes the tool is
available in PATH.


browser.<tool>.cmd
==================

When the browser, specified by options or configuration variables, is
not among the supported ones, then the corresponding
‘browser.<tool>.cmd’ configuration variable will be looked up.  If this
variable exists then _git web–browse_ will treat the specified tool as a
custom command and will use a shell eval to run the command with the
URLs passed as arguments.


NOTE ABOUT KONQUEROR
********************

When _konqueror_ is specified by a command-line option or a
configuration variable, we launch _kfmclient_ to try to open the HTML
man page on an already opened konqueror in a new tab if possible.

   For consistency, we also try such a trick if _browser.konqueror.path_
is set to something like ‘A_PATH_TO/konqueror’.  That means we will try
to launch ‘A_PATH_TO/kfmclient’ instead.

   If you really want to use _konqueror_, then you can use something
like the following:

             [web]
                     browser = konq

             [browser "konq"]
                     cmd = A_PATH_TO/konqueror


Note about git-config –global
=============================

Note that these configuration variables should probably be set using the
‘--global’ flag, for example like this:

     $ git config --global web.browser firefox

   as they are probably more user specific than repository specific.
See git-config(1) for more information about this.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-whatchanged,  Up: Top

Name
****

git-whatchanged — 各コミットでの差分のログを表示


Synopsis
********

     git whatchanged <option>…


DESCRIPTION
***********

各コミットのコミットログとdiff出力を表示します。

   新規ユーザーは、これの代わりに git-log(1) を使用することをお勧めしま
す。 ‘whatchanged’ コマンドは基本的に git-log(1) と同じですが、デフォル
トでは生の形式の差分出力を表示し、マージをスキップします。

   このコマンドは主に歴史的な理由で保持されています。‘git log’ が発明さ
れるずっと前に Linux kernel mailing list を読んで Gitを学んだ多くの人々
の指は、このコマンドをタイプするよう訓練されています。


Examples
********

‘git whatchanged -p v2.6.12.. include/scsi drivers/scsi’
     include/scsi または drivers/scsi サブディレクトリ内のファイルを変更
     したバージョン _v2.6.12_ 以降のコミットをパッチとして表示する

‘git whatchanged --since="2 weeks ago" -- gitk’
     過去2週間の変更をファイル _gitk_ に表示します。 "–" は、「ブランチ
     名 _gitk_ 」との混同を避けるために必要です。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-worktree,  Up: Top

Name
****

git-worktree — 複数の作業ツリーを管理します


Synopsis
********

     git worktree add [-f] [–detach] [–checkout] [–lock [–reason <string>]] [-b <new-branch>] <path> [<commit-ish>]
     git worktree list [–porcelain]
     git worktree lock [–reason <string>] <worktree>
     git worktree move <worktree> <new-path>
     git worktree prune [-n] [-v] [–expire <expire>]
     git worktree remove [-f] <worktree>
     git worktree repair [<path>…]
     git worktree unlock <worktree>


DESCRIPTION
***********

同一のリポジトリに接続されている複数の作業ツリーを管理します。

   A git repository can support multiple working trees, allowing you to
check out more than one branch at a time.  With ‘git worktree add’ a new
working tree is associated with the repository.  This new working tree
is called a "linked working tree" as opposed to the "main working tree"
prepared by git-init(1) or git-clone(1).  A repository has one main
working tree (if it’s not a bare repository) and zero or more linked
working trees.  When you are done with a linked working tree, remove it
with ‘git worktree remove’.

   In its simplest form, ‘git worktree add <path>’ automatically creates
a new branch whose name is the final component of ‘<path>’, which is
convenient if you plan to work on a new topic.  For instance, ‘git
worktree add ../hotfix’ creates new branch ‘hotfix’ and checks it out at
path ‘../hotfix’.  To instead work on an existing branch in a new
working tree, use ‘git worktree add <path> <branch>’.  On the other
hand, if you just plan to make some experimental changes or do testing
without disturbing existing development, it is often convenient to
create a _throwaway_ working tree not associated with any branch.  For
instance, ‘git worktree add -d <path>’ creates a new working tree with a
detached ‘HEAD’ at the same commit as the current branch.

   If a working tree is deleted without using ‘git worktree remove’,
then its associated administrative files, which reside in the repository
(see "DETAILS" below), will eventually be removed automatically (see
‘gc.worktreePruneExpire’ in git-config(1)), or you can run ‘git worktree
prune’ in the main or any linked working tree to clean up any stale
administrative files.

   If a linked working tree is stored on a portable device or network
share which is not always mounted, you can prevent its administrative
files from being pruned by issuing the ‘git worktree lock’ command,
optionally specifying ‘--reason’ to explain why the working tree is
locked.


COMMANDS
********

add <path> [<commit-ish>]
     Create ‘<path>’ and checkout ‘<commit-ish>’ into it.  The new
     working directory is linked to the current repository, sharing
     everything except working directory specific files such as ‘HEAD’,
     ‘index’, etc.  As a convenience, ‘<commit-ish>’ may be a bare
     "‘-’", which is synonymous with ‘@{-1}’.

     If ‘<commit-ish>’ is a branch name (call it ‘<branch>’) and is not
     found, and neither ‘-b’ nor ‘-B’ nor ‘--detach’ are used, but there
     does exist a tracking branch in exactly one remote (call it
     ‘<remote>’) with a matching name, treat as equivalent to:

          $ git worktree add --track -b <branch> <path> <remote>/<branch>

     If the branch exists in multiple remotes and one of them is named
     by the ‘checkout.defaultRemote’ configuration variable, we’ll use
     that one for the purposes of disambiguation, even if the ‘<branch>’
     isn’t unique across all remotes.  Set it to e.g.
     ‘checkout.defaultRemote=origin’ to always checkout remote branches
     from there if ‘<branch>’ is ambiguous but exists on the ‘origin’
     remote.  See also ‘checkout.defaultRemote’ in git-config(1).

     If ‘<commit-ish>’ is omitted and neither ‘-b’ nor ‘-B’ nor
     ‘--detach’ used, then, as a convenience, the new working tree is
     associated with a branch (call it ‘<branch>’) named after
     ‘$(basename <path>)’.  If ‘<branch>’ doesn’t exist, a new branch
     based on ‘HEAD’ is automatically created as if ‘-b <branch>’ was
     given.  If ‘<branch>’ does exist, it will be checked out in the new
     working tree, if it’s not checked out anywhere else, otherwise the
     command will refuse to create the working tree (unless ‘--force’ is
     used).

list
     List details of each working tree.  The main working tree is listed
     first, followed by each of the linked working trees.  The output
     details include whether the working tree is bare, the revision
     currently checked out, the branch currently checked out (or
     "detached HEAD" if none), "locked" if the worktree is locked,
     "prunable" if the worktree can be pruned by ‘prune’ command.

lock
     If a working tree is on a portable device or network share which is
     not always mounted, lock it to prevent its administrative files
     from being pruned automatically.  This also prevents it from being
     moved or deleted.  Optionally, specify a reason for the lock with
     ‘--reason’.

move
     Move a working tree to a new location.  Note that the main working
     tree or linked working trees containing submodules cannot be moved
     with this command.  (The ‘git worktree repair’ command, however,
     can reestablish the connection with linked working trees if you
     move the main working tree manually.)

prune
     Prune working tree information in ‘$GIT_DIR/worktrees’.

remove
     Remove a working tree.  Only clean working trees (no untracked
     files and no modification in tracked files) can be removed.
     Unclean working trees or ones with submodules can be removed with
     ‘--force’.  The main working tree cannot be removed.

repair [<path>…]
     Repair working tree administrative files, if possible, if they have
     become corrupted or outdated due to external factors.

     For instance, if the main working tree (or bare repository) is
     moved, linked working trees will be unable to locate it.  Running
     ‘repair’ in the main working tree will reestablish the connection
     from linked working trees back to the main working tree.

     Similarly, if a linked working tree is moved without using ‘git
     worktree move’, the main working tree (or bare repository) will be
     unable to locate it.  Running ‘repair’ within the recently-moved
     working tree will reestablish the connection.  If multiple linked
     working trees are moved, running ‘repair’ from any working tree
     with each tree’s new ‘<path>’ as an argument, will reestablish the
     connection to all the specified paths.

     If both the main working tree and linked working trees have been
     moved manually, then running ‘repair’ in the main working tree and
     specifying the new ‘<path>’ of each linked working tree will
     reestablish all connections in both directions.

unlock
     Unlock a working tree, allowing it to be pruned, moved or deleted.


OPTIONS
*******

‘-f’
‘--force’
     By default, ‘add’ refuses to create a new working tree when
     ‘<commit-ish>’ is a branch name and is already checked out by
     another working tree, or if ‘<path>’ is already assigned to some
     working tree but is missing (for instance, if ‘<path>’ was deleted
     manually).  This option overrides these safeguards.  To add a
     missing but locked working tree path, specify ‘--force’ twice.

     ‘move’ refuses to move a locked working tree unless ‘--force’ is
     specified twice.  If the destination is already assigned to some
     other working tree but is missing (for instance, if ‘<new-path>’
     was deleted manually), then ‘--force’ allows the move to proceed;
     use ‘--force’ twice if the destination is locked.

     ‘remove’ refuses to remove an unclean working tree unless ‘--force’
     is used.  To remove a locked working tree, specify ‘--force’ twice.

‘-b <new-branch>’
‘-B <new-branch>’
     With ‘add’, create a new branch named ‘<new-branch>’ starting at
     ‘<commit-ish>’, and check out ‘<new-branch>’ into the new working
     tree.  If ‘<commit-ish>’ is omitted, it defaults to ‘HEAD’.  By
     default, ‘-b’ refuses to create a new branch if it already exists.
     ‘-B’ overrides this safeguard, resetting ‘<new-branch>’ to
     ‘<commit-ish>’.

‘-d’
‘--detach’
     With ‘add’, detach ‘HEAD’ in the new working tree.  See "DETACHED
     HEAD" in git-checkout(1).

‘--[no-]checkout’
     By default, ‘add’ checks out ‘<commit-ish>’, however,
     ‘--no-checkout’ can be used to suppress checkout in order to make
     customizations, such as configuring sparse-checkout.  See "Sparse
     checkout" in git-read-tree(1).

‘--[no-]guess-remote’
     With ‘worktree add <path>’, without ‘<commit-ish>’, instead of
     creating a new branch from ‘HEAD’, if there exists a tracking
     branch in exactly one remote matching the basename of ‘<path>’,
     base the new branch on the remote-tracking branch, and mark the
     remote-tracking branch as "upstream" from the new branch.

     This can also be set up as the default behaviour by using the
     ‘worktree.guessRemote’ config option.

‘--[no-]track’
     When creating a new branch, if ‘<commit-ish>’ is a branch, mark it
     as "upstream" from the new branch.  This is the default if
     ‘<commit-ish>’ is a remote-tracking branch.  See ‘--track’ in
     git-branch(1) for details.

‘--lock’
     Keep the working tree locked after creation.  This is the
     equivalent of ‘git worktree lock’ after ‘git worktree add’, but
     without a race condition.

‘-n’
‘--dry-run’
     With ‘prune’, do not remove anything; just report what it would
     remove.

‘--porcelain’
     With ‘list’, output in an easy-to-parse format for scripts.  This
     format will remain stable across Git versions and regardless of
     user configuration.  See below for details.

‘-q’
‘--quiet’
     With ‘add’, suppress feedback messages.

‘-v’
‘--verbose’
     With ‘prune’, report all removals.

     With ‘list’, output additional information about worktrees (see
     below).

‘--expire <time>’
     With ‘prune’, only expire unused working trees older than ‘<time>’.

     With ‘list’, annotate missing working trees as prunable if they are
     older than ‘<time>’.

‘--reason <string>’
     With ‘lock’ or with ‘add --lock’, an explanation why the working
     tree is locked.

<worktree>
     Working trees can be identified by path, either relative or
     absolute.

     If the last path components in the working tree’s path is unique
     among working trees, it can be used to identify a working tree.
     For example if you only have two working trees, at ‘/abc/def/ghi’
     and ‘/abc/def/ggg’, then ‘ghi’ or ‘def/ghi’ is enough to point to
     the former working tree.


REFS
****

In multiple working trees, some refs may be shared between all working
trees and some refs are local.  One example is ‘HEAD’ which is different
for each working tree.  This section is about the sharing rules and how
to access refs of one working tree from another.

   In general, all pseudo refs are per working tree and all refs
starting with ‘refs/’ are shared.  Pseudo refs are ones like ‘HEAD’
which are directly under ‘$GIT_DIR’ instead of inside ‘$GIT_DIR/refs’.
There are exceptions, however: refs inside ‘refs/bisect’ and
‘refs/worktree’ are not shared.

   Refs that are per working tree can still be accessed from another
working tree via two special paths, ‘main-worktree’ and ‘worktrees’.
The former gives access to per-working tree refs of the main working
tree, while the latter to all linked working trees.

   たとえば、 ‘main-worktree/HEAD’ または
‘main-worktree/refs/bisect/good’ は、それぞれメインの作業ツリーの ‘HEAD’
および ‘refs/bisect/good ` と同じ値に解決されます。 同様に、
`worktrees/foo/HEAD’ または ‘worktrees/bar/refs/bisect/bad’ は
‘$GIT_COMMON_DIR/worktrees/foo/HEAD’ および
‘$GIT_COMMON_DIR/worktrees/bar/refs/bisect/bad’ と同じです。

   To access refs, it’s best not to look inside ‘$GIT_DIR’ directly.
Instead use commands such as git-rev-parse(1) or git-update-ref(1) which
will handle refs correctly.


CONFIGURATION FILE
******************

By default, the repository ‘config’ file is shared across all working
trees.  If the config variables ‘core.bare’ or ‘core.worktree’ are
already present in the config file, they will be applied to the main
working trees only.

   In order to have configuration specific to working trees, you can
turn on the ‘worktreeConfig’ extension, e.g.:

     $ git config extensions.worktreeConfig true

   In this mode, specific configuration stays in the path pointed by
‘git rev-parse --git-path config.worktree’.  You can add or update
configuration in this file with ‘git config --worktree’.  Older Git
versions will refuse to access repositories with this extension.

   Note that in this file, the exception for ‘core.bare’ and
‘core.worktree’ is gone.  If they exist in ‘$GIT_DIR/config’, you must
move them to the ‘config.worktree’ of the main working tree.  You may
also take this opportunity to review and move other configuration that
you do not want to share to all working trees:

   • ‘core.worktree’ and ‘core.bare’ should never be shared

   • ‘core.sparseCheckout’ is recommended per working tree, unless you
     are sure you always use sparse checkout for all working trees.


DETAILS
*******

Each linked working tree has a private sub-directory in the repository’s
‘$GIT_DIR/worktrees’ directory.  The private sub-directory’s name is
usually the base name of the linked working tree’s path, possibly
appended with a number to make it unique.  For example, when
‘$GIT_DIR=/path/main/.git’ the command ‘git worktree add
/path/other/test-next next’ creates the linked working tree in
‘/path/other/test-next’ and also creates a
‘$GIT_DIR/worktrees/test-next’ directory (or
‘$GIT_DIR/worktrees/test-next1’ if ‘test-next’ is already taken).

   リンクされた作業ツリー内で、 ‘$GIT_DIR’ は、このプライベートディレク
トリを指すように設定され(例では ‘/path/main/.git/worktrees/test-next’ )、
‘$GIT_COMMON_DIR’ はメインの作業ツリーの ‘$GIT_DIR’ (例では
‘/path/main/.git’ )を指すように設定されます。これらの設定は、リンクされ
た作業ツリーの最上位ディレクトリにある ‘.git’ ファイルで行われます。

   ‘git rev-parse --git-path’ によるパス解決では、パスに応じて
‘$GIT_DIR’ または ‘$GIT_COMMON_DIR’ のいずれかが使用されます。たとえば、
リンクされた作業ツリーでは、 ‘git rev-parse --git-path HEAD’ は
‘/path/main/.git/worktrees/test-next/HEAD’ を返します
(‘/path/other/test-next/.git/HEAD’ や ‘/path/main/.git/HEAD’ ではありま
せん)。一方、 ‘git rev-parse --git-path refs/heads/master’ は
‘$GIT_COMMON_DIR’ を使用し、 ‘/path/main/.git/refs/heads/ master’ を返し
ます。refは、 ‘refs/bisect’ と ‘refs/worktree’ を除くすべての作業ツリー
で共有されるためです。

   詳細については、 gitrepository-layout(5) を参照してください。 経験則
では、 ‘$GIT_DIR’ 内の何かに直接アクセスする必要がある場合、パスが
‘$GIT_DIR’ または ‘$GIT_COMMON_DIR’ のどちらに属するかについては何も想定
していません。 ‘git rev-parse --git-path’ を使用して、最終的なパスを取得
してください。

   If you manually move a linked working tree, you need to update the
‘gitdir’ file in the entry’s directory.  For example, if a linked
working tree is moved to ‘/newpath/test-next’ and its ‘.git’ file points
to ‘/path/main/.git/worktrees/test-next’, then update
‘/path/main/.git/worktrees/test-next/gitdir’ to reference
‘/newpath/test-next’ instead.  Better yet, run ‘git worktree repair’ to
reestablish the connection automatically.

   To prevent a ‘$GIT_DIR/worktrees’ entry from being pruned (which can
be useful in some situations, such as when the entry’s working tree is
stored on a portable device), use the ‘git worktree lock’ command, which
adds a file named ‘locked’ to the entry’s directory.  The file contains
the reason in plain text.  For example, if a linked working tree’s
‘.git’ file points to ‘/path/main/.git/worktrees/test-next’ then a file
named ‘/path/main/.git/worktrees/test-next/locked’ will prevent the
‘test-next’ entry from being pruned.  See gitrepository-layout(5) for
details.

   When ‘extensions.worktreeConfig’ is enabled, the config file
‘.git/worktrees/<id>/config.worktree’ is read after ‘.git/config’ is.


LIST OUTPUT FORMAT
******************

The ‘worktree list’ command has two output formats.  The default format
shows the details on a single line with columns.  For example:

     $ git worktree list
     /path/to/bare-source            (bare)
     /path/to/linked-worktree        abcd1234 [master]
     /path/to/other-linked-worktree  1234abc  (detached HEAD)

   The command also shows annotations for each working tree, according
to its state.  These annotations are:

   • ‘locked’, if the working tree is locked.

   • ‘prunable’, if the working tree can be pruned via ‘git worktree
     prune’.

     $ git worktree list
     /path/to/linked-worktree    abcd1234 [master]
     /path/to/locked-worktree    acbd5678 (brancha) locked
     /path/to/prunable-worktree  5678abc  (detached HEAD) prunable

   For these annotations, a reason might also be available and this can
be seen using the verbose mode.  The annotation is then moved to the
next line indented followed by the additional information.

     $ git worktree list --verbose
     /path/to/linked-worktree              abcd1234 [master]
     /path/to/locked-worktree-no-reason    abcd5678 (detached HEAD) locked
     /path/to/locked-worktree-with-reason  1234abcd (brancha)
             locked: working tree path is mounted on a portable device
     /path/to/prunable-worktree            5678abc1 (detached HEAD)
             prunable: gitdir file points to non-existent location

   Note that the annotation is moved to the next line if the additional
information is available, otherwise it stays on the same line as the
working tree itself.


Porcelain Format
================

The porcelain format has a line per attribute.  Attributes are listed
with a label and value separated by a single space.  Boolean attributes
(like ‘bare’ and ‘detached’) are listed as a label only, and are present
only if the value is true.  Some attributes (like ‘locked’) can be
listed as a label only or with a value depending upon whether a reason
is available.  The first attribute of a working tree is always
‘worktree’, an empty line indicates the end of the record.  For example:

     $ git worktree list --porcelain
     worktree /path/to/bare-source
     bare

     worktree /path/to/linked-worktree
     HEAD abcd1234abcd1234abcd1234abcd1234abcd1234
     branch refs/heads/master

     worktree /path/to/other-linked-worktree
     HEAD 1234abc1234abc1234abc1234abc1234abc1234a
     detached

     worktree /path/to/linked-worktree-locked-no-reason
     HEAD 5678abc5678abc5678abc5678abc5678abc5678c
     branch refs/heads/locked-no-reason
     locked

     worktree /path/to/linked-worktree-locked-with-reason
     HEAD 3456def3456def3456def3456def3456def3456b
     branch refs/heads/locked-with-reason
     locked reason why is locked

     worktree /path/to/linked-worktree-prunable
     HEAD 1233def1234def1234def1234def1234def1234b
     detached
     prunable gitdir file points to non-existent location

   If the lock reason contains "unusual" characters such as newline,
they are escaped and the entire reason is quoted as explained for the
configuration variable ‘core.quotePath’ (see git-config(1)).  For
Example:

     $ git worktree list --porcelain
     ...
     locked "reason\nwhy is locked"
     ...


EXAMPLES
********

You are in the middle of a refactoring session and your boss comes in
and demands that you fix something immediately.  You might typically use
git-stash(1) to store your changes away temporarily, however, your
working tree is in such a state of disarray (with new, moved, and
removed files, and other bits and pieces strewn around) that you don’t
want to risk disturbing any of it.  Instead, you create a temporary
linked working tree to make the emergency fix, remove it when done, and
then resume your earlier refactoring session.

     $ git worktree add -b emergency-fix ../temp master
     $ pushd ../temp
     # ... hack hack hack ...
     $ git commit -a -m 'emergency fix for boss'
     $ popd
     $ git worktree remove ../temp


BUGS
****

Multiple checkout in general is still experimental, and the support for
submodules is incomplete.  It is NOT recommended to make multiple
checkouts of a superproject.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git-write-tree,  Up: Top

Name
****

git-write-tree — 現在のインデックスからツリーオブジェクトを作成します


Synopsis
********

     git write-tree [–missing-ok] [–prefix=<prefix>/]


DESCRIPTION
***********

現在のインデックスを使用してツリーオブジェクトを作成します。新しいツリー
オブジェクトの名前が標準出力に出力されます。

   インデックスは完全にマージされた状態である必要があります。

   概念的には、 _git write-tree_ は、現在のインデックスの内容をツリーフ
ァイルのセットに sync() します。現在ディレクトリに実際にあるものと一致さ
せるには、 _git write-tree_ を実行する前に _git update-index_ フェイズを
実行する必要があります。


OPTIONS
*******

‘--missing-ok’
     通常、 _git write-tree_ は、ディレクトリによって参照されるオブジェ
     クトがオブジェクトデータベースに存在することを保証します。このオプ
     ションは、このチェックを無効にします。

‘--prefix=<prefix>/’
     サブディレクトリ ‘<prefix>’ を表すツリーオブジェクトを書き込みます
     。これは、指定されたサブディレクトリにあるサブプロジェクトのツリー
     オブジェクトを書き込むために使用できます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: git,  Up: Top

Name
****

git — くだらないコンテンツトラッカー


Synopsis
********

     git [–version] [–help] [-C <path>] [-c <name>=<value>]
         [–exec-path[=<path>]] [–html-path] [–man-path] [–info-path]
         [-p|–paginate|-P|–no-pager] [–no-replace-objects] [–bare]
         [–git-dir=<path>] [–work-tree=<path>] [–namespace=<name>]
         [–super-prefix=<path>] [–config-env=<name>=<envvar>]
         <command> [<args>]


DESCRIPTION
***********

Gitは、高速でスケーラブルな分散型リビジョン管理システムであり、高レベル
の操作と内部へのフルアクセスの両方を提供する非常に豊富なコマンドセットを
備えています。

   始めは gittutorial(7) を参照してください。次に、便利な最小限のコマン
ドセットについては giteveryday(7) を参照してください。 Git User’s Manual
(user-manual.html) には、より詳細な紹介があります。

   あなたが基本的な概念をマスターしたら、このページに戻ってGitが提供する
コマンドを学ぶことができます。「git help command」を使用して、個々の
Gitコマンドについて詳しく知ることができます。 gitcli(7) のマニュアルペー
ジには、コマンドラインコマンド構文の概要が記載されています。

   最新のGitドキュメントの、フォーマットされ、ハイパーリンクされたコピー
は、 https://git.github.io/htmldocs/git.html
(https://git.github.io/htmldocs/git.html) または
https://git-scm.com/docs (https://git-scm.com/docs) で表示できます。


OPTIONS
*******

‘--version’
     _git_ プログラムの元となったGitスイートのバージョンを出力します。

     このオプションは内部で ‘git version ...’ に変換されるので、
     git-version(1) コマンドと同じオプションを受け入れます。 ‘--help’ も
     指定されている場合は ‘--version’ よりも優先されます。

‘--help’
     概要と、最も一般的に使用されるコマンドのリストを出力します。 オプシ
     ョン ‘--all’ または ‘-a’ を指定すると、使用可能なすべてのコマンドが
     出力されます。Gitコマンドが明示された場合、このオプションはそのコマ
     ンドのマニュアルページを表示します。

     マニュアルページの表示方法を制御するために、他のオプションを使用で
     きます。‘git --help ...’ は内部で ‘git help ...’ に変換されるため、
     詳細については git-help(1) を参照してください。

‘-C <path>’
     現在の作業ディレクトリではなく、「<path>」でgitが開始されたかのよう
     に実行します。 複数の ‘-C’ オプションが指定されている場合、後続の「
     非絶対 ‘-C <path> ` 」は、それぞれ先行する `-C <path>’ に関連して解
     釈されます。 ’<path>’は存在するが空の場合(例: ‘-C" "’)の場合、現在
     の作業ディレクトリは変更されません。

     このオプションは、パス名の解釈が ‘-C’ オプションによって引き起こさ
     れる作業ディレクトリに対して行われるという点で、 ‘--git-dir’ や
     ‘--work-tree’ のようなパス名を期待するオプションに影響します。たと
     えば、以下の2つの呼び出しは同等です:

          git --git-dir=a.git --work-tree=b -C c status
          git --git-dir=c/a.git --work-tree=c/b status

‘-c <name>=<value>’
     構成パラメーターをコマンドに渡します。指定された値は、構成ファイル
     の値を上書きします。 <name>は、「git config」(ドットで区切られたサ
     ブキー)でリストされているものと同じ形式である必要があります。

     ‘git -c foo.bar ...’ で ‘=’ を省略することは許可されており、その場
     合 ‘foo.bar’ を(設定ファイルの ‘[foo]bar’ と同様に)ブール値のtrueに
     設定することに注意してください。等号と空の値(‘git -c foo.bar= ...’
     など)を含むと、 ‘foo.bar’ が空の文字列に設定されます。 ‘git config
     --type=bool’ ではこれを ‘false’ に変換します。

‘--config-env=<name>=<envvar>’
     ‘-c <name>=<value>’ と同様に、構成変数 _<name>_ に値を指定します。
     ここで、 <envvar> は、値を取得する環境変数の名前です。 ‘-c’ とは異
     なり、値を空の文字列に直接設定するためのショートカットはありません
     。代わりに、環境変数自体を空の文字列に設定する必要があります。
     ‘<envvar>’ が環境に存在しない場合はエラーになります。 ‘<envvar>’ に
     は等号を含めることはできません。これは、 ‘<name>’ に等号が含まれて
     いる場合のあいまいさを避けるためです。

     これは、あなたが一時的な構成オプションをgitに渡したいが、他のプロセ
     スで、あなたのコマンドライン(たとえば ‘/proc/self/cmdline’)は読み取
     れるが、あなたの環境(たとえば ‘/proc/self/environ’)は読み取れない可
     能性があるOS上で作業している場合に役立ちます。この動作はLinuxのデフ
     ォルトですが、あなたのシステムでは設定されてない場合があります。

     注意:これにより、機密情報が値の一部である ‘http.extraHeader’ などの
     変数のセキュリティが追加される可能性がありますが、機密情報をキーの
     一部にすることができるモノ、例えば ‘url.<base>.insteadOf’ は使用で
     きません。

‘--exec-path[=<path>]’
     あなたのコアGitプログラムがインストールされている場所へのパス。これ
     は、 GIT_EXEC_PATH 環境変数を設定することによっても制御できます。パ
     スが指定されていない場合、「git」は現在の設定を出力して終了します。

‘--html-path’
     GitのHTMLドキュメントがインストールされているパスを末尾のスラッシュ
     なしで印刷し、終了します。

‘--man-path’
     このバージョンのGitのマニュアルページのmanpath(‘man(1)’ 参照)を印刷
     して終了します。

‘--info-path’
     このバージョンのGitを文書化したInfoファイルがインストールされている
     パスを印刷して終了します。

‘-p’
‘--paginate’
     標準出力が端末の場合は、すべての出力を _less_ (または設定されている
     場合は $PAGER )にパイプします。これにより、 ‘pager.<cmd>’ 構成オプ
     ションが上書きされます(以下の「Configuration Mechanism」セクション
     を参照)。

‘-P’
‘--no-pager’
     Git出力をページャーにパイプしないでください。

‘--git-dir=<path>’
     リポジトリ(".git" ディレクトリ)へのパスを設定します。これは、
     ‘GIT_DIR’ 環境変数を設定することによっても制御できます。現在の作業
     ディレクトリへの絶対パスまたは相対パスにすることができます。

     このオプションを使用して ‘.git’ ディレクトリの場所を指定すると、 (リ
     ポジトリとトップレベルの作業ツリーを検出できる、) ‘.git’ サブディレ
     クトリを持つディレクトリを検索しようとするリポジトリ検出機能がオフ
     になり、あなたが作業ツリーの最上位にいるとGitに通知します。あなたが
     作業ツリーの最上位ディレクトリにいない場合は、 ‘--work-tree=<path>’
     オプション(または ‘GIT_WORK_TREE’ 環境変数)を使用して、作業ツリーの
     最上位がどこにあるかをGitに通知する必要があります。

     ‘<path>’ で開始されたかのようにgitを実行したい場合は、 ‘git -C
     <path>’ を使用します。

‘--work-tree=<path>’
     作業ツリーへのパスを設定します。絶対パスまたは現在の作業ディレクト
     リからの相対パスにすることができます。これは、 GIT_WORK_TREE環境変
     数とcore.worktree構成変数を設定することによっても制御できます(詳細
     については、 git-config(1) の core.worktree を参照してください)。

‘--namespace=<path>’
     Git名前空間を設定します。詳細については linkgit: gitnamespaces[7] を
     参照してください。 ‘GIT_NAMESPACE’ 環境変数を設定するのと同じです。

‘--super-prefix=<path>’
     現在、内部使用のみです。リポジトリの上位からそのリポジトリのルート
     までのパスを与えるプレフィックスを設定します。1つの使用法は、サブモ
     ジュールに、それを呼び出したスーパープロジェクトに関するコンテキス
     トを与えることです。

‘--bare’
     リポジトリをベアリポジトリとして扱います。GIT_DIR環境が設定されてい
     ない場合は、現在の作業ディレクトリに設定されます。

‘--no-replace-objects’
     Gitオブジェクトを置き換えるための置換refを使用しません。 詳細につい
     ては git-replace(1) を参照してください。

‘--literal-pathspecs’
     パススペックを文字通り扱います(つまり globbing 無し、 pathspec
     magic 無しです)。 これは、 ‘GIT_LITERAL_PATHSPECS’ 環境変数を ‘1’ に
     設定するのと同じです。

‘--glob-pathspecs’
     すべてのパススペックにグロブマジック(glob magic)を追加します。 これ
     は、 ‘GIT_GLOB_PATHSPECS’ 環境変数を ‘1’ に設定するのと同じです。 個
     々のパススペックで globbing を無効にするには、パススペックマジック
     ‘:(literal)’ を使用します。

‘--noglob-pathspecs’
     すべてのパススペックにリテラルマジック(literal magic)を追加します。
     これは、 ‘GIT_NOGLOB_PATHSPECS’ 環境変数を ‘1’ に設定するのと同じで
     す。個々のパススペックでグロブを有効にするには、パススペックマジッ
     ク ‘:(glob)’ を使用します。

‘--icase-pathspecs’
     すべてのパススペックに icase magic を追加します。 これは、
     ‘GIT_ICASE_PATHSPECS’ 環境変数を ‘1’ に設定するのと同じです。

‘--no-optional-locks’
     ロック(lock)を必要とするオプションの操作は実行しないでください。こ
     れは、 ‘GIT_OPTIONAL_LOCKS’ を ‘0’ に設定するのと同じです。

‘--list-cmds=group[,group...]’
     コマンドをグループ別に一覧表示します。これは 内部/実験的 なオプショ
     ンであり、将来変更または削除される可能性があります。サポートされて
     いるグループは、builtins、parseopt(parse-optionsを使用するbuiltinコ
     マンド)、main(libexecディレクトリ内のすべてのコマンド)、その他
     (git-プレフィックスを持つ ‘$PATH’ 内の他のすべてのコマンド)、
     list-<category> (command-list.txt 内の categories を参照)、
     nohelpers(ヘルパーコマンドを除く)、alias、config(構成変数
     completion.commands から取得したコマンドリスト)、です。


GIT COMMANDS
************

私達はGitを、高レベル(porcelain;磁器)コマンドと低レベル(plumbing;配管)コ
マンドに分けています。


High-level commands (porcelain)
*******************************

磁器コマンドは、メインコマンド群といくつかの補助ユーティリティに分けられ
ます。


Main porcelain commands
=======================

git-add(1)
     Add file contents to the index.

git-am(1)
     Apply a series of patches from a mailbox.

git-archive(1)
     Create an archive of files from a named tree.

git-bisect(1)
     Use binary search to find the commit that introduced a bug.

git-branch(1)
     List, create, or delete branches.

git-bundle(1)
     Move objects and refs by archive.

git-checkout(1)
     ブランチの切り替え、または作業ツリーファイルの復元を行います。.

git-cherry-pick(1)
     Apply the changes introduced by some existing commits.

git-citool(1)
     git-commitのグラフィカルな代替手段.

git-clean(1)
     作業ツリーから追跡されていないファイルを削除する.

git-clone(1)
     Clone a repository into a new directory.

git-commit(1)
     Record changes to the repository.

git-describe(1)
     Give an object a human readable name based on an available.

git-diff(1)
     Show changes between commits, commit and working tree, etc.

git-fetch(1)
     Download objects and refs from another repository.

git-format-patch(1)
     Prepare patches for e-mail submission.

git-gc(1)
     不要なファイルをクリーンアップし、ローカルリポジトリを最適化する.

git-grep(1)
     Print lines matching a pattern.

git-gui(1)
     Gitのための移植性の高いGUI.

git-init(1)
     Create an empty Git repository or reinitialize an existing one.

git-log(1)
     コミットのログを表示.

git-maintenance(1)
     Run tasks to optimize Git repository data.

git-merge(1)
     Join two or more development histories together.

git-mv(1)
     ファイルまたはディレクトリまたはシンボリックリンクを移動(move)また
     は名前変更(rename)します.

git-notes(1)
     Add or inspect object notes.

git-pull(1)
     Fetch from and integrate with another repository or a local.

git-push(1)
     Update remote refs along with associated objects.

git-range-diff(1)
     Compare two commit ranges (e.g.  two versions of a branch).

git-rebase(1)
     Reapply commits on top of another base tip.

git-reset(1)
     Reset current HEAD to the specified state.

git-restore(1)
     作業ツリーファイルを復元します.

git-revert(1)
     Revert some existing commits.

git-rm(1)
     Remove files from the working tree and from the index.

git-shortlog(1)
     _git log_ の出力を要約します。.

git-show(1)
     さまざまなタイプのオブジェクトを表示.

git-sparse-checkout(1)
     Initialize and modify the sparse-checkout.

git-stash(1)
     Stash the changes in a dirty working directory away.

git-status(1)
     Show the working tree status.

git-submodule(1)
     サブモジュールを初期化、更新、または検査します.

git-switch(1)
     ブランチを切り替える.

git-tag(1)
     Create, list, delete or verify a tag object signed with GPG.

git-worktree(1)
     複数の作業ツリーを管理します.

gitk(1)
     The Git repository browser.


Ancillary Commands
==================

操作コマンド:

git-config(1)
     リポジトリオプションまたはグローバルオプションを、取得および設定す
     る.

git-fast-export(1)
     Git data exporter.

git-fast-import(1)
     Backend for fast Git data importers.

git-filter-branch(1)
     Rewrite branches.

git-mergetool(1)
     マージ競合解決ツールを実行して、マージ競合を解決します.

git-pack-refs(1)
     効率的なリポジトリアクセスのためにヘッド(heads)とタグ(tags)をパック
     します.

git-prune(1)
     オブジェクトデータベースで、到達不能なすべてのオブジェクトを剪定
     (prune)します.

git-reflog(1)
     Manage reflog information.

git-remote(1)
     Manage set of tracked repositories.

git-repack(1)
     リポジトリ内のアンパックオブジェクトをパックする.

git-replace(1)
     オブジェクトを置き換えるためのrefsの作成、一覧表示、削除.

   問合せコマンド:

git-annotate(1)
     指定ファイルの各行のコミット情報を表示.

git-blame(1)
     Show what revision and author last modified each line of a file.

git-bugreport(1)
     ユーザーがバグ報告を提出するための情報を収集する.

git-count-objects(1)
     パックされていない(unpack)オブジェクトの数とそのディスク消費量を計
     量します.

git-difftool(1)
     Show changes using common diff tools.

git-fsck(1)
     データベース内のオブジェクトの接続性(connectivity)と有効性
     (validity)を検証します.

git-help(1)
     Display help information about Git.

git-instaweb(1)
     gitwebで作業リポジトリをインスタントにブラウズします.

git-merge-tree(1)
     インデックスに触れずに(without touching)3者間マージを表示する.

git-rerere(1)
     競合するマージの記録された競合解決決定を再利用する.

git-show-branch(1)
     Show branches and their commits.

git-verify-commit(1)
     コミットのGPG署名を確認します。.

git-verify-tag(1)
     タグのGPG署名を確認する.

git-whatchanged(1)
     各コミットでの差分のログを表示.

gitweb(1)
     Git web interface (web frontend to Git repositories).


Interacting with Others
=======================

これらのコマンドは、電子メールを利用したパッチを介して、他のSCMや人々と
対話するためのものです。

git-archimport(1)
     GNU Arch リポジトリをGitにインポートします.

git-cvsexportcommit(1)
     単一のコミットをCVSチェックアウトにエクスポートします.

git-cvsimport(1)
     Salvage your data out of another SCM people love to hate.

git-cvsserver(1)
     A CVS server emulator for Git.

git-imap-send(1)
     標準入力からIMAPフォルダへパッチのコレクションを送信します.

git-p4(1)
     Perforceリポジトリからのインポートと、Perforceリポジトリへのsubmit.

git-quiltimport(1)
     quilt(キルト)パッチセットを現在のブランチに適用します.

git-request-pull(1)
     保留中の変更の概要を生成します.

git-send-email(1)
     Send a collection of patches as emails.

git-svn(1)
     Bidirectional operation between a Subversion repository and Git.


Reset, restore and revert
=========================

同様の名前の3つのコマンドがあります。それは ‘git reset’ と ‘git restore’
と ‘git revert’ です。

   • git-revert(1) は、他のコミットによって行われた変更を元に戻す新しい
     コミットを作成することです。

   • git-restore(1) は、インデックスまたは別のコミットから作業ツリー内の
     ファイルを復元することです。このコマンドはブランチを更新しません。
     このコマンドを使用して、別のコミットからインデックス内のファイルを
     復元することもできます。

   • git-reset(1) は、ブランチを更新し、ブランチにコミットを追加または削
     除するために先端ポインタが指し示す先端(tip)を移動させることです。こ
     の操作により、コミット履歴が変更されます。

     ‘git restore’ と重複しますが、 ‘git reset’ はインデックスを復元する
     ためにも使用できます。


Low-level commands (plumbing)
*****************************

Gitには独自の磁器コマンドレイヤーが含まれていますが、代替磁器コマンドの
開発をサポートするには、その低レベルのコマンドで十分です。このような磁器
コマンドの開発者は git-update-index(1) と git-read-tree(1) を読むことか
ら始めるといいでしょう。

   これらの低レベルコマンドへのインターフェイス(入力、出力、オプションの
セット、セマンティクス)は、これらのコマンドが主にスクリプトで使用される
ため、磁器レベルのコマンドよりもはるかに安定していることを意味します。 一
方、磁器コマンドへのインターフェースは、エンドユーザーエクスペリエンスを
向上させるために変更される可能性があります。

   以下の説明では、低レベルのコマンドを、オブジェクト(リポジトリ、インデ
ックス、作業ツリー内)を操作するコマンドと、オブジェクトに問い合わせて比
較するコマンドと、リポジトリ間でオブジェクトと参照を移動するコマンドに、
分けています。


Manipulation commands
=====================

git-apply(1)
     Apply a patch to files and/or to the index.

git-checkout-index(1)
     Copy files from the index to the working tree.

git-commit-graph(1)
     Write and verify Git commit-graph files.

git-commit-tree(1)
     新しいコミットオブジェクトを作成します.

git-hash-object(1)
     オブジェクトIDを計算し、オプションでファイルからブロブを作成する.

git-index-pack(1)
     Build pack index file for an existing packed archive.

git-merge-file(1)
     3方向ファイルマージを実行する.

git-merge-index(1)
     マージが必要なファイルのマージを実行します.

git-mktag(1)
     追加の検証(extra validation)でタグオブジェクトを作成します.

git-mktree(1)
     ls-tree形式のテキストからツリーオブジェクトを構築する.

git-multi-pack-index(1)
     multi-pack-indexを書き出し・検証します.

git-pack-objects(1)
     オブジェクトのパックされたアーカイブを作成する.

git-prune-packed(1)
     すでにパックファイルにある余分なオブジェクトを削除します.

git-read-tree(1)
     Reads tree information into the index.

git-symbolic-ref(1)
     シンボリックrefの読み取り、変更、および削除.

git-unpack-objects(1)
     パックされたアーカイブからオブジェクトを取り出します.

git-update-index(1)
     Register file contents in the working tree to the index.

git-update-ref(1)
     Update the object name stored in a ref safely.

git-write-tree(1)
     現在のインデックスからツリーオブジェクトを作成します.


Interrogation commands
======================

git-cat-file(1)
     Provide content or type and size information for repository.

git-cherry(1)
     アップストリームにまだ適用されていないコミットを検索する.

git-diff-files(1)
     作業ツリーとインデックス内のファイルを比較します.

git-diff-index(1)
     Compare a tree to the working tree or index.

git-diff-tree(1)
     Compares the content and mode of blobs found via two tree.

git-for-each-ref(1)
     各refに関する情報を出力します.

git-for-each-repo(1)
     リポジトリのリストでGitコマンドを実行します.

git-get-tar-commit-id(1)
     git-archiveを使用して作成されたアーカイブからコミットIDを抽出します
     .

git-ls-files(1)
     インデックスと作業ツリーのファイルに関する情報を表示する.

git-ls-remote(1)
     リモートリポジトリの参照を一覧表示する.

git-ls-tree(1)
     ツリーオブジェクトの内容を一覧表示します.

git-merge-base(1)
     Find as good common ancestors as possible for a merge.

git-name-rev(1)
     指定のrevのシンボリック名を検索します.

git-pack-redundant(1)
     無駄なパックファイルを探す.

git-rev-list(1)
     コミットオブジェクトを新しい順に一覧表示します.

git-rev-parse(1)
     パラメータを選択してもみもみします。.

git-show-index(1)
     パックされたアーカイブインデックスを表示する.

git-show-ref(1)
     List references in a local repository.

git-unpack-file(1)
     ブロブの内容を含む一時(temporary)ファイルを作成します.

git-var(1)
     Git論理変数を表示します.

git-verify-pack(1)
     パックされたGitアーカイブファイルを検証する.

   一般に、問い合わせコマンドは作業ツリー内のファイルには影響しません。


Syncing repositories
====================

git-daemon(1)
     A really simple server for Git repositories.

git-fetch-pack(1)
     Receive missing objects from another repository.

git-http-backend(1)
     Server side implementation of Git over HTTP.

git-send-pack(1)
     Push objects over Git protocol to another repository.

git-update-server-info(1)
     ダムサーバー(dumb servers)を支援するために補助情報ファイル
     (auxiliary info.

   以下は、上記で使用されるヘルパーコマンドです。エンドユーザーは通常、
これらを直接使用することはありません。

git-http-fetch(1)
     HTTPでリモートGitリポジトリからダウンロード.

git-http-push(1)
     HTTP/DAV を介してオブジェクトを別のリポジトリにプッシュする.

git-receive-pack(1)
     Receive what is pushed into the repository.

git-shell(1)
     GitのみのSSHアクセス用の制限付きログインシェル.

git-upload-archive(1)
     アーカイブを git-archive に送り返す.

git-upload-pack(1)
     パックされたオブジェクトをgit-fetch-packに送り返す.


Internal helper commands
========================

これらは、他のコマンドで使用される内部ヘルパーコマンドです。エンドユーザ
ーは通常、これらを直接使用することはありません。

git-check-attr(1)
     gitattributes情報を表示.

git-check-ignore(1)
     gitignoreや除外ファイルのデバッグ.

git-check-mailmap(1)
     連絡先(contacts)の、正式な名前と電子メールアドレスを表示.

git-check-ref-format(1)
     Ensures that a reference name is well formed.

git-column(1)
     データを複数列表示する.

git-credential(1)
     Retrieve and store user credentials.

git-credential-cache(1)
     パスワードを一時的にメモリに保存するヘルパー.

git-credential-store(1)
     資格情報をディスクに保存するヘルパー.

git-fmt-merge-msg(1)
     git-fmt-merge-msg-マージコミットメッセージを生成します.

git-interpret-trailers(1)
     コミットメッセージの構造化情報を追加またはパースします.

git-mailinfo(1)
     単一の電子メールメッセージからパッチと作成者を抽出します.

git-mailsplit(1)
     簡易 UNIX mbox 分割プログラム.

git-merge-one-file(1)
     git-merge-indexで使用する標準のヘルパープログラム.

git-patch-id(1)
     パッチの一意のIDを計算します.

git-sh-i18n(1)
     シェルスクリプトのためのGit用i18nセットアップコード.

git-sh-setup(1)
     一般的なGitシェルスクリプトのセットアップコード.

git-stripspace(1)
     不要な空白(whitespace)を削除します.


Guides
******

以下のドキュメントページ群は、Gitの概念に関するガイドです。

gitattributes(5)
     Defining attributes per path.

gitcli(7)
     Git command-line interface and conventions.

gitcore-tutorial(7)
     A Git core tutorial for developers.

gitcredentials(7)
     Gitにユーザー名とパスワードを提供する.

gitcvs-migration(7)
     Git for CVS users.

gitdiffcore(7)
     Tweaking diff output.

giteveryday(7)
     Git日常利用に役立つ最小限のコマンドセット.

gitfaq(7)
     Gitの使用に関するよくある質問(FAQ).

gitglossary(7)
     Git用語集.

githooks(5)
     Hooks used by Git.

gitignore(5)
     無視する、意図的に追跡しないファイルを指定します.

gitmailmap(5)
     作者(author)/コミッター(committer) および/または 電子メールアドレス
     (E-Mail.

gitmodules(5)
     Defining submodule properties.

gitnamespaces(7)
     Git名前空間.

gitremote-helpers(7)
     Helper programs to interact with remote repositories.

gitrepository-layout(5)
     Gitリポジトリの間取り.

gitrevisions(7)
     Gitのリビジョンと範囲を指定する.

gitsubmodules(7)
     Mounting one repository inside another.

gittutorial(7)
     Git入門.

gittutorial-2(7)
     A tutorial introduction to Git: part two.

gitworkflows(7)
     Gitで推奨の作業手順の概要.


Configuration Mechanism
***********************

Gitは、単純なテキスト形式を使用して、リポジトリごとおよびユーザーごとの
カスタマイズを保存します。 このような構成ファイルは以下のようになります:

     #
     # A '#' or ';' character indicates a comment.
     #

     ; core variables
     [core]
             ; Don't trust file modes
             filemode = false

     ; user identity
     [user]
             name = "Junio C Hamano"
             email = "gitster@pobox.com"

   さまざまなコマンドが構成ファイルから読み取られ、それに応じて操作が調
整されます。構成メカニズムのリストと詳細については、 git-config(1) を参
照してください。


Identifier Terminology
**********************

<object>
     任意のタイプのオブジェクトのオブジェクト名を現します。

<blob>
     BLOBオブジェクト名を現します。

<tree>
     ツリーオブジェクト名を示します。

<commit>
     コミットオブジェクト名を示します。

<tree-ish>
     ツリーまたはコミットまたはタグオブジェクト名を示します。 <tree-ish>
     引数を取るコマンドは、最終的には <tree> オブジェクトを操作したいの
     で、 <tree> を指す <commit> オブジェクトと <tag> オブジェクトは自動
     的に逆参照(dereference)されます。(訳注: tree-ish;ツリーっぽいナニか
     の意)

<commit-ish>
     コミットまたはタグオブジェクト名を示します。 <commit-ish> 引数を取
     るコマンドは、最終的には <commit> オブジェクトを操作したいので、
     <commit> を指す <tag>オブジェクトを自動的に逆参照します。

<type>
     オブジェクトタイプが必要であることを示します。 現在、 ‘blob’ または
     ‘tree’ または ‘commit’ または ‘tag’ のいずれかです。

<file>
     ファイル名を示します。ほとんどの場合、 ‘GIT_INDEX_FILE’ が記述する
     ツリー構造のルートを基準にしています。


Symbolic Identifiers
********************

<object> を受け入れるGitコマンドでは、以下の記号表記も使用できます:

HEAD
     現在のブランチのヘッドを現します。

<tag>
     有効なタグ名(つまり ‘refs/tags/<tag>’ ref)。

<head>
     有効なhead名(つまり ‘refs/heads/<head>’ ref)。

   オブジェクト名のスペルのより完全なリストについては、 gitrevisions(7)
の「SPECIFYING REVISIONS」セクションを参照してください。


File/Directory Structure
************************

gitrepository-layout(5) 文書を参照してください。

   各フックの詳細については githooks(5) をご覧下さい。

   高レベルのSCMは、 ‘$ GIT_DIR’ で追加情報を提供および管理する場合があ
ります。


Terminology
***********

gitglossary(7) を参照してください。


Environment Variables
*********************

さまざまなGitコマンドは、以下の環境変数を使用します:


The Git Repository
==================

これらの環境変数は、「すべての」コアGitコマンドに適用されます。 Nb: Gitの
上位にあるSCMSによって 使用/オーバーライド される可能性があることに注意
してください。したがって、外部のフロントエンドを使用する場合は注意が必要
です。

‘GIT_INDEX_FILE’
     この環境変数は、代替インデックスファイルを指定できます。指定しない
     場合、デフォルトの ‘$GIT_DIR/index’ が使用されます。

‘GIT_INDEX_VERSION’
     この環境変数を使用すると、新しいリポジトリのインデックスバージョン
     を指定できます。「既存のインデックスファイルには影響しません」。デ
     フォルトでは、バージョン2または3のインデックスファイルが使用されま
     す。詳細については、 git-update-index(1) を参照してください。

‘GIT_OBJECT_DIRECTORY’
     オブジェクトストレージディレクトリがこの環境変数を介して指定されて
     いる場合、 sha1 ディレクトリがその下に作成されます。それ以外の場合
     は、デフォルトの ‘$GIT_DIR/objects’ ディレクトリが使用されます。

‘GIT_ALTERNATE_OBJECT_DIRECTORIES’
     Gitオブジェクトは不変であるため、古いオブジェクトを共有の読み取り専
     用ディレクトリにアーカイブできます。この変数は、Gitオブジェクトの検
     索に使用できるGitオブジェクトディレクトリの ‘:’ で区切られた
     (Windowsでは ‘;’ で区切られた)リストを指定します。新しいオブジェク
     トはこれらのディレクトリに書き込まれません。

     ‘"’ (二重引用符;\x22)で始まるエントリは、Cスタイルの引用符で囲まれ
     たパスとして解釈され、先頭と末尾の二重引用符が削除され、バックスラ
     ッシュ(‘\' \x5c);のエスケープが尊重されます。たとえば、値
     `"path-with-\"-and-:-in-it":vanilla-path’ には
     ‘path-with-"-and-:-in-it’ と ‘vanilla-path’ の2つのパスがあります。

‘GIT_DIR’
     ‘GIT_DIR’ 環境変数が設定されている場合、リポジトリのベースにデフォ
     ルトの ‘.git’ の代わりに使用するパスを指定します。 ‘--git-dir’ コマ
     ンドラインオプションもこの値を設定します。

‘GIT_WORK_TREE’
     作業ツリーのルートへのパスを設定します。 これは、 ‘--work-tree’ コ
     マンドラインオプションと core.worktree 構成変数でも制御できます。

‘GIT_NAMESPACE’
     Git名前空間(Git namespace)を設定します。詳細については、
     gitnamespaces(7) を参照してください。 ‘--namespace’ コマンドライン
     オプションもこの値を設定します。

‘GIT_CEILING_DIRECTORIES’
     これは、コロン(‘:’)で区切られた絶対パスのリストである必要があります
     。設定されている場合、これは、リポジトリディレクトリを探すときに
     Gitがchdirを実行してはいけないディレクトリのリストです(読み込みの遅
     いネットワークディレクトリを除外する場合に便利です)。コマンドライン
     または環境で設定されている現在の作業ディレクトリまたはGIT_DIRは除外
     されません。通常、Gitはこのリストのエントリを読み取り、現在のディレ
     クトリと比較するために存在する可能性のあるシンボリックリンクを解決
     する必要があります。ただし、このアクセスが遅い場合でも、リストに空
     のエントリを追加して、後続のエントリがシンボリックリンクではなく、
     解決する必要がないことをGitに通知できます。 例:
     ‘GIT_CEILING_DIRECTORIES=/maybe/symlink::/very/slow/non/symlink’

‘GIT_DISCOVERY_ACROSS_FILESYSTEM’
     ‘.git’ リポジトリディレクトリがないディレクトリで実行すると、Gitは
     それより親のディレクトリでそのようなディレクトリを見つけて作業ツリ
     ーの最上位を見つけようとしますが、デフォルトではファイルシステムの
     境界を越えません。この環境変数をtrueに設定して、ファイルシステムの
     境界で停止しないようにGitに指示できます。 ‘GIT_CEILING_DIRECTORIES’
     と同様に、これは ‘GIT_DIR’ またはコマンドラインで設定された明示的な
     リポジトリディレクトリには影響しません。

‘GIT_COMMON_DIR’
     この変数にパスが設定されている場合、通常は $GIT_DIR にある非ワーク
     ツリーファイルが、代わりにこのパスから取得されます。HEADやインデッ
     クスなどのワークツリー固有のファイルは $GIT_DIR から取得されます。
     詳細については、 gitrepository-layout(5) と git-worktree(1) を参照
     してください。この変数は GIT_INDEX_FILE や GIT_OBJECT_DIRECTORY な
     どの他のパス変数よりも優先順位が低くなります。

‘GIT_DEFAULT_HASH’
     この変数が設定されている場合、新しいリポジトリのデフォルトのハッシ
     ュアルゴリズムはこの値に設定されます。 現在、この値はクローン作成時
     は無視され、代わりに、リモートリポジトリの設定が使用されます。デフ
     ォルトは「sha1」です。この変数は実験的です！(「THIS VARIABLE IS
     EXPERIMENTAL!」) git-init(1) の ‘--object-format’ を参照してくださ
     い。


Git Commits
===========

‘GIT_AUTHOR_NAME’
     コミットまたはタグオブジェクトを作成するとき、またはreflogを書き込
     むときに、作者IDで使用される、人間が読める名前。 ‘user.name’ と
     ‘author.name’ の構成設定を上書きします。

‘GIT_AUTHOR_EMAIL’
     コミットまたはタグオブジェクトを作成するとき、またはreflogを書き込
     むときに作者IDで使用される電子メールアドレス。 ‘user.email’ と
     ‘author.email’ の設定を上書きします。

‘GIT_AUTHOR_DATE’
     commitまたはtagオブジェクトを作成するとき、またはreflogを書き込むと
     きに作者IDに使用される日付。有効な形式については、 git-commit(1) を
     参照してください。

‘GIT_COMMITTER_NAME’
     コミットオブジェクトまたはタグオブジェクトを作成するとき、または
     reflogを書き込むときに、コミッターIDで使用される、人間が読める形式
     の名前。 ‘user.name’ と ‘committer.name’ の設定を上書きします。

‘GIT_COMMITTER_EMAIL’
     コミットまたはタグオブジェクトを作成するとき、またはreflogを書き込
     むときに作者IDで使用される電子メールアドレス。 ‘user.email’ と
     ‘committer.email’ の設定を上書きします。

‘GIT_COMMITTER_DATE’
     コミットオブジェクトまたはタグオブジェクトを作成するとき、または
     reflogを書き込むときにコミッターIDに使用される日付。有効な形式につ
     いては、 git-commit(1) を参照してください。

‘EMAIL’
     他の関連する環境変数または構成設定が設定されていない場合に、作者と
     コミッターのIDで使用される電子メールアドレス。


Git Diffs
=========

‘GIT_DIFF_OPTS’
     有効な設定は、統一された差分(unified diff)が作成されたときに表示さ
     れるコンテキスト行の数を設定するための ‘--unified=??’ または ‘-u??’
     だけです。これは、Git diff コマンドラインで渡される ‘-U’ または
     ‘--unified’ のオプション値よりも優先されます。

‘GIT_EXTERNAL_DIFF’
     環境変数 ‘GIT_EXTERNAL_DIFF’ が設定されている場合、それによって指定
     されたプログラムが呼び出されてdiffが生成され、Gitは組み込みのdiff機
     構を使用しません。 追加または削除または変更されたパスの場合、
     ‘GIT_EXTERNAL_DIFF’ は以下の7つのパラメーターで呼び出されます:

          path old-file old-hex old-mode new-file new-hex new-mode

     これは:

<old|new>-file
     GIT_EXTERNAL_DIFF が <old|new> の内容を読み取るために 使用できるフ
     ァイルです。

<old|new>-hex
     16進40桁のSHA-1ハッシュです。

<old|new>-mode
     8進数で表現されたファイルモードです。

     ファイルパラメータは、ユーザーの作業ファイル(たとえば
     "git-diff-files" の ‘new-file’ )、または ‘/dev/null’ (たとえば、新
     しいファイルが追加されたときの ‘old-file’ )、または一時ファイル(た
     とえば インデックスの ‘old-file’) を指し示す事ができます。
     ‘GIT_EXTERNAL_DIFF’ は、一時ファイルの削除(unlink)を心配する必要は
     ありません。一時ファイルは ‘GIT_EXTERNAL_DIFF’ の指定したプログラム
     の呼び出しが終了すると削除されます。

     パスがマージされていない場合、 ‘GIT_EXTERNAL_DIFF’ は1つのパラメー
     ター <path> で呼び出されます。

     パス ‘GIT_EXTERNAL_DIFF’ が呼び出されるたびに、
     ‘GIT_DIFF_PATH_COUNTER’ と ‘GIT_DIFF_PATH_TOTAL’ の2つの環境変数が
     設定されます。

‘GIT_DIFF_PATH_COUNTER’
     パスごとに1ずつインクリメントされる1で始まるカウンター。

‘GIT_DIFF_PATH_TOTAL’
     パスの総数。


other
=====

‘GIT_MERGE_VERBOSITY’
     再帰的マージ戦略(recursive merge strategy)によって表示される出力の
     量を制御する数値。 merge.verbosity をオーバーライドします。
     git-merge(1) を参照してください

‘GIT_PAGER’
     この環境変数は ‘$PAGER’ をオーバーライドします。 空の文字列または値
     "cat"に設定されている場合、Gitはページャーを起動しません。
     git-config(1) の ‘core.pager’ オプションも参照してください。

‘GIT_PROGRESS_DELAY’
     オプションの進行状況インジケーターを表示する前に遅延する秒数を制御
     する数値。デフォルトは2です。

‘GIT_EDITOR’
     この環境変数は、 ‘$EDITOR’ と ‘$VISUAL’ をオーバーライドします。イ
     ンタラクティブモードでエディタを起動するときに、いくつかのGitコマン
     ドで使用されます。 git-var(1) と git-config(1) の ‘core.editor’ オ
     プションも参照してください。

‘GIT_SEQUENCE_EDITOR’
     この環境変数は、インタラクティブリベース(interactive rebase)の
     todoリストを編集するときに、構成されたGitエディタをオーバーライドし
     ます。 git-rebase(1) と git-config(1) の ‘sequence.editor’ オプショ
     ンも参照してください。

‘GIT_SSH’
‘GIT_SSH_COMMAND’
     これらの環境変数のいずれかが設定されている場合、 _git fetch_ と
     _git push_ は、リモートシステムに接続する必要があるときに、 _ssh_ の
     代わりに指定されたコマンドを使用します。設定されたコマンドに渡され
     るコマンドラインパラメータは、 ssh.variant によって決定されます。詳
     細については、 git-config(1) の ‘ssh.variant’ オプションを参照して
     ください。

     ‘$GIT_SSH_COMMAND’ は ‘$GIT_SSH’ よりも優先され、シェルによって解釈
     されます。これにより、追加の引数を含めることができます。 一方、
     ‘$GIT_SSH’ は、プログラムへのパスである必要があります(追加の引数が
     必要な場合は、ラッパーシェルスクリプトにすることができます)。

     通常、個人の ‘.ssh/config’ ファイルを使用して必要なオプションを設定
     する方が簡単です。詳細については、あなたのお手元のsshのドキュメント
     を参照してください。

‘GIT_SSH_VARIANT’
     この環境変数が設定されている場合、 ‘GIT_SSH’ ・ ‘ GIT_SSH_COMMAND‘
     ・ ‘core.sshCommand’ が OpenSSH・plink・tortoiseplinkのいずれを参照
     しているかにかかわらず、Gitの自動検出をオーバーライドします。この変
     数は、同じ目的を果たす構成設定 ‘ssh.variant’ をオーバーライドします
     。

‘GIT_ASKPASS’
     この環境変数が設定されている場合、パスワードまたはパスフレーズを取
     得する必要があるGitコマンド(HTTPまたはIMAP認証など)は、コマンドライ
     ン引数として適切なプロンプトを使用してこのプログラムを呼び出し、そ
     のプログラムの標準出力からパスワードを読み取ります。 git-config(1)の
     ‘core.askPass’ オプションも参照してください。

‘GIT_TERMINAL_PROMPT’
     この環境変数が ‘0’ に設定されている場合、gitは端末でプロンプトを表
     示しません(たとえば、HTTP認証を要求する場合)。

‘GIT_CONFIG_GLOBAL’
‘GIT_CONFIG_SYSTEM’
     グローバルまたはシステムレベルの構成ファイルからではなく、指定され
     たファイルから構成を取得します。 ‘GIT_CONFIG_SYSTEM’ が設定されてい
     る場合、ビルド時に定義されたシステム構成ファイル(通常は
     ‘/etc/gitconfig’)は読み取られません。同様に、 ‘GIT_CONFIG_GLOBAL’ が
     設定されている場合、 ‘$HOME/.gitconfig’ も
     ‘$XDG_CONFIG_HOME/git/config’ も読み取られません。 ‘/dev/null’ に設
     定すると、それぞれのレベルの構成ファイルの読み取りをスキップできま
     す。

‘GIT_CONFIG_NOSYSTEM’
     システム全体の ‘$(prefix)/etc/gitconfig’ ファイルからの設定の読み取
     りをスキップするかどうか。 この環境変数を ‘$HOME’ や
     ‘$XDG_CONFIG_HOME’ と一緒に使用して、厄介なスクリプトの予測可能な環
     境を作成するか、または、バグのある ‘/etc/gitconfig’ ファイルを使用
     しないように一時的に設定して、十分な権限を持つ誰かが修正するのを待
     つこともできます。

‘GIT_FLUSH’
     この環境変数が ‘1’ に設定されている場合、 _git blame_ (インクリメン
     タルモード)、 _git rev-list_ 、 _git log_ 、 _git check-attr_ 、
     _git check-ignore_ などのコマンドは、 各レコードがフラッシュされた
     後に出力ストリームを強制的にフラッシュします。 この変数が ‘0’ に設
     定されている場合、 これらのコマンドの出力は、完全にバッファリングさ
     れた入出力を使用して実行されます。 この環境変数が設定されていない場
     合、 Gitは、標準出力がファイルにリダイレクトされているように見える
     かどうかに基づいて、 バッファリングするか、またはレコード指向のフラ
     ッシュを選択します。

‘GIT_TRACE’
     一般的なトレースメッセージを有効にします。例えば、エイリアス拡張や
     、組み込みコマンド実行や、外部コマンド実行 においてです。

     この変数が ‘1’ または ‘2’ または ‘true’ に設定されている場合(比較で
     は英大文字小文字は区別されません)、トレースメッセージがstderrに出力
     されます。

     変数が2より大きく10より小さい整数値(訳注:つまり 2 < 変数 < 10)に設
     定されている場合、(厳密には、)Gitはこの値を、開いているファイルデス
     クリプターとして解釈し、トレースメッセージをこのファイルデスクリプ
     ターに書き込もうとします。

     または、変数が絶対パス(’/’文字で始まる)に設定されている場合、Gitは
     これをファイルパスとして解釈し、トレースメッセージをそのファイルに
     追加しようとします。

     変数の設定を解除(unset)するか、空(empty) または ‘0’ または ‘false’
     (英大文字小文字を区別しない)に設定すると、トレースメッセージが無効
     になります。

‘GIT_TRACE_FSMONITOR’
     ファイルシステムモニター拡張機能(filesystem monitor extension)のト
     レースメッセージを有効にします。使用可能なトレース出力オプションに
     ついては、 ‘GIT_TRACE’ を参照してください。

‘GIT_TRACE_PACK_ACCESS’
     任意のパックへのすべてのアクセスに対してトレースメッセージを有効に
     します。アクセスごとに、パックファイル名とパック内のオフセットが記
     録されます。これは、パック関連のパフォーマンスの問題のトラブルシュ
     ーティングに役立つ場合があります。使用可能なトレース出力オプション
     については、 ‘GIT_TRACE’ を参照してください。

‘GIT_TRACE_PACKET’
     特定のプログラムに出入りするすべてのパケットのトレースメッセージを
     有効にします。これは、オブジェクトネゴシエーションまたはその他のプ
     ロトコルの問題のデバッグに役立ちます。 "PACK" で始まるパケットでは
     トレースがオフになります(ただし、以下の ‘GIT_TRACE_PACKFILE’ を参照
     してください)。使用可能なトレース出力オプションについては、
     ‘GIT_TRACE’ を参照してください。

‘GIT_TRACE_PACKFILE’
     特定のプログラムによって送受信されたパックファイルのトレースを有効
     にします。他のトレース出力とは異なり、このトレースは垂れ流しです。
     ヘッダーやバイナリデータの引用はありません。あなたはこれを、ファイ
     ルを端末に表示したり、他のトレース出力と混合したりするのではなく、
     ほぼ確実に、ファイル(たとえば、 ‘GIT_TRACE_PACKFILE=/tmp/my.pack’
     )に転送する必要があります。

     注意: これは現在、クローンとフェッチのクライアント側にのみ実装され
     ていることに注意してください。

‘GIT_TRACE_PERFORMANCE’
     パフォーマンス関連のトレースメッセージを有効にします。例えば、各
     Gitコマンドの合計実行時間です。使用可能なトレース出力オプションにつ
     いては、 ‘GIT_TRACE’ を参照してください。

‘GIT_TRACE_REFS’
     refデータベースでの操作のトレースメッセージを有効にします。使用可能
     なトレース出力オプションについては、 ‘GIT_TRACE’ を参照してください
     。

‘GIT_TRACE_SETUP’
     Gitがセットアップフェーズを完了した後、‘.git’ と作業ツリーと現在の
     作業ディレクトリを出力するトレースメッセージを有効にします。使用可
     能なトレース出力オプションについては、 ‘GIT_TRACE’ を参照してくださ
     い。

‘GIT_TRACE_SHALLOW’
     浅い(shallow)リポジトリの フェッチ/クローン のデバッグに役立つトレ
     ースメッセージを有効にします。使用可能なトレース出力オプションにつ
     いては、 ‘GIT_TRACE’ を参照してください。

‘GIT_TRACE_CURL’
     gitトランスポートプロトコルのすべての着信および発信データ
     (descriptive information;説明情報を含む)のcurlフルトレースダンプを
     有効にします。これは、コマンドラインで curl ‘--trace-ascii’ を実行
     するのと似ています。使用可能なトレース出力オプションについては、
     ‘GIT_TRACE’ を参照してください。

‘GIT_TRACE_CURL_NO_DATA’
     curlトレースが有効になっている場合(上記の ‘GIT_TRACE_CURL’ を参照
     )、データをダンプしないでください(つまり、情報行とヘッダー(info
     lines and headers)のみをダンプします)。

‘GIT_TRACE2’
     「trace2」ライブラリからのより詳細なトレースメッセージを有効にしま
     す。 ‘GIT_TRACE2’ からの出力は、人間が読みやすいように単純なテキス
     トベースの形式です。

     この変数が ‘1’ または ‘2’ または ‘true’ に設定されている場合(比較で
     は英大文字小文字は区別されません)、トレースメッセージがstderrに出力
     されます。

     変数が2より大きく10より小さい整数値(訳注:つまり 2 < 変数 < 10)に設
     定されている場合、(厳密には、)Gitはこの値を、開いているファイルデス
     クリプターとして解釈し、トレースメッセージをこのファイルデスクリプ
     ターに書き込もうとします。

     あるいは、変数が絶対パス(‘/‘文字で始まる)に設定されている場合、
     Gitはこれをファイルパスとして解釈し、トレースメッセージをそのファイ
     ルに追加しようとします。パスがすでに存在し、ディレクトリである場合
     、トレースメッセージは、SIDの最後のコンポーネントと(ファイル名の衝
     突を回避するための)オプションのカウンタに従って名前が付けられた、そ
     のディレクトリ内のファイル(プロセスごとに1つ)に書き込まれます。

     加えて、変数が ‘af_unix:[<socket_type>:]<absolute-pathname>’ に設定
     されている場合、GitはパスをUnixドメインソケットとして開こうとします
     。ソケットタイプは、 ‘stream’ または ‘dgram’ のいずれかです。

     変数の設定を解除(unset)するか、空(empty) または ‘0’ または ‘false’
     (英大文字小文字を区別しない)に設定すると、トレースメッセージが無効
     になります。

     完全な詳細については Trace2 documentation
     (technical/api-trace2.html) を参照してください。

‘GIT_TRACE2_EVENT’
     この設定は、ソフトウェア処理(machine interpretation)に適したJSONベ
     ースの形式で書き込みます。利用可能なトレース出力オプションについて
     は ‘GIT_TRACE2’ を、詳細については Trace2 documentation
     (technical/api-trace2.html) を参照してください。

‘GIT_TRACE2_PERF’
     ‘GIT_TRACE2’ で利用可能なテキストベースのメッセージに加えて、この設
     定はネスト領域(nesting regions)を理解するための列ベース
     (column-based)のフォーマットを書き込みます。利用可能なトレース出力
     オプションについては ‘GIT_TRACE2’ を、完全な詳細については Trace2
     documentation (technical/api-trace2.html) を参照してください。

‘GIT_TRACE_REDACT’
     デフォルトでは、トレースがアクティブ化されると、Gitはクッキーと「
     Authorization:」ヘッダーと「Proxy-Authorization:」ヘッダーの値を編
     集します。この編集を防ぐには、この変数を ‘0’ に設定します。

‘GIT_LITERAL_PATHSPECS’
     この変数を ‘1’ に設定すると、Gitはすべてのパススペックをグロブパタ
     ーンとしてではなく文字通りに処理します。たとえば、
     ‘GIT_LITERAL_PATHSPECS=1 git log -- '*.c'’ を実行すると、グロブ
     ‘*.c’ が一致するパスではなく、パス ‘*.c’ に接触するコミットが検索さ
     れます。リテラルパスをGitにフィードする場合(たとえば、以前に ‘git
     ls-tree’ や ‘--raw’ diff output などによって与えられたパス)にこれが
     必要になる場合があります。

‘GIT_GLOB_PATHSPECS’
     この変数を ‘1’ に設定すると、Gitはすべてのパススペックをグロブパタ
     ーン(別名 グロブマジック(glob magic))として扱います。

‘GIT_NOGLOB_PATHSPECS’
     この変数を ‘1’ に設定すると、Gitはすべてのパススペックをリテラル(別
     名 リテラルマジック(literal magic))として扱います。

‘GIT_ICASE_PATHSPECS’
     この変数を ‘1’ に設定すると、Gitはすべてのパススペックの英大文字小
     文字を区別しないものとして扱います。

‘GIT_REFLOG_ACTION’
     refが更新されると、reflogエントリが作成され、refの新旧の値に加えて
     、refが更新された理由(通常はrefを更新した高レベルコマンドの名前)を
     追跡します。スクリプト化された磁器コマンドは、 ‘git-sh-setup’ の
     set_reflog_actionヘルパー関数を使用して、エンドユーザーがトップレベ
     ルコマンドとして呼び出したときにその名前をこの変数に設定して、
     reflogの本文(body)に記録できます。

‘GIT_REF_PARANOIA’
     ‘1’ に設定されている場合、refのリストを反復処理するときに、壊れた、
     または名前の悪いrefを含めます。通常の破損していないリポジトリでは、
     これは何もしません。ただし、これを有効にすると、refが壊れている場合
     にgitが一部の操作を検出して中止するのに役立つ場合があります。 Gitは
     、 git-prune(1) のような破壊的な操作を実行するときに、この変数を自
     動的に設定します。あなたが、操作がすべてのrefに影響を与えていること
     を確認したい場合(たとえば、バックアップを作成するためにリポジトリの
     クローンを作成しているため)を除いて、あなた自身で設定する必要はあり
     ません。

‘GIT_ALLOW_PROTOCOL’
     コロン(‘:’)で区切られたプロトコルのリストが設定されている場合、
     ‘protocol.allow’ が ‘never’ に設定され、リストされた各プロトコルで
     は、 ‘protocol.<name>.allow’ が ‘always’ に設定されているかのように
     振る舞います(既存の構成をオーバーライドします)。言い換えると、言及
     されていないプロトコルは許可されません(つまり、これはホワイトリスト
     であり、ブラックリストではありません)。詳細については、
     git-config(1) の ‘protocol.allow’ の説明を参照してください。

‘GIT_PROTOCOL_FROM_USER’
     ‘user’ 状態に構成されている fetch/push/clone によって使用されるプロ
     トコルを妨げるには、 ‘0’ に設定します。これは、信頼できないリポジト
     リからの再帰的なサブモジュールの初期化を制限したり、信頼できない可
     能性のあるURLをgitコマンドにフィードするプログラムに役立ちます。詳
     細については、 git-config(1) を参照してください。

‘GIT_PROTOCOL’
     内部使用のみ。ワイヤープロトコルのハンドシェイクで使用されます。オ
     プションで値 _key[=value]_ を持つ、 コロン(_:_)で区切られたリストを
     含んでいます。不明なキーと値は無視する必要があります。

     注意:この変数が一部のトランスポートを通過できるようにサーバーを構成
     する必要がある場合があることに注意してください。ローカルリポジトリ
     (つまり、 ‘file://’ またはファイルシステムパス)にアクセスするとき、
     および ‘git://’ プロトコルを介して自動的に伝播されます。
     git-over-http の場合、ほとんどの構成で自動的に機能するはずですが、
     git-http-backend(1) の説明を参照してください。 git-over-ssh の場合
     、クライアントがこの変数を渡すことができるようにsshサーバーを構成す
     る必要がある場合があります(たとえば、OpenSSHで ‘AcceptEnv
     GIT_PROTOCOL’ を使用することにより)。

     この構成はオプションです。変数が伝播されない場合、クライアントは元
     の "v0" プロトコルにフォールバックします(ただし、パフォーマンスの向
     上や機能の一部を見逃す可能性があります)。この変数は現在、cloneと
     fetchにのみ影響します。pushにはまだ使用されていません(ただし、将来
     的に使用される可能性があります)。

‘GIT_OPTIONAL_LOCKS’
     ‘0’ に設定すると、Gitは、ロックを取得する必要のあるオプションのサブ
     操作を実行せずに、要求された操作を完了します。たとえば、これにより
     、‘git status’ が副作用としてインデックスを更新するのを防ぐことがで
     きます。これは、リポジトリ上の他の操作とのロック競合を引き起こした
     くない、バックグラウンドで実行されているプロセスに役立ちます。デフ
     ォルトは ‘1’ です。

‘GIT_REDIRECT_STDIN’
‘GIT_REDIRECT_STDOUT’
‘GIT_REDIRECT_STDERR’
     Windowsのみ: 標準の入力/出力/エラーハンドルを環境変数で指定されたパ
     スにリダイレクトできるようにします。これは、 ‘CreateProcess()’ を介
     して標準ハンドルを渡す標準的な方法がオプションではないマルチスレッ
     ドアプリケーションで特に役立ちます。これは、ハンドルを継承可能とし
     てマークする必要があるためです(したがって、生成された「すべて」のプ
     ロセスがそれらを継承し、通常のGit操作をブロックする可能性があります
     )。主な使用目的は、通信に名前付きパイプを使用することです(例:
     ‘\\.\pipe\my-git-stdin-123’)。

     2つの特別な値がサポートされています。‘off’ は対応する標準ハンドルを
     閉じるだけです。そして、 ‘GIT_REDIRECT_STDERR’ が ‘2>&1’ の場合、標
     準エラーは標準出力と同じハンドルにリダイレクトされます。

‘GIT_PRINT_SHA1_ELLIPSIS’ (deprecated)
     (非推奨): ‘yes’ に設定されている場合、(省略形の)SHA-1値の後に省略記
     号を出力します。これは、切り離されたHEAD(detached HEAD)の表示
     (git-checkout(1))と生のdiff出力(git-diff(1))に影響します。上記の場
     合に省略記号を印刷することはもはや適切であるとは見なされておらず、
     そのサポートは(この変数と一緒に)近い将来削除される可能性があります
     。


Discussion
**********

以下の詳細については、 Git concepts chapter of the user-manual
(user-manual.html#git-concepts) および gitcore-tutorial(7) から入手でき
ます。

   Gitプロジェクトは通常、最上位に ‘.git’ サブディレクトリがある作業ディ
レクトリで構成されます。 ‘.git’ ディレクトリには、プロジェクトの完全な履
歴を表す圧縮オブジェクトデータベース、その履歴を作業ツリーの現在のコンテ
ンツにリンクする「インデックス」ファイル、タグやブランチヘッドなど、その
履歴への名前付きポインタが含まれています。

   オブジェクトデータベースには、主に3つのタイプのオブジェクトが含まれて
います。ファイルデータを保持するブロブ(blob)。ディレクトリ階層を構築する
ためのブロブやその他のツリーを指すツリー(tree)。そしてコミット(commit)は
、それぞれが単一のツリーといくつかの親コミットを参照します。

   コミットは、他のシステムが「チェンジセット」または「バージョン」と呼
ぶものと同等であり、プロジェクトの履歴のステップを表し、各親は直前のステ
ップを表します。複数の親とのコミットは、それぞれ独立していた開発ラインの
統合(マージ;merge)を表します。

   すべてのオブジェクトは、その内容のSHA-1ハッシュによって名前が付けられ
、通常は40桁の16進数の文字列として記述されます。このような名前はグローバ
ルに一意です。コミットに至るまでの履歴全体は、そのコミットだけに署名する
ことで保証できます。この目的のために、4番目のオブジェクトタイプであるタ
グ(tag)が提供されます。

   最初に作成されたとき、オブジェクトは個々のファイルに保存されますが、
効率を上げるために、後で「パックファイル」にまとめて圧縮される場合があり
ます。

   ref(refs)と呼ばれる名前付きポインターは、履歴の中で興味深い点を指し示
しています。refには、オブジェクトのSHA-1名または別のrefの名前を含めるこ
とができます。名前が ‘ref/head/’ で始まるrefには、開発中のブランチの最新
のコミット(または「head」)のSHA-1名が含まれます。対象のタグのSHA-1名は、
‘ref/tags/’ の下に保存されます。 ‘HEAD’ という名前の特別な参照には、現在
チェックアウトされているブランチの名前が含まれています。

   インデックスファイルは、すべてのパスのリストと、パスごとのブロブオブ
ジェクトと属性のセットで初期化されます。ブロブオブジェクトは、現在のブラ
ンチの先端にあるファイルの内容を表します。属性(最終変更時刻、サイズなど
)は、作業ツリー内の対応するファイルから取得されます。作業ツリーへのその
後の変更は、これらの属性を比較することで見つけることができます。インデッ
クスは新しいコンテンツで更新される可能性があり、新しいコミットはインデッ
クスに保存されているコンテンツから作成される可能性があります。

   インデックスは、特定のパス名の複数のエントリ(「ステージ」と呼ばれる
)を格納することもできます。これらのステージは、マージの進行中に、マージ
されていないさまざまなバージョンのファイルを保持するために使用されます。


FURTHER DOCUMENTATION
*********************

Gitの使用を開始するには、「description」セクションのリファレンスを参照し
てください。 以下は、初めてのユーザーにとっては、おそらく必要以上に詳細
です。

   Git concepts chapter of the user-manual
(user-manual.html#git-concepts) と gitcore-tutorial(7) はどちらも、基盤
となるGitアーキテクチャの概要を示しています。

   おすすめの作業手順の概要については gitworkflows(7) を参照してください
。

   いくつかの便利な実例について howto (howto-index.html) 文書もご覧下さ
い。

   Git内部については Git API documentation (technical/api-index.html) に
記載されています。

   CVSから移行するユーザーには gitcvs-migration(7) も読んで欲しいです。


Authors
*******

GitはLinus Torvalds(リーナス トーバルズ)によって開始され、現在はJunio C
Hamano(濱野 純)によって保守されています。Gitメーリングリスト
<git@vger.kernel.org (mailto:git@vger.kernel.org)> から多くの貢献があり
ました。 http://www.openhub.net/p/git/contributors/summary
(http://www.openhub.net/p/git/contributors/summary) は、貢献者のより完全
なリストを提供します。

   あなたが git.git 自体のクローンを持っている場合、 git-shortlog(1) と
git-blame(1) の出力は、プロジェクトの特定の部分の作者を表示することがで
きます。


Reporting Bugs
**************

開発とメンテナンスが主に行われるGitメーリングリスト <git@vger.kernel.org
(mailto:git@vger.kernel.org)> にバグを報告してください。そこにメッセージ
を送信するためにリストに登録する必要はありません。以前のバグレポートやそ
の他の議論については、 https://lore.kernel.org/git
(https://lore.kernel.org/git) メーリングリストアーカイブを参照してくださ
い。

   セキュリティに関連する問題は、Gitセキュリティメーリングリスト
<git-security@googlegroups.com (mailto:git-security@googlegroups.com)> に
非公開で投稿する必要があります。


SEE ALSO
********

gittutorial(7), gittutorial-2(7), giteveryday(7), gitcvs-migration(7),
gitglossary(7), gitcore-tutorial(7), gitcli(7), The Git User’s Manual
(user-manual.html), gitworkflows(7)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitattributes,  Up: Top

Name
****

gitattributes — Defining attributes per path


Synopsis
********

$GIT_DIR/info/attributes, .gitattributes


DESCRIPTION
***********

A ‘gitattributes’ file is a simple text file that gives ‘attributes’ to
pathnames.

   Each line in ‘gitattributes’ file is of form:

     pattern attr1 attr2 ...

   That is, a pattern followed by an attributes list, separated by
whitespaces.  Leading and trailing whitespaces are ignored.  Lines that
begin with _#_ are ignored.  Patterns that begin with a double quote are
quoted in C style.  When the pattern matches the path in question, the
attributes listed on the line are given to the path.

   Each attribute can be in one of these states for a given path:

Set
     The path has the attribute with special value "true"; this is
     specified by listing only the name of the attribute in the
     attribute list.

Unset
     The path has the attribute with special value "false"; this is
     specified by listing the name of the attribute prefixed with a dash
     ‘-’ in the attribute list.

Set to a value
     The path has the attribute with specified string value; this is
     specified by listing the name of the attribute followed by an equal
     sign ‘=’ and its value in the attribute list.

Unspecified
     No pattern matches the path, and nothing says if the path has or
     does not have the attribute, the attribute for the path is said to
     be Unspecified.

   When more than one pattern matches the path, a later line overrides
an earlier line.  This overriding is done per attribute.

   The rules by which the pattern matches paths are the same as in
‘.gitignore’ files (see gitignore(5)), with a few exceptions:

   • negative patterns are forbidden

   • patterns that match a directory do not recursively match paths
     inside that directory (so using the trailing-slash ‘path/’ syntax
     is pointless in an attributes file; use ‘path/**’ instead)

   When deciding what attributes are assigned to a path, Git consults
‘$GIT_DIR/info/attributes’ file (which has the highest precedence),
‘.gitattributes’ file in the same directory as the path in question, and
its parent directories up to the toplevel of the work tree (the further
the directory that contains ‘.gitattributes’ is from the path in
question, the lower its precedence).  Finally global and system-wide
files are considered (they have the lowest precedence).

   When the ‘.gitattributes’ file is missing from the work tree, the
path in the index is used as a fall-back.  During checkout process,
‘.gitattributes’ in the index is used and then the file in the working
tree is used as a fall-back.

   If you wish to affect only a single repository (i.e., to assign
attributes to files that are particular to one user’s workflow for that
repository), then attributes should be placed in the
‘$GIT_DIR/info/attributes’ file.  Attributes which should be
version-controlled and distributed to other repositories (i.e.,
attributes of interest to all users) should go into ‘.gitattributes’
files.  Attributes that should affect all repositories for a single user
should be placed in a file specified by the ‘core.attributesFile’
configuration option (see git-config(1)).  Its default value is
$XDG_CONFIG_HOME/git/attributes.  If $XDG_CONFIG_HOME is either not set
or empty, $HOME/.config/git/attributes is used instead.  Attributes for
all users on a system should be placed in the
‘$(prefix)/etc/gitattributes’ file.

   Sometimes you would need to override a setting of an attribute for a
path to ‘Unspecified’ state.  This can be done by listing the name of
the attribute prefixed with an exclamation point ‘!’.


EFFECTS
*******

Certain operations by Git can be influenced by assigning particular
attributes to a path.  Currently, the following operations are
attributes-aware.


Checking-out and checking-in
============================

These attributes affect how the contents stored in the repository are
copied to the working tree files when commands such as _git switch_,
_git checkout_ and _git merge_ run.  They also affect how Git stores the
contents you prepare in the working tree in the repository upon _git
add_ and _git commit_.


text
----

This attribute enables and controls end-of-line normalization.  When a
text file is normalized, its line endings are converted to LF in the
repository.  To control what line ending style is used in the working
directory, use the ‘eol’ attribute for a single file and the ‘core.eol’
configuration variable for all text files.  Note that setting
‘core.autocrlf’ to ‘true’ or ‘input’ overrides ‘core.eol’ (see the
definitions of those options in git-config(1)).

Set
     Setting the ‘text’ attribute on a path enables end-of-line
     normalization and marks the path as a text file.  End-of-line
     conversion takes place without guessing the content type.

Unset
     Unsetting the ‘text’ attribute on a path tells Git not to attempt
     any end-of-line conversion upon checkin or checkout.

Set to string value "auto"
     When ‘text’ is set to "auto", the path is marked for automatic
     end-of-line conversion.  If Git decides that the content is text,
     its line endings are converted to LF on checkin.  When the file has
     been committed with CRLF, no conversion is done.

Unspecified
     If the ‘text’ attribute is unspecified, Git uses the
     ‘core.autocrlf’ configuration variable to determine if the file
     should be converted.

   Any other value causes Git to act as if ‘text’ has been left
unspecified.


eol
---

This attribute sets a specific line-ending style to be used in the
working directory.  It enables end-of-line conversion without any
content checks, effectively setting the ‘text’ attribute.  Note that
setting this attribute on paths which are in the index with CRLF line
endings may make the paths to be considered dirty.  Adding the path to
the index again will normalize the line endings in the index.

Set to string value "crlf"
     This setting forces Git to normalize line endings for this file on
     checkin and convert them to CRLF when the file is checked out.

Set to string value "lf"
     This setting forces Git to normalize line endings to LF on checkin
     and prevents conversion to CRLF when the file is checked out.


Backwards compatibility with crlf attribute
-------------------------------------------

For backwards compatibility, the ‘crlf’ attribute is interpreted as
follows:

     crlf            text
     -crlf           -text
     crlf=input      eol=lf


End-of-line conversion
----------------------

While Git normally leaves file contents alone, it can be configured to
normalize line endings to LF in the repository and, optionally, to
convert them to CRLF when files are checked out.

   If you simply want to have CRLF line endings in your working
directory regardless of the repository you are working with, you can set
the config variable "core.autocrlf" without using any attributes.

     [core]
             autocrlf = true

   This does not force normalization of text files, but does ensure that
text files that you introduce to the repository have their line endings
normalized to LF when they are added, and that files that are already
normalized in the repository stay normalized.

   If you want to ensure that text files that any contributor introduces
to the repository have their line endings normalized, you can set the
‘text’ attribute to "auto" for _all_ files.

     *       text=auto

   The attributes allow a fine-grained control, how the line endings are
converted.  Here is an example that will make Git normalize .txt,
.vcproj and .sh files, ensure that .vcproj files have CRLF and .sh files
have LF in the working directory, and prevent .jpg files from being
normalized regardless of their content.

     *               text=auto
     *.txt           text
     *.vcproj        text eol=crlf
     *.sh            text eol=lf
     *.jpg           -text

     *Note*

     When ‘text=auto’ conversion is enabled in a cross-platform project
     using push and pull to a central repository the text files
     containing CRLFs should be normalized.

   From a clean working directory:

     $ echo "* text=auto" >.gitattributes
     $ git add --renormalize .
     $ git status        # Show files that will be normalized
     $ git commit -m "Introduce end-of-line normalization"

   If any files that should not be normalized show up in _git status_,
unset their ‘text’ attribute before running _git add -u_.

     manual.pdf      -text

   Conversely, text files that Git does not detect can have
normalization enabled manually.

     weirdchars.txt  text

   If ‘core.safecrlf’ is set to "true" or "warn", Git verifies if the
conversion is reversible for the current setting of ‘core.autocrlf’.
For "true", Git rejects irreversible conversions; for "warn", Git only
prints a warning but accepts an irreversible conversion.  The safety
triggers to prevent such a conversion done to the files in the work
tree, but there are a few exceptions.  Even though…

   • _git add_ itself does not touch the files in the work tree, the
     next checkout would, so the safety triggers;

   • _git apply_ to update a text file with a patch does touch the files
     in the work tree, but the operation is about text files and CRLF
     conversion is about fixing the line ending inconsistencies, so the
     safety does not trigger;

   • _git diff_ itself does not touch the files in the work tree, it is
     often run to inspect the changes you intend to next _git add_.  To
     catch potential problems early, safety triggers.


working-tree-encoding
---------------------

Git recognizes files encoded in ASCII or one of its supersets (e.g.
UTF-8, ISO-8859-1, …) as text files.  Files encoded in certain other
encodings (e.g.  UTF-16) are interpreted as binary and consequently
built-in Git text processing tools (e.g.  _git diff_) as well as most
Git web front ends do not visualize the contents of these files by
default.

   In these cases you can tell Git the encoding of a file in the working
directory with the ‘working-tree-encoding’ attribute.  If a file with
this attribute is added to Git, then Git re-encodes the content from the
specified encoding to UTF-8.  Finally, Git stores the UTF-8 encoded
content in its internal data structure (called "the index").  On
checkout the content is re-encoded back to the specified encoding.

   Please note that using the ‘working-tree-encoding’ attribute may have
a number of pitfalls:

   • Alternative Git implementations (e.g.  JGit or libgit2) and older
     Git versions (as of March 2018) do not support the
     ‘working-tree-encoding’ attribute.  If you decide to use the
     ‘working-tree-encoding’ attribute in your repository, then it is
     strongly recommended to ensure that all clients working with the
     repository support it.

     For example, Microsoft Visual Studio resources files (‘*.rc’) or
     PowerShell script files (‘*.ps1’) are sometimes encoded in UTF-16.
     If you declare ‘*.ps1’ as files as UTF-16 and you add ‘foo.ps1’
     with a ‘working-tree-encoding’ enabled Git client, then ‘foo.ps1’
     will be stored as UTF-8 internally.  A client without
     ‘working-tree-encoding’ support will checkout ‘foo.ps1’ as UTF-8
     encoded file.  This will typically cause trouble for the users of
     this file.

     If a Git client that does not support the ‘working-tree-encoding’
     attribute adds a new file ‘bar.ps1’, then ‘bar.ps1’ will be stored
     "as-is" internally (in this example probably as UTF-16).  A client
     with ‘working-tree-encoding’ support will interpret the internal
     contents as UTF-8 and try to convert it to UTF-16 on checkout.
     That operation will fail and cause an error.

   • Reencoding content to non-UTF encodings can cause errors as the
     conversion might not be UTF-8 round trip safe.  If you suspect your
     encoding to not be round trip safe, then add it to
     ‘core.checkRoundtripEncoding’ to make Git check the round trip
     encoding (see git-config(1)).  SHIFT-JIS (Japanese character set)
     is known to have round trip issues with UTF-8 and is checked by
     default.

   • Reencoding content requires resources that might slow down certain
     Git operations (e.g _git checkout_ or _git add_).

   Use the ‘working-tree-encoding’ attribute only if you cannot store a
file in UTF-8 encoding and if you want Git to be able to process the
content as text.

   As an example, use the following attributes if your _*.ps1_ files are
UTF-16 encoded with byte order mark (BOM) and you want Git to perform
automatic line ending conversion based on your platform.

     *.ps1           text working-tree-encoding=UTF-16

   Use the following attributes if your _*.ps1_ files are UTF-16 little
endian encoded without BOM and you want Git to use Windows line endings
in the working directory (use ‘UTF-16LE-BOM’ instead of ‘UTF-16LE’ if
you want UTF-16 little endian with BOM). Please note, it is highly
recommended to explicitly define the line endings with ‘eol’ if the
‘working-tree-encoding’ attribute is used to avoid ambiguity.

     *.ps1           text working-tree-encoding=UTF-16LE eol=CRLF

   You can get a list of all available encodings on your platform with
the following command:

     iconv --list

   If you do not know the encoding of a file, then you can use the
‘file’ command to guess the encoding:

     file foo.ps1


ident
-----

When the attribute ‘ident’ is set for a path, Git replaces ‘$Id$’ in the
blob object with ‘$Id:’, followed by the 40-character hexadecimal blob
object name, followed by a dollar sign ‘$’ upon checkout.  Any byte
sequence that begins with ‘$Id:’ and ends with ‘$’ in the worktree file
is replaced with ‘$Id$’ upon check-in.


filter
------

A ‘filter’ attribute can be set to a string value that names a filter
driver specified in the configuration.

   A filter driver consists of a ‘clean’ command and a ‘smudge’ command,
either of which can be left unspecified.  Upon checkout, when the
‘smudge’ command is specified, the command is fed the blob object from
its standard input, and its standard output is used to update the
worktree file.  Similarly, the ‘clean’ command is used to convert the
contents of worktree file upon checkin.  By default these commands
process only a single blob and terminate.  If a long running ‘process’
filter is used in place of ‘clean’ and/or ‘smudge’ filters, then Git can
process all blobs with a single filter command invocation for the entire
life of a single Git command, for example ‘git add --all’.  If a long
running ‘process’ filter is configured then it always takes precedence
over a configured single blob filter.  See section below for the
description of the protocol used to communicate with a ‘process’ filter.

   One use of the content filtering is to massage the content into a
shape that is more convenient for the platform, filesystem, and the user
to use.  For this mode of operation, the key phrase here is "more
convenient" and not "turning something unusable into usable".  In other
words, the intent is that if someone unsets the filter driver
definition, or does not have the appropriate filter program, the project
should still be usable.

   Another use of the content filtering is to store the content that
cannot be directly used in the repository (e.g.  a UUID that refers to
the true content stored outside Git, or an encrypted content) and turn
it into a usable form upon checkout (e.g.  download the external
content, or decrypt the encrypted content).

   These two filters behave differently, and by default, a filter is
taken as the former, massaging the contents into more convenient shape.
A missing filter driver definition in the config, or a filter driver
that exits with a non-zero status, is not an error but makes the filter
a no-op passthru.

   You can declare that a filter turns a content that by itself is
unusable into a usable content by setting the filter.<driver>.required
configuration variable to ‘true’.

   Note: Whenever the clean filter is changed, the repo should be
renormalized: $ git add –renormalize .

   For example, in .gitattributes, you would assign the ‘filter’
attribute for paths.

     *.c     filter=indent

   Then you would define a "filter.indent.clean" and
"filter.indent.smudge" configuration in your .git/config to specify a
pair of commands to modify the contents of C programs when the source
files are checked in ("clean" is run) and checked out (no change is made
because the command is "cat").

     [filter "indent"]
             clean = indent
             smudge = cat

   For best results, ‘clean’ should not alter its output further if it
is run twice ("clean→clean" should be equivalent to "clean"), and
multiple ‘smudge’ commands should not alter ‘clean’’s output
("smudge→smudge→clean" should be equivalent to "clean").  See the
section on merging below.

   The "indent" filter is well-behaved in this regard: it will not
modify input that is already correctly indented.  In this case, the lack
of a smudge filter means that the clean filter _must_ accept its own
output without modifying it.

   If a filter _must_ succeed in order to make the stored contents
usable, you can declare that the filter is ‘required’, in the
configuration:

     [filter "crypt"]
             clean = openssl enc ...
             smudge = openssl enc -d ...
             required

   Sequence "%f" on the filter command line is replaced with the name of
the file the filter is working on.  A filter might use this in keyword
substitution.  For example:

     [filter "p4"]
             clean = git-p4-filter --clean %f
             smudge = git-p4-filter --smudge %f

   Note that "%f" is the name of the path that is being worked on.
Depending on the version that is being filtered, the corresponding file
on disk may not exist, or may have different contents.  So, smudge and
clean commands should not try to access the file on disk, but only act
as filters on the content provided to them on standard input.


Long Running Filter Process
---------------------------

If the filter command (a string value) is defined via
‘filter.<driver>.process’ then Git can process all blobs with a single
filter invocation for the entire life of a single Git command.  This is
achieved by using the long-running process protocol (described in
technical/long-running-process-protocol.txt).

   When Git encounters the first file that needs to be cleaned or
smudged, it starts the filter and performs the handshake.  In the
handshake, the welcome message sent by Git is "git-filter-client", only
version 2 is supported, and the supported capabilities are "clean",
"smudge", and "delay".

   Afterwards Git sends a list of "key=value" pairs terminated with a
flush packet.  The list will contain at least the filter command (based
on the supported capabilities) and the pathname of the file to filter
relative to the repository root.  Right after the flush packet Git sends
the content split in zero or more pkt-line packets and a flush packet to
terminate content.  Please note, that the filter must not send any
response before it received the content and the final flush packet.
Also note that the "value" of a "key=value" pair can contain the "="
character whereas the key would never contain that character.

     packet:          git> command=smudge
     packet:          git> pathname=path/testfile.dat
     packet:          git> 0000
     packet:          git> CONTENT
     packet:          git> 0000

   The filter is expected to respond with a list of "key=value" pairs
terminated with a flush packet.  If the filter does not experience
problems then the list must contain a "success" status.  Right after
these packets the filter is expected to send the content in zero or more
pkt-line packets and a flush packet at the end.  Finally, a second list
of "key=value" pairs terminated with a flush packet is expected.  The
filter can change the status in the second list or keep the status as is
with an empty list.  Please note that the empty list must be terminated
with a flush packet regardless.

     packet:          git< status=success
     packet:          git< 0000
     packet:          git< SMUDGED_CONTENT
     packet:          git< 0000
     packet:          git< 0000  # empty list, keep "status=success" unchanged!

   If the result content is empty then the filter is expected to respond
with a "success" status and a flush packet to signal the empty content.

     packet:          git< status=success
     packet:          git< 0000
     packet:          git< 0000  # empty content!
     packet:          git< 0000  # empty list, keep "status=success" unchanged!

   In case the filter cannot or does not want to process the content, it
is expected to respond with an "error" status.

     packet:          git< status=error
     packet:          git< 0000

   If the filter experiences an error during processing, then it can
send the status "error" after the content was (partially or completely)
sent.

     packet:          git< status=success
     packet:          git< 0000
     packet:          git< HALF_WRITTEN_ERRONEOUS_CONTENT
     packet:          git< 0000
     packet:          git< status=error
     packet:          git< 0000

   In case the filter cannot or does not want to process the content as
well as any future content for the lifetime of the Git process, then it
is expected to respond with an "abort" status at any point in the
protocol.

     packet:          git< status=abort
     packet:          git< 0000

   Git neither stops nor restarts the filter process in case the
"error"/"abort" status is set.  However, Git sets its exit code
according to the ‘filter.<driver>.required’ flag, mimicking the behavior
of the ‘filter.<driver>.clean’ / ‘filter.<driver>.smudge’ mechanism.

   If the filter dies during the communication or does not adhere to the
protocol then Git will stop the filter process and restart it with the
next file that needs to be processed.  Depending on the
‘filter.<driver>.required’ flag Git will interpret that as error.


Delay
-----

If the filter supports the "delay" capability, then Git can send the
flag "can-delay" after the filter command and pathname.  This flag
denotes that the filter can delay filtering the current blob (e.g.  to
compensate network latencies) by responding with no content but with the
status "delayed" and a flush packet.

     packet:          git> command=smudge
     packet:          git> pathname=path/testfile.dat
     packet:          git> can-delay=1
     packet:          git> 0000
     packet:          git> CONTENT
     packet:          git> 0000
     packet:          git< status=delayed
     packet:          git< 0000

   If the filter supports the "delay" capability then it must support
the "list_available_blobs" command.  If Git sends this command, then the
filter is expected to return a list of pathnames representing blobs that
have been delayed earlier and are now available.  The list must be
terminated with a flush packet followed by a "success" status that is
also terminated with a flush packet.  If no blobs for the delayed paths
are available, yet, then the filter is expected to block the response
until at least one blob becomes available.  The filter can tell Git that
it has no more delayed blobs by sending an empty list.  As soon as the
filter responds with an empty list, Git stops asking.  All blobs that
Git has not received at this point are considered missing and will
result in an error.

     packet:          git> command=list_available_blobs
     packet:          git> 0000
     packet:          git< pathname=path/testfile.dat
     packet:          git< pathname=path/otherfile.dat
     packet:          git< 0000
     packet:          git< status=success
     packet:          git< 0000

   After Git received the pathnames, it will request the corresponding
blobs again.  These requests contain a pathname and an empty content
section.  The filter is expected to respond with the smudged content in
the usual way as explained above.

     packet:          git> command=smudge
     packet:          git> pathname=path/testfile.dat
     packet:          git> 0000
     packet:          git> 0000  # empty content!
     packet:          git< status=success
     packet:          git< 0000
     packet:          git< SMUDGED_CONTENT
     packet:          git< 0000
     packet:          git< 0000  # empty list, keep "status=success" unchanged!


Example
-------

A long running filter demo implementation can be found in
‘contrib/long-running-filter/example.pl’ located in the Git core
repository.  If you develop your own long running filter process then
the ‘GIT_TRACE_PACKET’ environment variables can be very helpful for
debugging (see git(1)).

   Please note that you cannot use an existing ‘filter.<driver>.clean’
or ‘filter.<driver>.smudge’ command with ‘filter.<driver>.process’
because the former two use a different inter process communication
protocol than the latter one.


Interaction between checkin/checkout attributes
-----------------------------------------------

In the check-in codepath, the worktree file is first converted with
‘filter’ driver (if specified and corresponding driver defined), then
the result is processed with ‘ident’ (if specified), and then finally
with ‘text’ (again, if specified and applicable).

   In the check-out codepath, the blob content is first converted with
‘text’, and then ‘ident’ and fed to ‘filter’.


Merging branches with differing checkin/checkout attributes
-----------------------------------------------------------

If you have added attributes to a file that cause the canonical
repository format for that file to change, such as adding a clean/smudge
filter or text/eol/ident attributes, merging anything where the
attribute is not in place would normally cause merge conflicts.

   To prevent these unnecessary merge conflicts, Git can be told to run
a virtual check-out and check-in of all three stages of a file when
resolving a three-way merge by setting the ‘merge.renormalize’
configuration variable.  This prevents changes caused by check-in
conversion from causing spurious merge conflicts when a converted file
is merged with an unconverted file.

   As long as a "smudge→clean" results in the same output as a "clean"
even on files that are already smudged, this strategy will automatically
resolve all filter-related conflicts.  Filters that do not act in this
way may cause additional merge conflicts that must be resolved manually.


Generating diff text
====================


diff
----

The attribute ‘diff’ affects how Git generates diffs for particular
files.  It can tell Git whether to generate a textual patch for the path
or to treat the path as a binary file.  It can also affect what line is
shown on the hunk header ‘@@ -k,l +n,m @@’ line, tell Git to use an
external command to generate the diff, or ask Git to convert binary
files to a text format before generating the diff.

Set
     A path to which the ‘diff’ attribute is set is treated as text,
     even when they contain byte values that normally never appear in
     text files, such as NUL.

Unset
     A path to which the ‘diff’ attribute is unset will generate ‘Binary
     files differ’ (or a binary patch, if binary patches are enabled).

Unspecified
     A path to which the ‘diff’ attribute is unspecified first gets its
     contents inspected, and if it looks like text and is smaller than
     core.bigFileThreshold, it is treated as text.  Otherwise it would
     generate ‘Binary files differ’.

String
     Diff is shown using the specified diff driver.  Each driver may
     specify one or more options, as described in the following section.
     The options for the diff driver "foo" are defined by the
     configuration variables in the "diff.foo" section of the Git config
     file.


Defining an external diff driver
--------------------------------

The definition of a diff driver is done in ‘gitconfig’, not
‘gitattributes’ file, so strictly speaking this manual page is a wrong
place to talk about it.  However…

   To define an external diff driver ‘jcdiff’, add a section to your
‘$GIT_DIR/config’ file (or ‘$HOME/.gitconfig’ file) like this:

     [diff "jcdiff"]
             command = j-c-diff

   When Git needs to show you a diff for the path with ‘diff’ attribute
set to ‘jcdiff’, it calls the command you specified with the above
configuration, i.e.  ‘j-c-diff’, with 7 parameters, just like
‘GIT_EXTERNAL_DIFF’ program is called.  See git(1) for details.


Defining a custom hunk-header
-----------------------------

Each group of changes (called a "hunk") in the textual diff output is
prefixed with a line of the form:

     @@ -k,l +n,m @@ TEXT

   This is called a _hunk header_.  The "TEXT" portion is by default a
line that begins with an alphabet, an underscore or a dollar sign; this
matches what GNU _diff -p_ output uses.  This default selection however
is not suited for some contents, and you can use a customized pattern to
make a selection.

   First, in .gitattributes, you would assign the ‘diff’ attribute for
paths.

     *.tex   diff=tex

   Then, you would define a "diff.tex.xfuncname" configuration to
specify a regular expression that matches a line that you would want to
appear as the hunk header "TEXT". Add a section to your
‘$GIT_DIR/config’ file (or ‘$HOME/.gitconfig’ file) like this:

     [diff "tex"]
             xfuncname = "^(\\\\(sub)*section\\{.*)$"

   Note.  A single level of backslashes are eaten by the configuration
file parser, so you would need to double the backslashes; the pattern
above picks a line that begins with a backslash, and zero or more
occurrences of ‘sub’ followed by ‘section’ followed by open brace, to
the end of line.

   There are a few built-in patterns to make this easier, and ‘tex’ is
one of them, so you do not have to write the above in your configuration
file (you still need to enable this with the attribute mechanism, via
‘.gitattributes’).  The following built in patterns are available:

   • ‘ada’ suitable for source code in the Ada language.

   • ‘bash’ suitable for source code in the Bourne-Again SHell language.
     Covers a superset of POSIX shell function definitions.

   • ‘bibtex’ suitable for files with BibTeX coded references.

   • ‘cpp’ suitable for source code in the C and C++ languages.

   • ‘csharp’ suitable for source code in the C# language.

   • ‘css’ suitable for cascading style sheets.

   • ‘dts’ suitable for devicetree (DTS) files.

   • ‘elixir’ suitable for source code in the Elixir language.

   • ‘fortran’ suitable for source code in the Fortran language.

   • ‘fountain’ suitable for Fountain documents.

   • ‘golang’ suitable for source code in the Go language.

   • ‘html’ suitable for HTML/XHTML documents.

   • ‘java’ suitable for source code in the Java language.

   • ‘markdown’ suitable for Markdown documents.

   • ‘matlab’ suitable for source code in the MATLAB and Octave
     languages.

   • ‘objc’ suitable for source code in the Objective-C language.

   • ‘pascal’ suitable for source code in the Pascal/Delphi language.

   • ‘perl’ suitable for source code in the Perl language.

   • ‘php’ suitable for source code in the PHP language.

   • ‘python’ suitable for source code in the Python language.

   • ‘ruby’ suitable for source code in the Ruby language.

   • ‘rust’ suitable for source code in the Rust language.

   • ‘scheme’ suitable for source code in the Scheme language.

   • ‘tex’ suitable for source code for LaTeX documents.


Customizing word diff
---------------------

You can customize the rules that ‘git diff --word-diff’ uses to split
words in a line, by specifying an appropriate regular expression in the
"diff.*.wordRegex" configuration variable.  For example, in TeX a
backslash followed by a sequence of letters forms a command, but several
such commands can be run together without intervening whitespace.  To
separate them, use a regular expression in your ‘$GIT_DIR/config’ file
(or ‘$HOME/.gitconfig’ file) like this:

     [diff "tex"]
             wordRegex = "\\\\[a-zA-Z]+|[{}]|\\\\.|[^\\{}[:space:]]+"

   A built-in pattern is provided for all languages listed in the
previous section.


Performing text diffs of binary files
-------------------------------------

Sometimes it is desirable to see the diff of a text-converted version of
some binary files.  For example, a word processor document can be
converted to an ASCII text representation, and the diff of the text
shown.  Even though this conversion loses some information, the
resulting diff is useful for human viewing (but cannot be applied
directly).

   The ‘textconv’ config option is used to define a program for
performing such a conversion.  The program should take a single
argument, the name of a file to convert, and produce the resulting text
on stdout.

   For example, to show the diff of the exif information of a file
instead of the binary information (assuming you have the exif tool
installed), add the following section to your ‘$GIT_DIR/config’ file (or
‘$HOME/.gitconfig’ file):

     [diff "jpg"]
             textconv = exif

     *Note*

     The text conversion is generally a one-way conversion; in this
     example, we lose the actual image contents and focus just on the
     text data.  This means that diffs generated by textconv are _not_
     suitable for applying.  For this reason, only ‘git diff’ and the
     ‘git log’ family of commands (i.e., log, whatchanged, show) will
     perform text conversion.  ‘git format-patch’ will never generate
     this output.  If you want to send somebody a text-converted diff of
     a binary file (e.g., because it quickly conveys the changes you
     have made), you should generate it separately and send it as a
     comment _in addition to_ the usual binary diff that you might send.

   Because text conversion can be slow, especially when doing a large
number of them with ‘git log -p’, Git provides a mechanism to cache the
output and use it in future diffs.  To enable caching, set the
"cachetextconv" variable in your diff driver’s config.  For example:

     [diff "jpg"]
             textconv = exif
             cachetextconv = true

   This will cache the result of running "exif" on each blob
indefinitely.  If you change the textconv config variable for a diff
driver, Git will automatically invalidate the cache entries and re-run
the textconv filter.  If you want to invalidate the cache manually
(e.g., because your version of "exif" was updated and now produces
better output), you can remove the cache manually with ‘git update-ref
-d refs/notes/textconv/jpg’ (where "jpg" is the name of the diff driver,
as in the example above).


Choosing textconv versus external diff
--------------------------------------

If you want to show differences between binary or specially-formatted
blobs in your repository, you can choose to use either an external diff
command, or to use textconv to convert them to a diff-able text format.
Which method you choose depends on your exact situation.

   The advantage of using an external diff command is flexibility.  You
are not bound to find line-oriented changes, nor is it necessary for the
output to resemble unified diff.  You are free to locate and report
changes in the most appropriate way for your data format.

   A textconv, by comparison, is much more limiting.  You provide a
transformation of the data into a line-oriented text format, and Git
uses its regular diff tools to generate the output.  There are several
advantages to choosing this method:

  1. Ease of use.  It is often much simpler to write a binary to text
     transformation than it is to perform your own diff.  In many cases,
     existing programs can be used as textconv filters (e.g., exif,
     odt2txt).

  2. Git diff features.  By performing only the transformation step
     yourself, you can still utilize many of Git’s diff features,
     including colorization, word-diff, and combined diffs for merges.

  3. Caching.  Textconv caching can speed up repeated diffs, such as
     those you might trigger by running ‘git log -p’.


Marking files as binary
-----------------------

Git usually guesses correctly whether a blob contains text or binary
data by examining the beginning of the contents.  However, sometimes you
may want to override its decision, either because a blob contains binary
data later in the file, or because the content, while technically
composed of text characters, is opaque to a human reader.  For example,
many postscript files contain only ASCII characters, but produce noisy
and meaningless diffs.

   The simplest way to mark a file as binary is to unset the diff
attribute in the ‘.gitattributes’ file:

     *.ps -diff

   This will cause Git to generate ‘Binary files differ’ (or a binary
patch, if binary patches are enabled) instead of a regular diff.

   However, one may also want to specify other diff driver attributes.
For example, you might want to use ‘textconv’ to convert postscript
files to an ASCII representation for human viewing, but otherwise treat
them as binary files.  You cannot specify both ‘-diff’ and ‘diff=ps’
attributes.  The solution is to use the ‘diff.*.binary’ config option:

     [diff "ps"]
       textconv = ps2ascii
       binary = true


Performing a three-way merge
============================


merge
-----

The attribute ‘merge’ affects how three versions of a file are merged
when a file-level merge is necessary during ‘git merge’, and other
commands such as ‘git revert’ and ‘git cherry-pick’.

Set
     Built-in 3-way merge driver is used to merge the contents in a way
     similar to _merge_ command of ‘RCS’ suite.  This is suitable for
     ordinary text files.

Unset
     Take the version from the current branch as the tentative merge
     result, and declare that the merge has conflicts.  This is suitable
     for binary files that do not have a well-defined merge semantics.

Unspecified
     By default, this uses the same built-in 3-way merge driver as is
     the case when the ‘merge’ attribute is set.  However, the
     ‘merge.default’ configuration variable can name different merge
     driver to be used with paths for which the ‘merge’ attribute is
     unspecified.

String
     3-way merge is performed using the specified custom merge driver.
     The built-in 3-way merge driver can be explicitly specified by
     asking for "text" driver; the built-in "take the current branch"
     driver can be requested with "binary".


Built-in merge drivers
----------------------

There are a few built-in low-level merge drivers defined that can be
asked for via the ‘merge’ attribute.

text
     Usual 3-way file level merge for text files.  Conflicted regions
     are marked with conflict markers ‘<<<<<<<’, ‘=======’ and
     ‘>>>>>>>’.  The version from your branch appears before the
     ‘=======’ marker, and the version from the merged branch appears
     after the ‘=======’ marker.

binary
     Keep the version from your branch in the work tree, but leave the
     path in the conflicted state for the user to sort out.

union
     Run 3-way file level merge for text files, but take lines from both
     versions, instead of leaving conflict markers.  This tends to leave
     the added lines in the resulting file in random order and the user
     should verify the result.  Do not use this if you do not understand
     the implications.


Defining a custom merge driver
------------------------------

The definition of a merge driver is done in the ‘.git/config’ file, not
in the ‘gitattributes’ file, so strictly speaking this manual page is a
wrong place to talk about it.  However…

   To define a custom merge driver ‘filfre’, add a section to your
‘$GIT_DIR/config’ file (or ‘$HOME/.gitconfig’ file) like this:

     [merge "filfre"]
             name = feel-free merge driver
             driver = filfre %O %A %B %L %P
             recursive = binary

   The ‘merge.*.name’ variable gives the driver a human-readable name.

   The ‘merge.*.driver‘ variable’s value is used to construct a command
to run to merge ancestor’s version (‘%O’), current version (‘%A’) and
the other branches’ version (‘%B’).  These three tokens are replaced
with the names of temporary files that hold the contents of these
versions when the command line is built.  Additionally, %L will be
replaced with the conflict marker size (see below).

   The merge driver is expected to leave the result of the merge in the
file named with ‘%A’ by overwriting it, and exit with zero status if it
managed to merge them cleanly, or non-zero if there were conflicts.

   The ‘merge.*.recursive’ variable specifies what other merge driver to
use when the merge driver is called for an internal merge between common
ancestors, when there are more than one.  When left unspecified, the
driver itself is used for both internal merge and the final merge.

   The merge driver can learn the pathname in which the merged result
will be stored via placeholder ‘%P’.


conflict-marker-size
--------------------

This attribute controls the length of conflict markers left in the work
tree file during a conflicted merge.  Only setting to the value to a
positive integer has any meaningful effect.

   For example, this line in ‘.gitattributes’ can be used to tell the
merge machinery to leave much longer (instead of the usual
7-character-long) conflict markers when merging the file
‘Documentation/git-merge.txt’ results in a conflict.

     Documentation/git-merge.txt     conflict-marker-size=32


Checking whitespace errors
==========================


whitespace
----------

The ‘core.whitespace’ configuration variable allows you to define what
_diff_ and _apply_ should consider whitespace errors for all paths in
the project (See git-config(1)).  This attribute gives you finer control
per path.

Set
     Notice all types of potential whitespace errors known to Git.  The
     tab width is taken from the value of the ‘core.whitespace’
     configuration variable.

Unset
     Do not notice anything as error.

Unspecified
     Use the value of the ‘core.whitespace’ configuration variable to
     decide what to notice as error.

String
     Specify a comma separate list of common whitespace problems to
     notice in the same format as the ‘core.whitespace’ configuration
     variable.


Creating an archive
===================


export-ignore
-------------

Files and directories with the attribute ‘export-ignore’ won’t be added
to archive files.


export-subst
------------

If the attribute ‘export-subst’ is set for a file then Git will expand
several placeholders when adding this file to an archive.  The expansion
depends on the availability of a commit ID, i.e., if git-archive(1) has
been given a tree instead of a commit or a tag then no replacement will
be done.  The placeholders are the same as those for the option
‘--pretty=format:’ of git-log(1), except that they need to be wrapped
like this: ‘$Format:PLACEHOLDERS$’ in the file.  E.g.  the string
‘$Format:%H$’ will be replaced by the commit hash.  However, only one
‘%(describe)’ placeholder is expanded per archive to avoid
denial-of-service attacks.


Packing objects
===============


delta
-----

Delta compression will not be attempted for blobs for paths with the
attribute ‘delta’ set to false.


Viewing files in GUI tools
==========================


encoding
--------

The value of this attribute specifies the character encoding that should
be used by GUI tools (e.g.  gitk(1) and git-gui(1)) to display the
contents of the relevant file.  Note that due to performance
considerations gitk(1) does not use this attribute unless you manually
enable per-file encodings in its options.

   If this attribute is not set or has an invalid value, the value of
the ‘gui.encoding’ configuration variable is used instead (See
git-config(1)).


USING MACRO ATTRIBUTES
**********************

You do not want any end-of-line conversions applied to, nor textual
diffs produced for, any binary file you track.  You would need to
specify e.g.

     *.jpg -text -diff

   but that may become cumbersome, when you have many attributes.  Using
macro attributes, you can define an attribute that, when set, also sets
or unsets a number of other attributes at the same time.  The system
knows a built-in macro attribute, ‘binary’:

     *.jpg binary

   Setting the "binary" attribute also unsets the "text" and "diff"
attributes as above.  Note that macro attributes can only be "Set",
though setting one might have the effect of setting or unsetting other
attributes or even returning other attributes to the "Unspecified"
state.


DEFINING MACRO ATTRIBUTES
*************************

Custom macro attributes can be defined only in top-level gitattributes
files (‘$GIT_DIR/info/attributes’, the ‘.gitattributes’ file at the top
level of the working tree, or the global or system-wide gitattributes
files), not in ‘.gitattributes’ files in working tree subdirectories.
The built-in macro attribute "binary" is equivalent to:

     [attr]binary -diff -merge -text


NOTES
*****

Git does not follow symbolic links when accessing a ‘.gitattributes’
file in the working tree.  This keeps behavior consistent when the file
is accessed from the index or a tree versus from the filesystem.


EXAMPLES
********

If you have these three ‘gitattributes’ file:

     (in $GIT_DIR/info/attributes)

     a*      foo !bar -baz

     (in .gitattributes)
     abc     foo bar baz

     (in t/.gitattributes)
     ab*     merge=filfre
     abc     -foo -bar
     *.c     frotz

   the attributes given to path ‘t/abc’ are computed as follows:

  1. By examining ‘t/.gitattributes’ (which is in the same directory as
     the path in question), Git finds that the first line matches.
     ‘merge’ attribute is set.  It also finds that the second line
     matches, and attributes ‘foo’ and ‘bar’ are unset.

  2. Then it examines ‘.gitattributes’ (which is in the parent
     directory), and finds that the first line matches, but
     ‘t/.gitattributes’ file already decided how ‘merge’, ‘foo’ and
     ‘bar’ attributes should be given to this path, so it leaves ‘foo’
     and ‘bar’ unset.  Attribute ‘baz’ is set.

  3. Finally it examines ‘$GIT_DIR/info/attributes’.  This file is used
     to override the in-tree settings.  The first line is a match, and
     ‘foo’ is set, ‘bar’ is reverted to unspecified state, and ‘baz’ is
     unset.

   As the result, the attributes assignment to ‘t/abc’ becomes:

     foo     set to true
     bar     unspecified
     baz     set to false
     merge   set to string value "filfre"
     frotz   unspecified


SEE ALSO
********

git-check-attr(1).


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitcli,  Up: Top

Name
****

gitcli — Git command-line interface and conventions


Synopsis
********

gitcli


DESCRIPTION
***********

This manual describes the convention used throughout Git CLI.

   Many commands take revisions (most often "commits", but sometimes
"tree-ish", depending on the context and command) and paths as their
arguments.  Here are the rules:

   • Revisions come first and then paths.  E.g.  in ‘git diff v1.0 v2.0
     arch/x86 include/asm-x86’, ‘v1.0’ and ‘v2.0’ are revisions and
     ‘arch/x86’ and ‘include/asm-x86’ are paths.

   • When an argument can be misunderstood as either a revision or a
     path, they can be disambiguated by placing ‘--’ between them.  E.g.
     ‘git diff -- HEAD’ is, "I have a file called HEAD in my work tree.
     Please show changes between the version I staged in the index and
     what I have in the work tree for that file", not "show difference
     between the HEAD commit and the work tree as a whole".  You can say
     ‘git diff HEAD --’ to ask for the latter.

   • Without disambiguating ‘--’, Git makes a reasonable guess, but
     errors out and asking you to disambiguate when ambiguous.  E.g.  if
     you have a file called HEAD in your work tree, ‘git diff HEAD’ is
     ambiguous, and you have to say either ‘git diff HEAD --’ or ‘git
     diff -- HEAD’ to disambiguate.

   • Because ‘--’ disambiguates revisions and paths in some commands, it
     cannot be used for those commands to separate options and
     revisions.  You can use ‘--end-of-options’ for this (it also works
     for commands that do not distinguish between revisions in paths, in
     which case it is simply an alias for ‘--’).

     When writing a script that is expected to handle random user-input,
     it is a good practice to make it explicit which arguments are which
     by placing disambiguating ‘--’ at appropriate places.

   • Many commands allow wildcards in paths, but you need to protect
     them from getting globbed by the shell.  These two mean different
     things:

          $ git restore *.c
          $ git restore \*.c

     The former lets your shell expand the fileglob, and you are asking
     the dot-C files in your working tree to be overwritten with the
     version in the index.  The latter passes the ‘*.c’ to Git, and you
     are asking the paths in the index that match the pattern to be
     checked out to your working tree.  After running ‘git add hello.c;
     rm hello.c’, you will _not_ see ‘hello.c’ in your working tree with
     the former, but with the latter you will.

   • Just as the filesystem _._  (period) refers to the current
     directory, using a _._  as a repository name in Git (a
     dot-repository) is a relative path and means your current
     repository.

   Here are the rules regarding the "flags" that you should follow when
you are scripting Git:

   • it’s preferred to use the non-dashed form of Git commands, which
     means that you should prefer ‘git foo’ to ‘git-foo’.

   • splitting short options to separate words (prefer ‘git foo -a -b’
     to ‘git foo -ab’, the latter may not even work).

   • when a command-line option takes an argument, use the _stuck_ form.
     In other words, write ‘git foo -oArg’ instead of ‘git foo -o Arg’
     for short options, and ‘git foo --long-opt=Arg’ instead of ‘git foo
     --long-opt Arg’ for long options.  An option that takes optional
     option-argument must be written in the _stuck_ form.

   • when you give a revision parameter to a command, make sure the
     parameter is not ambiguous with a name of a file in the work tree.
     E.g.  do not write ‘git log -1 HEAD’ but write ‘git log -1 HEAD
     --’; the former will not work if you happen to have a file called
     ‘HEAD’ in the work tree.

   • many commands allow a long option ‘--option’ to be abbreviated only
     to their unique prefix (e.g.  if there is no other option whose
     name begins with ‘opt’, you may be able to spell ‘--opt’ to invoke
     the ‘--option’ flag), but you should fully spell them out when
     writing your scripts; later versions of Git may introduce a new
     option whose name shares the same prefix, e.g.  ‘--optimize’, to
     make a short prefix that used to be unique no longer unique.


ENHANCED OPTION PARSER
**********************

From the Git 1.5.4 series and further, many Git commands (not all of
them at the time of the writing though) come with an enhanced option
parser.

   Here is a list of the facilities provided by this option parser.


Magic Options
=============

Commands which have the enhanced option parser activated all understand
a couple of magic command-line options:

‘-h’
     gives a pretty printed usage of the command.

          $ git describe -h
          usage: git describe [<options>] <commit-ish>*
             or: git describe [<options>] --dirty

              --contains            find the tag that comes after the commit
              --debug               debug search strategy on stderr
              --all                 use any ref
              --tags                use any tag, even unannotated
              --long                always use long format
              --abbrev[=<n>]        use <n> digits to display SHA-1s

     Note that some subcommand (e.g.  ‘git grep’) may behave differently
     when there are things on the command line other than ‘-h’, but ‘git
     subcmd -h’ without anything else on the command line is meant to
     consistently give the usage.

‘--help-all’
     Some Git commands take options that are only used for plumbing or
     that are deprecated, and such options are hidden from the default
     usage.  This option gives the full list of options.


Negating options
================

Options with long option names can be negated by prefixing ‘--no-’.  For
example, ‘git branch’ has the option ‘--track’ which is _on_ by default.
You can use ‘--no-track’ to override that behaviour.  The same goes for
‘--color’ and ‘--no-color’.


Aggregating short options
=========================

Commands that support the enhanced option parser allow you to aggregate
short options.  This means that you can for example use ‘git rm -rf’ or
‘git clean -fdx’.


Abbreviating long options
=========================

Commands that support the enhanced option parser accepts unique prefix
of a long option as if it is fully spelled out, but use this with a
caution.  For example, ‘git commit --amen’ behaves as if you typed ‘git
commit --amend’, but that is true only until a later version of Git
introduces another option that shares the same prefix, e.g.  ‘git commit
--amenity’ option.


Separating argument from the option
===================================

You can write the mandatory option parameter to an option as a separate
word on the command line.  That means that all the following uses work:

     $ git foo --long-opt=Arg
     $ git foo --long-opt Arg
     $ git foo -oArg
     $ git foo -o Arg

   However, this is *NOT* allowed for switches with an optional value,
where the _stuck_ form must be used:

     $ git describe --abbrev HEAD     # correct
     $ git describe --abbrev=10 HEAD  # correct
     $ git describe --abbrev 10 HEAD  # NOT WHAT YOU MEANT


NOTES ON FREQUENTLY CONFUSED OPTIONS
************************************

Many commands that can work on files in the working tree and/or in the
index can take ‘--cached’ and/or ‘--index’ options.  Sometimes people
incorrectly think that, because the index was originally called cache,
these two are synonyms.  They are *not* — these two options mean very
different things.

   • The ‘--cached’ option is used to ask a command that usually works
     on files in the working tree to *only* work with the index.  For
     example, ‘git grep’, when used without a commit to specify from
     which commit to look for strings in, usually works on files in the
     working tree, but with the ‘--cached’ option, it looks for strings
     in the index.

   • The ‘--index’ option is used to ask a command that usually works on
     files in the working tree to *also* affect the index.  For example,
     ‘git stash apply’ usually merges changes recorded in a stash entry
     to the working tree, but with the ‘--index’ option, it also merges
     changes to the index as well.

   ‘git apply’ command can be used with ‘--cached’ and ‘--index’ (but
not at the same time).  Usually the command only affects the files in
the working tree, but with ‘--index’, it patches both the files and
their index entries, and with ‘--cached’, it modifies only the index
entries.

   See also
https://lore.kernel.org/git/7v64clg5u9.fsf@assigned-by-dhcp.cox.net/
(https://lore.kernel.org/git/7v64clg5u9.fsf@assigned-by-dhcp.cox.net/)
and
https://lore.kernel.org/git/7vy7ej9g38.fsf@gitster.siamese.dyndns.org/
(https://lore.kernel.org/git/7vy7ej9g38.fsf@gitster.siamese.dyndns.org/)
for further information.

   Some other commands that also work on files in the working tree
and/or in the index can take ‘--staged’ and/or ‘--worktree’.

   • ‘--staged’ is exactly like ‘--cached’, which is used to ask a
     command to only work on the index, not the working tree.

   • ‘--worktree’ is the opposite, to ask a command to work on the
     working tree only, not the index.

   • The two options can be specified together to ask a command to work
     on both the index and the working tree.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitcore-tutorial,  Up: Top

Name
****

gitcore-tutorial — A Git core tutorial for developers


Synopsis
********

git *


DESCRIPTION
***********

This tutorial explains how to use the "core" Git commands to set up and
work with a Git repository.

   If you just need to use Git as a revision control system you may
prefer to start with "A Tutorial Introduction to Git" (gittutorial(7))
or the Git User Manual (user-manual.html).

   However, an understanding of these low-level tools can be helpful if
you want to understand Git’s internals.

   The core Git is often called "plumbing", with the prettier user
interfaces on top of it called "porcelain".  You may not want to use the
plumbing directly very often, but it can be good to know what the
plumbing does when the porcelain isn’t flushing.

   Back when this document was originally written, many porcelain
commands were shell scripts.  For simplicity, it still uses them as
examples to illustrate how plumbing is fit together to form the
porcelain commands.  The source tree includes some of these scripts in
contrib/examples/ for reference.  Although these are not implemented as
shell scripts anymore, the description of what the plumbing layer
commands do is still valid.

     *Note*

     Deeper technical details are often marked as Notes, which you can
     skip on your first reading.


Creating a Git repository
*************************

Creating a new Git repository couldn’t be easier: all Git repositories
start out empty, and the only thing you need to do is find yourself a
subdirectory that you want to use as a working tree - either an empty
one for a totally new project, or an existing working tree that you want
to import into Git.

   For our first example, we’re going to start a totally new repository
from scratch, with no pre-existing files, and we’ll call it
_git-tutorial_.  To start up, create a subdirectory for it, change into
that subdirectory, and initialize the Git infrastructure with _git
init_:

     $ mkdir git-tutorial
     $ cd git-tutorial
     $ git init

   to which Git will reply

     Initialized empty Git repository in .git/

   which is just Git’s way of saying that you haven’t been doing
anything strange, and that it will have created a local ‘.git’ directory
setup for your new project.  You will now have a ‘.git’ directory, and
you can inspect that with _ls_.  For your new empty project, it should
show you three entries, among other things:

   • a file called ‘HEAD’, that has ‘ref: refs/heads/master’ in it.
     This is similar to a symbolic link and points at
     ‘refs/heads/master’ relative to the ‘HEAD’ file.

     Don’t worry about the fact that the file that the ‘HEAD’ link
     points to doesn’t even exist yet — you haven’t created the commit
     that will start your ‘HEAD’ development branch yet.

   • a subdirectory called ‘objects’, which will contain all the objects
     of your project.  You should never have any real reason to look at
     the objects directly, but you might want to know that these objects
     are what contains all the real _data_ in your repository.

   • a subdirectory called ‘refs’, which contains references to objects.

   In particular, the ‘refs’ subdirectory will contain two other
subdirectories, named ‘heads’ and ‘tags’ respectively.  They do exactly
what their names imply: they contain references to any number of
different _heads_ of development (aka _branches_), and to any _tags_
that you have created to name specific versions in your repository.

   One note: the special ‘master’ head is the default branch, which is
why the ‘.git/HEAD’ file was created points to it even if it doesn’t yet
exist.  Basically, the ‘HEAD’ link is supposed to always point to the
branch you are working on right now, and you always start out expecting
to work on the ‘master’ branch.

   However, this is only a convention, and you can name your branches
anything you want, and don’t have to ever even _have_ a ‘master’ branch.
A number of the Git tools will assume that ‘.git/HEAD’ is valid, though.

     *Note*

     An _object_ is identified by its 160-bit SHA-1 hash, aka _object
     name_, and a reference to an object is always the 40-byte hex
     representation of that SHA-1 name.  The files in the ‘refs’
     subdirectory are expected to contain these hex references (usually
     with a final ‘\n’ at the end), and you should thus expect to see a
     number of 41-byte files containing these references in these ‘refs’
     subdirectories when you actually start populating your tree.

     *Note*

     An advanced user may want to take a look at gitrepository-layout(5)
     after finishing this tutorial.

   You have now created your first Git repository.  Of course, since
it’s empty, that’s not very useful, so let’s start populating it with
data.


Populating a Git repository
***************************

We’ll keep this simple and stupid, so we’ll start off with populating a
few trivial files just to get a feel for it.

   Start off with just creating any random files that you want to
maintain in your Git repository.  We’ll start off with a few bad
examples, just to get a feel for how this works:

     $ echo "Hello World" >hello
     $ echo "Silly example" >example

   you have now created two files in your working tree (aka _working
directory_), but to actually check in your hard work, you will have to
go through two steps:

   • fill in the _index_ file (aka _cache_) with the information about
     your working tree state.

   • commit that index file as an object.

   The first step is trivial: when you want to tell Git about any
changes to your working tree, you use the _git update-index_ program.
That program normally just takes a list of filenames you want to update,
but to avoid trivial mistakes, it refuses to add new entries to the
index (or remove existing ones) unless you explicitly tell it that
you’re adding a new entry with the ‘--add’ flag (or removing an entry
with the ‘--remove’) flag.

   So to populate the index with the two files you just created, you can
do

     $ git update-index --add hello example

   and you have now told Git to track those two files.

   In fact, as you did that, if you now look into your object directory,
you’ll notice that Git will have added two new objects to the object
database.  If you did exactly the steps above, you should now be able to
do

     $ ls .git/objects/??/*

   and see two files:

     .git/objects/55/7db03de997c86a4a028e1ebd3a1ceb225be238
     .git/objects/f2/4c74a2e500f5ee1332c86b94199f52b1d1d962

   which correspond with the objects with names of ‘557db...’ and
‘f24c7...’ respectively.

   If you want to, you can use _git cat-file_ to look at those objects,
but you’ll have to use the object name, not the filename of the object:

     $ git cat-file -t 557db03de997c86a4a028e1ebd3a1ceb225be238

   where the ‘-t’ tells _git cat-file_ to tell you what the "type" of
the object is.  Git will tell you that you have a "blob" object (i.e.,
just a regular file), and you can see the contents with

     $ git cat-file blob 557db03

   which will print out "Hello World".  The object ‘557db03’ is nothing
more than the contents of your file ‘hello’.

     *Note*

     Don’t confuse that object with the file ‘hello’ itself.  The object
     is literally just those specific *contents* of the file, and
     however much you later change the contents in file ‘hello’, the
     object we just looked at will never change.  Objects are immutable.

     *Note*

     The second example demonstrates that you can abbreviate the object
     name to only the first several hexadecimal digits in most places.

   Anyway, as we mentioned previously, you normally never actually take
a look at the objects themselves, and typing long 40-character hex names
is not something you’d normally want to do.  The above digression was
just to show that _git update-index_ did something magical, and actually
saved away the contents of your files into the Git object database.

   Updating the index did something else too: it created a ‘.git/index’
file.  This is the index that describes your current working tree, and
something you should be very aware of.  Again, you normally never worry
about the index file itself, but you should be aware of the fact that
you have not actually really "checked in" your files into Git so far,
you’ve only *told* Git about them.

   However, since Git knows about them, you can now start using some of
the most basic Git commands to manipulate the files or look at their
status.

   In particular, let’s not even check in the two files into Git yet,
we’ll start off by adding another line to ‘hello’ first:

     $ echo "It's a new day for git" >>hello

   and you can now, since you told Git about the previous state of
‘hello’, ask Git what has changed in the tree compared to your old
index, using the _git diff-files_ command:

     $ git diff-files

   Oops.  That wasn’t very readable.  It just spit out its own internal
version of a _diff_, but that internal version really just tells you
that it has noticed that "hello" has been modified, and that the old
object contents it had have been replaced with something else.

   To make it readable, we can tell _git diff-files_ to output the
differences as a patch, using the ‘-p’ flag:

     $ git diff-files -p
     diff --git a/hello b/hello
     index 557db03..263414f 100644
     --- a/hello
     +++ b/hello
     @@ -1 +1,2 @@
      Hello World
     +It's a new day for git

   i.e.  the diff of the change we caused by adding another line to
‘hello’.

   In other words, _git diff-files_ always shows us the difference
between what is recorded in the index, and what is currently in the
working tree.  That’s very useful.

   A common shorthand for ‘git diff-files -p’ is to just write ‘git
diff’, which will do the same thing.

     $ git diff
     diff --git a/hello b/hello
     index 557db03..263414f 100644
     --- a/hello
     +++ b/hello
     @@ -1 +1,2 @@
      Hello World
     +It's a new day for git


Committing Git state
********************

Now, we want to go to the next stage in Git, which is to take the files
that Git knows about in the index, and commit them as a real tree.  We
do that in two phases: creating a _tree_ object, and committing that
_tree_ object as a _commit_ object together with an explanation of what
the tree was all about, along with information of how we came to that
state.

   Creating a tree object is trivial, and is done with _git write-tree_.
There are no options or other input: ‘git write-tree’ will take the
current index state, and write an object that describes that whole
index.  In other words, we’re now tying together all the different
filenames with their contents (and their permissions), and we’re
creating the equivalent of a Git "directory" object:

     $ git write-tree

   and this will just output the name of the resulting tree, in this
case (if you have done exactly as I’ve described) it should be

     8988da15d077d4829fc51d8544c097def6644dbb

   which is another incomprehensible object name.  Again, if you want
to, you can use ‘git cat-file -t 8988d...’ to see that this time the
object is not a "blob" object, but a "tree" object (you can also use
‘git cat-file’ to actually output the raw object contents, but you’ll
see mainly a binary mess, so that’s less interesting).

   However — normally you’d never use _git write-tree_ on its own,
because normally you always commit a tree into a commit object using the
_git commit-tree_ command.  In fact, it’s easier to not actually use
_git write-tree_ on its own at all, but to just pass its result in as an
argument to _git commit-tree_.

   _git commit-tree_ normally takes several arguments — it wants to know
what the _parent_ of a commit was, but since this is the first commit
ever in this new repository, and it has no parents, we only need to pass
in the object name of the tree.  However, _git commit-tree_ also wants
to get a commit message on its standard input, and it will write out the
resulting object name for the commit to its standard output.

   And this is where we create the ‘.git/refs/heads/master’ file which
is pointed at by ‘HEAD’.  This file is supposed to contain the reference
to the top-of-tree of the master branch, and since that’s exactly what
_git commit-tree_ spits out, we can do this all with a sequence of
simple shell commands:

     $ tree=$(git write-tree)
     $ commit=$(echo 'Initial commit' | git commit-tree $tree)
     $ git update-ref HEAD $commit

   In this case this creates a totally new commit that is not related to
anything else.  Normally you do this only *once* for a project ever, and
all later commits will be parented on top of an earlier commit.

   Again, normally you’d never actually do this by hand.  There is a
helpful script called ‘git commit’ that will do all of this for you.  So
you could have just written ‘git commit’ instead, and it would have done
the above magic scripting for you.


Making a change
***************

Remember how we did the _git update-index_ on file ‘hello’ and then we
changed ‘hello’ afterward, and could compare the new state of ‘hello’
with the state we saved in the index file?

   Further, remember how I said that _git write-tree_ writes the
contents of the *index* file to the tree, and thus what we just
committed was in fact the *original* contents of the file ‘hello’, not
the new ones.  We did that on purpose, to show the difference between
the index state, and the state in the working tree, and how they don’t
have to match, even when we commit things.

   As before, if we do ‘git diff-files -p’ in our git-tutorial project,
we’ll still see the same difference we saw last time: the index file
hasn’t changed by the act of committing anything.  However, now that we
have committed something, we can also learn to use a new command: _git
diff-index_.

   Unlike _git diff-files_, which showed the difference between the
index file and the working tree, _git diff-index_ shows the differences
between a committed *tree* and either the index file or the working
tree.  In other words, _git diff-index_ wants a tree to be diffed
against, and before we did the commit, we couldn’t do that, because we
didn’t have anything to diff against.

   But now we can do

     $ git diff-index -p HEAD

   (where ‘-p’ has the same meaning as it did in _git diff-files_), and
it will show us the same difference, but for a totally different reason.
Now we’re comparing the working tree not against the index file, but
against the tree we just wrote.  It just so happens that those two are
obviously the same, so we get the same result.

   Again, because this is a common operation, you can also just
shorthand it with

     $ git diff HEAD

   which ends up doing the above for you.

   In other words, _git diff-index_ normally compares a tree against the
working tree, but when given the ‘--cached’ flag, it is told to instead
compare against just the index cache contents, and ignore the current
working tree state entirely.  Since we just wrote the index file to
HEAD, doing ‘git diff-index --cached -p HEAD’ should thus return an
empty set of differences, and that’s exactly what it does.

     *Note*

     _git diff-index_ really always uses the index for its comparisons,
     and saying that it compares a tree against the working tree is thus
     not strictly accurate.  In particular, the list of files to compare
     (the "meta-data") *always* comes from the index file, regardless of
     whether the ‘--cached’ flag is used or not.  The ‘--cached’ flag
     really only determines whether the file *contents* to be compared
     come from the working tree or not.

     This is not hard to understand, as soon as you realize that Git
     simply never knows (or cares) about files that it is not told about
     explicitly.  Git will never go *looking* for files to compare, it
     expects you to tell it what the files are, and that’s what the
     index is there for.

   However, our next step is to commit the *change* we did, and again,
to understand what’s going on, keep in mind the difference between
"working tree contents", "index file" and "committed tree".  We have
changes in the working tree that we want to commit, and we always have
to work through the index file, so the first thing we need to do is to
update the index cache:

     $ git update-index hello

   (note how we didn’t need the ‘--add’ flag this time, since Git knew
about the file already).

   Note what happens to the different _git diff-*_ versions here.  After
we’ve updated ‘hello’ in the index, ‘git diff-files -p’ now shows no
differences, but ‘git diff-index -p HEAD’ still *does* show that the
current state is different from the state we committed.  In fact, now
_git diff-index_ shows the same difference whether we use the ‘--cached’
flag or not, since now the index is coherent with the working tree.

   Now, since we’ve updated ‘hello’ in the index, we can commit the new
version.  We could do it by writing the tree by hand again, and
committing the tree (this time we’d have to use the ‘-p HEAD’ flag to
tell commit that the HEAD was the *parent* of the new commit, and that
this wasn’t an initial commit any more), but you’ve done that once
already, so let’s just use the helpful script this time:

     $ git commit

   which starts an editor for you to write the commit message and tells
you a bit about what you have done.

   Write whatever message you want, and all the lines that start with
_#_ will be pruned out, and the rest will be used as the commit message
for the change.  If you decide you don’t want to commit anything after
all at this point (you can continue to edit things and update the
index), you can just leave an empty message.  Otherwise ‘git commit’
will commit the change for you.

   You’ve now made your first real Git commit.  And if you’re interested
in looking at what ‘git commit’ really does, feel free to investigate:
it’s a few very simple shell scripts to generate the helpful (?)  commit
message headers, and a few one-liners that actually do the commit itself
(_git commit_).


Inspecting Changes
******************

While creating changes is useful, it’s even more useful if you can tell
later what changed.  The most useful command for this is another of the
_diff_ family, namely _git diff-tree_.

   _git diff-tree_ can be given two arbitrary trees, and it will tell
you the differences between them.  Perhaps even more commonly, though,
you can give it just a single commit object, and it will figure out the
parent of that commit itself, and show the difference directly.  Thus,
to get the same diff that we’ve already seen several times, we can now
do

     $ git diff-tree -p HEAD

   (again, ‘-p’ means to show the difference as a human-readable patch),
and it will show what the last commit (in ‘HEAD’) actually changed.

     *Note*

     Here is an ASCII art by Jon Loeliger that illustrates how various
     _diff-*_ commands compare things.

                      diff-tree
                       +----+
                       |    |
                       |    |
                       V    V
                    +-----------+
                    | Object DB |
                    |  Backing  |
                    |   Store   |
                    +-----------+
                      ^    ^
                      |    |
                      |    |  diff-index --cached
                      |    |
          diff-index  |    V
                      |  +-----------+
                      |  |   Index   |
                      |  |  "cache"  |
                      |  +-----------+
                      |    ^
                      |    |
                      |    |  diff-files
                      |    |
                      V    V
                    +-----------+
                    |  Working  |
                    | Directory |
                    +-----------+

   More interestingly, you can also give _git diff-tree_ the ‘--pretty’
flag, which tells it to also show the commit message and author and date
of the commit, and you can tell it to show a whole series of diffs.
Alternatively, you can tell it to be "silent", and not show the diffs at
all, but just show the actual commit message.

   In fact, together with the _git rev-list_ program (which generates a
list of revisions), _git diff-tree_ ends up being a veritable fount of
changes.  You can emulate ‘git log’, ‘git log -p’, etc.  with a trivial
script that pipes the output of ‘git rev-list’ to ‘git diff-tree
--stdin’, which was exactly how early versions of ‘git log’ were
implemented.


Tagging a version
*****************

In Git, there are two kinds of tags, a "light" one, and an "annotated
tag".

   A "light" tag is technically nothing more than a branch, except we
put it in the ‘.git/refs/tags/’ subdirectory instead of calling it a
‘head’.  So the simplest form of tag involves nothing more than

     $ git tag my-first-tag

   which just writes the current ‘HEAD’ into the
‘.git/refs/tags/my-first-tag’ file, after which point you can then use
this symbolic name for that particular state.  You can, for example, do

     $ git diff my-first-tag

   to diff your current state against that tag which at this point will
obviously be an empty diff, but if you continue to develop and commit
stuff, you can use your tag as an "anchor-point" to see what has changed
since you tagged it.

   An "annotated tag" is actually a real Git object, and contains not
only a pointer to the state you want to tag, but also a small tag name
and message, along with optionally a PGP signature that says that yes,
you really did that tag.  You create these annotated tags with either
the ‘-a’ or ‘-s’ flag to _git tag_:

     $ git tag -s <tagname>

   which will sign the current ‘HEAD’ (but you can also give it another
argument that specifies the thing to tag, e.g., you could have tagged
the current ‘mybranch’ point by using ‘git tag <tagname> mybranch’).

   You normally only do signed tags for major releases or things like
that, while the light-weight tags are useful for any marking you want to
do — any time you decide that you want to remember a certain point, just
create a private tag for it, and you have a nice symbolic name for the
state at that point.


Copying repositories
********************

Git repositories are normally totally self-sufficient and relocatable.
Unlike CVS, for example, there is no separate notion of "repository" and
"working tree".  A Git repository normally *is* the working tree, with
the local Git information hidden in the ‘.git’ subdirectory.  There is
nothing else.  What you see is what you got.

     *Note*

     You can tell Git to split the Git internal information from the
     directory that it tracks, but we’ll ignore that for now: it’s not
     how normal projects work, and it’s really only meant for special
     uses.  So the mental model of "the Git information is always tied
     directly to the working tree that it describes" may not be
     technically 100% accurate, but it’s a good model for all normal
     use.

   This has two implications:

   • if you grow bored with the tutorial repository you created (or
     you’ve made a mistake and want to start all over), you can just do
     simple

          $ rm -rf git-tutorial

     and it will be gone.  There’s no external repository, and there’s
     no history outside the project you created.

   • if you want to move or duplicate a Git repository, you can do so.
     There is _git clone_ command, but if all you want to do is just to
     create a copy of your repository (with all the full history that
     went along with it), you can do so with a regular ‘cp -a
     git-tutorial new-git-tutorial’.

     Note that when you’ve moved or copied a Git repository, your Git
     index file (which caches various information, notably some of the
     "stat" information for the files involved) will likely need to be
     refreshed.  So after you do a ‘cp -a’ to create a new copy, you’ll
     want to do

          $ git update-index --refresh

     in the new repository to make sure that the index file is up to
     date.

   Note that the second point is true even across machines.  You can
duplicate a remote Git repository with *any* regular copy mechanism, be
it _scp_, _rsync_ or _wget_.

   When copying a remote repository, you’ll want to at a minimum update
the index cache when you do this, and especially with other peoples’
repositories you often want to make sure that the index cache is in some
known state (you don’t know *what* they’ve done and not yet checked in),
so usually you’ll precede the _git update-index_ with a

     $ git read-tree --reset HEAD
     $ git update-index --refresh

   which will force a total index re-build from the tree pointed to by
‘HEAD’.  It resets the index contents to ‘HEAD’, and then the _git
update-index_ makes sure to match up all index entries with the
checked-out files.  If the original repository had uncommitted changes
in its working tree, ‘git update-index --refresh’ notices them and tells
you they need to be updated.

   The above can also be written as simply

     $ git reset

   and in fact a lot of the common Git command combinations can be
scripted with the ‘git xyz’ interfaces.  You can learn things by just
looking at what the various git scripts do.  For example, ‘git reset’
used to be the above two lines implemented in _git reset_, but some
things like _git status_ and _git commit_ are slightly more complex
scripts around the basic Git commands.

   Many (most?)  public remote repositories will not contain any of the
checked out files or even an index file, and will *only* contain the
actual core Git files.  Such a repository usually doesn’t even have the
‘.git’ subdirectory, but has all the Git files directly in the
repository.

   To create your own local live copy of such a "raw" Git repository,
you’d first create your own subdirectory for the project, and then copy
the raw repository contents into the ‘.git’ directory.  For example, to
create your own copy of the Git repository, you’d do the following

     $ mkdir my-git
     $ cd my-git
     $ rsync -rL rsync://rsync.kernel.org/pub/scm/git/git.git/ .git

   followed by

     $ git read-tree HEAD

   to populate the index.  However, now you have populated the index,
and you have all the Git internal files, but you will notice that you
don’t actually have any of the working tree files to work on.  To get
those, you’d check them out with

     $ git checkout-index -u -a

   where the ‘-u’ flag means that you want the checkout to keep the
index up to date (so that you don’t have to refresh it afterward), and
the ‘-a’ flag means "check out all files" (if you have a stale copy or
an older version of a checked out tree you may also need to add the ‘-f’
flag first, to tell _git checkout-index_ to *force* overwriting of any
old files).

   Again, this can all be simplified with

     $ git clone git://git.kernel.org/pub/scm/git/git.git/ my-git
     $ cd my-git
     $ git checkout

   which will end up doing all of the above for you.

   You have now successfully copied somebody else’s (mine) remote
repository, and checked it out.


Creating a new branch
*********************

Branches in Git are really nothing more than pointers into the Git
object database from within the ‘.git/refs/’ subdirectory, and as we
already discussed, the ‘HEAD’ branch is nothing but a symlink to one of
these object pointers.

   You can at any time create a new branch by just picking an arbitrary
point in the project history, and just writing the SHA-1 name of that
object into a file under ‘.git/refs/heads/’.  You can use any filename
you want (and indeed, subdirectories), but the convention is that the
"normal" branch is called ‘master’.  That’s just a convention, though,
and nothing enforces it.

   To show that as an example, let’s go back to the git-tutorial
repository we used earlier, and create a branch in it.  You do that by
simply just saying that you want to check out a new branch:

     $ git switch -c mybranch

   will create a new branch based at the current ‘HEAD’ position, and
switch to it.

     *Note*

     If you make the decision to start your new branch at some other
     point in the history than the current ‘HEAD’, you can do so by just
     telling _git switch_ what the base of the checkout would be.  In
     other words, if you have an earlier tag or branch, you’d just do

          $ git switch -c mybranch earlier-commit

     and it would create the new branch ‘mybranch’ at the earlier
     commit, and check out the state at that time.

   You can always just jump back to your original ‘master’ branch by
doing

     $ git switch master

   (or any other branch-name, for that matter) and if you forget which
branch you happen to be on, a simple

     $ cat .git/HEAD

   will tell you where it’s pointing.  To get the list of branches you
have, you can say

     $ git branch

   which used to be nothing more than a simple script around ‘ls
.git/refs/heads’.  There will be an asterisk in front of the branch you
are currently on.

   Sometimes you may wish to create a new branch _without_ actually
checking it out and switching to it.  If so, just use the command

     $ git branch <branchname> [startingpoint]

   which will simply _create_ the branch, but will not do anything
further.  You can then later — once you decide that you want to actually
develop on that branch — switch to that branch with a regular _git
switch_ with the branchname as the argument.


Merging two branches
********************

One of the ideas of having a branch is that you do some (possibly
experimental) work in it, and eventually merge it back to the main
branch.  So assuming you created the above ‘mybranch’ that started out
being the same as the original ‘master’ branch, let’s make sure we’re in
that branch, and do some work there.

     $ git switch mybranch
     $ echo "Work, work, work" >>hello
     $ git commit -m "Some work." -i hello

   Here, we just added another line to ‘hello’, and we used a shorthand
for doing both ‘git update-index hello’ and ‘git commit’ by just giving
the filename directly to ‘git commit’, with an ‘-i’ flag (it tells Git
to _include_ that file in addition to what you have done to the index
file so far when making the commit).  The ‘-m’ flag is to give the
commit log message from the command line.

   Now, to make it a bit more interesting, let’s assume that somebody
else does some work in the original branch, and simulate that by going
back to the master branch, and editing the same file differently there:

     $ git switch master

   Here, take a moment to look at the contents of ‘hello’, and notice
how they don’t contain the work we just did in ‘mybranch’ — because that
work hasn’t happened in the ‘master’ branch at all.  Then do

     $ echo "Play, play, play" >>hello
     $ echo "Lots of fun" >>example
     $ git commit -m "Some fun." -i hello example

   since the master branch is obviously in a much better mood.

   Now, you’ve got two branches, and you decide that you want to merge
the work done.  Before we do that, let’s introduce a cool graphical tool
that helps you view what’s going on:

     $ gitk --all

   will show you graphically both of your branches (that’s what the
‘--all’ means: normally it will just show you your current ‘HEAD’) and
their histories.  You can also see exactly how they came to be from a
common source.

   Anyway, let’s exit _gitk_ (‘^Q’ or the File menu), and decide that we
want to merge the work we did on the ‘mybranch’ branch into the ‘master’
branch (which is currently our ‘HEAD’ too).  To do that, there’s a nice
script called _git merge_, which wants to know which branches you want
to resolve and what the merge is all about:

     $ git merge -m "Merge work in mybranch" mybranch

   where the first argument is going to be used as the commit message if
the merge can be resolved automatically.

   Now, in this case we’ve intentionally created a situation where the
merge will need to be fixed up by hand, though, so Git will do as much
of it as it can automatically (which in this case is just merge the
‘example’ file, which had no differences in the ‘mybranch’ branch), and
say:

             Auto-merging hello
             CONFLICT (content): Merge conflict in hello
             Automatic merge failed; fix conflicts and then commit the result.

   It tells you that it did an "Automatic merge", which failed due to
conflicts in ‘hello’.

   Not to worry.  It left the (trivial) conflict in ‘hello’ in the same
form you should already be well used to if you’ve ever used CVS, so
let’s just open ‘hello’ in our editor (whatever that may be), and fix it
up somehow.  I’d suggest just making it so that ‘hello’ contains all
four lines:

     Hello World
     It's a new day for git
     Play, play, play
     Work, work, work

   and once you’re happy with your manual merge, just do a

     $ git commit -i hello

   which will very loudly warn you that you’re now committing a merge
(which is correct, so never mind), and you can write a small merge
message about your adventures in _git merge_-land.

   After you’re done, start up ‘gitk --all’ to see graphically what the
history looks like.  Notice that ‘mybranch’ still exists, and you can
switch to it, and continue to work with it if you want to.  The
‘mybranch’ branch will not contain the merge, but next time you merge it
from the ‘master’ branch, Git will know how you merged it, so you’ll not
have to do _that_ merge again.

   Another useful tool, especially if you do not always work in X-Window
environment, is ‘git show-branch’.

     $ git show-branch --topo-order --more=1 master mybranch
     * [master] Merge work in mybranch
      ! [mybranch] Some work.
     --
     - [master] Merge work in mybranch *+ [mybranch] Some work.  * [master^] Some
     fun.

   The first two lines indicate that it is showing the two branches with
the titles of their top-of-the-tree commits, you are currently on
‘master’ branch (notice the asterisk ‘*’ character), and the first
column for the later output lines is used to show commits contained in
the ‘master’ branch, and the second column for the ‘mybranch’ branch.
Three commits are shown along with their titles.  All of them have non
blank characters in the first column (‘*’ shows an ordinary commit on
the current branch, ‘-’ is a merge commit), which means they are now
part of the ‘master’ branch.  Only the "Some work" commit has the plus
‘+’ character in the second column, because ‘mybranch’ has not been
merged to incorporate these commits from the master branch.  The string
inside brackets before the commit log message is a short name you can
use to name the commit.  In the above example, _master_ and _mybranch_
are branch heads.  _master^_ is the first parent of _master_ branch
head.  Please see gitrevisions(7) if you want to see more complex cases.

     *Note*

     Without the _–more=1_ option, _git show-branch_ would not output
     the _[master^]_ commit, as _[mybranch]_ commit is a common ancestor
     of both _master_ and _mybranch_ tips.  Please see
     git-show-branch(1) for details.

     *Note*

     If there were more commits on the _master_ branch after the merge,
     the merge commit itself would not be shown by _git show-branch_ by
     default.  You would need to provide ‘--sparse’ option to make the
     merge commit visible in this case.

   Now, let’s pretend you are the one who did all the work in
‘mybranch’, and the fruit of your hard work has finally been merged to
the ‘master’ branch.  Let’s go back to ‘mybranch’, and run _git merge_
to get the "upstream changes" back to your branch.

     $ git switch mybranch
     $ git merge -m "Merge upstream changes." master

   This outputs something like this (the actual commit object names
would be different)

     Updating from ae3a2da... to a80b4aa....
     Fast-forward (no commit created; -m option ignored)
      example | 1 +
      hello   | 1 +
      2 files changed, 2 insertions(+)

   Because your branch did not contain anything more than what had
already been merged into the ‘master’ branch, the merge operation did
not actually do a merge.  Instead, it just updated the top of the tree
of your branch to that of the ‘master’ branch.  This is often called
_fast-forward_ merge.

   You can run ‘gitk --all’ again to see how the commit ancestry looks
like, or run _show-branch_, which tells you this.

     $ git show-branch master mybranch
     ! [master] Merge work in mybranch
      * [mybranch] Merge work in mybranch
     --
     -- [master] Merge work in mybranch


Merging external work
*********************

It’s usually much more common that you merge with somebody else than
merging with your own branches, so it’s worth pointing out that Git
makes that very easy too, and in fact, it’s not that different from
doing a _git merge_.  In fact, a remote merge ends up being nothing more
than "fetch the work from a remote repository into a temporary tag"
followed by a _git merge_.

   Fetching from a remote repository is done by, unsurprisingly, _git
fetch_:

     $ git fetch <remote-repository>

   One of the following transports can be used to name the repository to
download from:

SSH
     ‘remote.machine:/path/to/repo.git/’ or

     ‘ssh://remote.machine/path/to/repo.git/’

     This transport can be used for both uploading and downloading, and
     requires you to have a log-in privilege over ‘ssh’ to the remote
     machine.  It finds out the set of objects the other side lacks by
     exchanging the head commits both ends have and transfers (close to)
     minimum set of objects.  It is by far the most efficient way to
     exchange Git objects between repositories.

Local directory
     ‘/path/to/repo.git/’

     This transport is the same as SSH transport but uses _sh_ to run
     both ends on the local machine instead of running other end on the
     remote machine via _ssh_.

Git Native
     ‘git://remote.machine/path/to/repo.git/’

     This transport was designed for anonymous downloading.  Like SSH
     transport, it finds out the set of objects the downstream side
     lacks and transfers (close to) minimum set of objects.

HTTP(S)
     ‘http://remote.machine/path/to/repo.git/’

     Downloader from http and https URL first obtains the topmost commit
     object name from the remote site by looking at the specified
     refname under ‘repo.git/refs/’ directory, and then tries to obtain
     the commit object by downloading from ‘repo.git/objects/xx/xxx...’
     using the object name of that commit object.  Then it reads the
     commit object to find out its parent commits and the associate tree
     object; it repeats this process until it gets all the necessary
     objects.  Because of this behavior, they are sometimes also called
     _commit walkers_.

     The _commit walkers_ are sometimes also called _dumb transports_,
     because they do not require any Git aware smart server like Git
     Native transport does.  Any stock HTTP server that does not even
     support directory index would suffice.  But you must prepare your
     repository with _git update-server-info_ to help dumb transport
     downloaders.

   Once you fetch from the remote repository, you ‘merge’ that with your
current branch.

   However — it’s such a common thing to ‘fetch’ and then immediately
‘merge’, that it’s called ‘git pull’, and you can simply do

     $ git pull <remote-repository>

   and optionally give a branch-name for the remote end as a second
argument.

     *Note*

     You could do without using any branches at all, by keeping as many
     local repositories as you would like to have branches, and merging
     between them with _git pull_, just like you merge between branches.
     The advantage of this approach is that it lets you keep a set of
     files for each ‘branch’ checked out and you may find it easier to
     switch back and forth if you juggle multiple lines of development
     simultaneously.  Of course, you will pay the price of more disk
     usage to hold multiple working trees, but disk space is cheap these
     days.

   It is likely that you will be pulling from the same remote repository
from time to time.  As a short hand, you can store the remote repository
URL in the local repository’s config file like this:

     $ git config remote.linus.url http://www.kernel.org/pub/scm/git/git.git/

   and use the "linus" keyword with _git pull_ instead of the full URL.

   Examples.

  1. ‘git pull linus’

  2. ‘git pull linus tag v0.99.1’

   the above are equivalent to:

  1. ‘git pull http://www.kernel.org/pub/scm/git/git.git/ HEAD’

  2. ‘git pull http://www.kernel.org/pub/scm/git/git.git/ tag v0.99.1’


How does the merge work?
************************

We said this tutorial shows what plumbing does to help you cope with the
porcelain that isn’t flushing, but we so far did not talk about how the
merge really works.  If you are following this tutorial the first time,
I’d suggest to skip to "Publishing your work" section and come back here
later.

   OK, still with me?  To give us an example to look at, let’s go back
to the earlier repository with "hello" and "example" file, and bring
ourselves back to the pre-merge state:

     $ git show-branch --more=2 master mybranch
     ! [master] Merge work in mybranch
      * [mybranch] Merge work in mybranch
     --
     -- [master] Merge work in mybranch +* [master^2] Some work.  +* [master^]
     Some fun.

   Remember, before running _git merge_, our ‘master’ head was at "Some
fun."  commit, while our ‘mybranch’ head was at "Some work."  commit.

     $ git switch -C mybranch master^2
     $ git switch master
     $ git reset --hard master^

   After rewinding, the commit structure should look like this:

     $ git show-branch
     * [master] Some fun.
      ! [mybranch] Some work.
     --
     *  [master] Some fun.
      + [mybranch] Some work.
     *+ [master^] Initial commit

   Now we are ready to experiment with the merge by hand.

   ‘git merge’ command, when merging two branches, uses 3-way merge
algorithm.  First, it finds the common ancestor between them.  The
command it uses is _git merge-base_:

     $ mb=$(git merge-base HEAD mybranch)

   The command writes the commit object name of the common ancestor to
the standard output, so we captured its output to a variable, because we
will be using it in the next step.  By the way, the common ancestor
commit is the "Initial commit" commit in this case.  You can tell it by:

     $ git name-rev --name-only --tags $mb
     my-first-tag

   After finding out a common ancestor commit, the second step is this:

     $ git read-tree -m -u $mb HEAD mybranch

   This is the same _git read-tree_ command we have already seen, but it
takes three trees, unlike previous examples.  This reads the contents of
each tree into different _stage_ in the index file (the first tree goes
to stage 1, the second to stage 2, etc.).  After reading three trees
into three stages, the paths that are the same in all three stages are
_collapsed_ into stage 0.  Also paths that are the same in two of three
stages are collapsed into stage 0, taking the SHA-1 from either stage 2
or stage 3, whichever is different from stage 1 (i.e.  only one side
changed from the common ancestor).

   After _collapsing_ operation, paths that are different in three trees
are left in non-zero stages.  At this point, you can inspect the index
file with this command:

     $ git ls-files --stage
     100644 7f8b141b65fdcee47321e399a2598a235a032422 0       example
     100644 557db03de997c86a4a028e1ebd3a1ceb225be238 1       hello
     100644 ba42a2a96e3027f3333e13ede4ccf4498c3ae942 2       hello
     100644 cc44c73eb783565da5831b4d820c962954019b69 3       hello

   In our example of only two files, we did not have unchanged files so
only _example_ resulted in collapsing.  But in real-life large projects,
when only a small number of files change in one commit, this
_collapsing_ tends to trivially merge most of the paths fairly quickly,
leaving only a handful of real changes in non-zero stages.

   To look at only non-zero stages, use ‘--unmerged’ flag:

     $ git ls-files --unmerged
     100644 557db03de997c86a4a028e1ebd3a1ceb225be238 1       hello
     100644 ba42a2a96e3027f3333e13ede4ccf4498c3ae942 2       hello
     100644 cc44c73eb783565da5831b4d820c962954019b69 3       hello

   The next step of merging is to merge these three versions of the
file, using 3-way merge.  This is done by giving _git merge-one-file_
command as one of the arguments to _git merge-index_ command:

     $ git merge-index git-merge-one-file hello
     Auto-merging hello
     ERROR: Merge conflict in hello
     fatal: merge program failed

   _git merge-one-file_ script is called with parameters to describe
those three versions, and is responsible to leave the merge results in
the working tree.  It is a fairly straightforward shell script, and
eventually calls _merge_ program from RCS suite to perform a file-level
3-way merge.  In this case, _merge_ detects conflicts, and the merge
result with conflict marks is left in the working tree..  This can be
seen if you run ‘ls-files --stage’ again at this point:

     $ git ls-files --stage
     100644 7f8b141b65fdcee47321e399a2598a235a032422 0       example
     100644 557db03de997c86a4a028e1ebd3a1ceb225be238 1       hello
     100644 ba42a2a96e3027f3333e13ede4ccf4498c3ae942 2       hello
     100644 cc44c73eb783565da5831b4d820c962954019b69 3       hello

   This is the state of the index file and the working file after _git
merge_ returns control back to you, leaving the conflicting merge for
you to resolve.  Notice that the path ‘hello’ is still unmerged, and
what you see with _git diff_ at this point is differences since stage 2
(i.e.  your version).


Publishing your work
********************

So, we can use somebody else’s work from a remote repository, but how
can *you* prepare a repository to let other people pull from it?

   You do your real work in your working tree that has your primary
repository hanging under it as its ‘.git’ subdirectory.  You *could*
make that repository accessible remotely and ask people to pull from it,
but in practice that is not the way things are usually done.  A
recommended way is to have a public repository, make it reachable by
other people, and when the changes you made in your primary working tree
are in good shape, update the public repository from it.  This is often
called _pushing_.

     *Note*

     This public repository could further be mirrored, and that is how
     Git repositories at ‘kernel.org’ are managed.

   Publishing the changes from your local (private) repository to your
remote (public) repository requires a write privilege on the remote
machine.  You need to have an SSH account there to run a single command,
_git-receive-pack_.

   First, you need to create an empty repository on the remote machine
that will house your public repository.  This empty repository will be
populated and be kept up to date by pushing into it later.  Obviously,
this repository creation needs to be done only once.

     *Note*

     _git push_ uses a pair of commands, _git send-pack_ on your local
     machine, and _git-receive-pack_ on the remote machine.  The
     communication between the two over the network internally uses an
     SSH connection.

   Your private repository’s Git directory is usually ‘.git’, but your
public repository is often named after the project name, i.e.
‘<project>.git’.  Let’s create such a public repository for project
‘my-git’.  After logging into the remote machine, create an empty
directory:

     $ mkdir my-git.git

   Then, make that directory into a Git repository by running _git
init_, but this time, since its name is not the usual ‘.git’, we do
things slightly differently:

     $ GIT_DIR=my-git.git git init

   Make sure this directory is available for others you want your
changes to be pulled via the transport of your choice.  Also you need to
make sure that you have the _git-receive-pack_ program on the ‘$PATH’.

     *Note*

     Many installations of sshd do not invoke your shell as the login
     shell when you directly run programs; what this means is that if
     your login shell is _bash_, only ‘.bashrc’ is read and not
     ‘.bash_profile’.  As a workaround, make sure ‘.bashrc’ sets up
     ‘$PATH’ so that you can run _git-receive-pack_ program.

     *Note*

     If you plan to publish this repository to be accessed over http,
     you should do ‘mv my-git.git/hooks/post-update.sample
     my-git.git/hooks/post-update’ at this point.  This makes sure that
     every time you push into this repository, ‘git update-server-info’
     is run.

   Your "public repository" is now ready to accept your changes.  Come
back to the machine you have your private repository.  From there, run
this command:

     $ git push <public-host>:/path/to/my-git.git master

   This synchronizes your public repository to match the named branch
head (i.e.  ‘master’ in this case) and objects reachable from them in
your current repository.

   As a real example, this is how I update my public Git repository.
Kernel.org mirror network takes care of the propagation to other
publicly visible machines:

     $ git push master.kernel.org:/pub/scm/git/git.git/


Packing your repository
***********************

Earlier, we saw that one file under ‘.git/objects/??/’ directory is
stored for each Git object you create.  This representation is efficient
to create atomically and safely, but not so convenient to transport over
the network.  Since Git objects are immutable once they are created,
there is a way to optimize the storage by "packing them together".  The
command

     $ git repack

   will do it for you.  If you followed the tutorial examples, you would
have accumulated about 17 objects in ‘.git/objects/??/’ directories by
now.  _git repack_ tells you how many objects it packed, and stores the
packed file in the ‘.git/objects/pack’ directory.

     *Note*

     You will see two files, ‘pack-*.pack’ and ‘pack-*.idx’, in
     ‘.git/objects/pack’ directory.  They are closely related to each
     other, and if you ever copy them by hand to a different repository
     for whatever reason, you should make sure you copy them together.
     The former holds all the data from the objects in the pack, and the
     latter holds the index for random access.

   If you are paranoid, running _git verify-pack_ command would detect
if you have a corrupt pack, but do not worry too much.  Our programs are
always perfect ;-).

   Once you have packed objects, you do not need to leave the unpacked
objects that are contained in the pack file anymore.

     $ git prune-packed

   would remove them for you.

   You can try running ‘find .git/objects -type f’ before and after you
run ‘git prune-packed’ if you are curious.  Also ‘git count-objects’
would tell you how many unpacked objects are in your repository and how
much space they are consuming.

     *Note*

     ‘git pull’ is slightly cumbersome for HTTP transport, as a packed
     repository may contain relatively few objects in a relatively large
     pack.  If you expect many HTTP pulls from your public repository
     you might want to repack & prune often, or never.

   If you run ‘git repack’ again at this point, it will say "Nothing new
to pack.".  Once you continue your development and accumulate the
changes, running ‘git repack’ again will create a new pack, that
contains objects created since you packed your repository the last time.
We recommend that you pack your project soon after the initial import
(unless you are starting your project from scratch), and then run ‘git
repack’ every once in a while, depending on how active your project is.

   When a repository is synchronized via ‘git push’ and ‘git pull’
objects packed in the source repository are usually stored unpacked in
the destination.  While this allows you to use different packing
strategies on both ends, it also means you may need to repack both
repositories every once in a while.


Working with Others
*******************

Although Git is a truly distributed system, it is often convenient to
organize your project with an informal hierarchy of developers.  Linux
kernel development is run this way.  There is a nice illustration (page
17, "Merges to Mainline") in Randy Dunlap’s presentation
(https://web.archive.org/web/20120915203609/http://www.xenotime.net/linux/mentor/linux-mentoring-2006.pdf).

   It should be stressed that this hierarchy is purely *informal*.
There is nothing fundamental in Git that enforces the "chain of patch
flow" this hierarchy implies.  You do not have to pull from only one
remote repository.

   A recommended workflow for a "project lead" goes like this:

  1. Prepare your primary repository on your local machine.  Your work
     is done there.

  2. Prepare a public repository accessible to others.

     If other people are pulling from your repository over dumb
     transport protocols (HTTP), you need to keep this repository _dumb
     transport friendly_.  After ‘git init’,
     ‘$GIT_DIR/hooks/post-update.sample’ copied from the standard
     templates would contain a call to _git update-server-info_ but you
     need to manually enable the hook with ‘mv post-update.sample
     post-update’.  This makes sure _git update-server-info_ keeps the
     necessary files up to date.

  3. Push into the public repository from your primary repository.

  4. _git repack_ the public repository.  This establishes a big pack
     that contains the initial set of objects as the baseline, and
     possibly _git prune_ if the transport used for pulling from your
     repository supports packed repositories.

  5. Keep working in your primary repository.  Your changes include
     modifications of your own, patches you receive via e-mails, and
     merges resulting from pulling the "public" repositories of your
     "subsystem maintainers".

     You can repack this private repository whenever you feel like.

  6. Push your changes to the public repository, and announce it to the
     public.

  7. Every once in a while, _git repack_ the public repository.  Go back
     to step

  8. and continue working.

   A recommended work cycle for a "subsystem maintainer" who works on
that project and has an own "public repository" goes like this:

  1. Prepare your work repository, by running _git clone_ on the public
     repository of the "project lead".  The URL used for the initial
     cloning is stored in the remote.origin.url configuration variable.

  2. Prepare a public repository accessible to others, just like the
     "project lead" person does.

  3. Copy over the packed files from "project lead" public repository to
     your public repository, unless the "project lead" repository lives
     on the same machine as yours.  In the latter case, you can use
     ‘objects/info/alternates’ file to point at the repository you are
     borrowing from.

  4. Push into the public repository from your primary repository.  Run
     _git repack_, and possibly _git prune_ if the transport used for
     pulling from your repository supports packed repositories.

  5. Keep working in your primary repository.  Your changes include
     modifications of your own, patches you receive via e-mails, and
     merges resulting from pulling the "public" repositories of your
     "project lead" and possibly your "sub-subsystem maintainers".

     You can repack this private repository whenever you feel like.

  6. Push your changes to your public repository, and ask your "project
     lead" and possibly your "sub-subsystem maintainers" to pull from
     it.

  7. Every once in a while, _git repack_ the public repository.  Go back
     to step

  8. and continue working.

   A recommended work cycle for an "individual developer" who does not
have a "public" repository is somewhat different.  It goes like this:

  1. Prepare your work repository, by _git clone_ the public repository
     of the "project lead" (or a "subsystem maintainer", if you work on
     a subsystem).  The URL used for the initial cloning is stored in
     the remote.origin.url configuration variable.

  2. Do your work in your repository on _master_ branch.

  3. Run ‘git fetch origin’ from the public repository of your upstream
     every once in a while.  This does only the first half of ‘git pull’
     but does not merge.  The head of the public repository is stored in
     ‘.git/refs/remotes/origin/master’.

  4. Use ‘git cherry origin’ to see which ones of your patches were
     accepted, and/or use ‘git rebase origin’ to port your unmerged
     changes forward to the updated upstream.

  5. Use ‘git format-patch origin’ to prepare patches for e-mail
     submission to your upstream and send it out.  Go back to step 2.
     and continue.


Working with Others, Shared Repository Style
********************************************

If you are coming from a CVS background, the style of cooperation
suggested in the previous section may be new to you.  You do not have to
worry.  Git supports the "shared public repository" style of cooperation
you are probably more familiar with as well.

   See gitcvs-migration(7) for the details.


Bundling your work together
***************************

It is likely that you will be working on more than one thing at a time.
It is easy to manage those more-or-less independent tasks using branches
with Git.

   We have already seen how branches work previously, with "fun and
work" example using two branches.  The idea is the same if there are
more than two branches.  Let’s say you started out from "master" head,
and have some new code in the "master" branch, and two independent fixes
in the "commit-fix" and "diff-fix" branches:

     $ git show-branch
     ! [commit-fix] Fix commit message normalization.
      ! [diff-fix] Fix rename detection.
       * [master] Release candidate #1
     ---
      +  [diff-fix] Fix rename detection.
      +  [diff-fix~1] Better common substring algorithm.
     +   [commit-fix] Fix commit message normalization.
       * [master] Release candidate #1
     ++* [diff-fix~2] Pretty-print messages.

   Both fixes are tested well, and at this point, you want to merge in
both of them.  You could merge in _diff-fix_ first and then _commit-fix_
next, like this:

     $ git merge -m "Merge fix in diff-fix" diff-fix
     $ git merge -m "Merge fix in commit-fix" commit-fix

   Which would result in:

     $ git show-branch
     ! [commit-fix] Fix commit message normalization.
      ! [diff-fix] Fix rename detection.
       * [master] Merge fix in commit-fix
     ---
       - [master] Merge fix in commit-fix
     + * [commit-fix] Fix commit message normalization.
       - [master~1] Merge fix in diff-fix
      +* [diff-fix] Fix rename detection.
      +* [diff-fix~1] Better common substring algorithm.
       * [master~2] Release candidate #1
     ++* [master~3] Pretty-print messages.

   However, there is no particular reason to merge in one branch first
and the other next, when what you have are a set of truly independent
changes (if the order mattered, then they are not independent by
definition).  You could instead merge those two branches into the
current branch at once.  First let’s undo what we just did and start
over.  We would want to get the master branch before these two merges by
resetting it to _master~2_:

     $ git reset --hard master~2

   You can make sure ‘git show-branch’ matches the state before those
two _git merge_ you just did.  Then, instead of running two _git merge_
commands in a row, you would merge these two branch heads (this is known
as _making an Octopus_):

     $ git merge commit-fix diff-fix
     $ git show-branch
     ! [commit-fix] Fix commit message normalization.
      ! [diff-fix] Fix rename detection.
       * [master] Octopus merge of branches 'diff-fix' and 'commit-fix'
     ---
       - [master] Octopus merge of branches 'diff-fix' and 'commit-fix'
     + * [commit-fix] Fix commit message normalization.
      +* [diff-fix] Fix rename detection.
      +* [diff-fix~1] Better common substring algorithm.
       * [master~1] Release candidate #1
     ++* [master~2] Pretty-print messages.

   Note that you should not do Octopus just because you can.  An octopus
is a valid thing to do and often makes it easier to view the commit
history if you are merging more than two independent changes at the same
time.  However, if you have merge conflicts with any of the branches you
are merging in and need to hand resolve, that is an indication that the
development happened in those branches were not independent after all,
and you should merge two at a time, documenting how you resolved the
conflicts, and the reason why you preferred changes made in one side
over the other.  Otherwise it would make the project history harder to
follow, not easier.


SEE ALSO
********

gittutorial(7), gittutorial-2(7), gitcvs-migration(7), git-help(1),
giteveryday(7), The Git User’s Manual (user-manual.html)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitcredentials,  Up: Top

Name
****

gitcredentials — Gitにユーザー名とパスワードを提供する


Synopsis
********

     git config credential.https://example.com.username myusername
     git config credential.helper "$helper $options"


DESCRIPTION
***********

Gitは、操作を実行するためにユーザーからの資格情報を必要とする場合があり
ます。たとえば、HTTP経由でリモートリポジトリにアクセスするために、ユーザ
ー名とパスワードを要求する必要がある場合があります。このマニュアルでは、
Gitがこれらの資格情報を要求するために使用するメカニズムと、これらの資格
情報を繰り返し入力しないようにするためのいくつかの機能について説明します
。


REQUESTING CREDENTIALS
**********************

資格情報ヘルパーが定義されていない場合、Gitは以下の戦略でユーザーにユー
ザー名とパスワードを要求します:

  1. ‘GIT_ASKPASS’ 環境変数が設定されている場合、その環境変数で指定した
     プログラムが呼び出されます。コマンドラインでプログラムによって適切
     なプロンプトが表示され、ユーザーの入力が標準出力から読み取られます
     。

  2. それ以外の場合、 ‘core.askPass’ 構成変数が設定されていると、その値
     は上記と同様に使用されます。

  3. それ以外の場合、‘SSH_ASKPASS’ 環境変数が設定されていると、その値は
     上記と同様に使用されます。

  4. それ以外の場合、端末でユーザーの入力が促されます。


AVOIDING REPETITION
*******************

同じ資格情報を何度も入力するのは面倒な場合があります。 Gitには、この煩わ
しさを軽減する2つの方法があります:

  1. 指定の認証コンテキストのためのユーザー名の静的構成。

  2. パスワードをキャッシュまたは保存するため、またはシステムパスワード
     ウォレットまたはキーチェーンと対話するための資格情報ヘルパー。

   1つ目は、パスワードに使用できる安全なストレージがない場合に簡単で適切
です。これは通常、以下を構成に追加することによって設定します:

     [credential "https://example.com"]
             username = me

   一方、資格情報ヘルパーは、Gitがユーザー名とパスワードの両方を要求でき
る外部プログラムです。これらは通常、OSまたは他のプログラムによって提供さ
れる安全なストレージとインターフェイスします。

   ヘルパーを使用するには、最初に使用するヘルパーを選択する必要がありま
す。Gitには現在、以下のヘルパーが含まれています:

cache
     資格情報をメモリに短期間キャッシュします。 詳細については
     git-credential-cache(1) を参照してください。

store
     資格情報をディスクに無期限に保存します。詳細については
     git-credential-store(1) を参照してください。

   サードパーティのヘルパーがインストールされている場合もあります。 ‘git
help -a’ の出力で ‘credential-*’ を検索し、個々のヘルパーのドキュメント
を参照してください。あなたが使いたいヘルパーを選んだら、その名前を
credential.helper 変数に入力することで、Gitにそのヘルパーを使用するよう
に指示できます。

  1. ヘルパーを探す。

          $ git help -a | grep credential-
          credential-foo

  2. その説明を読む。

          $ git help credential-foo

  3. Gitにそれを使用するように伝えます。

          $ git config --global credential.helper foo


CREDENTIAL CONTEXTS
*******************

Gitは、各資格情報がURLによって定義されたコンテキストを持っていると見なし
ます。このコンテキストは、コンテキスト固有の構成を検索するために使用され
、すべてのヘルパーに渡されます。ヘルパーは、これを安全なストレージへのイ
ンデックスとして使用できます。

   たとえば、 ‘https://example.com/foo.git’ にアクセスしていると想像して
ください。Gitが構成ファイルを調べてセクションがこのコンテキストに一致す
るかどうかを確認するとき、コンテキストが構成ファイル内のパターンのより具
体的なサブセットである場合、Gitは2つが一致すると見なします。たとえば、設
定ファイルに以下がある場合:

     [credential "https://example.com"]
             username = foo

   これはマッチします。両方のプロトコルが同じで、かつ、両方のホストが同
じであり、かつ、パターンURLはパス部分を気にしないからです。ただし、以下
のコンテキストは一致しません:

     [credential "https://kernel.org"]
             username = foo

   なぜならホスト名が異なるためです。 また、 ‘foo.example.com’ とは一致
しません。 Gitは、2つのホストが同じドメインの一部であるかどうかを考慮せ
ずに、ホスト名を正確に比較します。 同様に、 ‘http://example.com’ の設定
エントリは一致しません。Gitはプロトコルを正確に比較します。 ただし、
‘http.<url>.*’ オプションと同様に、ドメイン名やその他のパターンマッチン
グにワイルドカードを使用できます。

   パターンURLにパス部分が含まれている場合、これも完全に一致する必要があ
ります。コンテキスト ‘https://example.com/bar/baz.git’ は
(‘https://example.com’ 部分の照合に加えてパス部分も一致する)
‘https://example.com/bar/baz.git’ の設定エントリとは一致しますが、
‘https://example.com/bar’ 構成エントリとは一致しません。


CONFIGURATION OPTIONS
*********************

コンテキストのオプションは、 ‘credential.*’ (すべての資格情報に適用) ま
たは ‘credential.<url>.*’ のいずれかで構成できます。ここで、 <url> は上
記のコンテキストと一致します。

   以下のオプションは、どちらの場所でも使用できます:

helper
     外部資格情報ヘルパーの名前、および関連するオプション。ヘルパー名が
     絶対パスでない場合は、文字列 ‘git credential-’ が先頭に追加されます
     。結果の文字列はシェルによって実行されます(たとえば、これを ‘foo
     --option=bar’ に設定すると、シェルを介して ‘git credential-foo
     --option=bar’ が実行されます。例については使用するヘルパーのマニュ
     アルを参照してください。

     ‘credential.helper’ 構成変数のインスタンスが複数ある場合、各ヘルパ
     ーが順番に試行され、ユーザー名 または パスワード または 何も提供し
     ない 場合があります。Gitがユーザー名とパスワードの両方を取得すると
     、それ以上ヘルパーは試行されません。

     ‘credential.helper’ が空の文字列に設定されている場合、これによりヘ
     ルパーリストが空にリセットされます(したがって、空の文字列ヘルパーを
     構成し、その後に必要なヘルパーのセットを構成することで、優先度の低
     い構成ファイルによって設定されたヘルパーをオーバーライドできます)。

username
     URLに指定されていない場合のデフォルトのユーザー名。

useHttpPath
     デフォルトでは、Gitはhttp URLのパス部分を外部ヘルパーを介して照合す
     る価値があるとは見なしません。 これは、
     ‘https://example.com/foo.git’ に保存されている資格情報が
     ‘https://example.com/bar.git’ にも使用されることを意味します。これ
     らの場合を区別したい場合は、このオプションを「true」に設定してくだ
     さい。


CUSTOM HELPERS
**************

あなた独自のカスタムヘルパーを作成して、資格情報を保持している任意のシス
テムとインターフェイスすることができます。

   資格情報ヘルパーは、資格情報を長期ストレージとの間でフェッチまたは保
存するためにGitによって実行されるプログラムです(「長期」とは単一のGitプ
ロセスよりも単純に長いという意味です。たとえば、資格情報はメモリ内に数分
間、またはディスク上で無期限に保存される場合があります)。

   各ヘルパーは、構成変数 ‘credential.helper’ の単一の文字列で指定されま
す(その他 git-config(1) を参照)。文字列はGitによって、以下のルールを使用
して実行されるコマンドに変換されます:

  1. ヘルパー文字列が "!" で始まる場合、それはシェルスニペットと見なされ
     、 "!" の後のすべてが コマンドになります。

  2. それ以外の場合、ヘルパー文字列が絶対パスで始まる場合は、文字列がそ
     のままコマンドとして扱われます。

  3. それ以外の場合は、文字列 "git credential-" がヘルパー文字列の前に付
     加され、その結果がコマンドになります。

   結果のコマンドには「operation」引数が追加され(詳細は下記参照)、結果は
シェルによって実行されます。

   仕様の例を以下に示します:

     # run "git credential-foo"
     [credential]
             helper = foo

     # same as above, but pass an argument to the helper
     [credential]
             helper = "foo --bar=baz"

     # the arguments are parsed by the shell, so use shell
     # quoting if necessary
     [credential]
             helper = "foo --bar='whitespace arg'"

     # you can also use an absolute path, which will not use the git wrapper
     [credential]
             helper = "/path/to/my/helper --with-arguments"

     # or you can specify your own shell snippet
     [credential "https://example.com"]
             username = your_user
             helper = "!f() { test \"$1\" = get && echo \"password=$(cat $HOME/.secret)\"; }; f"

   一般的に、上記の ルール(3）は、ユーザーが指定するのが最も簡単です。資
格情報ヘルパーの作成者は、プログラムに "git-credential-$NAME" という名前
を付け、インストール中に ‘$PATH’ または ‘$GIT_EXEC_PATH’ に配置して、ユ
ーザーが ‘git config credential.helper $NAME’ を有効にできるようにするこ
とで、ユーザーを支援するように努める必要があります。

   ヘルパーが実行されると、コマンドラインに以下のいずれかの「操作」引数
が追加されます:

‘get’
     一致する資格情報が存在する場合は、それを返します。

‘store’
     ヘルパーに該当する場合は、資格情報を保存します。

‘erase’
     もしあれば、ヘルパーのストレージから一致する資格情報を削除します。

   資格情報の詳細は、ヘルパーの標準入力ストリームで提供されます。正確な
形式は、 ‘git credential’ 配管コマンドの 入力/出力形式 と同じです(詳細な
仕様については、 git-credential(1) の「INPUT/OUTPUT FORMAT」のセクション
を参照してください)。

   ‘get‘操作の場合、ヘルパーは標準出力の属性のリストを同じ形式で作成する
必要があります(一般的な属性については git-credential(1) を参照してくださ
い)。ヘルパーはサブセットを自由に作成できます。提供するのに役立つものが
ない場合は、値をまったく作成しません。提供された属性は、Gitの資格情報サ
ブシステムによってすでに知られている属性を上書きします。

   すべての属性を上書きすることが可能ですが、正常に動作するヘルパーは、
ユーザー名とパスワード以外の属性については上書きしないようにする必要があ
ります。

   ヘルパーが ‘true’ または ‘1’ の値で ‘quit’ 属性を出力した場合、それ以
上のヘルパーは参照されず、ユーザーにプロンプトも表示されません(資格情報
が提供されていない場合、操作は失敗します)。

   同様に、ユーザー名とパスワードの両方が提供されると、ヘルパーに相談す
ることはありません。

   ‘store’ または ‘erase’ 操作の場合、ヘルパーの出力は無視されます。

   ヘルパーが要求された操作の実行に失敗した場合、または潜在的な問題をユ
ーザーに通知する必要がある場合、ヘルパーは標準エラー出力に書き込むことが
あります。

   要求された操作(読み取り専用ストアなど)をサポートしていない場合は、要
求を黙って無視する必要があります。

   ヘルパーが他の操作を受け取った場合、ヘルパーはその要求を黙って無視す
る必要があります。これにより、将来の操作を追加する余地が残ります(古いヘ
ルパーは新しい要求を無視するだけです)。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitcvs-migration,  Up: Top

Name
****

gitcvs-migration — Git for CVS users


Synopsis
********

     git cvsimport *


DESCRIPTION
***********

Git differs from CVS in that every working tree contains a repository
with a full copy of the project history, and no repository is inherently
more important than any other.  However, you can emulate the CVS model
by designating a single shared repository which people can synchronize
with; this document explains how to do that.

   Some basic familiarity with Git is required.  Having gone through
gittutorial(7) and gitglossary(7) should be sufficient.


Developing against a shared repository
**************************************

Suppose a shared repository is set up in /pub/repo.git on the host
foo.com.  Then as an individual committer you can clone the shared
repository over ssh with:

     $ git clone foo.com:/pub/repo.git/ my-project
     $ cd my-project

   and hack away.  The equivalent of _cvs update_ is

     $ git pull origin

   which merges in any work that others might have done since the clone
operation.  If there are uncommitted changes in your working tree,
commit them first before running git pull.

     *Note*

     The _pull_ command knows where to get updates from because of
     certain configuration variables that were set by the first _git
     clone_ command; see ‘git config -l’ and the git-config(1) man page
     for details.

   You can update the shared repository with your changes by first
committing your changes, and then using the _git push_ command:

     $ git push origin master

   to "push" those commits to the shared repository.  If someone else
has updated the repository more recently, _git push_, like _cvs commit_,
will complain, in which case you must pull any changes before attempting
the push again.

   In the _git push_ command above we specify the name of the remote
branch to update (‘master’).  If we leave that out, _git push_ tries to
update any branches in the remote repository that have the same name as
a branch in the local repository.  So the last _push_ can be done with
either of:

     $ git push origin
     $ git push foo.com:/pub/project.git/

   as long as the shared repository does not have any branches other
than ‘master’.


Setting Up a Shared Repository
******************************

We assume you have already created a Git repository for your project,
possibly created from scratch or from a tarball (see gittutorial(7)), or
imported from an already existing CVS repository (see the next section).

   Assume your existing repo is at /home/alice/myproject.  Create a new
"bare" repository (a repository without a working tree) and fetch your
project into it:

     $ mkdir /pub/my-repo.git
     $ cd /pub/my-repo.git
     $ git --bare init --shared
     $ git --bare fetch /home/alice/myproject master:master

   Next, give every team member read/write access to this repository.
One easy way to do this is to give all the team members ssh access to
the machine where the repository is hosted.  If you don’t want to give
them a full shell on the machine, there is a restricted shell which only
allows users to do Git pushes and pulls; see git-shell(1).

   Put all the committers in the same group, and make the repository
writable by that group:

     $ chgrp -R $group /pub/my-repo.git

   Make sure committers have a umask of at most 027, so that the
directories they create are writable and searchable by other group
members.


Importing a CVS archive
***********************

     *Note*

     These instructions use the ‘git-cvsimport’ script which ships with
     git, but other importers may provide better results.  See the note
     in git-cvsimport(1) for other options.

   First, install version 2.1 or higher of cvsps from
https://github.com/andreyvit/cvsps (https://github.com/andreyvit/cvsps)
and make sure it is in your path.  Then cd to a checked out CVS working
directory of the project you are interested in and run git-cvsimport(1):

     $ git cvsimport -C <destination> <module>

   This puts a Git archive of the named CVS module in the directory
<destination>, which will be created if necessary.

   The import checks out from CVS every revision of every file.
Reportedly cvsimport can average some twenty revisions per second, so
for a medium-sized project this should not take more than a couple of
minutes.  Larger projects or remote repositories may take longer.

   The main trunk is stored in the Git branch named ‘origin’, and
additional CVS branches are stored in Git branches with the same names.
The most recent version of the main trunk is also left checked out on
the ‘master’ branch, so you can start adding your own changes right
away.

   The import is incremental, so if you call it again next month it will
fetch any CVS updates that have been made in the meantime.  For this to
work, you must not modify the imported branches; instead, create new
branches for your own changes, and merge in the imported branches as
necessary.

   If you want a shared repository, you will need to make a bare clone
of the imported directory, as described above.  Then treat the imported
directory as another development clone for purposes of merging
incremental imports.


Advanced Shared Repository Management
*************************************

Git allows you to specify scripts called "hooks" to be run at certain
points.  You can use these, for example, to send all commits to the
shared repository to a mailing list.  See githooks(5).

   You can enforce finer grained permissions using update hooks.  See
Controlling access to branches using update hooks
(howto/update-hook-example.html).


Providing CVS Access to a Git Repository
****************************************

It is also possible to provide true CVS access to a Git repository, so
that developers can still use CVS; see git-cvsserver(1) for details.


Alternative Development Models
******************************

CVS users are accustomed to giving a group of developers commit access
to a common repository.  As we’ve seen, this is also possible with Git.
However, the distributed nature of Git allows other development models,
and you may want to first consider whether one of them might be a better
fit for your project.

   For example, you can choose a single person to maintain the project’s
primary public repository.  Other developers then clone this repository
and each work in their own clone.  When they have a series of changes
that they’re happy with, they ask the maintainer to pull from the branch
containing the changes.  The maintainer reviews their changes and pulls
them into the primary repository, which other developers pull from as
necessary to stay coordinated.  The Linux kernel and other projects use
variants of this model.

   With a small group, developers may just pull changes from each
other’s repositories without the need for a central maintainer.


SEE ALSO
********

gittutorial(7), gittutorial-2(7), gitcore-tutorial(7), gitglossary(7),
giteveryday(7), The Git User’s Manual (user-manual.html)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitdiffcore,  Up: Top

Name
****

gitdiffcore — Tweaking diff output


Synopsis
********

     git diff *


DESCRIPTION
***********

The diff commands _git diff-index_, _git diff-files_, and _git
diff-tree_ can be told to manipulate differences they find in
unconventional ways before showing _diff_ output.  The manipulation is
collectively called "diffcore transformation".  This short note
describes what they are and how to use them to produce _diff_ output
that is easier to understand than the conventional kind.


The chain of operation
**********************

The _git diff-*_ family works by first comparing two sets of files:

   • _git diff-index_ compares contents of a "tree" object and the
     working directory (when ‘--cached’ flag is not used) or a "tree"
     object and the index file (when ‘--cached’ flag is used);

   • _git diff-files_ compares contents of the index file and the
     working directory;

   • _git diff-tree_ compares contents of two "tree" objects;

   In all of these cases, the commands themselves first optionally limit
the two sets of files by any pathspecs given on their command-lines, and
compare corresponding paths in the two resulting sets of files.

   The pathspecs are used to limit the world diff operates in.  They
remove the filepairs outside the specified sets of pathnames.  E.g.  If
the input set of filepairs included:

     :100644 100644 bcd1234... 0123456... M junkfile

   but the command invocation was ‘git diff-files myfile’, then the
junkfile entry would be removed from the list because only "myfile" is
under consideration.

   The result of comparison is passed from these commands to what is
internally called "diffcore", in a format similar to what is output when
the -p option is not used.  E.g.

     in-place edit  :100644 100644 bcd1234... 0123456... M file0
     create         :000000 100644 0000000... 1234567... A file4
     delete         :100644 000000 1234567... 0000000... D file5
     unmerged       :000000 000000 0000000... 0000000... U file6

   The diffcore mechanism is fed a list of such comparison results (each
of which is called "filepair", although at this point each of them talks
about a single file), and transforms such a list into another list.
There are currently 5 such transformations:

   • diffcore-break

   • diffcore-rename

   • diffcore-merge-broken

   • diffcore-pickaxe

   • diffcore-order

   • diffcore-rotate

   These are applied in sequence.  The set of filepairs _git diff-*_
commands find are used as the input to diffcore-break, and the output
from diffcore-break is used as the input to the next transformation.
The final result is then passed to the output routine and generates
either diff-raw format (see Output format sections of the manual for
_git diff-*_ commands) or diff-patch format.


diffcore-break: For Splitting Up Complete Rewrites
**************************************************

The second transformation in the chain is diffcore-break, and is
controlled by the -B option to the _git diff-*_ commands.  This is used
to detect a filepair that represents "complete rewrite" and break such
filepair into two filepairs that represent delete and create.  E.g.  If
the input contained this filepair:

     :100644 100644 bcd1234... 0123456... M file0

   and if it detects that the file "file0" is completely rewritten, it
changes it to:

     :100644 000000 bcd1234... 0000000... D file0
     :000000 100644 0000000... 0123456... A file0

   For the purpose of breaking a filepair, diffcore-break examines the
extent of changes between the contents of the files before and after
modification (i.e.  the contents that have "bcd1234…" and "0123456…" as
their SHA-1 content ID, in the above example).  The amount of deletion
of original contents and insertion of new material are added together,
and if it exceeds the "break score", the filepair is broken into two.
The break score defaults to 50% of the size of the smaller of the
original and the result (i.e.  if the edit shrinks the file, the size of
the result is used; if the edit lengthens the file, the size of the
original is used), and can be customized by giving a number after "-B"
option (e.g.  "-B75" to tell it to use 75%).


diffcore-rename: For Detecting Renames and Copies
*************************************************

This transformation is used to detect renames and copies, and is
controlled by the -M option (to detect renames) and the -C option (to
detect copies as well) to the _git diff-*_ commands.  If the input
contained these filepairs:

     :100644 000000 0123456... 0000000... D fileX
     :000000 100644 0000000... 0123456... A file0

   and the contents of the deleted file fileX is similar enough to the
contents of the created file file0, then rename detection merges these
filepairs and creates:

     :100644 100644 0123456... 0123456... R100 fileX file0

   When the "-C" option is used, the original contents of modified
files, and deleted files (and also unmodified files, if the
"–find-copies-harder" option is used) are considered as candidates of
the source files in rename/copy operation.  If the input were like these
filepairs, that talk about a modified file fileY and a newly created
file file0:

     :100644 100644 0123456... 1234567... M fileY
     :000000 100644 0000000... bcd3456... A file0

   the original contents of fileY and the resulting contents of file0
are compared, and if they are similar enough, they are changed to:

     :100644 100644 0123456... 1234567... M fileY
     :100644 100644 0123456... bcd3456... C100 fileY file0

   In both rename and copy detection, the same "extent of changes"
algorithm used in diffcore-break is used to determine if two files are
"similar enough", and can be customized to use a similarity score
different from the default of 50% by giving a number after the "-M" or
"-C" option (e.g.  "-M8" to tell it to use 8/10 = 80%).

   Note that when rename detection is on but both copy and break
detection are off, rename detection adds a preliminary step that first
checks if files are moved across directories while keeping their
filename the same.  If there is a file added to a directory whose
contents is sufficiently similar to a file with the same name that got
deleted from a different directory, it will mark them as renames and
exclude them from the later quadratic step (the one that pairwise
compares all unmatched files to find the "best" matches, determined by
the highest content similarity).  So, for example, if a deleted
docs/ext.txt and an added docs/config/ext.txt are similar enough, they
will be marked as a rename and prevent an added docs/ext.md that may be
even more similar to the deleted docs/ext.txt from being considered as
the rename destination in the later step.  For this reason, the
preliminary "match same filename" step uses a bit higher threshold to
mark a file pair as a rename and stop considering other candidates for
better matches.  At most, one comparison is done per file in this
preliminary pass; so if there are several remaining ext.txt files
throughout the directory hierarchy after exact rename detection, this
preliminary step may be skipped for those files.

   Note.  When the "-C" option is used with ‘--find-copies-harder’
option, _git diff-*_ commands feed unmodified filepairs to diffcore
mechanism as well as modified ones.  This lets the copy detector
consider unmodified files as copy source candidates at the expense of
making it slower.  Without ‘--find-copies-harder’, _git diff-*_ commands
can detect copies only if the file that was copied happened to have been
modified in the same changeset.


diffcore-merge-broken: For Putting Complete Rewrites Back Together
******************************************************************

This transformation is used to merge filepairs broken by diffcore-break,
and not transformed into rename/copy by diffcore-rename, back into a
single modification.  This always runs when diffcore-break is used.

   For the purpose of merging broken filepairs back, it uses a different
"extent of changes" computation from the ones used by diffcore-break and
diffcore-rename.  It counts only the deletion from the original, and
does not count insertion.  If you removed only 10 lines from a 100-line
document, even if you added 910 new lines to make a new 1000-line
document, you did not do a complete rewrite.  diffcore-break breaks such
a case in order to help diffcore-rename to consider such filepairs as
candidate of rename/copy detection, but if filepairs broken that way
were not matched with other filepairs to create rename/copy, then this
transformation merges them back into the original "modification".

   The "extent of changes" parameter can be tweaked from the default 80%
(that is, unless more than 80% of the original material is deleted, the
broken pairs are merged back into a single modification) by giving a
second number to -B option, like these:

   • -B50/60 (give 50% "break score" to diffcore-break, use 60% for
     diffcore-merge-broken).

   • -B/60 (the same as above, since diffcore-break defaults to 50%).

   Note that earlier implementation left a broken pair as a separate
creation and deletion patches.  This was an unnecessary hack and the
latest implementation always merges all the broken pairs back into
modifications, but the resulting patch output is formatted differently
for easier review in case of such a complete rewrite by showing the
entire contents of old version prefixed with _-_, followed by the entire
contents of new version prefixed with _+_.


diffcore-pickaxe: For Detecting Addition/Deletion of Specified String
*********************************************************************

This transformation limits the set of filepairs to those that change
specified strings between the preimage and the postimage in a certain
way.  -S<block of text> and -G<regular expression> options are used to
specify different ways these strings are sought.

   "-S<block of text>" detects filepairs whose preimage and postimage
have different number of occurrences of the specified block of text.  By
definition, it will not detect in-file moves.  Also, when a changeset
moves a file wholesale without affecting the interesting string,
diffcore-rename kicks in as usual, and ‘-S’ omits the filepair (since
the number of occurrences of that string didn’t change in that
rename-detected filepair).  When used with ‘--pickaxe-regex’, treat the
<block of text> as an extended POSIX regular expression to match,
instead of a literal string.

   "-G<regular expression>" (mnemonic: grep) detects filepairs whose
textual diff has an added or a deleted line that matches the given
regular expression.  This means that it will detect in-file (or what
rename-detection considers the same file) moves, which is noise.  The
implementation runs diff twice and greps, and this can be quite
expensive.  To speed things up binary files without textconv filters
will be ignored.

   When ‘-S’ or ‘-G’ are used without ‘--pickaxe-all’, only filepairs
that match their respective criterion are kept in the output.  When
‘--pickaxe-all’ is used, if even one filepair matches their respective
criterion in a changeset, the entire changeset is kept.  This behavior
is designed to make reviewing changes in the context of the whole
changeset easier.


diffcore-order: For Sorting the Output Based on Filenames
*********************************************************

This is used to reorder the filepairs according to the user’s (or
project’s) taste, and is controlled by the -O option to the _git diff-*_
commands.

   This takes a text file each of whose lines is a shell glob pattern.
Filepairs that match a glob pattern on an earlier line in the file are
output before ones that match a later line, and filepairs that do not
match any glob pattern are output last.

   As an example, a typical orderfile for the core Git probably would
look like this:

     README
     Makefile
     Documentation
     *.h
     *.c
     t


diffcore-rotate: For Changing At Which Path Output Starts
*********************************************************

This transformation takes one pathname, and rotates the set of filepairs
so that the filepair for the given pathname comes first, optionally
discarding the paths that come before it.  This is used to implement the
‘--skip-to’ and the ‘--rotate-to’ options.  It is an error when the
specified pathname is not in the set of filepairs, but it is not useful
to error out when used with "git log" family of commands, because it is
unreasonable to expect that a given path would be modified by each and
every commit shown by the "git log" command.  For this reason, when used
with "git log", the filepair that sorts the same as, or the first one
that sorts after, the given pathname is where the output starts.

   Use of this transformation combined with diffcore-order will produce
unexpected results, as the input to this transformation is likely not
sorted when diffcore-order is in effect.


SEE ALSO
********

git-diff(1), git-diff-files(1), git-diff-index(1), git-diff-tree(1),
git-format-patch(1), git-log(1), gitglossary(7), The Git User’s Manual
(user-manual.html)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: giteveryday,  Up: Top

Name
****

giteveryday — Git日常利用に役立つ最小限のコマンドセット


Synopsis
********

Git日常利用の為の20程度のコマンド


DESCRIPTION
***********

日常のGit利用に役立つコマンドの小さなセットを説明するため、Gitユーザーを
大きく4つのカテゴリに分類します。

   • 開発者個人(スタンドアローン) (*note [STANDALONE]::) のコマンドは 一
     人で作業する人でも、コミットする人には不可欠です。

   • 他の人と一緒に作業する場合は、開発者個人(グループプロジェクト参加者
     ) (*note [PARTICIPANT]::) セクションにリストされているコマンドも必
     要になります。

   • インテグレーター (*note [INTEGRATOR]::) 役の人々は、 上記に加えて更
     に幾つかのコマンドを学ぶ必要があります。

   • リポジトリ管理 (*note [ADMINISTRATION]::) コマンドは、 Gitリポジト
     リの管理と提供を担当するシステム管理者向けです。


Individual Developer (Standalone)
*********************************

独立した個々の開発者は、他の人とパッチを交換せず、以下のコマンドを使用し
て、単一のリポジトリで単独で作業します。

   • git-init(1) 新しいリポジトリを作成します。

   • git-log(1) 何が起こったのか確認します。

   • git-switch(1) と git-branch(1) ブランチを切り替えます。

   • git-add(1) インデックスファイルを管理します。

   • git-diff(1) と git-status(1) を使用して、あなたは何をしている最中か
     確認します。

   • git-commit(1) を使用して、現在のブランチを進めます。

   • git-restore(1) を使用して、変更を元に戻します(undo)。

   • git-merge(1) は、ローカルブランチ間でマージします。

   • git-rebase(1) は、トピックブランチを保守します。

   • git-tag(1) を使用して、既知のポイントをマークします。


Examples
========

新しいリポジトリの開始点としてtarballを使用します
          $ tar zxf frotz.tar.gz
          $ cd frotz
          $ git init
          $ git add . (1)
          $ git commit -m "import of frotz source tree."
          $ git tag v2.43 (2)

     *note (1): CO1-1.
          あなたが現在いるディレクトリ下のすべてをaddします。

     *note (2): CO1-2.
          軽量で注釈のないタグを作成します。

トピックブランチを作成して開発します
          $ git switch -c alsa-audio (1)
          $ edit/compile/test
          $ git restore curses/ux_audio_oss.c (2)
          $ git add curses/ux_audio_alsa.c (3)
          $ edit/compile/test
          $ git diff HEAD (4)
          $ git commit -a -s (5)
          $ edit/compile/test
          $ git diff HEAD^ (6)
          $ git commit -a --amend (7)
          $ git switch master (8)
          $ git merge alsa-audio (9)
          $ git log --since='3 days ago' (10)
          $ git log v2.43.. curses/ (11)

     *note (1): CO2-1.
          新しいトピックブランチを作成します。

     *note (2): CO2-2.
          ‘curses/ux_audio_oss.c’ で失敗した変更を元に戻します(revert)。

     *note (3): CO2-3.
          あなたは新しいファイルを追加したかどうかをGitに伝える必要があ
          ります。 後で ‘git commit -a’ を実行すると、削除と変更が捕捉さ
          れます。

     *note (4): CO2-4.
          コミットしようとしている変更を確認します。

     *note (5): CO2-5.
          あなたがテストしたと署名(sign-off)して、全てをコミットします。

     *note (6): CO2-6.
          前のコミットを含むすべての変更を確認します。

     *note (7): CO2-7.
          元のメッセージを流用して、以前のコミットを修正し、すべての新し
          い変更を追加します。

     *note (8): CO2-8.
          masterブランチに切り替えます。

     *note (9): CO2-9.
          トピックブランチをあなたのmasterブランチへマージします。

     *note (10): CO2-10.
          コミットログを確認します。出力を制限する他の形式を組み合わせて
          、 ‘-10’ (最大10個のコミットを表示）、 ‘--until=2005-12-10’ な
          どを含めることができます。

     *note (11): CO2-11.
          ‘v2.43’ タグ以降 、‘curses/’ ディレクトリにあるものに影響を与
          える変更のみを表示します。


Individual Developer(Participant;グループプロジェクト参加者)
************************************************************

グループプロジェクトの参加者として作業する開発者個人は、他の人と連絡する
方法を学ぶ必要があり、スタンドアロンの開発者個人が必要とするコマンドに加
えて、これらのコマンドを使用します。

   • git-clone(1) をアップストリームから実行して、あなたのローカルリポジ
     トリを準備します。

   • git-pull(1) と git-fetch(1) により、 "origin" をアップストリームと
     共に最新の状態に保ちます。

   • CVSスタイルの共有リポジトリワークフローを採用している場合、共有リポ
     ジトリのために git-push(1) を使います。

   • Linuxカーネルスタイルのパブリックフォーラムワークフローを採用してい
     る場合に、 git-format-patch(1) は電子メール送信を準備します。

   • git-send-email(1) を使用して、MUAによる破損なしに電子メール送信を送
     信します。

   • git-request-pull(1) を使用して、あなたのアップストリームがプルする
     変更の概要を作成します。


Examples
========

アップストリームのクローンを作成して作業します。 変更をアップストリームに送ります。
          $ git clone git://git.kernel.org/pub/scm/.../torvalds/linux-2.6 my2.6
          $ cd my2.6
          $ git switch -c mine master (1)
          $ edit/compile/test; git commit -a -s (2)
          $ git format-patch master (3)
          $ git send-email --to="person <email@example.com>" 00*.patch (4)
          $ git switch master (5)
          $ git pull (6)
          $ git log -p ORIG_HEAD.. arch/i386 include/asm-i386 (7)
          $ git ls-remote --heads http://git.kernel.org/.../jgarzik/libata-dev.git (8)
          $ git pull git://git.kernel.org/pub/.../jgarzik/libata-dev.git ALL (9)
          $ git reset --hard ORIG_HEAD (10)
          $ git gc (11)

     *note (1): CO3-1.
          master から新ブランチ ‘mine’ を作成し、 ‘mine’ でチェックアウ
          トします。

     *note (2): CO3-2.
          必要に応じてこの作業を繰り返します。

     *note (3): CO3-3.
          masterに関連して、あなたのブランチからパッチを抽出します。

     *note (4): CO3-4.
          そしてそれらを電子メールで送ります。

     *note (5): CO3-5.
          ‘master’ に戻り、最新情報を確認する準備をします

     *note (6): CO3-6.
          ‘git pull’ はデフォルトで ‘origin’ からフェッチし、現在のブラ
          ンチにマージします。

     *note (7): CO3-7.
          プルした直後に、前回チェックしてから上流で行われた変更を、関心
          のある領域でのみ確認します。

     *note (8): CO3-8.
          (不明な場合)外部リポジトリのブランチ名を確認します。

     *note (9): CO3-9.
          指定のリポジトリから、指定のブランチ ‘ALL’ をフェッチしマージ
          します。

     *note (10): CO3-10.
          プルしたのを元に戻します。(revert)

     *note (11): CO3-11.
          ガベージコレクションは、元に戻されたプルからゴミオブジェクト
          (leftover objects)を収集します。

別のリポジトリにプッシュします。
          satellite$ git clone mothership:frotz frotz (1)
          satellite$ cd frotz
          satellite$ git config --get-regexp '^(remote|branch)\.' (2)
          remote.origin.url mothership:frotz
          remote.origin.fetch refs/heads/*:refs/remotes/origin/*
          branch.master.remote origin
          branch.master.merge refs/heads/master
          satellite$ git config remote.origin.push \
                     +refs/heads/*:refs/remotes/satellite/* (3)
          satellite$ edit/compile/test/commit
          satellite$ git push origin (4)

          mothership$ cd frotz
          mothership$ git switch master
          mothership$ git merge satellite/master (5)

     *note (1): CO4-1.
          マザーシップ機には、ホームディレクトリの下にfrotzリポジトリが
          あります。そこからクローンを作成して、サテライト機でリポジトリ
          を開始します。

     *note (2): CO4-2.
          cloneは、これらの構成変数をデフォルトで設定します。 これは、マ
          ザーシップ機のブランチをフェッチしてローカルの
          ‘remotes/origin/*’ リモートトラッキングブランチに保存するため
          に ‘git pull’ を手配します。

     *note (3): CO4-3.
          すべてのローカルブランチをマザーシップ機の対応するブランチにプ
          ッシュするために ‘git push’ を手配します。

     *note (4): CO4-4.
          pushは、マザーシップ機の ‘remotes/satellite/*’ リモートトラッ
          キングブランチへすべての作業をstashします。これをバックアップ
          方法として使用できます。同様に、あなたはそのマザーシップ機があ
          なたから「フェッチされた」ふりをすることができます(アクセスが
          一方的な場合に便利です)。

     *note (5): CO4-5.
          マザーシップ機で、サテライト機で行われた作業をmasterブランチに
          マージします。

Branch off of a specific tag.
          $ git switch -c private2.6.14 v2.6.14 (1)
          $ edit/compile/test; git commit -a
          $ git checkout master
          $ git cherry-pick v2.6.14..private2.6.14 (2)

     *note (1): CO5-1.
          よく知られている(ただし多少遅れている)タグに基づいてプライベー
          トブランチを作成します。

     *note (2): CO5-2.
          forward port all changes in ‘private2.6.14’ branch to ‘master’
          branch without a formal "merging".  Or longhand + ‘git
          format-patch -k -m --stdout v2.6.14..private2.6.14 | git am -3
          -k’

   別の参加者送信メカニズム(participant submission mechanism)は、 ‘git
request-pull’ または pull-request メカニズム(GitHub（www.github.com）で
使用されているものなど)を使用して、あなたの貢献をあなたのアップストリー
ムに通知します。


インテグレーター
****************

グループプロジェクトのインテグレーターとして機能するかなり中心的な人物は
、他の人が行った変更を受け取り、それらをレビューして統合し、参加者が必要
とするコマンドに加えて以下のコマンドを使用して、他の人が使用できるように
結果を公開します。

   このセクションのコマンドは、GitHub（www.github.com）で ‘git
request-pull’ または pull-request に応答するユーザーが、他のユーザーの作
業を履歴に統合するために使用することもできます。 リポジトリの部分担当リ
ーダー(sub-area lieutenant)は、参加者とインテグレーターの両方として機能
します。

   • git-am(1) を使用して、寄稿者から電子メールで送信されて来たパッチを
     適用します。

   • git-pull(1) を使用して、信頼できる部分担当リーダーの分からマージし
     ます。

   • git-format-patch(1) を準備し、提案された代替案を寄稿者に送信します
     。

   • git-revert(1) は、失敗したコミットを元に戻します。(revert)

   • git-push(1) を使用して、最先端を公開します。


Examples
========

典型的なGitインテグレーターの一日。
          $ git status (1)
          $ git branch --no-merged master (2)
          $ mailx (3)
          & s 2 3 4 5 ./+to-apply
          & s 7 8 ./+hold-linus
          & q
          $ git switch -c topic/one master
          $ git am -3 -i -s ./+to-apply (4)
          $ compile/test
          $ git switch -c hold/linus && git am -3 -i -s ./+hold-linus (5)
          $ git switch topic/one && git rebase master (6)
          $ git switch -C seen next (7)
          $ git merge topic/one topic/two && git merge hold/linus (8)
          $ git switch maint
          $ git cherry-pick master~4 (9)
          $ compile/test
          $ git tag -s -m "GIT 0.99.9x" v0.99.9x (10)
          $ git fetch ko && for branch in master maint next seen (11)
              do
                  git show-branch ko/$branch $branch (12)
              done
          $ git push --follow-tags ko (13)

     *note (1): CO6-1.
          どちらかといえば、あなたが途中で何をしていたかを見てください。

     *note (2): CO6-2.
          ‘master’ にマージされていないのがどのブランチかを確認してくだ
          さい。他の統合ブランチ(‘maint’ 、‘ next‘ 、 ‘seen’)についても
          同様です。

     *note (3): CO6-3.
          メールを読んだり、該当するものを保存したり、準備が整っていない
          ものを保存したりします(他のメールリーダーも利用できます)。

     *note (4): CO6-4.
          あなたの署名伴って、対話的にそれらを適用します。

     *note (5): CO6-5.
          必要に応じてトピックブランチを作成し、再度署名して適用します。

     *note (6): CO6-6.
          masterにマージされていない、または安定したブランチの一部として
          公開されていない内部トピックブランチをリベースします。

     *note (7): CO6-7.
          next から 毎回 ‘seen’ を再スタートします。

     *note (8): CO6-8.
          そして、まだ調理中のトピックブランチをバンドルします。

     *note (9): CO6-9.
          深刻な修正をバックポートします。

     *note (10): CO6-10.
          署名付きタグを作成します。

     *note (11): CO6-11.
          masterがすでにpushされたものを超えて誤って巻き戻されていないこ
          とを確認してください。

     *note (12): CO6-12.
          ‘git show-branch’ からの出力では、 ‘master’ には ‘ko/master’ が
          持つすべてのものが含まれ、 ‘next’ には ‘ko/next’ が持つすべて
          のものが含まれる必要があります。

     *note (13): CO6-13.
          プッシュされた履歴を指す新しいタグとともに、最先端をプッシュし
          ます。

   この例では、 ‘ko’ の省略形はkernel.orgにあるGitメンテナのリポジトリを
指しており、以下のようになります:

     (in .git/config)
     [remote "ko"]
             url = kernel.org:/pub/scm/git/git.git
             fetch = refs/heads/*:refs/remotes/ko/*
             push = refs/heads/master
             push = refs/heads/next
             push = +refs/heads/seen
             push = refs/heads/maint


リポジトリ管理
**************

リポジトリ管理者は、以下のツールを使用して、開発者によるリポジトリへのア
クセスを設定および維持します。

   • git-daemon(1) を使用して、リポジトリからの匿名ダウンロードを許可し
     ます。

   • git-shell(1) は、共有中央リポジトリユーザーの「制限付きログインシェ
     ル」として使用できます。

   • git-http-backend(1) は、フェッチサービスとプッシュサービスの両方を
     可能にする Git-over-HTTP(スマートhttp)のサーバー側実装を提供します
     。

   • gitweb(1) は、GitリポジトリへのWebフロントエンドを提供します。これ
     は、 git-instaweb(1) スクリプトを使用して設定できます。

   update hook howto (howto/update-hook-example.html) には、共有中央リポ
ジトリを管理する良い例があります。

   さらに、以下のような他の広く展開されているホスティング、ブラウジング
、レビューソリューションがいくつかあります:

   • gitolite 、 gerrit code review 、 cgit 、その他。


Examples
========

‘/etc/services’ では以下を前提としています
          $ grep 9418 /etc/services
          git             9418/tcp                # Git Version Control System

Run git-daemon to serve /pub/scm from inetd.
          $ grep git /etc/inetd.conf
          git     stream  tcp     nowait  nobody \
            /usr/bin/git-daemon git-daemon --inetd --export-all /pub/scm

     実際の行は1行で書く必要があります。

Run git-daemon to serve /pub/scm from xinetd.
          $ cat /etc/xinetd.d/git-daemon
          # default: off
          # description: The Git server offers access to Git repositories
          service git
          {
                  disable = no
                  type            = UNLISTED
                  port            = 9418
                  socket_type     = stream
                  wait            = no
                  user            = nobody
                  server          = /usr/bin/git-daemon
                  server_args     = --inetd --export-all --base-path=/pub/scm
                  log_on_failure  += USERID
          }

     あなたの xinetd(8) のドキュメントとセットアップを確認してください。
     これはFedoraシステムからのものです。その他は異なる場合があります。

Give push/pull only access to developers using git-over-ssh.
     例えばこのように使います: ‘$ git push/pull
     ssh://host.xz/pub/scm/project’

          $ grep git /etc/passwd (1)
          alice:x:1000:1000::/home/alice:/usr/bin/git-shell
          bob:x:1001:1001::/home/bob:/usr/bin/git-shell
          cindy:x:1002:1002::/home/cindy:/usr/bin/git-shell
          david:x:1003:1003::/home/david:/usr/bin/git-shell
          $ grep git /etc/shells (2)
          /usr/bin/git-shell

     *note (1): CO7-1.
          ログインシェルは /usr/bin/git-shell に設定されており、 ‘git
          push’ と ‘git pull’ 以外は許可されていません。ユーザーはマシン
          へのsshアクセスを必要とします。

     *note (2): CO7-2.
          多くのディストリビューションでは、 /etc/shells にはログインシ
          ェルとして使用されるものをリストする必要があります。

CVS-style shared repository.
          $ grep git /etc/group (1)
          git:x:9418:alice,bob,cindy,david
          $ cd /home/devo.git
          $ ls -l (2)
            lrwxrwxrwx   1 david git    17 Dec  4 22:40 HEAD -> refs/heads/master
            drwxrwsr-x   2 david git  4096 Dec  4 22:40 branches
            -rw-rw-r--   1 david git    84 Dec  4 22:40 config
            -rw-rw-r--   1 david git    58 Dec  4 22:40 description
            drwxrwsr-x   2 david git  4096 Dec  4 22:40 hooks
            -rw-rw-r--   1 david git 37504 Dec  4 22:40 index
            drwxrwsr-x   2 david git  4096 Dec  4 22:40 info
            drwxrwsr-x   4 david git  4096 Dec  4 22:40 objects
            drwxrwsr-x   4 david git  4096 Nov  7 14:58 refs
            drwxrwsr-x   2 david git  4096 Dec  4 22:40 remotes
          $ ls -l hooks/update (3)
            -r-xr-xr-x   1 david git  3536 Dec  4 22:40 update
          $ cat info/allowed-users (4)
          refs/heads/master       alice\|cindy
          refs/heads/doc-update   bob
          refs/tags/v[0-9]*       david

     *note (1): CO8-1.
          開発者を同じgitグループに配置します。

     *note (2): CO8-2.
          そして、共有リポジトリをグループで書き込み可能にします。

     *note (3): CO8-3.
          ブランチポリシーの制御には、 Documentation/howto/ の Carl によ
          る update-hook の例を使用してください。

     *note (4): CO8-4.
          alice と cindy はmasterにプッシュでき、bobだけがdoc-updateにプ
          ッシュできます。 davidはリリースマネージャーであり、バージョン
          タグを作成してプッシュできる唯一の人物です。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitfaq,  Up: Top

Name
****

gitfaq — Gitの使用に関するよくある質問(FAQ)


Synopsis
********

gitfaq


DESCRIPTION
***********

このFAQの例では、 ‘bash’ や ‘dash’ などの標準のPOSIXシェルと、ホスティン
グプロバイダー ‘git.example.org’ にアカウント ‘author’ を持つユーザー A
U Thor を想定しています。


Configuration
*************

‘user.name’ には何を入れるべきですか？
     個人名、通常は名前とファミリーネームを使用した形式を入力する必要が
     あります。たとえば、Gitの現在のメンテナは "Junio C Hamano" (濱野 純
     )を使用しています。 これは、コミットするたびに保存される名前の部分
     になります。

     この構成は、リモートサービスへの認証には影響しません。 そのためには
     、 git-config(1) の ‘credential.username’ を参照してください。

‘http.postBuffer’ は実際には何をしますか？
     このオプションは、HTTPまたはHTTPSを介してデータをリモートにプッシュ
     するときにGitが使用するバッファーのサイズを変更します。データがこの
     サイズより大きい場合、GitのHTTPサポートを処理するlibcurlは、プッシ
     ュされたデータのサイズが事前にわからないため、チャンク転送エンコー
     ディングを使用します。

     リモートサーバーまたは中間のプロキシが、(チャンク転送エンコーディン
     グを導入している) HTTP/1.1 をサポートしていないか、チャンクデータが
     壊れていることがわかっている場合を除いて、この値をデフォルトサイズ
     のままにしておくことは問題ありません。これは一般的なプッシュ問題の
     解決策として、(誤って)提案されることがよくありますが、ほとんどすべ
     てのサーバーとプロキシが少なくとも HTTP/1.1 はサポートしているため
     、この値を上げてもほとんどのプッシュ問題は解決されません。 HTTP/1.1
     とチャンク転送エンコーディングを正しくサポートしていなかったサーバ
     ーまたはプロキシは、大量のトラフィックを遮断するため、今日のインタ
     ーネットでは無用の長物です。

     注意: この値を増やすと、GitがHTTPまたはHTTPSを介して行うすべての関
     連プッシュで使用されるメモリが増えることに注意してください。これは
     、すべてが使用されているかどうかに関係なく、バッファ全体が割り当て
     られるためです。したがって、別の値が必要であることが確実でない限り
     、デフォルトのままにしておくことをお勧めします。

別のエディタを構成するにはどうすればよいですか？
     Git専用のエディターを指定していない場合は、デフォルトで、「VISUAL」
     または「EDITOR」環境変数を使用して構成したエディターが使用されます
     。どちらも指定されていない場合は、システムのデフォルト(通常は「vi」
     )が使用されます。 ‘vi’ は使いにくい、または別のエディターを好む人も
     いるため、使用するエディターを変更することが望ましい場合があります
     。

     エディタを必要とするプログラム用に、あなたがエディタを構成したい場
     合、シェル構成(つまり、 ‘~/.bashrc’ とか ‘~/.zshenv’)を編集して、
     ‘EDITOR’ または ‘VISUAL’ 環境変数に適切な値に設定する行を含めること
     ができます。たとえば、エディタ ‘nano’ が必要な場合は、以下のように
     記述できます:

          export VISUAL=nano

     あなたがGit専用のエディタを構成したい場合は、 ‘core.editor’ 構成 ま
     たは ‘GIT_EDITOR’ 環境変数を設定できます。これらのオプションが参照
     される順序の詳細については git-var(1) を参照してください。

     注意: いずれの場合も、エディタの値はシェルに渡されるため、スペース
     を含む引数は適切に引用符で囲む必要があることに注意してください。さ
     らに、エディタが呼び出されたとき、通常ターミナルからデタッチするタ
     イプのエディタ場合は、それを行わないようにする引数を指定して指定す
     る必要があります。そうしないと、Gitはエディタでの変更を認識しません
     。 Windowsでこれらの問題の両方に対処する構成の例は、構成
     ‘"C:\Program Files\Vim\gvim.exe" --nofork’ です。これは、空白を含ん
     だファイル名をクォートし、プロセスのバックグラウンド実行を回避する
     ため ‘--nofork’ オプションを指定します。


Credentials
***********

HTTPでプッシュするときに資格情報を指定するにはどうすればよいですか？
     これを行う最も簡単な方法は、 ‘credential.helper’ 構成を介して資格情
     報ヘルパーを使用することです。ほとんどのシステムは、システム資格情
     報マネージャーと統合するための標準的な選択肢を提供します。たとえば
     、Git for Windowsは「wincred」資格情報マネージャーを提供し、macOSは
     「osxkeychain」資格情報マネージャーを提供し、標準デスクトップ環境を
     備えたUnixシステムは「libsecret」資格情報マネージャーを使用できます
     。 これらはすべて、パスワードまたはトークンを安全に保つために暗号化
     されたストアに資格情報を保存します。

     さらに、ホームディレクトリのファイルに保存する ‘store’ 資格情報マネ
     ージャー、または資格情報を永続的に保存しないが、特定の時間、資格情
     報の入力を求められないようにする ‘cache’ 資格情報マネージャーを使用
     できます。

     プロンプトが表示されたら、パスワードを入力することもできます。 URLに
     パスワード(パーセントエンコードする必要があります)を配置することは
     可能ですが、これは全然安全じゃ無く、誤って資格情報が公開される可能
     性があるため、お勧めしません。

環境変数からパスワードまたはトークンを読み取るにはどうすればよいですか？
     ‘credential.helper’ 構成オプションは、標準出力で資格情報プロトコル
     を生成する任意のシェルコマンドを受け取ることもできます。これは、た
     とえば、資格情報をコンテナに渡すときに役立ちます。

     このようなシェルコマンドは、オプション値を感嘆符(‘!’)で開始すること
     で指定できます。パスワードまたはトークンが ‘GIT_TOKEN’ に保存されて
     いる場合は、以下のコマンドを実行して資格情報ヘルパーを設定できます:

          $ git config credential.helper \
                  '!f() { echo username=author; echo "password=$GIT_TOKEN"; };f'

資格情報マネージャーに保存したパスワードまたはトークンを変更するにはどうすればよいですか？
     通常、パスワードまたはトークンが無効な場合、Gitはそれを消去し、新し
     いものを要求します。ただし、これが常に発生するとは限りません。パス
     ワードまたはトークンを変更するには、既存の資格情報を消去してくださ
     い。そうすればGitが新しい資格情報の入力を求めます。資格情報を消去す
     るには、以下の構文を使用します(ユーザー名(「author」の部分)とホスト
     名(「git.example.org」の部分)をあなた自身のに置き換えてください):

          $ echo url=https://author@git.example.org | git credential reject

HTTPを使用して同じホスティングプロバイダーで複数のアカウントを使用するにはどうすればよいですか？
     通常、これらのアカウントを区別する最も簡単な方法は、URLでユーザー名
     を使用することです。 たとえば、 ‘git.example.org’ にアカウント
     ‘author’ と ‘committer’ がある場合、URLに
     https://author@git.example.org/org1/project1.git
     (https://author@git.example.org/org1/project1.git) と
     https://committer@git.example.org/org2/project2.git
     (https://committer@git.example.org/org2/project2.git) を使用できま
     す。このように、資格情報ヘルパーを使用すると、アカウントの正しい資
     格情報が自動的に検索されます。すでにリモートを設定している場合は
     ‘git remote set-url origin
     https://author@git.example.org/org1/project1.git’ としてURLを変更で
     きます(詳細は git-remote(1) を参照)。

SSHを使用して同じホスティングプロバイダーで複数のアカウントを使用するにはどうすればよいですか？
     SSHをサポートするほとんどのホスティングプロバイダーでは、単一のキー
     ペアがユーザーを一意に識別します。したがって、複数のアカウントを使
     用するには、アカウントごとにキーペアを作成する必要があります。適度
     に最新のOpenSSHバージョンを使用している場合は ‘ssh-keygen -t
     ed25519 -f ~/.ssh/id_committer’ などとして新しいキーペアを作成でき
     ます。次に、公開鍵(この場合は ‘~/.ssh/id_committer.pub’ ※拡張子
     ‘.pub’ に注意) をホスティングプロバイダーに登録できます。

     ほとんどのホスティングプロバイダーは、プッシュに単一のSSHアカウント
     を使用します。つまり、すべてのユーザーが ‘git’ アカウント(例:
     ‘git@git.example.org’)にプッシュします。プロバイダーの場合は、SSHで
     複数のエイリアスを設定して、使用するキーペアを明確にすることができ
     ます。たとえば、以下のようなのを ‘~/.ssh/config’ に記述して、適切な
     秘密鍵ファイルに置き換えることができます:

          # This is the account for author on git.example.org.
          Host example_author
                  HostName git.example.org
                  User git
                  # This is the key pair registered for author with git.example.org.
                  IdentityFile ~/.ssh/id_author
                  IdentitiesOnly yes
          # This is the account for committer on git.example.org.
          Host example_committer
                  HostName git.example.org
                  User git
                  # This is the key pair registered for committer with git.example.org.
                  IdentityFile ~/.ssh/id_committer
                  IdentitiesOnly yes

     こうすれば、あなたはプッシュURLを調整して、 ‘git@example.org’ の代
     わりに ‘git@example_author’ または ‘git@example_committer’ を使用で
     きます(例: ‘git remote set-url
     git@example_author:org1/project1.git’) 。


Common Issues
*************

前回のコミットでミスをしました。どうすれば変更できますか？
     作業ツリーに適切な変更を加え、必要に応じて ‘git add <file>’ または
     ‘git rm <file>’ を実行してステージングしてから、 ‘git commit
     --amend’ を実行できます。変更はコミットに含まれ、コミットメッセージ
     を再度編集するように求められます。元のメッセージをそのまま使用した
     い場合は、 ‘--no-edit’ オプションを伴ってて ‘git commit’ を使用する
     か、または、エディタが開いたら何もせず保存して終了して済ませること
     もできます。

バグで変更を加えましたが、それは既にメインブランチに含まれてしまっています。どうすれば元に戻すことができますか？
     これに対処する通常の方法は、 ‘git revert’ を使用することです。これ
     により、元の変更が行われて貴重な貢献であった、という履歴が保持され
     るとともに、元の変更に問題があったためにそれらの変更を元に戻す新し
     いコミットも導入されます。revertのコミットメッセージは、復帰
     (revert)されたコミットを示し、通常、復帰(revert)が行われた理由に関
     する説明を含むように編集されます。

追跡されているファイルへの変更を無視するにはどうすればよいですか？
     Gitはこれを行う方法を提供していません。 その理由は、チェックアウト
     中など、Gitがこのファイルを上書きする必要がある場合、ファイルへの変
     更が貴重で保持されるべきかどうか、または無関係で安全に破棄できるか
     どうかがわからないためです。したがって、安全なルートを取り、常にそ
     れらを保存する必要があります。

     ‘git update-index’ の特定の機能、つまり、assume-unchangedビットと
     skip-worktreeビットを使おうとするのは魅力的ですが、これらはこの目的
     には適切に機能しないため、このように使用しないでください。

     あなたの目的が構成ファイルを変更することの場合は、テンプレートまた
     はデフォルトのセットであるファイルをリポジトリにチェックインして、
     一緒にコピーして必要に応じて変更できると便利なことがよくあります。
     この場合の変更されたファイルは、誤ってコミットすることを防ぐために
     、通常は無視されます。

さまざまなファイルを無視するようにGitに依頼したはずなのに、それらはまだ追跡されています
     ‘gitignore’ ファイルは、Gitによって追跡されていない特定のファイルが
     追跡されないままであることを保証します。ただし、特定のファイルが
     ‘.gitignore’ に追加される前に追跡されている場合は追跡されたままにな
     ります。ファイル/パターン を追跡解除して無視するには、 ‘git rm
     --cached <file/pattern>’ を使用し、 <file> に一致するパターンを
     ‘.gitignore’ に追加します。詳細については gitignore(5) を参照してく
     ださい。

フェッチまたはプルのどちらを実行すればよいか知るにはどうすればよいですか？
     フェッチは、作業ツリーや現在のブランチを変更せずに、リモートリポジ
     トリからの最新の変更のコピーを保存します。その後、自由に、アップス
     トリームの変更を検査、マージ、リベース、または無視することができま
     す。プルは、フェッチとその直後のマージまたはリベースで構成されます
     。 git-pull(1) を参照してください。


Merging and Rebasing
********************

寿命の長いブランチをスカッシュマージとマージすると、どのような問題が発生する可能性がありますか？
     一般に、スカッシュマージを使用して2つのブランチを複数回マージすると
     、さまざまな問題が発生する可能性があります。これには、GUIを使用した
     場合、または ‘...`表記を使用して範囲を表す場合に、 `git log’ 出力で
     追加のコミットが表示されることや、競合を何度も再解決する必要がある
     可能性が含まれます。

     Gitが2つのブランチ間で通常のマージを行う場合、正確に3者が考慮されま
     す。2つのブランチと、通常は2つのコミットの共通の祖先である「マージ
     ベース」(merge base)と呼ばれる3番目のコミットです。マージの結果は、
     マージベースと各headの間の変更の合計です。2つのブランチを通常のマー
     ジコミットでマージすると、新しい共通の祖先を持つ、新しいコミットが
     発生し、再度マージされるときはそれが最終的なマージベースになります
     。そうすると、Gitは、マージベースの前に発生した変更を考慮する必要が
     ないため、以前に解決した競合を再解決する必要がありません。

     スカッシュマージを実行する場合、マージコミットは作成されません。代
     わりに、一方の側からの変更は、もう一方の側への通常のコミットとして
     適用されます。つまり、これらのブランチのマージベースは変更されない
     ため、Gitが次のマージを実行するときに、前回考慮したすべての変更と新
     しい変更が考慮されます。つまり、競合を再解決する必要があるかもしれ
     ません。 同様に、 ‘git diff’ または ‘git log’ またはGUIで ‘...’ 表
     記を使用すると、元のマージベース以降のすべての変更が表示されます。

     結果として、2つの長期間有効なブランチを繰り返しマージする場合は、常
     に通常のマージコミットを使用するのが最善です。

2つのブランチに変更を加えた後、それを1つに戻した場合、それら2つのブランチのマージに変更が含まれるのはなぜですか？
     デフォルトでは、Gitがマージを行うとき、それは「ort」戦略と呼ばれる
     戦略を使用します。これは、派手な3者間マージ(fancy three-way merge)を
     行います。 このような場合、Gitはマージを実行するときに、正確に3つの
     ポイントを考慮します。2つのheadと、通常はこれらのコミットの共通の祖
     先である「マージベース」(merge base)と呼ばれる3番目のポイントです。
     Gitは、これらのブランチで発生した履歴や個々のコミットをまったく考慮
     しません。

     その結果、両方の側に変更があり、一方の側がその変更を元に戻した場合
     、結果には変更が含まれます。 これは、コードが一方の側で変更され、も
     う一方の側では正味の変更がないためです。このシナリオでは、Gitが変更
     を採用します。

     これが問題になる場合は、代わりにリベースを実行して、ブランチを他の
     ブランチに戻すことでリベースすることができます。このシナリオでのリ
     ベースは変更を元に戻します。これは、リベースが元に戻すことを含め、
     個々のコミットを適用するためです。リベースは書き換え履歴(rewrite
     history)をリベースするため、問題がない場合を除いて、公開されたブラ
     ンチのリベースは避けてください。詳細については、 git-rebase(1)の
     NOTESセクションを参照してください。


Hooks
*****

フックを使用して、ユーザーが特定の変更を行うのを妨げるにはどうすればよいですか？
     これらの変更を行うための唯一の安全な場所は、リモートリポジトリ(つま
     り、Gitサーバー)で、通常は ‘pre-receive’ フックまたは継続的インテグ
     レーション(CI)システムです。これらは、ポリシーを効果的に実施できる
     場所です。

     ‘pre-commit’ フック(または、コミットメッセージの場合は ‘commit-msg’
     フック)を使用してこれらをチェックするのが一般的です。これは、単独の
     開発者として作業していて、ツールが役立つことを望んでいる場合に最適
     です。ただし、開発者のマシンでフックを使用することは、ユーザーが(他
     のさまざまな方法の中でも)気付かれることなく ‘--no-verify’ でこれら
     のフックをバイパスできるため、ポリシーコントロールとしては効果的で
     はありません。 Gitは、ユーザーがローカルリポジトリを管理しているこ
     とを前提としており、これを防止したり、ユーザーを攻撃したりすること
     はありません。

     さらに、一部の上級ユーザーは、「pre-commit」フックが、一時的なコミ
     ットを使用して進行中の作業をステージングしたり、修正コミットを作成
     したりするワークフローの障害であると感じているため、とにかくこれら
     の種類のチェックはサーバーに押しやることをお勧めします。


Cross-Platform Issues
*********************

Windowsを使用していますが、テキストファイルがバイナリとして検出されます。
     Gitは、テキストファイルをUTF-8として保存する場合に最適に機能します
     。Windows上の多くのプログラムはUTF-8をサポートしていますが、Gitがバ
     イナリとして検出するリトルエンディアンのUTF-16形式を使用していない
     プログラムもあります。プログラムでUTF-8を使用できない場合は、これら
     のファイルをUTF-8としてリポジトリに保存しながら、ファイルをチェック
     アウトするエンコードを示す作業ツリーエンコーディング(working tree
     encoding)を指定できます。これにより、 git-diff(1) などのツールを期
     待どおりに機能させながら、ツールを機能させることができます。

     これを行うには、 ‘working-tree-encoding’ 属性を使用して
     gitattributes(5) パターンを指定できます。たとえば、以下のパターンは
     、Windowsで一般的なエンコーディングである UTF-16LE-BOM を使用するよ
     うにすべてのC言語ファイルを設定します:

          *.c     working-tree-encoding=UTF-16LE-BOM

     これを有効にするには、 ‘git add --renormalize’ を実行する必要があり
     ます。プラットフォーム間で使用されるプロジェクトでこれらの変更を行
     う場合は、ユーザーごとの構成ファイルまたは
     ‘$GIT_DIR/info/attributes’ の構成ファイルで行う必要があることに注意
     してください。リポジトリ内の ‘.gitattributes’ ファイルは、リポジト
     リのすべてのユーザーに適用されます。

     行末の正規化については以下のエントリを参照してください。属性ファイ
     ルの詳細については、gitattributes(5) を参照してください。

Windowsの git diff はファイルの最後に ‘^M’ があると表示します。
     デフォルトでは、GitはファイルがUnixの行末で保存されることを想定して
     います。そのため、Windowsの行末の一部であるキャリッジリターン
     (‘^M’)は、末尾の空白と見なされるため、表示されます。Gitはデフォルト
     で、既存の行ではなく、新しい行にのみ末尾の空白を表示します。

     ファイルをUnixの行末でリポジトリに保存し、プラットフォームの行末に
     自動的に変換できます。 これを行うには、構成オプション ‘core.eol’ を
     ‘native’ に設定し、以下のエントリで、ファイルをテキストまたはバイナ
     リとして構成する方法について確認してください。

     行末からキャリッジリターン(CR;\x0d)を削除したくない場合は、
     ‘core.whitespace’ 設定を使用してこの動作を制御することもできます。

常に変更されるファイルがあるのはなぜですか？
     内部的には、Gitは常にファイル名をバイトのシーケンスとして保存し、エ
     ンコードや大文字と小文字の区別は行いません。 ただし、Windowsと
     macOSはどちらも、デフォルトでファイル名に対して大文字と小文字を区別
     します。その結果、大文字と小文字が区別される場合にのみ名前が異なる
     複数のファイルまたはディレクトリが作成される可能性があります。Gitは
     これを問題なく処理できますが、ファイルシステムはこれらのファイルの
     1つしか保存できないため、Gitが他のファイルを読み取ってその内容を確
     認すると、変更されているように見えます。

     ファイルが1つだけになるように、ファイルの1つを削除することをお勧め
     します。これは、以下のようなコマンド(2つのファイル ‘AFile.txt’ と
     ‘afile.txt‘ を想定)を使用して、他の点ではクリーンな作業ツリーで実行
     できます:

          $ git rm --cached AFile.txt
          $ git commit -m 'Remove files conflicting in case'
          $ git checkout .

     これにより、ディスクへの変更は回避され、追加のファイルは削除されま
     す。プロジェクトでは、この問題が再発しないように、すべて小文字の名
     前などの命名規則を採用することをお勧めします。このような規則は、
     ‘pre-receive’ フックを使用して、または継続的インテグレーション
     (CI)システムにてチェックできます。

     システムでスマッジまたはクリーンフィルター(a smudge or clean
     filter)が使用されているが、スマッジまたはクリーンフィルターを実行せ
     ずにファイルが以前にコミットされた場合、任意のプラットフォームで永
     続的に変更されたファイルが発生する可能性もあります。これを修正する
     には、他の点ではクリーンな作業ツリーで以下を実行します:

          $ git add --renormalize .

Gitにファイルを保存するための推奨の方法は何ですか？
     Gitはあらゆるタイプのあらゆるファイルを保存および処理できますが、他
     の設定よりもうまく機能する設定がいくつかあります。一般に、テキスト
     ファイルは、LF(Unixスタイル)で終わるバイト順マーク(BOM)なしで
     UTF-8に保存することをお勧めします。また、コミットメッセージで
     UTF-8(ここでもBOMなし)を使用することをお勧めします。これらは、プラ
     ットフォーム間や ‘git diff’ や ‘git merge’ などのツールで最適に機能
     する設定です。

     さらに、テキストベースまたは非テキストベースのストレージ形式を選択
     できる場合は、ファイルをテキスト形式で保存し、必要に応じて他の形式
     に変換することをお勧めします。たとえば、1行に1つのレコードを持つテ
     キストベースのSQLダンプは、実際のデータベースファイルよりも差分とマ
     ージにはるかに適しています。同様に、MarkdownやAsciiDocなどのテキス
     トベースの形式は、MicrosoftWordやPDFなどのバイナリ形式よりもうまく
     機能します。

     同様に、バイナリ依存関係(共有ライブラリやJARファイルなど)を格納した
     り、リポジトリに製品をビルドしたりすることは、通常はお勧めしません
     。依存関係とビルド製品は、リポジトリに保存されている参照、URL、ハッ
     シュのみを使用して、アーティファクトサーバーまたはパッケージサーバ
     ーに保存するのが最適です。

     また、 gitattributes(5) ファイルを設定して、どのファイルがテキスト
     でどのファイルがバイナリであるかを明示的にマークすることをお勧めし
     ます。Gitに推測させたい場合は、属性 ‘text=auto’ を設定できます。 た
     とえば、一部のプロジェクトでは以下の設定が適切な場合があります:

          # By default, guess.
          *       text=auto
          # Mark all C files as text.
          *.c     text
          # Mark all JPEG files as binary.
          *.jpg   binary

     これらの設定は、ツールがパッチなどの出力に適切な形式を選択するのに
     役立ち、プラットフォームに適切な行末コードでファイルがチェックアウ
     トされます。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitglossary,  Up: Top

Name
****

gitglossary — Git用語集


Synopsis
********

*


DESCRIPTION
***********

alternate object database
     代役(alternate)メカニズムを介して、 リポジトリ (*note
     [def_repository]::) は オブジェクトデータベース (*note
     [def_object_database]::) の一部を "alternate" (代役) 呼ばれる別のオ
     ブジェクトデータベースから継承できます。

bare repository
     ベアリポジトリは通常、適切な名前のディレクトリ (*note
     [def_directory]::)で、接尾辞は ‘.git’ で、リビジョン管理下にあるフ
     ァイルのローカルでチェックアウトされたコピーはありません。つまり、
     通常は非表示の ‘.git’ サブディレクトリに存在するすべてのGit管理ファ
     イルと制御ファイルは、代わりに ‘repository.git’ ディレクトリに直接
     存在し、他のファイルは存在せず、チェックアウトされません。通常、公
     開リポジトリの発行者は、ベアリポジトリを利用可能にします。

blob object(ブロブオブジェクト)
     型の無いオブジェクト (*note [def_object]::)。例:ファイルの中身。

branch
     「ブランチ」は開発ラインです。ブランチの最新のコミット (*note
     [def_commit]::)は、そのブランチの先端(the tip of that branch)と呼ば
     れます。ブランチの先端はブランチhead (*note [def_head]::)によって参
     照され、ブランチで追加の開発が行われると前進します。単一のGit リポ
     ジトリ (*note [def_repository]::)は任意の数のブランチを追跡できます
     が、あなたの作業ツリー (*note [def_working_tree]::)はそのうちの1つ
     (「current branch」(現在のブランチ)または「checked out branch」(チ
     ェックアウトされたブランチ))に関連付けられ、 HEAD (*note
     [def_HEAD]::) はそのブランチを指します。

cache
     廃止。 index (*note [def_index]::) を使ってください。

chain(チェーン,チェイン)
     オブジェクトのリスト。リスト内の各 オブジェクト (*note
     [def_object]::) には、その後ろへの参照が含まれます(たとえば、 コミ
     ット (*note [def_commit]::) の後ろはその 親 (*note [def_parent]::)
     の1つである可能性があります)。

changeset
     "コミット (*note [def_commit]::)" の BitKeeper/cvsps での言い方です
     。Gitで変更を保存せず状態を保存するため、Gitでコミットを「
     changeset」と呼ぶのはナンセンスです。

checkout
     作業ツリー (*note [def_working_tree]::)の全部または一部をオブジェク
     トデータベース (*note [def_object_database]::)のツリーオブジェクト
     (*note [def_tree_object]::)またはブロブ (*note
     [def_blob_object]::)で更新し、作業ツリー全体が新しいブランチ (*note
     [def_branch]::)を指している場合は、インデックス (*note
     [def_index]::)とHEAD (*note [def_HEAD]::)を更新する操作。

cherry-picking(チェリーピック,チェリーピッキング)
     SCM (*note [def_SCM]::) の専門用語では、 "cherry pick" (つまみ食い
     )とは、一連の変更(通常はコミット)から変更のサブセットを選択し、それ
     らを別のコードベースの上に新しい一連の変更として記録することを意味
     します。Gitでは、これは "git cherry-pick" コマンドによって実行され
     、既存のコミット (*note [def_commit]::)によって導入された変更を抽出
     し、現在のブランチ (*note [def_branch]::)の先端に基づいてそれを新し
     いコミットとして記録します。

clean
     現在のhead (*note [def_head]::)が参照するリビジョン>と
     <<def_working_tree (*note [def_revision]::)が完全に一致
     (correspond)しているのであれば、その作業ツリー (*note
     [def_working_tree]::)はクリーンです。「dirty (*note [def_dirty]::)」
     も参照下さい。

commit
     名詞として: Gitの履歴における一つのポイント。プロジェクトの履歴全体
     は、相互に関連する一連のコミットとして表されます。「コミット」とい
     う言葉は、他のリビジョン管理システムが「リビジョン」または「バージ
     ョン」という言葉を使用するのと同じ場所で、Gitによってよく使用されま
     す。 コミットオブジェクト (*note [def_commit_object]::) の省略形と
     しても使用されます。

     動詞として(コミットする): インデックス (*note [def_index]::)の現在
     の状態を表す新しいコミットを作成し、その新しいコミットをポイントす
     るようにHEAD (*note [def_HEAD]::)を進めることにより、プロジェクトの
     状態の新しいスナップショットをGit履歴に保存する操作。

commit object
     親 (*note [def_parent]::)、コミッター、作者、日付、保存されたリビジ
     ョンの最上位ディレクトリ (*note [def_directory]::)に対応するツリー
     オブジェクト (*note [def_tree_object]::)など、特定のリビジョン
     (*note [def_revision]::)に関する情報を含むオブジェクト (*note
     [def_object]::)。

commit-ish (also committish)(コミットっぽい;コミット風)
     コミットオブジェクト (*note [def_commit_object]::)または、コミット
     オブジェクト (*note [def_commit_object]::)に再帰的に逆参照可能なオ
     ブジェクト (*note [def_object]::)。 コミットオブジェクト (*note
     [def_commit_object]::)や、コミットオブジェクト (*note
     [def_commit_object]::)を指すタグオブジェクト (*note
     [def_tag_object]::)や、コミットオブジェクト (*note
     [def_commit_object]::)を指すタグオブジェクト (*note
     [def_tag_object]::)を指すタグオブジェクト (*note
     [def_tag_object]::)などは全てcommit-ish(commit-ishes)です。

core Git
     Gitの基本的なデータ構造とユーティリティ。これは、限定的なソースコー
     ド管理ツールのみです。

DAG
     有向非巡回グラフ(Directed acyclic graph)。 コミットオブジェクト
     (*note [def_commit_object]::) は、(有向の)親を持ち、コミットオブジ
     ェクトのグラフが非巡回(同じ オブジェクト (*note [def_object]::) で
     開始・終了する チェイン (*note [def_chain]::) はありません)であるた
     め有向非巡回グラフを形成します。

dangling object
     (ぶらぶら揺れるオブジェクト)他の到達不能オブジェクト (*note
     [def_unreachable_object]::)からでも到達できない到達不能オブジェクト
     (*note [def_unreachable_object]::)。 danglingオブジェクトには、リポ
     ジトリ (*note [def_repository]::)内の任意のrefまたはオブジェクト
     (*note [def_object]::)からの参照はありません。

detached HEAD
     Normally the HEAD (*note [def_HEAD]::) stores the name of a branch
     (*note [def_branch]::), and commands that operate on the history
     HEAD represents operate on the history leading to the tip of the
     branch the HEAD points at.  However, Git also allows you to check
     out (*note [def_checkout]::) an arbitrary commit (*note
     [def_commit]::) that isn’t necessarily the tip of any particular
     branch.  The HEAD in such a state is called "detached".

     Note that commands that operate on the history of the current
     branch (e.g.  ‘git commit’ to build a new history on top of it)
     still work while the HEAD is detached.  They update the HEAD to
     point at the tip of the updated history without affecting any
     branch.  Commands that update or inquire information _about_ the
     current branch (e.g.  ‘git branch --set-upstream-to’ that sets what
     remote-tracking branch the current branch integrates with)
     obviously do not work, as there is no (real) current branch to ask
     about in this state.

directory
     あなたが "ls" で得られる一覧の事 :-)

dirty
     作業ツリー (*note [def_working_tree]::)で、現在のブランチ (*note
     [def_branch]::)に対してコミット (*note [def_commit]::)されてない変
     更が含まれている場合、「作業ツリー (*note [def_working_tree]::)はダ
     ーティーである」と言われます。

evil merge
     邪悪なマージとは、どの 親 (*note [def_parent]::) にも表示されない変
     更を導入する マージ (*note [def_merge]::) です。

fast-forward(早送り)
     A fast-forward is a special type of merge (*note [def_merge]::)
     where you have a revision (*note [def_revision]::) and you are
     "merging" another branch (*note [def_branch]::)’s changes that
     happen to be a descendant of what you have.  In such a case, you do
     not make a new merge (*note [def_merge]::) commit (*note
     [def_commit]::) but instead just update your branch to point at the
     same revision as the branch you are merging.  This will happen
     frequently on a remote-tracking branch (*note
     [def_remote_tracking_branch]::) of a remote repository (*note
     [def_repository]::).

fetch
     Fetching a branch (*note [def_branch]::) means to get the branch’s
     head ref (*note [def_head_ref]::) from a remote repository (*note
     [def_repository]::), to find out which objects are missing from the
     local object database (*note [def_object_database]::), and to get
     them, too.  See also git-fetch(1).

file system
     リーナス・トーバルズは当初、Gitをユーザー空間ファイルシステム、つま
     りファイルとディレクトリを保持するインフラストラクチャとして設計し
     ました。これにより、Gitの効率と速度が保証されました。

Git archive
     リポジトリ (*note [def_repository]::) の同義語(arch people 向け)。

gitfile
     実際のリポジトリであるディレクトリを指す、作業ツリーのルートにある
     プレーンファイル ‘.git’

grafts
     Grafts enables two otherwise different lines of development to be
     joined together by recording fake ancestry information for commits.
     This way you can make Git pretend the set of parents (*note
     [def_parent]::) a commit (*note [def_commit]::) has is different
     from what was recorded when the commit was created.  Configured via
     the ‘.git/info/grafts’ file.

     Note that the grafts mechanism is outdated and can lead to problems
     transferring objects between repositories; see git-replace(1) for a
     more flexible and robust system to do the same thing.

hash
     Gitの文脈では オブジェクト名 (*note [def_object_name]::) と同義語。

head
     ブランチ (*note [def_branch]::) の先端にある コミット (*note
     [def_commit]::) への、 名付けられた参照 (*note [def_ref]::) です。
     パックされた参照を使用する場合を除いて、headは
     ‘$GIT_DIR/refs/heads/’ ディレクトリのファイルに保存されます。
     (linkgit: git-pack-refs[1] を参照してください。)

HEAD
     The current branch (*note [def_branch]::).  In more detail: Your
     working tree (*note [def_working_tree]::) is normally derived from
     the state of the tree referred to by HEAD. HEAD is a reference to
     one of the heads (*note [def_head]::) in your repository, except
     when using a detached HEAD (*note [def_detached_HEAD]::), in which
     case it directly references an arbitrary commit.

head ref
     head (*note [def_head]::) の同義語。

hook
     During the normal execution of several Git commands, call-outs are
     made to optional scripts that allow a developer to add
     functionality or checking.  Typically, the hooks allow for a
     command to be pre-verified and potentially aborted, and allow for a
     post-notification after the operation is done.  The hook scripts
     are found in the ‘$GIT_DIR/hooks/’ directory, and are enabled by
     simply removing the ‘.sample’ suffix from the filename.  In earlier
     versions of Git you had to make them executable.

index
     A collection of files with stat information, whose contents are
     stored as objects.  The index is a stored version of your working
     tree (*note [def_working_tree]::).  Truth be told, it can also
     contain a second, and even a third version of a working tree, which
     are used when merging (*note [def_merge]::).

index entry
     The information regarding a particular file, stored in the index
     (*note [def_index]::).  An index entry can be unmerged, if a merge
     (*note [def_merge]::) was started, but not yet finished (i.e.  if
     the index contains multiple versions of that file).

master
     デフォルトの開発 ブランチ (*note [def_branch]::) 。 Git リポジトリ
     (*note [def_repository]::) を作成するたびに、「master」という名前の
     ブランチが作成され、アクティブなブランチになります。 ほとんどのロー
     カル開発に含まれていますが、これは純粋に慣例によるものであり、必須
     ではありません。

merge
     As a verb: To bring the contents of another branch (*note
     [def_branch]::) (possibly from an external repository (*note
     [def_repository]::)) into the current branch.  In the case where
     the merged-in branch is from a different repository, this is done
     by first fetching (*note [def_fetch]::) the remote branch and then
     merging the result into the current branch.  This combination of
     fetch and merge operations is called a pull (*note [def_pull]::).
     Merging is performed by an automatic process that identifies
     changes made since the branches diverged, and then applies all
     those changes together.  In cases where changes conflict, manual
     intervention may be required to complete the merge.

     As a noun: unless it is a fast-forward (*note
     [def_fast_forward]::), a successful merge results in the creation
     of a new commit (*note [def_commit]::) representing the result of
     the merge, and having as parents (*note [def_parent]::) the tips of
     the merged branches (*note [def_branch]::).  This commit is
     referred to as a "merge commit", or sometimes just a "merge".

object(オブジェクト)
     Gitの保管ユニット(unit of storage)。その内容による SHA-1 (*note
     [def_SHA1]::) によって一意に識別されます。したがって、オブジェクト
     を変更することはできません。

object database
     Stores a set of "objects", and an individual object (*note
     [def_object]::) is identified by its object name (*note
     [def_object_name]::).  The objects usually live in
     ‘$GIT_DIR/objects/’.

object identifier(オブジェクトID)
     object name (*note [def_object_name]::) (オブジェクト名)の同義語

object name(オブジェクト名)
     オブジェクト> の一意の識別子。オブジェクト名は通常、40文字の16進文
     字列で表されます。一般に <<def_SHA1 (*note [def_object]::) とも呼ば
     れます。

object type(オブジェクトタイプ)
     「コミット (*note [def_commit_object]::) 識別子」または「ツリー
     (*note [def_tree_object]::) 識別子」または「タグ (*note
     [def_tag_object]::) 識別子」または「ブロブ (*note
     [def_blob_object]::) 識別子」のいずれかで、 オブジェクト (*note
     [def_object]::) のタイプを表します。

octopus
     3つ以上(more than two)のブランチをマージします

origin
     The default upstream repository (*note [def_repository]::).  Most
     projects have at least one upstream project which they track.  By
     default _origin_ is used for that purpose.  New upstream updates
     will be fetched into remote-tracking branches (*note
     [def_remote_tracking_branch]::) named
     origin/name-of-upstream-branch, which you can see using ‘git branch
     -r’.

overlay
     Only update and add files to the working directory, but don’t
     delete them, similar to how _cp -R_ would update the contents in
     the destination directory.  This is the default mode in a checkout
     (*note [def_checkout]::) when checking out files from the index
     (*note [def_index]::) or a tree-ish (*note [def_tree-ish]::).  In
     contrast, no-overlay mode also deletes tracked files not present in
     the source, similar to _rsync –delete_.

pack
     A set of objects which have been compressed into one file (to save
     space or to transmit them efficiently).

pack index
     The list of identifiers, and other information, of the objects in a
     pack (*note [def_pack]::), to assist in efficiently accessing the
     contents of a pack.

pathspec
     Gitコマンドでパスを制限するために使用されるパターン。

     pathspecsは、「git ls-files」、「git ls-tree」、「git add」、「git
     grep」、「git diff」、「git checkout」、および、ツリーまたはワーク
     ツリーのサブセットへの操作の為にスコープを制限する他の多くのコマン
     ドのコマンドラインで使用されます。パスが現在のディレクトリまたはト
     ップレベルのどちらを基準にしているかについては、各コマンドのドキュ
     メントを参照してください。 pathspecの構文は以下のとおりです:

        • どのパスもそれ自体と一致します

        • 最後がスラッシュであるpathspecは、ディレクトリプレフィックスを
          表します。そのpathspecのスコープは、そのサブツリーに制限されて
          います。

        • pathspecの残りの部分は、pathnameの残りの部分のパターンです。 デ
          ィレクトリプレフィックスに関連するパスは、 fnmatch(3) を使用し
          てそのパターンと照合されます。特に、 _*_ と _?_ はディレクトリ
          区切り文字と一致させる事ができます。

     たとえば、 ‘Documentation/*.jpg’ は、
     ‘Documentation/chapter_1/figure_1.jpg’ を含む、Documentationサブツ
     リー内のすべての ‘.jpg’ ファイルと一致します。

     コロン(‘:’)で始まるpathspecには特別な意味があります。短い形式では、
     先頭のコロン(‘:’)の後に0個以上の「魔法記号」(magic signature)(オプ
     ションで別のコロン(‘:’)で終了)が続き、残りはパスと照合するパターン
     です。「魔法記号」は、英数字、グロブ、正規表現の特殊文字でもコロン
     でもないASCII記号で構成されます。パターンが「魔法記号」シンボルセッ
     トに属さず、コロンではない文字で始まる場合、「魔法記号」を終了する
     オプションのコロンは省略できます。

     長い形式では、先頭のコロン(‘:’)の後に開き括弧(‘(’) 、0個以上の「魔
     法単語」(magic words)のコンマ区切りリスト、および閉じ括弧(‘)’) が続
     き、残りは次のパターンです。パスと一致します。

     コロンのみのpathspecは、「pathspecがない」ことを意味します。 この形
     式は、他のpathspecと組み合わせないでください。

     top
          魔法単語 ‘top’ (魔法記号: ‘/’)は、サブディレクトリ内からコマン
          ドを実行している場合でも、作業ツリーのルートからパターンを一致
          させます。

     literal
          ‘*’ または ‘?’ などのパターンのワイルドカードはリテラル文字と
          して扱われます。

     icase
          (英文字の)大文字小文字区別せずにマッチ

     glob
          Gitはパターンを、 FNM_PATHNAMEフラグを指定した fnmatch(3) に消
          費されるのに適したシェルグロブとして扱います。パターン内のワイ
          ルドカードは、パス名内の / と一致しません。 たとえば、「
          Documentation/*.html」は「Documentation/git.html」と一致します
          が、「Documentation/ppc/ppc.html」または「
          tools/perf/Documentation/perf.html」とは一致しません。

          フルパス名と一致するパターンの2つの連続するアスタリスク ‘**’ は
          、特別な意味を持つ場合があります:

             • 先頭の ‘**’ の後にスラッシュが続く場合は、すべてのディレ
               クトリで一致することを意味します。たとえば、 ‘**/foo’ は
               、パターン ‘foo’ と同じように、ファイルまたはディレクトリ
               ‘foo’ のどこにでも一致します。 ‘**/foo/bar’ は、ディレク
               トリ ‘foo’ の直下にあるファイルまたはディレクトリ ‘bar’ と
               一致します。

             • 末尾の ‘/**’ は、内部のすべてに一致します(matches
               everything inside)。たとえば、 ‘abc/**’ は、 ‘.gitignore’
               ファイルの場所を基準にして、ディレクトリ "abc" 内のすべて
               のファイルと無限の深さで一致します。

             • スラッシュの後に2つの連続するアスタリスクが続く場合、スラ
               ッシュは0個以上のディレクトリに一致します。 たとえば、
               ‘a/**/b’ は ‘a/b’ 、 ‘a/x/b’ 、‘a/x/y/b’ などと一致します
               。

             • 他の連続するアスタリスクは無効と見なされます。

               グロブ魔法はリテラル魔法と互換性がありません。

     attr
          ‘attr:’ の後には、スペースで区切られた「属性要件」(attribute
          requirements)のリストがあります。パスが一致すると見なされるに
          は、これらすべてを満たす必要があります。これは、通常の非魔法
          pathspecパターンマッチングに追加されます。 gitattributes(5) 参
          照。

          パスの各属性要件は、以下のいずれかの形式を取ります:

             • ‘ATTR’ では、属性 ‘ATTR’ を設定する必要があります。

             • ‘-ATTR’ では、属性 ‘ATTR’ が設定されていない必要がありま
               す。

             • ‘ATTR = VALUE’ では、属性 ‘ATTR’ を文字列 ‘VALUE’ に設定
               する必要があります。

             • ‘!ATTR’ では、属性 ‘ATTR’ が指定されていない必要がありま
               す。

               注意: ツリーオブジェクトと照合する場合、属性は、指定され
               たツリーオブジェクトからではなく、作業ツリーから取得され
               ることに注意してください。

     exclude
          パスが非除外パススペックと一致すると、すべての除外パススペック
          (魔法記号: ‘!’ またはその同義語 ‘^’)が実行されます。一致する場
          合、パスは無視されます。非除外パススペックがない場合、パススペ
          ックなしで呼び出されたかのように、除外が結果セットに適用されま
          す。

parent(親)
     A commit object (*note [def_commit_object]::) contains a (possibly
     empty) list of the logical predecessor(s) in the line of
     development, i.e.  its parents.

pickaxe
     The term pickaxe (*note [def_pickaxe]::) refers to an option to the
     diffcore routines that help select changes that add or delete a
     given text string.  With the ‘--pickaxe-all’ option, it can be used
     to view the full changeset (*note [def_changeset]::) that
     introduced or removed, say, a particular line of text.  See
     git-diff(1).

plumbing(配管)
     core Git (*note [def_core_git]::) のキュートな呼び方。

porcelain(磁器)
     Cute name for programs and program suites depending on core Git
     (*note [def_core_git]::), presenting a high level access to core
     Git.  Porcelains expose more of a SCM (*note [def_SCM]::) interface
     than the plumbing (*note [def_plumbing]::).

per-worktree ref
     Refs that are per-worktree (*note [def_working_tree]::), rather
     than global.  This is presently only HEAD (*note [def_HEAD]::) and
     any refs that start with ‘refs/bisect/’, but might later include
     other unusual refs.

pseudoref
     Pseudorefs are a class of files under ‘$GIT_DIR’ which behave like
     refs for the purposes of rev-parse, but which are treated specially
     by git.  Pseudorefs both have names that are all-caps, and always
     start with a line consisting of a SHA-1 (*note [def_SHA1]::)
     followed by whitespace.  So, HEAD is not a pseudoref, because it is
     sometimes a symbolic ref.  They might optionally contain some
     additional data.  ‘MERGE_HEAD’ and ‘CHERRY_PICK_HEAD’ are examples.
     Unlike per-worktree refs (*note [def_per_worktree_ref]::), these
     files cannot be symbolic refs, and never have reflogs.  They also
     cannot be updated through the normal ref update machinery.
     Instead, they are updated by directly writing to the files.
     However, they can be read as if they were refs, so ‘git rev-parse
     MERGE_HEAD’ will work.

pull
     Pulling a branch (*note [def_branch]::) means to fetch (*note
     [def_fetch]::) it and merge (*note [def_merge]::) it.  See also
     git-pull(1).

push
     Pushing a branch (*note [def_branch]::) means to get the branch’s
     head ref (*note [def_head_ref]::) from a remote repository (*note
     [def_repository]::), find out if it is an ancestor to the branch’s
     local head ref, and in that case, putting all objects, which are
     reachable (*note [def_reachable]::) from the local head ref, and
     which are missing from the remote repository, into the remote
     object database (*note [def_object_database]::), and updating the
     remote head ref.  If the remote head (*note [def_head]::) is not an
     ancestor to the local head, the push fails.

reachable(到達可能)
     All of the ancestors of a given commit (*note [def_commit]::) are
     said to be "reachable" from that commit.  More generally, one
     object (*note [def_object]::) is reachable from another if we can
     reach the one from the other by a chain (*note [def_chain]::) that
     follows tags (*note [def_tag]::) to whatever they tag, commits
     (*note [def_commit_object]::) to their parents or trees, and trees
     (*note [def_tree_object]::) to the trees or blobs (*note
     [def_blob_object]::) that they contain.

rebase
     To reapply a series of changes from a branch (*note [def_branch]::)
     to a different base, and reset the head (*note [def_head]::) of
     that branch to the result.

ref
     オブジェクト名または別のrefを指す ‘refs/’ で始まる名前(例:
     ‘refs/heads/master’;別のrefを指すrefは シンボリックref (*note
     [def_symref]::) と呼ぶ)。便宜上、Gitコマンドの引数として使用する場
     合は ‘refs/’ を省略できる場合があります。詳細については
     gitrevisions(7) を参照してください。 refs は repository (*note
     [def_repository]::) に保存されます。

     ref名前空間は階層的です。さまざまなサブ階層がさまざまな目的で使用さ
     れます(たとえば、 ‘refs/heads/’ 階層はローカルブランチを表すために
     使用されます)。

     ‘refs/’ で始まらない特別な目的のrefがいくつかあります。最も注目すべ
     き例は ‘HEAD’ です。

reflog
     reflogは、refのローカルの「履歴」を示します。 つまり、このリポジト
     リの最後の3番目のリビジョンが何であったか、およびこのリポジトリの昨
     日の午後9時14分時点での「現在の状態」が何であったかを知ることができ
     ます。詳細については git-reflog(1) を参照してください。

refspec
     A "refspec" is used by fetch (*note [def_fetch]::) and push (*note
     [def_push]::) to describe the mapping between remote ref (*note
     [def_ref]::) and local ref.

remote repository
     A repository (*note [def_repository]::) which is used to track the
     same project but resides somewhere else.  To communicate with
     remotes, see fetch (*note [def_fetch]::) or push (*note
     [def_push]::).

remote-tracking branch
     A ref (*note [def_ref]::) that is used to follow changes from
     another repository (*note [def_repository]::).  It typically looks
     like _refs/remotes/foo/bar_ (indicating that it tracks a branch
     named _bar_ in a remote named _foo_), and matches the
     right-hand-side of a configured fetch refspec (*note
     [def_refspec]::).  A remote-tracking branch should not contain
     direct modifications or have local commits made to it.

repository
     A collection of refs (*note [def_ref]::) together with an object
     database (*note [def_object_database]::) containing all objects
     which are reachable (*note [def_reachable]::) from the refs,
     possibly accompanied by meta data from one or more porcelains
     (*note [def_porcelain]::).  A repository can share an object
     database with other repositories via alternates mechanism (*note
     [def_alternate_object_database]::).

resolve
     失敗した自動 マージ (*note [def_merge]::) が残したものを手動で修正
     する操作。

revision
     コミット (*note [def_commit]::) (名詞) の同義語

rewind(巻き戻し)
     開発の一部を破棄する、つまり、 head (*note [def_head]::) を以前の リ
     ビジョン (*note [def_revision]::) に割り当てる。

SCM
     Source code management (tool).

SHA-1
     "Secure Hash Algorithm 1"; a cryptographic hash function.  In the
     context of Git used as a synonym for object name (*note
     [def_object_name]::).

shallow clone
     ほとんどの場合 shallowリポジトリ (*note [def_shallow_repository]::)
     の同義語ですが、この言い方は、 ‘git clone --depth=...’ コマンドを実
     行して作成されたこと明言したものです。

shallow repository
     A shallow repository (*note [def_repository]::) has an incomplete
     history some of whose commits (*note [def_commit]::) have parents
     (*note [def_parent]::) cauterized away (in other words, Git is told
     to pretend that these commits do not have the parents, even though
     they are recorded in the commit object (*note
     [def_commit_object]::)).  This is sometimes useful when you are
     interested only in the recent history of a project even though the
     real history recorded in the upstream is much larger.  A shallow
     repository is created by giving the ‘--depth’ option to
     git-clone(1), and its history can be later deepened with
     git-fetch(1).

stash entry
     ダーティ (*note [def_dirty]::) な作業ディレクトリの内容とインデック
     スを、将来の再利用のために一時的に保存するのに使用される オブジェク
     ト (*note [def_object]::) 。

submodule
     とあるリポジトリの内部で、それとは別個のプロジェクトの履歴を保持す
     る リポジトリ (*note [def_repository]::) (ここで、その、とあるリポ
     ジトリを スーパープロジェクト (*note [def_superproject]::) と呼びま
     す)。

superproject
     作業ツリー内の他のプロジェクトのリポジトリを サブモジュール (*note
     [def_submodule]::) として参照する リポジトリ (*note
     [def_repository]::) 。 スーパープロジェクトは、含まれているサブモジ
     ュールのコミットオブジェクトの名前を知っています(ただし、そのコピー
     は保持していません)。

symref
     シンボリックref(シンボリック参照): SHA-1 (*note [def_SHA1]::) ID自
     体を含む代わりに「ref: refs/some/thing」の形式であり、参照されると
     、この参照を再帰的に逆参照します。 _HEAD (*note [def_HEAD]::)_ は
     symrefの代表的な例です。シンボリックrefは git-symbolic-ref(1) コマ
     ンドで操作されます。

tag
     A ref (*note [def_ref]::) under ‘refs/tags/’ namespace that points
     to an object of an arbitrary type (typically a tag points to either
     a tag (*note [def_tag_object]::) or a commit object (*note
     [def_commit_object]::)).  In contrast to a head (*note
     [def_head]::), a tag is not updated by the ‘commit’ command.  A Git
     tag has nothing to do with a Lisp tag (which would be called an
     object type (*note [def_object_type]::) in Git’s context).  A tag
     is most typically used to mark a particular point in the commit
     ancestry chain (*note [def_chain]::).

tag object
     An object (*note [def_object]::) containing a ref (*note
     [def_ref]::) pointing to another object, which can contain a
     message just like a commit object (*note [def_commit_object]::).
     It can also contain a (PGP) signature, in which case it is called a
     "signed tag object".

topic branch
     A regular Git branch (*note [def_branch]::) that is used by a
     developer to identify a conceptual line of development.  Since
     branches are very easy and inexpensive, it is often desirable to
     have several small branches that each contain very well defined
     concepts or small incremental yet related changes.

tree
     Either a working tree (*note [def_working_tree]::), or a tree
     object (*note [def_tree_object]::) together with the dependent blob
     (*note [def_blob_object]::) and tree objects (i.e.  a stored
     representation of a working tree).

tree object
     An object (*note [def_object]::) containing a list of file names
     and modes along with refs to the associated blob and/or tree
     objects.  A tree (*note [def_tree]::) is equivalent to a directory
     (*note [def_directory]::).

tree-ish (also treeish)
     ツリーっぽい何か。ツリーオブジェクトに再帰的に逆参照できる ツリーオ
     ブジェクト (*note [def_tree_object]::) または オブジェクト (*note
     [def_object]::) です。 コミットオブジェクト (*note
     [def_commit_object]::) を逆参照すると、その リビジョン (*note
     [def_revision]::) の最上位 ディレクトリ> に対応するツリーオブジェク
     トが生成されます。※右記は全てツリーっぽい(tree-ish)モノです:
     <<def_commit-ish (*note [def_directory]::) 、ツリーオブジェクト、ツ
     リーオブジェクトを指す タグオブジェクト (*note [def_tag_object]::)
     、タグオブジェクトを指すタグオブジェクト

unmerged index
     An index (*note [def_index]::) which contains unmerged index
     entries (*note [def_index_entry]::).

unreachable object
     ブランチ (*note [def_branch]::) または タグ (*note [def_tag]::) ま
     たはその他の参照から 到達可能 (*note [def_reachable]::) ではない(辿
     れない、ポイントされてない) オブジェクト (*note [def_object]::) 。

upstream branch
     The default branch (*note [def_branch]::) that is merged into the
     branch in question (or the branch in question is rebased onto).  It
     is configured via branch.<name>.remote and branch.<name>.merge.  If
     the upstream branch of _A_ is _origin/B_ sometimes we say "_A_ is
     tracking _origin/B_".

working tree
     実際にチェックアウトされたファイル群のツリー。 作業ツリーには通常、
     HEAD (*note [def_HEAD]::) コミットのツリーの内容に加えて、任意の、
     まだコミットされていないローカルの変更が含まれています。


SEE ALSO
********

gittutorial(7), gittutorial-2(7), gitcvs-migration(7), giteveryday(7),
The Git User’s Manual (user-manual.html)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: githooks,  Up: Top

Name
****

githooks — Hooks used by Git


Synopsis
********

$GIT_DIR/hooks/* (or ‘git config core.hooksPath‘/*)


DESCRIPTION
***********

Hooks are programs you can place in a hooks directory to trigger actions
at certain points in git’s execution.  Hooks that don’t have the
executable bit set are ignored.

   By default the hooks directory is ‘$GIT_DIR/hooks’, but that can be
changed via the ‘core.hooksPath’ configuration variable (see
git-config(1)).

   Before Git invokes a hook, it changes its working directory to either
$GIT_DIR in a bare repository or the root of the working tree in a
non-bare repository.  An exception are hooks triggered during a push
(_pre-receive_, _update_, _post-receive_, _post-update_,
_push-to-checkout_) which are always executed in $GIT_DIR.

   Hooks can get their arguments via the environment, command-line
arguments, and stdin.  See the documentation for each hook below for
details.

   ‘git init’ may copy hooks to the new repository, depending on its
configuration.  See the "TEMPLATE DIRECTORY" section in git-init(1) for
details.  When the rest of this document refers to "default hooks" it’s
talking about the default template shipped with Git.

   The currently supported hooks are described below.


HOOKS
*****


applypatch-msg
==============

This hook is invoked by git-am(1).  It takes a single parameter, the
name of the file that holds the proposed commit log message.  Exiting
with a non-zero status causes ‘git am’ to abort before applying the
patch.

   The hook is allowed to edit the message file in place, and can be
used to normalize the message into some project standard format.  It can
also be used to refuse the commit after inspecting the message file.

   The default _applypatch-msg_ hook, when enabled, runs the
_commit-msg_ hook, if the latter is enabled.


pre-applypatch
==============

This hook is invoked by git-am(1).  It takes no parameter, and is
invoked after the patch is applied, but before a commit is made.

   If it exits with non-zero status, then the working tree will not be
committed after applying the patch.

   It can be used to inspect the current working tree and refuse to make
a commit if it does not pass certain test.

   The default _pre-applypatch_ hook, when enabled, runs the
_pre-commit_ hook, if the latter is enabled.


post-applypatch
===============

This hook is invoked by git-am(1).  It takes no parameter, and is
invoked after the patch is applied and a commit is made.

   This hook is meant primarily for notification, and cannot affect the
outcome of ‘git am’.


pre-commit
==========

This hook is invoked by git-commit(1), and can be bypassed with the
‘--no-verify’ option.  It takes no parameters, and is invoked before
obtaining the proposed commit log message and making a commit.  Exiting
with a non-zero status from this script causes the ‘git commit’ command
to abort before creating a commit.

   The default _pre-commit_ hook, when enabled, catches introduction of
lines with trailing whitespaces and aborts the commit when such a line
is found.

   All the ‘git commit’ hooks are invoked with the environment variable
‘GIT_EDITOR=:’ if the command will not bring up an editor to modify the
commit message.

   The default _pre-commit_ hook, when enabled—and with the
‘hooks.allownonascii’ config option unset or set to false—prevents the
use of non-ASCII filenames.


pre-merge-commit
================

This hook is invoked by git-merge(1), and can be bypassed with the
‘--no-verify’ option.  It takes no parameters, and is invoked after the
merge has been carried out successfully and before obtaining the
proposed commit log message to make a commit.  Exiting with a non-zero
status from this script causes the ‘git merge’ command to abort before
creating a commit.

   The default _pre-merge-commit_ hook, when enabled, runs the
_pre-commit_ hook, if the latter is enabled.

   This hook is invoked with the environment variable ‘GIT_EDITOR=:’ if
the command will not bring up an editor to modify the commit message.

   If the merge cannot be carried out automatically, the conflicts need
to be resolved and the result committed separately (see git-merge(1)).
At that point, this hook will not be executed, but the _pre-commit_ hook
will, if it is enabled.


prepare-commit-msg
==================

This hook is invoked by git-commit(1) right after preparing the default
log message, and before the editor is started.

   It takes one to three parameters.  The first is the name of the file
that contains the commit log message.  The second is the source of the
commit message, and can be: ‘message’ (if a ‘-m’ or ‘-F’ option was
given); ‘template’ (if a ‘-t’ option was given or the configuration
option ‘commit.template’ is set); ‘merge’ (if the commit is a merge or a
‘.git/MERGE_MSG’ file exists); ‘squash’ (if a ‘.git/SQUASH_MSG’ file
exists); or ‘commit’, followed by a commit object name (if a ‘-c’, ‘-C’
or ‘--amend’ option was given).

   If the exit status is non-zero, ‘git commit’ will abort.

   The purpose of the hook is to edit the message file in place, and it
is not suppressed by the ‘--no-verify’ option.  A non-zero exit means a
failure of the hook and aborts the commit.  It should not be used as
replacement for pre-commit hook.

   The sample ‘prepare-commit-msg’ hook that comes with Git removes the
help message found in the commented portion of the commit template.


commit-msg
==========

This hook is invoked by git-commit(1) and git-merge(1), and can be
bypassed with the ‘--no-verify’ option.  It takes a single parameter,
the name of the file that holds the proposed commit log message.
Exiting with a non-zero status causes the command to abort.

   The hook is allowed to edit the message file in place, and can be
used to normalize the message into some project standard format.  It can
also be used to refuse the commit after inspecting the message file.

   The default _commit-msg_ hook, when enabled, detects duplicate
‘Signed-off-by’ trailers, and aborts the commit if one is found.


post-commit
===========

This hook is invoked by git-commit(1).  It takes no parameters, and is
invoked after a commit is made.

   This hook is meant primarily for notification, and cannot affect the
outcome of ‘git commit’.


pre-rebase
==========

This hook is called by git-rebase(1) and can be used to prevent a branch
from getting rebased.  The hook may be called with one or two
parameters.  The first parameter is the upstream from which the series
was forked.  The second parameter is the branch being rebased, and is
not set when rebasing the current branch.


post-checkout
=============

This hook is invoked when a git-checkout(1) or git-switch(1) is run
after having updated the worktree.  The hook is given three parameters:
the ref of the previous HEAD, the ref of the new HEAD (which may or may
not have changed), and a flag indicating whether the checkout was a
branch checkout (changing branches, flag=1) or a file checkout
(retrieving a file from the index, flag=0).  This hook cannot affect the
outcome of ‘git switch’ or ‘git checkout’, other than that the hook’s
exit status becomes the exit status of these two commands.

   It is also run after git-clone(1), unless the ‘--no-checkout’ (‘-n’)
option is used.  The first parameter given to the hook is the null-ref,
the second the ref of the new HEAD and the flag is always 1.  Likewise
for ‘git worktree add’ unless ‘--no-checkout’ is used.

   This hook can be used to perform repository validity checks,
auto-display differences from the previous HEAD if different, or set
working dir metadata properties.


post-merge
==========

This hook is invoked by git-merge(1), which happens when a ‘git pull’ is
done on a local repository.  The hook takes a single parameter, a status
flag specifying whether or not the merge being done was a squash merge.
This hook cannot affect the outcome of ‘git merge’ and is not executed,
if the merge failed due to conflicts.

   This hook can be used in conjunction with a corresponding pre-commit
hook to save and restore any form of metadata associated with the
working tree (e.g.: permissions/ownership, ACLS, etc).  See
contrib/hooks/setgitperms.perl for an example of how to do this.


pre-push
========

This hook is called by git-push(1) and can be used to prevent a push
from taking place.  The hook is called with two parameters which provide
the name and location of the destination remote, if a named remote is
not being used both values will be the same.

   Information about what is to be pushed is provided on the hook’s
standard input with lines of the form:

     <local ref> SP <local object name> SP <remote ref> SP <remote object name> LF

   For instance, if the command ‘git push origin master:foreign’ were
run the hook would receive a line like the following:

     refs/heads/master 67890 refs/heads/foreign 12345

   although the full object name would be supplied.  If the foreign ref
does not yet exist the ‘<remote object name>’ will be the all-zeroes
object name.  If a ref is to be deleted, the ‘<local ref>’ will be
supplied as ‘(delete)’ and the ‘<local object name>’ will be the
all-zeroes object name.  If the local commit was specified by something
other than a name which could be expanded (such as ‘HEAD~’, or an object
name) it will be supplied as it was originally given.

   If this hook exits with a non-zero status, ‘git push’ will abort
without pushing anything.  Information about why the push is rejected
may be sent to the user by writing to standard error.


pre-receive
===========

This hook is invoked by git-receive-pack(1) when it reacts to ‘git push’
and updates reference(s) in its repository.  Just before starting to
update refs on the remote repository, the pre-receive hook is invoked.
Its exit status determines the success or failure of the update.

   This hook executes once for the receive operation.  It takes no
arguments, but for each ref to be updated it receives on standard input
a line of the format:

     <old-value> SP <new-value> SP <ref-name> LF

   where ‘<old-value>’ is the old object name stored in the ref,
‘<new-value>’ is the new object name to be stored in the ref and
‘<ref-name>’ is the full name of the ref.  When creating a new ref,
‘<old-value>’ is the all-zeroes object name.

   If the hook exits with non-zero status, none of the refs will be
updated.  If the hook exits with zero, updating of individual refs can
still be prevented by the _update_ (*note update::) hook.

   Both standard output and standard error output are forwarded to ‘git
send-pack’ on the other end, so you can simply ‘echo’ messages for the
user.

   The number of push options given on the command line of ‘git push
--push-option=...’ can be read from the environment variable
‘GIT_PUSH_OPTION_COUNT’, and the options themselves are found in
‘GIT_PUSH_OPTION_0’, ‘GIT_PUSH_OPTION_1’,… If it is negotiated to not
use the push options phase, the environment variables will not be set.
If the client selects to use push options, but doesn’t transmit any, the
count variable will be set to zero, ‘GIT_PUSH_OPTION_COUNT=0’.

   See the section on "Quarantine Environment" in git-receive-pack(1)
for some caveats.


update
======

This hook is invoked by git-receive-pack(1) when it reacts to ‘git push’
and updates reference(s) in its repository.  Just before updating the
ref on the remote repository, the update hook is invoked.  Its exit
status determines the success or failure of the ref update.

   The hook executes once for each ref to be updated, and takes three
parameters:

   • the name of the ref being updated,

   • the old object name stored in the ref,

   • and the new object name to be stored in the ref.

   A zero exit from the update hook allows the ref to be updated.
Exiting with a non-zero status prevents ‘git receive-pack’ from updating
that ref.

   This hook can be used to prevent _forced_ update on certain refs by
making sure that the object name is a commit object that is a descendant
of the commit object named by the old object name.  That is, to enforce
a "fast-forward only" policy.

   It could also be used to log the old..new status.  However, it does
not know the entire set of branches, so it would end up firing one
e-mail per ref when used naively, though.  The _post-receive_ (*note
post-receive::) hook is more suited to that.

   In an environment that restricts the users’ access only to git
commands over the wire, this hook can be used to implement access
control without relying on filesystem ownership and group membership.
See git-shell(1) for how you might use the login shell to restrict the
user’s access to only git commands.

   Both standard output and standard error output are forwarded to ‘git
send-pack’ on the other end, so you can simply ‘echo’ messages for the
user.

   The default _update_ hook, when enabled—and with
‘hooks.allowunannotated’ config option unset or set to false—prevents
unannotated tags to be pushed.


proc-receive
============

This hook is invoked by git-receive-pack(1).  If the server has set the
multi-valued config variable ‘receive.procReceiveRefs’, and the commands
sent to _receive-pack_ have matching reference names, these commands
will be executed by this hook, instead of by the internal
‘execute_commands()’ function.  This hook is responsible for updating
the relevant references and reporting the results back to
_receive-pack_.

   This hook executes once for the receive operation.  It takes no
arguments, but uses a pkt-line format protocol to communicate with
_receive-pack_ to read commands, push-options and send results.  In the
following example for the protocol, the letter _S_ stands for
_receive-pack_ and the letter _H_ stands for this hook.

     # Version and features negotiation.
     S: PKT-LINE(version=1\0push-options atomic...)
     S: flush-pkt
     H: PKT-LINE(version=1\0push-options...)
     H: flush-pkt

     # Send commands from server to the hook.
     S: PKT-LINE(<old-oid> <new-oid> <ref>)
     S: ... ...
     S: flush-pkt
     # Send push-options only if the 'push-options' feature is enabled.
     S: PKT-LINE(push-option)
     S: ... ...
     S: flush-pkt

     # Receive result from the hook.
     # OK, run this command successfully.
     H: PKT-LINE(ok <ref>)
     # NO, I reject it.
     H: PKT-LINE(ng <ref> <reason>)
     # Fall through, let 'receive-pack' to execute it.
     H: PKT-LINE(ok <ref>)
     H: PKT-LINE(option fall-through)
     # OK, but has an alternate reference.  The alternate reference name
     # and other status can be given in option directives.
     H: PKT-LINE(ok <ref>)
     H: PKT-LINE(option refname <refname>)
     H: PKT-LINE(option old-oid <old-oid>)
     H: PKT-LINE(option new-oid <new-oid>)
     H: PKT-LINE(option forced-update)
     H: ... ...
     H: flush-pkt

   Each command for the _proc-receive_ hook may point to a
pseudo-reference and always has a zero-old as its old-oid, while the
_proc-receive_ hook may update an alternate reference and the alternate
reference may exist already with a non-zero old-oid.  For this case,
this hook will use "option" directives to report extended attributes for
the reference given by the leading "ok" directive.

   The report of the commands of this hook should have the same order as
the input.  The exit status of the _proc-receive_ hook only determines
the success or failure of the group of commands sent to it, unless
atomic push is in use.


post-receive
============

This hook is invoked by git-receive-pack(1) when it reacts to ‘git push’
and updates reference(s) in its repository.  It executes on the remote
repository once after all the refs have been updated.

   This hook executes once for the receive operation.  It takes no
arguments, but gets the same information as the _pre-receive_ (*note
pre-receive::) hook does on its standard input.

   This hook does not affect the outcome of ‘git receive-pack’, as it is
called after the real work is done.

   This supersedes the _post-update_ (*note post-update::) hook in that
it gets both old and new values of all the refs in addition to their
names.

   Both standard output and standard error output are forwarded to ‘git
send-pack’ on the other end, so you can simply ‘echo’ messages for the
user.

   The default _post-receive_ hook is empty, but there is a sample
script ‘post-receive-email’ provided in the ‘contrib/hooks’ directory in
Git distribution, which implements sending commit emails.

   The number of push options given on the command line of ‘git push
--push-option=...’ can be read from the environment variable
‘GIT_PUSH_OPTION_COUNT’, and the options themselves are found in
‘GIT_PUSH_OPTION_0’, ‘GIT_PUSH_OPTION_1’,… If it is negotiated to not
use the push options phase, the environment variables will not be set.
If the client selects to use push options, but doesn’t transmit any, the
count variable will be set to zero, ‘GIT_PUSH_OPTION_COUNT=0’.


post-update
===========

This hook is invoked by git-receive-pack(1) when it reacts to ‘git push’
and updates reference(s) in its repository.  It executes on the remote
repository once after all the refs have been updated.

   It takes a variable number of parameters, each of which is the name
of ref that was actually updated.

   This hook is meant primarily for notification, and cannot affect the
outcome of ‘git receive-pack’.

   The _post-update_ hook can tell what are the heads that were pushed,
but it does not know what their original and updated values are, so it
is a poor place to do log old..new.  The _post-receive_ (*note
post-receive::) hook does get both original and updated values of the
refs.  You might consider it instead if you need them.

   When enabled, the default _post-update_ hook runs ‘git
update-server-info’ to keep the information used by dumb transports
(e.g., HTTP) up to date.  If you are publishing a Git repository that is
accessible via HTTP, you should probably enable this hook.

   Both standard output and standard error output are forwarded to ‘git
send-pack’ on the other end, so you can simply ‘echo’ messages for the
user.


reference-transaction
=====================

This hook is invoked by any Git command that performs reference updates.
It executes whenever a reference transaction is prepared, committed or
aborted and may thus get called multiple times.  The hook does not cover
symbolic references (but that may change in the future).

   The hook takes exactly one argument, which is the current state the
given reference transaction is in:

   • "prepared": All reference updates have been queued to the
     transaction and references were locked on disk.

   • "committed": The reference transaction was committed and all
     references now have their respective new value.

   • "aborted": The reference transaction was aborted, no changes were
     performed and the locks have been released.

   For each reference update that was added to the transaction, the hook
receives on standard input a line of the format:

     <old-value> SP <new-value> SP <ref-name> LF

   where ‘<old-value>’ is the old object name passed into the reference
transaction, ‘<new-value>’ is the new object name to be stored in the
ref and ‘<ref-name>’ is the full name of the ref.  When force updating
the reference regardless of its current value or when the reference is
to be created anew, ‘<old-value>’ is the all-zeroes object name.  To
distinguish these cases, you can inspect the current value of
‘<ref-name>’ via ‘git rev-parse’.

   The exit status of the hook is ignored for any state except for the
"prepared" state.  In the "prepared" state, a non-zero exit status will
cause the transaction to be aborted.  The hook will not be called with
"aborted" state in that case.


push-to-checkout
================

This hook is invoked by git-receive-pack(1) when it reacts to ‘git push’
and updates reference(s) in its repository, and when the push tries to
update the branch that is currently checked out and the
‘receive.denyCurrentBranch’ configuration variable is set to
‘updateInstead’.  Such a push by default is refused if the working tree
and the index of the remote repository has any difference from the
currently checked out commit; when both the working tree and the index
match the current commit, they are updated to match the newly pushed tip
of the branch.  This hook is to be used to override the default
behaviour.

   The hook receives the commit with which the tip of the current branch
is going to be updated.  It can exit with a non-zero status to refuse
the push (when it does so, it must not modify the index or the working
tree).  Or it can make any necessary changes to the working tree and to
the index to bring them to the desired state when the tip of the current
branch is updated to the new commit, and exit with a zero status.

   For example, the hook can simply run ‘git read-tree -u -m HEAD "$1"’
in order to emulate ‘git fetch’ that is run in the reverse direction
with ‘git push’, as the two-tree form of ‘git read-tree -u -m’ is
essentially the same as ‘git switch’ or ‘git checkout’ that switches
branches while keeping the local changes in the working tree that do not
interfere with the difference between the branches.


pre-auto-gc
===========

This hook is invoked by ‘git gc --auto’ (see git-gc(1)).  It takes no
parameter, and exiting with non-zero status from this script causes the
‘git gc --auto’ to abort.


post-rewrite
============

This hook is invoked by commands that rewrite commits (git-commit(1)
when called with ‘--amend’ and git-rebase(1); however, full-history
(re)writing tools like git-fast-import(1) or git-filter-repo
(https://github.com/newren/git-filter-repo) typically do not call it!).
Its first argument denotes the command it was invoked by: currently one
of ‘amend’ or ‘rebase’.  Further command-dependent arguments may be
passed in the future.

   The hook receives a list of the rewritten commits on stdin, in the
format

     <old-object-name> SP <new-object-name> [ SP <extra-info> ] LF

   The _extra-info_ is again command-dependent.  If it is empty, the
preceding SP is also omitted.  Currently, no commands pass any
_extra-info_.

   The hook always runs after the automatic note copying (see
"notes.rewrite.<command>" in git-config(1)) has happened, and thus has
access to these notes.

   The following command-specific comments apply:

rebase
     For the _squash_ and _fixup_ operation, all commits that were
     squashed are listed as being rewritten to the squashed commit.
     This means that there will be several lines sharing the same
     _new-object-name_.

     The commits are guaranteed to be listed in the order that they were
     processed by rebase.


sendemail-validate
==================

This hook is invoked by git-send-email(1).  It takes a single parameter,
the name of the file that holds the e-mail to be sent.  Exiting with a
non-zero status causes ‘git send-email’ to abort before sending any
e-mails.


fsmonitor-watchman
==================

This hook is invoked when the configuration option ‘core.fsmonitor’ is
set to ‘.git/hooks/fsmonitor-watchman’ or
‘.git/hooks/fsmonitor-watchmanv2’ depending on the version of the hook
to use.

   Version 1 takes two arguments, a version (1) and the time in elapsed
nanoseconds since midnight, January 1, 1970.

   Version 2 takes two arguments, a version (2) and a token that is used
for identifying changes since the token.  For watchman this would be a
clock id.  This version must output to stdout the new token followed by
a NUL before the list of files.

   The hook should output to stdout the list of all files in the working
directory that may have changed since the requested time.  The logic
should be inclusive so that it does not miss any potential changes.  The
paths should be relative to the root of the working directory and be
separated by a single NUL.

   It is OK to include files which have not actually changed.  All
changes including newly-created and deleted files should be included.
When files are renamed, both the old and the new name should be
included.

   Git will limit what files it checks for changes as well as which
directories are checked for untracked files based on the path names
given.

   An optimized way to tell git "all files have changed" is to return
the filename ‘/’.

   The exit status determines whether git will use the data from the
hook to limit its search.  On error, it will fall back to verifying all
files and folders.


p4-changelist
=============

This hook is invoked by ‘git-p4 submit’.

   The ‘p4-changelist’ hook is executed after the changelist message has
been edited by the user.  It can be bypassed with the ‘--no-verify’
option.  It takes a single parameter, the name of the file that holds
the proposed changelist text.  Exiting with a non-zero status causes the
command to abort.

   The hook is allowed to edit the changelist file and can be used to
normalize the text into some project standard format.  It can also be
used to refuse the Submit after inspect the message file.

   Run ‘git-p4 submit --help’ for details.


p4-prepare-changelist
=====================

This hook is invoked by ‘git-p4 submit’.

   The ‘p4-prepare-changelist’ hook is executed right after preparing
the default changelist message and before the editor is started.  It
takes one parameter, the name of the file that contains the changelist
text.  Exiting with a non-zero status from the script will abort the
process.

   The purpose of the hook is to edit the message file in place, and it
is not suppressed by the ‘--no-verify’ option.  This hook is called even
if ‘--prepare-p4-only’ is set.

   Run ‘git-p4 submit --help’ for details.


p4-post-changelist
==================

This hook is invoked by ‘git-p4 submit’.

   The ‘p4-post-changelist’ hook is invoked after the submit has
successfully occurred in P4.  It takes no parameters and is meant
primarily for notification and cannot affect the outcome of the git p4
submit action.

   Run ‘git-p4 submit --help’ for details.


p4-pre-submit
=============

This hook is invoked by ‘git-p4 submit’.  It takes no parameters and
nothing from standard input.  Exiting with non-zero status from this
script prevent ‘git-p4 submit’ from launching.  It can be bypassed with
the ‘--no-verify’ command line option.  Run ‘git-p4 submit --help’ for
details.


post-index-change
=================

This hook is invoked when the index is written in read-cache.c
do_write_locked_index.

   The first parameter passed to the hook is the indicator for the
working directory being updated.  "1" meaning working directory was
updated or "0" when the working directory was not updated.

   The second parameter passed to the hook is the indicator for whether
or not the index was updated and the skip-worktree bit could have
changed.  "1" meaning skip-worktree bits could have been updated and "0"
meaning they were not.

   Only one parameter should be set to "1" when the hook runs.  The hook
running passing "1", "1" should not be possible.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitignore,  Up: Top

Name
****

gitignore — 無視する、意図的に追跡しないファイルを指定します


Synopsis
********

$XDG_CONFIG_HOME/git/ignore, $GIT_DIR/info/exclude, .gitignore


DESCRIPTION
***********

‘gitignore’ ファイルは、Gitが無視する必要のある意図的に追跡しないファイ
ルを指定します。 Gitによってすでに追跡されているファイルは影響を受けませ
ん。 詳細については、以下のNOTESを参照してください。

   ‘gitignore’ ファイルの各行にはパターンを指定します。パスを無視するか
どうかを決定するとき、Gitは通常、複数のソースからの ‘gitignore’ パターン
を、最高から最低の順に以下の優先順位でチェックします(各レベルの優先順位
内では最後に一致するパターンが結果を決定します)。

   • パターンは、それらをサポートするコマンドのコマンドラインから読み取
     られます。

   • そのパスから見て同じディレクトリまたは親ディレクトリ(作業ツリーの最
     上位まで)にある ‘.gitignore’ ファイルから読み取られたパターン。ディ
     レクトリの上位レベルのファイルのパターンは、‘.gitignore’ ファイルを
     含むディレクトリまでディレクトリ下位レベルの ‘.gitignore’ ファイル
     のパターンによって上書きされますこれらのパターンは、 ‘.gitignore’ フ
     ァイルのあるディレクトリを基準にしてマッチします。 プロジェクトは通
     常、リポジトリにそのような、プロジェクトビルドの部品として生成され
     たファイルのパターンを含んだ ‘.gitignore’ ファイルを含みます。(訳注
     :各サブディレクトリに .gigignore ファイルを含む事ができ、各ディレク
     トリの .gitignore はその親ディレクトリまたはその上位ディレクトリの
     .gitignore をオーバーライドする)

   • パターンは ‘$GIT_DIR/info/exclude’ から読み取られます。

   • 構成変数 ‘core.excludesFile’ で指定されたファイルから読み取られたパ
     ターン。

   パターンを配置するファイルは、パターンの使用方法によって異なります。

   • バージョン管理され、クローンを介して他のリポジトリに配布される必要
     があるパターン(つまり、すべての開発者が無視したいファイル)は、
     ‘.gitignore’ ファイルに入れる必要があります。

   • 特定のリポジトリに固有であるが、他の関連するリポジトリと共有する必
     要のないパターン(たとえば、リポジトリ内に存在するが1人のユーザーの
     ワークフローに固有の補助ファイル)は、 ‘$GIT_DIR/info/exclude’ ファ
     イルに配置する必要があります。

   • ユーザーがすべての状況でGitに無視させたいパターン(たとえば、選択し
     たユーザーのエディタによって生成されたバックアップファイルまたは一
     時ファイル)は、通常、ユーザーの ‘~/.gitconfig’ の
     ‘core.excludesFile’ で指定されたファイルに入ります。デフォルト値は
     $XDG_CONFIG_HOME/git/ignore です。 $XDG_CONFIG_HOME が設定されてい
     ないか空の場合、代わりに $HOME/.config/git/ignore が使用されます。

   _gitls-files_ や _git read-tree_ などの基盤となるGit配管ツールは、コ
マンドラインオプションで指定された ‘gitignore’ パターンを読み取るか、コ
マンドラインオプションで指定されたファイルから読み取ります。「git
status」や「git add」などの高レベルのGitツールは、上記で指定されたソース
からのパターンを使用します。


PATTERN FORMAT
**************

   • 空行はどのファイルともマッチしないため、読みやすくするための区切り
     として使えます。

   • ‘#’ で始まる行はコメントとして機能します。 ‘#’ で始まるパターンの最
     初の ‘#’ の前にはバックスラッシュ(「‘\’」)を置きます。

   • 末尾の空白は、バックススラッシュ(‘\’)でクォートされていない限り無視
     されます。

   • パターンを否定するオプションのプレフィックス ‘!’ 。以前のパターンで
     除外されたマッチするファイルは、再び含まれるようになります。そのフ
     ァイルの親ディレクトリが除外されている場合、そのファイルを再インク
     ルードすることはできません。Gitはパフォーマンス上の理由から除外され
     たディレクトリを一覧表示しないため、含まれているファイルのパターン
     は、それらがどこで定義されていても効果がありません。 リテラル ‘!’ で
     始まるパターンの場合は、最初の ‘!’ の前にバックスラッシュ(‘\’)を付
     けます(例: ‘\!important!.txt’)。

   • スラッシュ ‘/’ はディレクトリ区切り文字として使用されます。区切り文
     字は、 ‘.gitignore’ 検索パターンの最初、中間、または最後に発生する
     可能性があります。

   • パターンの先頭または中間(あるいはその両方)に区切り文字がある場合、
     パターンは特定の ‘.gitignore’ ファイル自体のディレクトリレベルに関
     連しています。そうしないと、パターンは ‘.gitignore’ レベルより下の
     任意のレベルでも一致する可能性があります。

   • パターンの最後に区切り文字がある場合、パターンはディレクトリのみに
     一致します。それ以外の場合、パターンはファイルとディレクトリの両方
     に一致する可能性があります。

   • たとえば、パターン ‘doc/frotz/’ は ‘doc/frotz’ ディレクトリと一致し
     ますが、 ‘a/doc/frotz’ ディレクトリとは一致しません。 ただし、
     ‘frotz/’ は ‘frotz’ およびディレクトリである ‘a/frotz’ と一致します
     (すべてのパスは ‘.gitignore’ ファイルのあるディレクトリからの相対パ
     スです)。

   • アスタリスク(‘*’)はスラッシュ(‘/’)以外のものと一致します。文字 ‘?’
     は、 ‘/’ 以外の任意の1文字と一致します。 範囲表記、例えば
     ‘[a-zA-Z]’ は、範囲内の文字の1つと一致させるために使用できます。詳
     細については、 fnmatch3）および FNM_PATHNAME フラグを参照してくださ
     い。

   フルパス名と一致するパターンの、2つの連続するアスタリスク(‘**’)は、以
下の特別な意味を持つ場合があります:

   • 先頭の ‘**’ の後にスラッシュ(‘/’)が続く場合は、すべてのディレクトリ
     で一致することを意味します。 たとえば、 ‘**/foo’ は、パターン ‘foo’
     と同じように、任意の場所のファイルまたはディレクトリ ‘foo’ と一致し
     ます。 ‘**/foo/bar’ は、ディレクトリ ‘foo’ の直下にあるファイルまた
     はディレクトリ ‘bar’ と一致します。

   • 末尾の ‘/**’ は内部のすべてに一致します。 たとえば、 ‘abc/**’ は、
     ‘.gitignore’ ファイルの場所を基準にして、ディレクトリ ‘abc’ 内のす
     べてのファイルと無限の深さで一致します。

   • スラッシュ(‘/’)の後に2つの連続するアスタリスク(‘**’)が続く場合、ス
     ラッシュは0個以上のディレクトリに一致します。たとえば、 ‘a/**/b’ は
     ‘a/b’ や ‘a/x/b’ や ‘a/x/y/b’ などと一致します。

   • 他の連続するアスタリスクは通常のアスタリスクと見なされ、以前のルー
     ルに従って一致します。


CONFIGURATION
*************

オプションの構成変数 ‘core.excludesFile’ は、 ‘$GIT_DIR/info/exclude’ と
同様に、除外するファイル名のパターンを含むファイルへのパスを示します。
‘$GIT_DIR/info/exclude’ のパターンに加えて、excludeファイルのパターンが
使用されます。


NOTES
*****

gitignoreファイルの目的は、Gitによって未だ追跡されていない特定のファイル
がGitによって追跡される事が無いようにすることです。

   現在追跡されているファイルの追跡を停止するには、 ‘git rm --cached’ を
使用します。

   作業ツリーの ‘.gitignore’ ファイルにアクセスするとき、Gitはシンボリッ
クリンクをたどりません。これにより、ファイルシステムからではなく、インデ
ックスまたはツリーからファイルにアクセスする場合の動作の一貫性が保たれま
す。


EXAMPLES
********

   • パターン ‘hello.*’ は、名前が ‘hello.’ で始まるすべてのファイルまた
     はフォルダーにマッチします。これをディレクトリのみに制限し、そのサ
     ブディレクトリには制限したくない場合は、パターンの前にスラッシュを
     付けることができます。つまり、 ‘/hello.*’ とします。このパターンは
     ‘hello.txt’ や ‘hello.c’ とマッチしますが、 ‘a/hello.java’ とはマッ
     チしません。

   • パターン ‘foo/’ は、ディレクトリ ‘foo’ とその下のパスに一致しますが
     、通常のファイルまたはシンボリックリンク ‘foo’ には一致しません(こ
     れは、Gitでのpathspecの一般的な動作方法と一致します)

   • パターン ‘doc/frotz’ と ‘/doc/frotz’ は、どの ‘.gitignore’ ファイル
     でも同じ効果があります。つまり、パターンの中間にスラッシュ(‘/’)があ
     る場合、先頭のスラッシュは関係ありません。

   • パターン ‘foo/*’ は、 ‘foo/test.json’ (通常のファイル) や ‘foo/bar’
     (ディレクトリ)とマッチしますが、パターンのアスタリスク(‘*’)がスラッ
     シュ(‘/’)を含む ‘bar/hello.c’ とマッチしないため、
     ‘foo/bar/hello.c’ (通常のファイル)とは一致しません。

         $ git status
         [...]
         # Untracked files:
         [...]
         #       Documentation/foo.html
         #       Documentation/gitignore.html
         #       file.o
         #       lib.a
         #       src/internal.o
         [...]
         $ cat .git/info/exclude
         # ignore objects and archives, anywhere in the tree.
         *.[oa]
         $ cat Documentation/.gitignore
         # ignore generated html files,
         *.html
         # except foo.html which is maintained by hand
         !foo.html
         $ git status
         [...]
         # Untracked files:
         [...]
         #       Documentation/foo.html
         [...]

   別の例:

         $ cat .gitignore
         vmlinux*
         $ ls arch/foo/kernel/vm*
         arch/foo/kernel/vmlinux.lds.S
         $ echo '!/vmlinux*' >arch/foo/kernel/.gitignore

   2番目の .gitignore は、Gitが ‘arch/foo/kernel/vmlinux.lds.S’ を無視す
るのを防ぎます。

   特定のディレクトリ ‘foo/bar’ 以外のすべてを除外する例(‘/*’ に注意して
ください。スラッシュ(‘/’)なしでワイルドカード(‘*’)は、 ‘foo/bar’ 内のす
べても除外します):

         $ cat .gitignore
         # exclude everything except directory foo/bar
         /*
         !/foo
         /foo/*
         !/foo/bar


SEE ALSO
********

git-rm(1), gitrepository-layout(5), git-check-ignore(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitk,  Up: Top

Name
****

gitk — The Git repository browser


Synopsis
********

     gitk [<options>] [<revision range>] [–] [<path>…]


DESCRIPTION
***********

Displays changes in a repository or a selected set of commits.  This
includes visualizing the commit graph, showing information related to
each commit, and the files in the trees of each revision.


OPTIONS
*******

To control which revisions to show, gitk supports most options
applicable to the _git rev-list_ command.  It also supports a few
options applicable to the _git diff-*_ commands to control how the
changes each commit introduces are shown.  Finally, it supports some
gitk-specific options.

   gitk generally only understands options with arguments in the
_sticked_ form (see gitcli(7)) due to limitations in the command-line
parser.


rev-list options and arguments
==============================

This manual page describes only the most frequently used options.  See
git-rev-list(1) for a complete list.

‘--all’
     Show all refs (branches, tags, etc.).

‘--branches[=<pattern>]’
‘--tags[=<pattern>]’
‘--remotes[=<pattern>]’
     Pretend as if all the branches (tags, remote branches, resp.)  are
     listed on the command line as _<commit>_.  If _<pattern>_ is given,
     limit refs to ones matching given shell glob.  If pattern lacks
     _?_, _*_, or _[_, _/*_ at the end is implied.

‘--since=<date>’
     Show commits more recent than a specific date.

‘--until=<date>’
     Show commits older than a specific date.

‘--date-order’
     Sort commits by date when possible.

‘--merge’
     After an attempt to merge stops with conflicts, show the commits on
     the history between two branches (i.e.  the HEAD and the
     MERGE_HEAD) that modify the conflicted files and do not exist on
     all the heads being merged.

‘--left-right’
     Mark which side of a symmetric difference a commit is reachable
     from.  Commits from the left side are prefixed with a ‘<’ symbol
     and those from the right with a ‘>’ symbol.

‘--full-history’
     When filtering history with _<path>…_, does not prune some history.
     (See "History simplification" in git-log(1) for a more detailed
     explanation.)

‘--simplify-merges’
     Additional option to ‘--full-history’ to remove some needless
     merges from the resulting history, as there are no selected commits
     contributing to this merge.  (See "History simplification" in
     git-log(1) for a more detailed explanation.)

‘--ancestry-path’
     When given a range of commits to display (e.g.  _commit1..commit2_
     or _commit2 ^commit1_), only display commits that exist directly on
     the ancestry chain between the _commit1_ and _commit2_, i.e.
     commits that are both descendants of _commit1_, and ancestors of
     _commit2_.  (See "History simplification" in git-log(1) for a more
     detailed explanation.)

‘-L<start>,<end>:<file>’
‘-L:<funcname>:<file>’
     _<file>_ 内で、 _<start>,<end>_ 、または関数名 regex _<funcname>_ で
     指定された行範囲をトレースします。pathspec リミッターを指定すること
     はできません。これは現在、単一のリビジョンから開始するウォークに制
     限されています。つまり、0個または1個の正のリビジョン引数のみを指定
     でき、 _<start>_ と _<end>_ (または _<funcname>_) が開始リビジョン
     に存在する必要があります。このオプションは複数回指定できます。これ
     は ‘--patch’ オプションの機能を内包しています。パッチ出力は
     ‘--no-patch’ を使用して抑制できますが、他の差分形式(つまり、
     ‘--raw’、 ‘--numstat’、 ‘--shortstat’、 ‘--dirstat’、 ‘--summary’、
     ‘--name-only’、 ‘--name-status’、 ‘--check’)は現在実装されていませ
     ん。

     _<start>_ と _<end>_ は、以下のいずれかの形式です:

        • number

          _<start>_ または _<end>_ が数値の場合、絶対行番号を指定します
          (行は1から数えます)。

        • ‘/regex/’

          この形式は、指定されたPOSIX正規表現に一致する最初の行を使用し
          ます。 _<start>_ が正規表現の場合、前の ‘-L’ 範囲の末尾から検
          索します。それ以外の場合は、ファイルの先頭から検索します。
          _<start>_ が ‘^/regex/’ の場合、ファイルの先頭から検索します。
          _<end>_ が正規表現の場合、 _<start>_ で指定された行から検索開
          始します。

        • +offset or -offset

          これは <end> に対してのみ有効であり、 <start> で指定された行の
          前後の行数を指定します。

     _<start>_ および _<end>_ の代わりに ‘:<funcname>’ が指定されている
     場合、これは _<funcname>_ に一致する最初の関数名行から次の関数名行
     までの範囲を示す正規表現です。 ‘:<funcname>’ は、前の ‘-L’ 範囲の末
     尾から検索します。それ以外の場合は、ファイルの先頭から検索します。
     ‘^:<funcname>’ はファイルの先頭から検索します。関数名は、 ‘git
     diff’ がパッチハンクヘッダーを処理するのと同じ方法で決定されます
     (gitattributes(5) の _Defining a custom hunk-header_ 参照)。

<revision range>
     Limit the revisions to show.  This can be either a single revision
     meaning show from the given revision and back, or it can be a range
     in the form "_<from>_.._<to>_" to show all revisions between
     _<from>_ and back to _<to>_.  Note, more advanced revision
     selection can be applied.  For a more complete list of ways to
     spell object names, see gitrevisions(7).

<path>…
     Limit commits to the ones touching files in the given paths.  Note,
     to avoid ambiguity with respect to revision names use "–" to
     separate the paths from any preceding options.


gitk-specific options
=====================

‘--argscmd=<command>’
     Command to be run each time gitk has to determine the revision
     range to show.  The command is expected to print on its standard
     output a list of additional revisions to be shown, one per line.
     Use this instead of explicitly specifying a _<revision range>_ if
     the set of commits to show may vary between refreshes.

‘--select-commit=<ref>’
     Select the specified commit after loading the graph.  Default
     behavior is equivalent to specifying _–select-commit=HEAD_.


Examples
********

gitk v2.6.12.. include/scsi drivers/scsi
     Show the changes since version _v2.6.12_ that changed any file in
     the include/scsi or drivers/scsi subdirectories

gitk –since="2 weeks ago" – gitk
     Show the changes during the last two weeks to the file _gitk_.  The
     "–" is necessary to avoid confusion with the *branch* named _gitk_

gitk –max-count=100 –all – Makefile
     Show at most 100 changes made to the file _Makefile_.  Instead of
     only looking for changes in the current branch look in all
     branches.


Files
*****

User configuration and preferences are stored at:

   • ‘$XDG_CONFIG_HOME/git/gitk’ if it exists, otherwise

   • ‘$HOME/.gitk’ if it exists

   If neither of the above exist then ‘$XDG_CONFIG_HOME/git/gitk’ is
created and used by default.  If _$XDG_CONFIG_HOME_ is not set it
defaults to ‘$HOME/.config’ in all cases.


History
*******

Gitk was the first graphical repository browser.  It’s written in
tcl/tk.

   _gitk_ is actually maintained as an independent project, but stable
versions are distributed as part of the Git suite for the convenience of
end users.

   gitk-git/ comes from Paul Mackerras’s gitk project:

     git://ozlabs.org/~paulus/gitk


SEE ALSO
********

_qgit(1)_
     A repository browser written in C++ using Qt.

_tig(1)_
     A minimal repository browser and Git tool output highlighter
     written in C using Ncurses.


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitmailmap,  Up: Top

Name
****

gitmailmap — 作者(author)/コミッター(committer) および/または 電子メール
アドレス(E-Mail addresses)をマップします


Synopsis
********

$GIT_WORK_TREE/.mailmap


DESCRIPTION
***********

ファイル ‘.mailmap’ がリポジトリのトップレベルに存在する場合、または
‘mailmap.file’ とか ‘mailmap.blob’ 構成オプション(git-config(1) 参照)が
指す場所(ファイルパスとかブロブ)に存在する場合は、 作者とコミッターの名
前と電子メールアドレスを、正規の本名と電子メールアドレスにマッピングする
ために使用されます。


SYNTAX
******

_#_ 文字から行末まではコメントで、空白行は無視されます。

   単純な形式では、ファイルの各行は、作成の正規の本名、空白、および名前
にマップするためにコミットで使用される電子メールアドレス(_<_ と _>_ で囲
まれている)で構成されます。 例えば:

     Proper Name <commit@email.xx>

   より複雑な形式では:

     <proper@email.xx> <commit@email.xx>

   で、これにより、メールマップはコミット用の電子メールアドレスのみを置
き換えることができます。そして:

     Proper Name <proper@email.xx> <commit@email.xx>

   では、mailmapは、指定されたコミット用電子メールアドレスに一致するコミ
ッターの名前と電子メールのアドレス両方を置き換えることができます。そして
:

     Proper Name <proper@email.xx> Commit Name <commit@email.xx>

   では、mailmapは、指定されたコミッターの名前と電子メールアドレスの両方
に一致するコミッターの名前と電子メールの両方を置き換えることができます。

   電子メールアドレスと名前の両方が大文字と小文字を区別せずに照合されま
す。たとえば、以下は上記の _Commit Name <commit@email.xx>_ とも一致しま
す:

     Proper Name <proper@email.xx> CoMmIt NaMe <CoMmIt@EmAiL.xX>


NOTES
*****

作業ツリーの ‘.mailmap’ ファイルにアクセスするとき、Gitはシンボリックリ
ンクをたどりません。 これにより、ファイルがインデックスまたはツリーから
アクセスされたときとファイルシステムからアクセスされたときの動作の一貫性
が保たれます。


EXAMPLES
********

あなたの履歴には、JaneとJoeの2人の作者(authors)によるコミットが含まれて
います。これらの作成の名前は、リポジトリにいくつかの形式で表示されます:

     Joe Developer <joe@example.com>
     Joe R. Developer <joe@example.com>
     Jane Doe <jane@example.com>
     Jane Doe <jane@laptop.(none)>
     Jane D. <jane@desktop.(none)>

   ここで、Joeが当初は、ミドルネームを使用することを望み、Janeが彼女の家
族名を完全に綴ることを好むとします。名前を修正するための ‘.mailmap’ ファ
イルは以下のようになります:

     Joe R. Developer <joe@example.com>
     Jane Doe <jane@example.com>
     Jane Doe <jane@desktop.(none)>

   注意: 名前を修正するためだけに、 _<jane@laptop.(none)>_ のnamesをマッ
プする必要はないことに注意してください。ただし、明らかに壊れた
_<jane@laptop.(none)>_ と _<jane@desktop.(none)>_ というの電子メールアド
レスをそのままにしておくことは、通常、希望するものではありません。したが
って、これらも修正する ‘.mailmap’ ファイルは以下のとおりです:

     Joe R. Developer <joe@example.com>
     Jane Doe <jane@example.com> <jane@laptop.(none)>
     Jane Doe <jane@example.com> <jane@desktop.(none)>

   最後に、JoeとJaneが電子メールアドレスを共有しているが、名前は共有して
いないとしましょう。バグ報告システムによって生成された履歴にそれぞれのコ
ミットを含めるとします。つまり、履歴には以下のように名前があらわれます:

     Joe <bugs@example.com>
     Jane <bugs@example.com>

   これらのケースも処理する完全な ‘.mailmap’ ファイル(上記の例に2行追加
)は以下のようになります:

     Joe R. Developer <joe@example.com>
     Jane Doe <jane@example.com> <jane@laptop.(none)>
     Jane Doe <jane@example.com> <jane@desktop.(none)>
     Joe R. Developer <joe@example.com> Joe <bugs@example.com>
     Jane Doe <jane@example.com> Jane <bugs@example.com>


SEE ALSO
********

git-check-mailmap(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitmodules,  Up: Top

Name
****

gitmodules — Defining submodule properties


Synopsis
********

$GIT_WORK_TREE/.gitmodules


DESCRIPTION
***********

The ‘.gitmodules’ file, located in the top-level directory of a Git
working tree, is a text file with a syntax matching the requirements of
git-config(1).

   The file contains one subsection per submodule, and the subsection
value is the name of the submodule.  The name is set to the path where
the submodule has been added unless it was customized with the ‘--name’
option of _git submodule add_.  Each submodule section also contains the
following required keys:

submodule.<name>.path
     Defines the path, relative to the top-level directory of the Git
     working tree, where the submodule is expected to be checked out.
     The path name must not end with a ‘/’.  All submodule paths must be
     unique within the ‘.gitmodules’ file.

submodule.<name>.url
     Defines a URL from which the submodule repository can be cloned.
     This may be either an absolute URL ready to be passed to
     git-clone(1) or (if it begins with ‘./’ or ‘../’) a location
     relative to the superproject’s origin repository.

   In addition, there are a number of optional keys:

submodule.<name>.update
     Defines the default update procedure for the named submodule, i.e.
     how the submodule is updated by the ‘git submodule update’ command
     in the superproject.  This is only used by ‘git submodule init’ to
     initialize the configuration variable of the same name.  Allowed
     values here are _checkout_, _rebase_, _merge_ or _none_.  See
     description of _update_ command in git-submodule(1) for their
     meaning.  For security reasons, the _!command_ form is not accepted
     here.

submodule.<name>.branch
     A remote branch name for tracking updates in the upstream
     submodule.  If the option is not specified, it defaults to the
     remote ‘HEAD’.  A special value of ‘.’ is used to indicate that the
     name of the branch in the submodule should be the same name as the
     current branch in the current repository.  See the ‘--remote’
     documentation in git-submodule(1) for details.

submodule.<name>.fetchRecurseSubmodules
     This option can be used to control recursive fetching of this
     submodule.  If this option is also present in the submodule’s entry
     in ‘.git/config’ of the superproject, the setting there will
     override the one found in ‘.gitmodules’.  Both settings can be
     overridden on the command line by using the
     ‘--[no-]recurse-submodules’ option to ‘git fetch’ and ‘git pull’.

submodule.<name>.ignore
     Defines under what circumstances ‘git status’ and the diff family
     show a submodule as modified.  The following values are supported:

     all
          The submodule will never be considered modified (but will
          nonetheless show up in the output of status and commit when it
          has been staged).

     dirty
          All changes to the submodule’s work tree will be ignored, only
          committed differences between the ‘HEAD’ of the submodule and
          its recorded state in the superproject are taken into account.

     untracked
          Only untracked files in submodules will be ignored.  Committed
          differences and modifications to tracked files will show up.

     none
          No modifications to submodules are ignored, all of committed
          differences, and modifications to tracked and untracked files
          are shown.  This is the default option.

     If this option is also present in the submodule’s entry in
     ‘.git/config’ of the superproject, the setting there will override
     the one found in ‘.gitmodules’.

     Both settings can be overridden on the command line by using the
     ‘--ignore-submodules’ option.  The ‘git submodule’ commands are not
     affected by this setting.

submodule.<name>.shallow
     When set to true, a clone of this submodule will be performed as a
     shallow clone (with a history depth of 1) unless the user
     explicitly asks for a non-shallow clone.


NOTES
*****

Git does not allow the ‘.gitmodules’ file within a working tree to be a
symbolic link, and will refuse to check out such a tree entry.  This
keeps behavior consistent when the file is accessed from the index or a
tree versus from the filesystem, and helps Git reliably enforce security
checks of the file contents.


EXAMPLES
********

Consider the following ‘.gitmodules’ file:

     [submodule "libfoo"]
             path = include/foo
             url = git://foo.com/git/lib.git

     [submodule "libbar"]
             path = include/bar
             url = git://bar.com/git/lib.git

   This defines two submodules, ‘libfoo’ and ‘libbar’.  These are
expected to be checked out in the paths ‘include/foo’ and ‘include/bar’,
and for both submodules a URL is specified which can be used for cloning
the submodules.


SEE ALSO
********

git-submodule(1), gitsubmodules(7), git-config(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitnamespaces,  Up: Top

Name
****

gitnamespaces — Git名前空間


Synopsis
********

     GIT_NAMESPACE=<namespace> git upload-pack
     GIT_NAMESPACE=<namespace> git receive-pack


DESCRIPTION
***********

Gitは、単一のリポジトリのrefを複数の名前空間に分割することをサポートして
います。各名前空間には、独自のブランチ、タグ、およびHEADがあります。
Gitは、オブジェクトストアを共有し、すべてのrefを git-gc(1) などの操作に
公開しながら、プル元とプッシュ先の独立したリポジトリとして各名前空間を公
開できます。

   複数のリポジトリを単一のリポジトリの名前空間として保存すると、同じソ
ースの複数のブランチを保存する場合など、同じオブジェクトの重複コピーを保
存することを回避できます。代替メカニズムは、重複を回避するための同様のサ
ポートを提供しますが、名前空間が行うのに対し、代替は、継続的なメンテナン
スなしでリポジトリに追加された新しいオブジェクト間の重複を防止しません。

   名前空間を指定するには、 ‘GIT_NAMESPACE’ 環境変数に名前空間を設定しま
す。 ref名前空間ごとに、Gitは対応するrefを ‘refs/namespaces/’ の下のディ
レクトリに保存します。 たとえば、 ‘GIT_NAMESPACE=foo’ はrefを
‘refs/namespaces/foo/’ の下に保存します。 git(1) の ‘--namespace’ オプシ
ョンを使用して名前空間を指定することもできます。

   注意: ‘/’ を含む名前空間は、名前空間の階層に拡張されることに注意して
ください。たとえば、 ‘GIT_NAMESPACE=foo/bar’ はrefを
‘refs/namespaces/foo/refs/namespaces/bar/’ の下に保存します。 これにより
、 ‘GIT_NAMESPACE’ のパスが階層的に動作するため、
‘GIT_NAMESPACE=foo/bar’ でクローンを作成すると、 ‘GIT_NAMESPACE=foo’ で
クローンを作成してそのリポジトリから ‘GIT_NAMESPACE=bar’ でクローンを作
成するのと同じ結果が得られます。また、 ‘foo/refs/heads/’ などの奇妙な名
前空間パスとのあいまいさを回避します。そうしないと、 ‘refs’ ディレクトリ
内で ディレクトリ/ファイル の競合が発生する可能性があります。

   git-upload-pack(1) と git-receive-pack(1) は、 ‘GIT_NAMESPACE’ で指定
されているようにrefの名前を書き換えます。 git-upload-pack と
git-receive-pack は、指定された名前空間外のすべてのrefを無視します。

   スマートHTTPサーバー git-http-backend(1) は、 GIT_NAMESPACE をバック
エンドプログラムに渡します。リポジトリの名前空間をリポジトリとして公開す
るための設定例については、 git-http-backend(1) を参照してください。

   簡単なローカルテストには、あなたは git-remote-ext(1) を使用できます:

     git clone ext::'git --namespace=foo %s /tmp/prefixed.git'


SECURITY
********

フェッチおよびプッシュプロトコルは、共有することを意図していない一方の側
が他方のリポジトリからデータを盗むのを防ぐようには設計されていません。悪
意のある者から保護する必要のあるプライベートデータがある場合、最善のオプ
ションはそれを別のリポジトリに保存することです。これは、クライアントとサ
ーバーの両方に適用されます。特に、サーバー上の名前空間は、読み取りアクセ
ス制御には効果的ではありません。リポジトリ全体への読み取りアクセスで信頼
できるクライアントにのみ、名前空間への読み取りアクセスを許可する必要があ
ります。

   既知の攻撃ベクトル(attack vectors)は以下のとおりです:

  1. 被害者は、明示的に共有することを意図していないオブジェクトのIDをア
     ドバタイズする "have" 行を送信しますが、他にもIDを持っている者が居
     る場合は、転送を最適化するために使用できます。攻撃者はオブジェクト
     ID Xを選択して盗み、refをXに送信しますが、被害者はすでにXのコンテン
     ツを持っているため、Xのコンテンツを送信する必要はありません。 これ
     で、被害者は攻撃者がXを持っていると信じ、Xのコンテンツを後で攻撃者
     に送り返します。 (この攻撃は、クライアントがアクセスできる名前空間
     にXへのrefを作成してフェッチすることにより、クライアントがサーバー
     上で実行するのが最も簡単です。サーバーがクライアント上で実行する最
     も可能性の高い方法は、Xをパブリックブランチにマージし、ユーザーがこ
     のブランチで追加の作業を行い、マージに気付かずにサーバーにプッシュ
     バックすることを期待します。)

  2. #1 と同様に、攻撃者は盗むオブジェクトID Xを選択します。被害者は、攻
     撃者がすでに持っているオブジェクトYを送信し、攻撃者はYではなくXを持
     っていると誤って主張するため、被害者はYをXに対するデルタとして送信
     します。デルタは、攻撃者にYに類似したXの領域を明らかにします。


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitremote-helpers,  Up: Top

Name
****

gitremote-helpers — Helper programs to interact with remote repositories


Synopsis
********

     git remote-<transport> <repository> [<URL>]


DESCRIPTION
***********

Remote helper programs are normally not used directly by end users, but
they are invoked by Git when it needs to interact with remote
repositories Git does not support natively.  A given helper will
implement a subset of the capabilities documented here.  When Git needs
to interact with a repository using a remote helper, it spawns the
helper as an independent process, sends commands to the helper’s
standard input, and expects results from the helper’s standard output.
Because a remote helper runs as an independent process from Git, there
is no need to re-link Git to add a new helper, nor any need to link the
helper with the implementation of Git.

   Every helper must support the "capabilities" command, which Git uses
to determine what other commands the helper will accept.  Those other
commands can be used to discover and update remote refs, transport
objects between the object database and the remote repository, and
update the local object store.

   Git comes with a "curl" family of remote helpers, that handle various
transport protocols, such as _git-remote-http_, _git-remote-https_,
_git-remote-ftp_ and _git-remote-ftps_.  They implement the capabilities
_fetch_, _option_, and _push_.


INVOCATION
**********

Remote helper programs are invoked with one or (optionally) two
arguments.  The first argument specifies a remote repository as in Git;
it is either the name of a configured remote or a URL. The second
argument specifies a URL; it is usually of the form
_<transport>://<address>_, but any arbitrary string is possible.  The
‘GIT_DIR’ environment variable is set up for the remote helper and can
be used to determine where to store additional data or from which
directory to invoke auxiliary Git commands.

   When Git encounters a URL of the form _<transport>://<address>_,
where _<transport>_ is a protocol that it cannot handle natively, it
automatically invokes _git remote-<transport>_ with the full URL as the
second argument.  If such a URL is encountered directly on the command
line, the first argument is the same as the second, and if it is
encountered in a configured remote, the first argument is the name of
that remote.

   A URL of the form _<transport>::<address>_ explicitly instructs Git
to invoke _git remote-<transport>_ with _<address>_ as the second
argument.  If such a URL is encountered directly on the command line,
the first argument is _<address>_, and if it is encountered in a
configured remote, the first argument is the name of that remote.

   Additionally, when a configured remote has ‘remote.<name>.vcs’ set to
_<transport>_, Git explicitly invokes _git remote-<transport>_ with
_<name>_ as the first argument.  If set, the second argument is
‘remote.<name>.url’; otherwise, the second argument is omitted.


INPUT FORMAT
************

Git sends the remote helper a list of commands on standard input, one
per line.  The first command is always the _capabilities_ command, in
response to which the remote helper must print a list of the
capabilities it supports (see below) followed by a blank line.  The
response to the capabilities command determines what commands Git uses
in the remainder of the command stream.

   The command stream is terminated by a blank line.  In some cases
(indicated in the documentation of the relevant commands), this blank
line is followed by a payload in some other protocol (e.g., the pack
protocol), while in others it indicates the end of input.


Capabilities
============

Each remote helper is expected to support only a subset of commands.
The operations a helper supports are declared to Git in the response to
the ‘capabilities’ command (see COMMANDS, below).

   In the following, we list all defined capabilities and for each we
list which commands a helper with that capability must provide.


Capabilities for Pushing
------------------------

_connect_
     Can attempt to connect to _git receive-pack_ (for pushing), _git
     upload-pack_, etc for communication using git’s native packfile
     protocol.  This requires a bidirectional, full-duplex connection.

     Supported commands: _connect_.

_stateless-connect_
     Experimental; for internal use only.  Can attempt to connect to a
     remote server for communication using git’s wire-protocol version
     2.  See the documentation for the stateless-connect command for
     more information.

     Supported commands: _stateless-connect_.

_push_
     Can discover remote refs and push local commits and the history
     leading up to them to new or existing remote refs.

     Supported commands: _list for-push_, _push_.

_export_
     Can discover remote refs and push specified objects from a
     fast-import stream to remote refs.

     Supported commands: _list for-push_, _export_.

   If a helper advertises _connect_, Git will use it if possible and
fall back to another capability if the helper requests so when
connecting (see the _connect_ command under COMMANDS). When choosing
between _push_ and _export_, Git prefers _push_.  Other frontends may
have some other order of preference.

_no-private-update_
     When using the _refspec_ capability, git normally updates the
     private ref on successful push.  This update is disabled when the
     remote-helper declares the capability _no-private-update_.


Capabilities for Fetching
-------------------------

_connect_
     Can try to connect to _git upload-pack_ (for fetching), _git
     receive-pack_, etc for communication using the Git’s native
     packfile protocol.  This requires a bidirectional, full-duplex
     connection.

     Supported commands: _connect_.

_stateless-connect_
     Experimental; for internal use only.  Can attempt to connect to a
     remote server for communication using git’s wire-protocol version
     2.  See the documentation for the stateless-connect command for
     more information.

     Supported commands: _stateless-connect_.

_fetch_
     Can discover remote refs and transfer objects reachable from them
     to the local object store.

     Supported commands: _list_, _fetch_.

_import_
     Can discover remote refs and output objects reachable from them as
     a stream in fast-import format.

     Supported commands: _list_, _import_.

_check-connectivity_
     Can guarantee that when a clone is requested, the received pack is
     self contained and is connected.

   If a helper advertises _connect_, Git will use it if possible and
fall back to another capability if the helper requests so when
connecting (see the _connect_ command under COMMANDS). When choosing
between _fetch_ and _import_, Git prefers _fetch_.  Other frontends may
have some other order of preference.


Miscellaneous capabilities
--------------------------

_option_
     For specifying settings like ‘verbosity’ (how much output to write
     to stderr) and ‘depth’ (how much history is wanted in the case of a
     shallow clone) that affect how other commands are carried out.

_refspec_ <refspec>
     For remote helpers that implement _import_ or _export_, this
     capability allows the refs to be constrained to a private
     namespace, instead of writing to refs/heads or refs/remotes
     directly.  It is recommended that all importers providing the
     _import_ capability use this.  It’s mandatory for _export_.

     A helper advertising the capability ‘refspec
     refs/heads/*:refs/svn/origin/branches/*’ is saying that, when it is
     asked to ‘import refs/heads/topic’, the stream it outputs will
     update the ‘refs/svn/origin/branches/topic’ ref.

     This capability can be advertised multiple times.  The first
     applicable refspec takes precedence.  The left-hand of refspecs
     advertised with this capability must cover all refs reported by the
     list command.  If no _refspec_ capability is advertised, there is
     an implied ‘refspec *:*’.

     When writing remote-helpers for decentralized version control
     systems, it is advised to keep a local copy of the repository to
     interact with, and to let the private namespace refs point to this
     local repository, while the refs/remotes namespace is used to track
     the remote repository.

_bidi-import_
     This modifies the _import_ capability.  The fast-import commands
     _cat-blob_ and _ls_ can be used by remote-helpers to retrieve
     information about blobs and trees that already exist in
     fast-import’s memory.  This requires a channel from fast-import to
     the remote-helper.  If it is advertised in addition to "import",
     Git establishes a pipe from fast-import to the remote-helper’s
     stdin.  It follows that Git and fast-import are both connected to
     the remote-helper’s stdin.  Because Git can send multiple commands
     to the remote-helper it is required that helpers that use
     _bidi-import_ buffer all _import_ commands of a batch before
     sending data to fast-import.  This is to prevent mixing commands
     and fast-import responses on the helper’s stdin.

_export-marks_ <file>
     This modifies the _export_ capability, instructing Git to dump the
     internal marks table to <file> when complete.  For details, read up
     on ‘--export-marks=<file>’ in git-fast-export(1).

_import-marks_ <file>
     This modifies the _export_ capability, instructing Git to load the
     marks specified in <file> before processing any input.  For
     details, read up on ‘--import-marks=<file>’ in git-fast-export(1).

_signed-tags_
     This modifies the _export_ capability, instructing Git to pass
     ‘--signed-tags=verbatim’ to git-fast-export(1).  In the absence of
     this capability, Git will use ‘--signed-tags=warn-strip’.

_object-format_
     This indicates that the helper is able to interact with the remote
     side using an explicit hash algorithm extension.


COMMANDS
********

Commands are given by the caller on the helper’s standard input, one per
line.

_capabilities_
     Lists the capabilities of the helper, one per line, ending with a
     blank line.  Each capability may be preceded with _*_, which marks
     them mandatory for Git versions using the remote helper to
     understand.  Any unknown mandatory capability is a fatal error.

     Support for this command is mandatory.

_list_
     Lists the refs, one per line, in the format "<value> <name> [<attr>
     …]".  The value may be a hex sha1 hash, "@<dest>" for a symref,
     ":<keyword> <value>" for a key-value pair, or "?"  to indicate that
     the helper could not get the value of the ref.  A space-separated
     list of attributes follows the name; unrecognized attributes are
     ignored.  The list ends with a blank line.

     See REF LIST ATTRIBUTES for a list of currently defined attributes.
     See REF LIST KEYWORDS for a list of currently defined keywords.

     Supported if the helper has the "fetch" or "import" capability.

_list for-push_
     Similar to _list_, except that it is used if and only if the caller
     wants to the resulting ref list to prepare push commands.  A helper
     supporting both push and fetch can use this to distinguish for
     which operation the output of _list_ is going to be used, possibly
     reducing the amount of work that needs to be performed.

     Supported if the helper has the "push" or "export" capability.

_option_ <name> <value>
     Sets the transport helper option <name> to <value>.  Outputs a
     single line containing one of _ok_ (option successfully set),
     _unsupported_ (option not recognized) or _error <msg>_ (option
     <name> is supported but <value> is not valid for it).  Options
     should be set before other commands, and may influence the behavior
     of those commands.

     See OPTIONS for a list of currently defined options.

     Supported if the helper has the "option" capability.

_fetch_ <sha1> <name>
     Fetches the given object, writing the necessary objects to the
     database.  Fetch commands are sent in a batch, one per line,
     terminated with a blank line.  Outputs a single blank line when all
     fetch commands in the same batch are complete.  Only objects which
     were reported in the output of _list_ with a sha1 may be fetched
     this way.

     Optionally may output a _lock <file>_ line indicating the full path
     of a file under ‘$GIT_DIR/objects/pack’ which is keeping a pack
     until refs can be suitably updated.  The path must end with
     ‘.keep’.  This is a mechanism to name a <pack,idx,keep> tuple by
     giving only the keep component.  The kept pack will not be deleted
     by a concurrent repack, even though its objects may not be
     referenced until the fetch completes.  The ‘.keep’ file will be
     deleted at the conclusion of the fetch.

     If option _check-connectivity_ is requested, the helper must output
     _connectivity-ok_ if the clone is self-contained and connected.

     Supported if the helper has the "fetch" capability.

_push_ +<src>:<dst>
     Pushes the given local <src> commit or branch to the remote branch
     described by <dst>.  A batch sequence of one or more _push_
     commands is terminated with a blank line (if there is only one
     reference to push, a single _push_ command is followed by a blank
     line).  For example, the following would be two batches of _push_,
     the first asking the remote-helper to push the local ref _master_
     to the remote ref _master_ and the local ‘HEAD’ to the remote
     _branch_, and the second asking to push ref _foo_ to ref _bar_
     (forced update requested by the _+_).

          push refs/heads/master:refs/heads/master
          push HEAD:refs/heads/branch
          \n
          push +refs/heads/foo:refs/heads/bar
          \n

     Zero or more protocol options may be entered after the last _push_
     command, before the batch’s terminating blank line.

     When the push is complete, outputs one or more _ok <dst>_ or _error
     <dst> <why>?_  lines to indicate success or failure of each pushed
     ref.  The status report output is terminated by a blank line.  The
     option field <why> may be quoted in a C style string if it contains
     an LF.

     Supported if the helper has the "push" capability.

_import_ <name>
     Produces a fast-import stream which imports the current value of
     the named ref.  It may additionally import other refs as needed to
     construct the history efficiently.  The script writes to a
     helper-specific private namespace.  The value of the named ref
     should be written to a location in this namespace derived by
     applying the refspecs from the "refspec" capability to the name of
     the ref.

     Especially useful for interoperability with a foreign versioning
     system.

     Just like _push_, a batch sequence of one or more _import_ is
     terminated with a blank line.  For each batch of _import_, the
     remote helper should produce a fast-import stream terminated by a
     _done_ command.

     Note that if the _bidi-import_ capability is used the complete
     batch sequence has to be buffered before starting to send data to
     fast-import to prevent mixing of commands and fast-import responses
     on the helper’s stdin.

     Supported if the helper has the "import" capability.

_export_
     Instructs the remote helper that any subsequent input is part of a
     fast-import stream (generated by _git fast-export_) containing
     objects which should be pushed to the remote.

     Especially useful for interoperability with a foreign versioning
     system.

     The _export-marks_ and _import-marks_ capabilities, if specified,
     affect this command in so far as they are passed on to _git
     fast-export_, which then will load/store a table of marks for local
     objects.  This can be used to implement for incremental operations.

     Supported if the helper has the "export" capability.

_connect_ <service>
     Connects to given service.  Standard input and standard output of
     helper are connected to specified service (git prefix is included
     in service name so e.g.  fetching uses _git-upload-pack_ as
     service) on remote side.  Valid replies to this command are empty
     line (connection established), _fallback_ (no smart transport
     support, fall back to dumb transports) and just exiting with error
     message printed (can’t connect, don’t bother trying to fall back).
     After line feed terminating the positive (empty) response, the
     output of service starts.  After the connection ends, the remote
     helper exits.

     Supported if the helper has the "connect" capability.

_stateless-connect_ <service>
     Experimental; for internal use only.  Connects to the given remote
     service for communication using git’s wire-protocol version 2.
     Valid replies to this command are empty line (connection
     established), _fallback_ (no smart transport support, fall back to
     dumb transports) and just exiting with error message printed (can’t
     connect, don’t bother trying to fall back).  After line feed
     terminating the positive (empty) response, the output of the
     service starts.  Messages (both request and response) must consist
     of zero or more PKT-LINEs, terminating in a flush packet.  Response
     messages will then have a response end packet after the flush
     packet to indicate the end of a response.  The client must not
     expect the server to store any state in between request-response
     pairs.  After the connection ends, the remote helper exits.

     Supported if the helper has the "stateless-connect" capability.

   If a fatal error occurs, the program writes the error message to
stderr and exits.  The caller should expect that a suitable error
message has been printed if the child closes the connection without
completing a valid response for the current command.

   Additional commands may be supported, as may be determined from
capabilities reported by the helper.


REF LIST ATTRIBUTES
*******************

The _list_ command produces a list of refs in which each ref may be
followed by a list of attributes.  The following ref list attributes are
defined.

_unchanged_
     This ref is unchanged since the last import or fetch, although the
     helper cannot necessarily determine what value that produced.


REF LIST KEYWORDS
*****************

The _list_ command may produce a list of key-value pairs.  The following
keys are defined.

_object-format_
     The refs are using the given hash algorithm.  This keyword is only
     used if the server and client both support the object-format
     extension.


OPTIONS
*******

The following options are defined and (under suitable circumstances) set
by Git if the remote helper has the _option_ capability.

_option verbosity_ <n>
     Changes the verbosity of messages displayed by the helper.  A value
     of 0 for <n> means that processes operate quietly, and the helper
     produces only error output.  1 is the default level of verbosity,
     and higher values of <n> correspond to the number of -v flags
     passed on the command line.

_option progress_ {_true_|_false_}
     Enables (or disables) progress messages displayed by the transport
     helper during a command.

_option depth_ <depth>
     Deepens the history of a shallow repository.

’option deepen-since <timestamp>
     Deepens the history of a shallow repository based on time.

’option deepen-not <ref>
     Deepens the history of a shallow repository excluding ref.
     Multiple options add up.

_option deepen-relative {’true_|_false_}
     Deepens the history of a shallow repository relative to current
     boundary.  Only valid when used with "option depth".

_option followtags_ {_true_|_false_}
     If enabled the helper should automatically fetch annotated tag
     objects if the object the tag points at was transferred during the
     fetch command.  If the tag is not fetched by the helper a second
     fetch command will usually be sent to ask for the tag specifically.
     Some helpers may be able to use this option to avoid a second
     network connection.

   _option dry-run_ {_true_|_false_}: If true, pretend the operation
completed successfully, but don’t actually change any repository data.
For most helpers this only applies to the _push_, if supported.

_option servpath <c-style-quoted-path>_
     Sets service path (–upload-pack, –receive-pack etc.)  for next
     connect.  Remote helper may support this option, but must not rely
     on this option being set before connect request occurs.

_option check-connectivity_ {_true_|_false_}
     Request the helper to check connectivity of a clone.

_option force_ {_true_|_false_}
     Request the helper to perform a force update.  Defaults to _false_.

_option cloning_ {_true_|_false_}
     Notify the helper this is a clone request (i.e.  the current
     repository is guaranteed empty).

_option update-shallow_ {_true_|_false_}
     Allow to extend .git/shallow if the new refs require it.

_option pushcert_ {_true_|_false_}
     GPG sign pushes.

’option push-option <string>
     Transmit <string> as a push option.  As the push option must not
     contain LF or NUL characters, the string is not encoded.

_option from-promisor_ {_true_|_false_}
     Indicate that these objects are being fetched from a promisor.

_option no-dependents_ {_true_|_false_}
     Indicate that only the objects wanted need to be fetched, not their
     dependents.

_option atomic_ {_true_|_false_}
     When pushing, request the remote server to update refs in a single
     atomic transaction.  If successful, all refs will be updated, or
     none will.  If the remote side does not support this capability,
     the push will fail.

_option object-format_ {_true_|algorithm}
     If _true_, indicate that the caller wants hash algorithm
     information to be passed back from the remote.  This mode is used
     when fetching refs.

     If set to an algorithm, indicate that the caller wants to interact
     with the remote side using that algorithm.


SEE ALSO
********

git-remote(1)

   git-remote-ext(1)

   git-remote-fd(1)

   git-fast-import(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitrepository-layout,  Up: Top

Name
****

gitrepository-layout — Gitリポジトリの間取り


Synopsis
********

$GIT_DIR/*


DESCRIPTION
***********

Gitリポジトリには2つの風味があります:

   • 作業ツリーのルートにある ‘.git’ ディレクトリ

   • bare(裸の)リポジトリである(つまり、独自の作業ツリーがない)「
     <project>.git」ディレクトリ。通常、このディレクトリにプッシュしてフ
     ェッチすることにより、他のユーザーと履歴を交換するために使用されま
     す。

   *注*: また、作業ツリーのルートにプレーンテキストファイル ‘.git’ を作
成できます。 このファイルには、リポジトリがある実際のディレクトリを指す
‘gitdir: <path>’ が含まれています。 このメカニズムは、サブモジュールチェ
ックアウトの作業ツリーによく使用され、 サブモジュールを含むスーパープロ
ジェクトで、 サブモジュールを持たないブランチを「git checkout」できるよ
うにします。 ‘checkout’ は、サブモジュールリポジトリを失うことなく、 サ
ブモジュール作業ツリー全体を削除する必要があります。

   以下のものがGitリポジトリに存在する可能性があります。

objects
     このリポジトリに関連付けられているオブジェクトストア。通常、オブジ
     ェクトストアは自給自足です(つまり、そこにあるオブジェクトによって参
     照されるすべてのオブジェクトもそこにあります)が、それに違反する方法
     はいくつかあります。

       1. 浅いクローン(shallow clone)を作成することにより、不完全である
          がローカルで使用可能なリポジトリを作成できます。 git-clone(1)
          を参照してください。

       2. ‘objects/info/alternates’ または
          ‘$GIT_ALTERNATE_OBJECT_DIRECTORIES’ メカニズムを使用して、他の
          オブジェクトストアからオブジェクトを「借用」(borrow)することが
          できます。この種の不完全なオブジェクトストアを持つリポジトリは
          、馬鹿プロトコル(dumb transport)で使用するために公開するのには
          適していませんが、それ以外の場合は「objects/info/alternates」
          が借用するオブジェクトストアを指している限り問題ありません。

          $GIT_COMMON_DIR が設定されている場合、このディレクトリは無視さ
          れ、代わりに「$GIT_COMMON_DIR/objects」が使用されます。

objects/[0-9a-f][0-9a-f]
     新しく作成されたオブジェクトは、独自のファイルに保存されます。オブ
     ジェクトは、sha1オブジェクト名の最初の2文字を使用して、256個のサブ
     ディレクトリに分散され、 ‘objects’ 自体のディレクトリエントリの数を
     管理可能な数に保ちます。ここにあるオブジェクトは、「アンパックオブ
     ジェクト」(unpacked obuject)(または「ルーズオブジェクト」(loose
     object))と呼ばれることがよくあります。

objects/pack
     パック(多くのオブジェクトを圧縮形式で格納するファイルと、ランダムに
     アクセスできるようにするためのインデックスファイル)は、このディレク
     トリにあります。

objects/info
     オブジェクトストアに関する追加情報は、このディレクトリに記録されま
     す。

objects/info/packs
     このファイルは、馬鹿プロトコルがこのオブジェクトストアで使用可能な
     パックを検出するのに役立ちます。リポジトリが馬鹿プロトコル用に公開
     されている場合は、パックを追加または削除するたびに、 ‘git
     update-server-info’ を実行して、このファイルを最新の状態に保つ必要
     があります。 _git repack_ はデフォルトでこれを行います。

objects/info/alternates
     このファイルは、このオブジェクトストアがオブジェクトを借用
     (borrow)する代替オブジェクトストアへのパスを、1行に1つのパス名で記
     録します。ネイティブGitツールがローカルで使用するだけでなく、HTTP
     fetcher もリモートで使用しようとすることに注意してください。これは
     通常、代替ファイルに相対パス(リポジトリではなくオブジェクトデータベ
     ースに対して！)がある場合は機能しますが、ファイルシステムとWeb URLの
     絶対パスが同じでない限り、絶対パスを使用する場合は機能しません。
     ‘objects/info/http-alternates’ も参照してください。

objects/info/http-alternates
     このファイルは、このオブジェクトストアがオブジェクトを借用
     (borrow)する代替オブジェクトストアへのURLを記録し、リポジトリが
     HTTP経由でフェッチされるときに使用されます。

refs
     参照(reference)は、このディレクトリのサブディレクトリに保存されます
     。 _git prune_ コマンドは、このディレクトリとそのサブディレクトリに
     見つかったrefsから到達可能なオブジェクトを認識し保持します。
     $GIT_COMMON_DIRが設定されていて、代わりに「$GIT_COMMON_DIR/refs」が
     使用される場合、このディレクトリは無視されます(refs/bisectと
     refs/rewrittenとrefs/worktreeを除く)。

refs/heads/‘name’
     ブランチ ‘name’ のツリーの先端(tip-of-the-tree)のコミットオブジェク
     トを記録します

refs/tags/‘name’
     オブジェクト名を記録します(必ずしもコミットオブジェクト、またはコミ
     ットオブジェクトを指すタグオブジェクトである必要はありません)。

refs/remotes/‘name’
     リモートリポジトリからコピーされたブランチのツリーの先端
     (tip-of-the-tree)のコミットオブジェクトを記録します。

refs/replace/‘<obj-sha1>’
     ‘<obj-sha1>’ を置き換えるオブジェクトのSHA-1を記録します。これは
     info/graftsに似ており、 git-replace(1) によって内部的に使用および保
     守されます。 このようなrefsはリポジトリ間で交換できますが、graftsは
     交換できません。

packed-refs
     refs/heads/ や refs/tags/ と同じ情報を記録し、そして friends がより
     効率的な方法で記録します。 git-pack-refs(1) を参照してください。
     $GIT_COMMON_DIR が設定されている場合、このファイルは無視され、代わ
     りに「$GIT_COMMON_DIR/packed-refs」が使用されます。

HEAD
     現在アクティブなブランチを説明する ‘refs/heads/’ 名前空間へのシンボ
     リックref(symref;glossaryを参照)。リポジトリが作業ツリーに関連付け
     られていない場合(つまり、ベアリポジトリの場合)はあまり意味がありま
     せんが、有効なGitリポジトリにはHEADファイルが「必要」です。一部の磁
     器コマンドは、これを使用して、リポジトリの指定された「デフォルト」
     ブランチ(通常は「master」)を推測する場合があります。名前付きブラン
     チ _name_ が(まだ)存在しない場合も合法です。一部のレガシー設定では
     、現在のブランチを指すシンボリックref(symref)ではなくシンボリックリ
     ンクです。

     HEADは、現在のブランチを指すシンボリックref(symref)である代わりに、
     特定のコミットを直接記録することもできます。このような状態は「
     detached HEAD」と呼ばれることがよくあります。詳細については
     git-checkout(1)を参照してください。

config
     リポジトリ固有の構成ファイル。 $GIT_COMMON_DIR が設定されている場合
     、このファイルは無視され、代わりに「$GIT_COMMON_DIR/config」が使用
     されます。

config.worktree
     複数の作業ディレクトリ設定の、メイン作業ディレクトリための、作業デ
     ィレクトリ固有の構成ファイル(git-worktree(1) を参照)。

branches
     _git fetch_ や _git pull_ や _git push_ へのURLを指定するために使用
     される短縮形を格納するための、少々非推奨の方法。ファイルは
     ‘branches/<name>’ として保存でき、 _repository_ 引数の代わりに
     _name_ をこれらのコマンドに指定できます。詳細については、
     git-fetch(1) の REMOTES セクションを参照してください。この機構はレ
     ガシーであり、最新のリポジトリには見られない可能性があります。
     $GIT_COMMON_DIR が設定されている場合、このディレクトリは無視され、
     代わりに「$GIT_COMMON_DIR/branches」が使用されます。

hooks
     フックは、さまざまなGitコマンドで使用されるカスタマイズスクリプトで
     す。 _git init_ を実行すると、いくつかのサンプルフックがインストー
     ルされますが、デフォルトではすべて無効になっています。有効にするに
     は、ファイル名から ‘.sample’ サフィックスを削除して名前を変更する必
     要があります。各フックの詳細については、 githooks(5) をお読みくださ
     い。 $GIT_COMMON_DIR が設定されている場合、このディレクトリは無視さ
     れ、代わりに「$GIT_COMMON_DIR/hooks」が使用されます。

common
     複数の作業ツリーが使用されている場合、 $GIT_DIR 内のほとんどのファ
     イルは、いくつかの既知の例外を除いて、各作業ツリー毎とにありますで
     す。ただし、「common」の下にあるすべてのファイルは、すべての作業ツ
     リー間で共有されます。

index
     リポジトリの現在のインデックスファイル。通常、ベアリポジトリには見
     つかりません。

sharedindex.<SHA-1>
     $GIT_DIR/indexおよびその他の一時(temporary)インデックスファイルによ
     って参照される共有インデックス部分。スプリットインデックスモード
     (split index mode)でのみ有効です。

info
     リポジトリに関する追加情報は、このディレクトリに記録されます。
     $GIT_COMMON_DIR が設定されている場合、このディレクトリは無視され、
     代わりに「$GIT_COMMON_DIR/info」が使用されます。

info/refs
     このファイルは、馬鹿プロトコル(dumb transports)がこのリポジトリで使
     用可能なrefsを検出するのに役立ちます。リポジトリが馬鹿プロトコル
     (dumb transports)用に公開されている場合、このファイルは、タグまたは
     ブランチが作成または変更されるたびに、「git update-server-info」に
     よって再生成される必要があります。これは通常、リポジトリに「git
     push」したときに「git-receive-pack」コマンドによって実行される「
     hooks/update」フックから実行されます。

info/grafts
     このファイルは、コミットが実際に作成された方法とは異なる親のセット
     を装うために、偽のコミットの祖先情報を記録します。1行に1つのレコー
     ドは、スペースで区切られ、改行で終了する40バイトの16進オブジェクト
     名をリストすることにより、コミットとその偽の親を記述します。

     graftsメカニズムは古臭く、リポジトリ間でオブジェクトを転送する際に
     問題が発生する可能性があることに注意してください。 同じことを行うた
     めのより柔軟で堅牢なシステムについては、 git-replace(1) を参照して
     ください。

info/exclude
     このファイルは、磁器コマンドの慣例により、除外パターンリストを格納
     します。 ‘.gitignore’ は、ディレクトリごとの無視ファイルです。「git
     status」、「git add」、「git rm」、「git clean」はこの除外パターン
     リストを調べますが、コアGitコマンドはこの除外パターンリストを調べま
     せん。 gitignore(5) も参照してください。

info/attributes
     ディレクトリごとの ‘.gitattributes’ ファイルと同様に、パスに割り当
     てる属性を定義します。 gitattributes(5) も参照してください。

info/sparse-checkout
     このファイルには、スパースチェックアウトパターン(sparse checkout
     patterns)が格納されています。 git-read-tree(1) も参照してください。

remotes
     _git fetch_ と _git pull_ と _git push_ コマンドを介してリモートリ
     ポジトリと対話するときに使用するURLの省略形とデフォルトのref名を格
     納します。詳細については、 git-fetch(1)のREMOTESセクションを参照し
     てください。このメカニズムはレガシーであり、最新のリポジトリには見
     られない可能性があります。 $GIT_COMMON_DIR が設定されている場合、こ
     のディレクトリは無視され、代わりに「$GIT_COMMON_DIR/remotes」が使用
     されます。

logs
     refに加えられた変更の記録は、このディレクトリに保存されます。詳細に
     ついては、 git-update-ref(1) を参照してください。 $GIT_COMMON_DIRが
     設定されていて、代わりに「$GIT_COMMON_DIR/logs」が使用される場合、
     このディレクトリは無視されます(但し、logs/HEADを除く)。

logs/refs/heads/‘name’
     ‘name’ という名前のブランチ先端(branch tip)に加えられたすべての変更
     を記録します。

logs/refs/tags/‘name’
     ‘name’ という名前のタグに加えられたすべての変更を記録します。

shallow
     これは ‘info/grafts’ に似ていますが、内部的に使用され、浅いクローン
     メカニズム(shallow clone mechanism)によって維持されます。
     git-clone(1) と git-fetch(1) の ‘--depth’ オプションを参照してくだ
     さい。 $GIT_COMMON_DIRが設定されている場合、このファイルは無視され
     、代わりに「$GIT_COMMON_DIR/shallow」が使用されます。

commondir
     このファイルが存在する場合、明示的に設定されていなければ、
     $GIT_COMMON_DIR (git(1) を参照)はこのファイルで指定されたパスに設定
     されます。指定されたパスが相対パスの場合、それは$GIT_DIRからの相対
     パスです。commondirのあるリポジトリは、「commondir」が指すリポジト
     リがないと不完全です。

modules
     サブモジュールのgitリポジトリが含まれています。

worktrees
     リンクされた作業ツリー(linked working trees)の管理データが含まれて
     います。各サブディレクトリには、リンクされた作業ツリーの作業ツリー
     関連部分が含まれています。 $GIT_COMMON_DIRが設定されている場合、こ
     のディレクトリは無視され、代わりに「$GIT_COMMON_DIR/worktrees」が使
     用されます。

worktrees/<id>/gitdir
     ここを指す .git ファイルに戻る絶対パスを含むテキストファイル。これ
     は、リンクされたリポジトリが手動で削除されているかどうかを確認する
     ために使用され、このディレクトリをこれ以上保持する必要はありません
     。 このファイルのmtimeは、リンクされたリポジトリにアクセスするたび
     に更新する必要があります。

worktrees/<id>/locked
     このファイルが存在する場合、リンクされた作業ツリーがポータブルデバ
     イス上にあり、使用できない可能性があります。このファイルが存在する
     と、 ‘git worktree prune’ によって ‘worktrees/<id>’ が自動または手
     動で剪定(prune)されるのを防ぎます。ファイルには、リポジトリがロック
     されている理由を説明する文字列が含まれている場合があります。

worktrees/<id>/config.worktree
     作業ディレクトリ固有の構成ファイル。


Git Repository Format Versions
******************************

すべてのgitリポジトリは、その ‘config’ ファイルの‘
core.repositoryformatversion‘ 数値のバージョンが印されています。この数値
のバージョンは、ディスク上のリポジトリデータを操作するためのルールを指定
します。 ディスク上のリポジトリから告知された特定のバージョンを理解しな
いgitの実装は、そのリポジトリで動作してはなりません。それを動作させと、
間違った結果を生み出すだけでなく、実際にデータを失うリスクがあります。

   このルールのため、バージョンアップは最小限に抑える必要があります。代
わりに、我々は一般的に以下の戦略を好みます:

   • 個々のデータファイル(インデックス、パックファイルなど)のフォーマッ
     トバージョン番号をバージョンアップします。これにより、非互換性がそ
     れらのファイルのみに制限されます。

   • 古いクライアントで使用すると正常に機能制限される(gracefully
     degrade)新しいデータを導入します(たとえば、パックビットマップファイ
     ルは古いクライアントでは無視され、提供される最適化を利用しません)。

   リポジトリ全体の形式のバージョンアップは、個別にバージョン管理できな
い部分だけにするべきです。たとえば、オブジェクトの到達可能性ルール、また
はrefをロックするためのルールを変更する場合、リポジトリ形式バージョンの
バージョンアップが必要になります。

   注意: これは、リポジトリのディスクコンテンツに直接アクセスする場合に
のみ適用されることに注意してください。 フォーマット ‘0’ のみを理解する古
いクライアントは、サーバープロセスがフォーマット ‘1’ を理解している限り
、フォーマット ‘1’ を使用して ‘git://’ を介してリポジトリに接続できます
。

   バージョンアップをお披露目するための推奨される戦略(リポジトリ全体また
は単一ファイル)は、gitに新しい形式を読み取るように教え、(実験用または古
いgitとの下位互換性については気にしないでいいように)構成スイッチまたはコ
マンドラインオプションを使用して新しい形式を記述できるようにすることです
。その後、読み取り機能が一般的になるまでの長い期間の後、デフォルトを新し
い形式の書き込みに切り替える場合があります。

   現在定義されているフォーマットバージョンは以下のとおりです:


Version 0
=========

これは、gitの初期バージョンで定義されている形式であり、リポジトリディレ
クトリ、リポジトリ構成ファイル、オブジェクトおよびrefストレージの形式が
含まれま すが、これらに限定されません。gitの完全な動作を記述することは、
このドキュメントの役割ではありません。


Version 1
=========

この形式は、以下の例外を除いて、バージョン ‘0‘と同じです:

  1. ‘core.repositoryformatversion’ 変数を読み取る場合、バージョン1をサ
     ポートするgit実装は、構成ファイルの ‘extensions’ セクションにある構
     成キーも読み取る必要があります。

  2. バージョン1リポジトリが、実行中のgitが実装していない ‘extensions.*’
     キーを指定している場合、操作の続行は禁止です。同様に、既知のキーの
     値が実装によって理解されない場合、操作の続行は禁止です。

   注意: 設定ファイルに拡張機能(extension)の指定が無い場合は、
‘core.repositoryformatversion’ を ‘0’ に設定する必要があります(‘1‘に設定
してもメリットはなく、リポジトリはgitの古い実装と互換性がなくなります)。

   このドキュメントは、拡張機能のマスターリストとして機能します。新しい
拡張機能を定義したい実装は、名前を主張するために、ここにそれを書き留めて
おく必要があります。

   定義されている拡張機能は以下のとおりです:


noop
----

この拡張機能は、gitの動作をまったく変更しません。 これは、フォーマット
1の互換性をテストする場合にのみ役立ちます。


preciousObjects
---------------

設定キー ‘extensions.preciousObjects’ が ‘true’ に設定されている場合、リ
ポジトリ内のオブジェクトを削除してはなりません(たとえば、 ‘git-prune’ ま
たは ‘git repack -d’ など)。


partialclone
------------

設定キー ‘extensions.partialclone’ が設定されている場合、リポジトリが部
分クローンで作成された(または後で部分フェッチを実行した)こと、およびリモ
ートが特定の不要なオブジェクトの送信を省略した可能性があることを示します
。 このようなリモートはpromisor remoteと呼ばれ、将来、このような省略され
たオブジェクトをすべてフェッチできることを約束します。

   このキーの値は、promisor remoteの名前です。


worktreeConfig
--------------

設定されている場合、デフォルトでは、「git config」はGIT_DIRの「config」
ファイルと「config.worktree」ファイルの両方からこの順序で読み取ります。
複数の作業ディレクトリモードでは、「config.worktree」が作業ディレクトリ
ごとにある間（つまり、 GIT_COMMON_DIR/worktrees/<id>/config.worktree に
あります)、「config」ファイルは共有されます。


SEE ALSO
********

git-init(1), git-clone(1), git-fetch(1), git-pack-refs(1), git-gc(1),
git-checkout(1), gitglossary(7), The Git User’s Manual
(user-manual.html)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitrevisions,  Up: Top

Name
****

gitrevisions — Gitのリビジョンと範囲を指定する


Synopsis
********

gitrevisions


DESCRIPTION
***********

多くのGitコマンドは、リビジョンパラメーターを引数として取ります。コマン
ドに応じて、特定のコミットを示します。リビジョングラフをたどるコマンド
(git-log(1) など)の場合は、そのコミットから到達可能なすべてのコミットを
示します。リビジョングラフをたどるコマンドの場合、リビジョンの範囲を明示
的に指定することもできます。

   さらに、一部のGitコマンド(git-show(1) や git-push(1) など)は、コミッ
ト以外のオブジェクトを示すリビジョンパラメーターを受け取ることもできます
。例えば、ブロブ(ファイル)またはツリー(ファイルのディレクトリ)です。


SPECIFYING REVISIONS
********************

リビジョンパラメータ ‘<rev>’ は必ずしもそうとは限りませんが、通常はコミ
ットオブジェクトに名前を付けます。これは、いわゆる「拡張SHA-1」構文を使
用します。 オブジェクト名を綴るにはさまざまな方法があります。このリスト
の終わり近くにリストされているものは、コミットに含まれているツリーとブロ
ブに名前を付けています。

     *Note*

     この文書は、gitで見られる「生の」構文を示しています。シェルおよびそ
     の他のUIでは、特殊文字を保護し、単語の分割を回避するために、追加の
     引用符が必要になる場合があります。

‘<sha1>’ 例: ‘dae86e1950b1277e545cee180551750029cfe735’, ‘dae86e’
     完全なSHA-1オブジェクト名(40バイトの16進文字列)、またはリポジトリ内
     で一意の先頭のsubstring。例えば
     dae86e1950b1277e545cee180551750029cfe735 と dae86e はどちらも、リポ
     ジトリ内にオブジェクト名が dae86e で始まる他のオブジェクトがない場
     合、全く同じコミットオブジェクトに名前を付けます。

‘<describeOutput>’ 例: ‘v1.7.4.2-679-g3bee7fb’
     ‘git describe’ からの出力。つまり、現在のコミットから最も近いタグ。
     オプションで、ダッシュ(-)とそのタグ以降現在のコミットが何番目になる
     かの数が続き、その後にダッシュ(-)、「g」、および省略されたオブジェ
     クト名が続きます。

‘<refname>’ 例: ‘master’, ‘heads/master’, ‘refs/heads/master’
     シンボリックref名。例えば ‘master’ は通常、 ‘refs/heads/master’ に
     よって参照されるコミットオブジェクトを意味します。 ‘heads/master’ と
     ‘tags/master’ の両方がある場合は、あなたは ‘heads/master’ と明示的
     に指定して、どちらを意味するかをGitに伝えることができます。 あいま
     いな場合、 ‘<refname>’ は、以下のルールに従い最初の一致を採用ことで
     明確になります:

       1. もし ‘$GIT_DIR/<refname>’ が存在するならば、それはあなたが指定
          した通りのものです(これは通常、‘HEAD’ と ‘FETCH_HEAD’ と
          ‘ORIG_HEAD’ と ‘MERGE_HEAD’ と ‘CHERRY_PICK_HEAD’ のみで役に立
          ちます)

       2. でなければ ‘refs/<refname>’ が存在すればそれを採用します。

       3. でなければ ‘refs/tags/<refname>’ が存在すればそれを採用します
          。

       4. でなければ ‘refs/heads/<refname>’ が存在すればそれを採用します
          。

       5. でなければ ‘refs/remotes/<refname>’ が存在すればそれを採用しま
          す。

       6. でなければ ‘refs/remotes/<refname>/HEAD’ が存在すればそれを採
          用します。

          ‘HEAD’ は、作業ツリーの変更に基づいたコミットに名前を付けます
          。 ‘FETCH_HEAD’ は、最後の ‘git fetch’ 呼び出しでリモートリポ
          ジトリからフェッチしたブランチを記録します。 ‘ORIG_HEAD’ は、
          ‘HEAD’ を大幅に移動するコマンドによって作成され、操作前の
          ‘HEAD’ の位置を記録します。これにより、ブランチの先端を実行前
          の状態に簡単に戻すことができます。 ‘MERGE_HEAD’ は、 ‘git
          merge`を実行するときにブランチにマージするコミットを記録します
          。 `CHERRY_PICK_HEAD’ は、 ‘git cherry-pick’ を実行したときに
          チェリーピックしているコミットを記録します。

          注意: 上記の ‘refs/*’ の場合、 ‘$GIT_DIR/refs’ ディレクトリま
          たは ‘$GIT_DIR/packed-refs’ ファイルのいずれかから発生する可能
          性があることに注意してください。ref名のエンコードは指定されて
          いませんが、一部の出力処理ではUTF-8でref名を想定する場合がある
          ため、UTF-8が推奨されます。

‘@’
     ‘@’ 単独では ‘HEAD’ のショートカットを意味します。

‘[<refname>]@{<date>}’ 例: ‘master@\{yesterday\}’, ‘HEAD@{5 minutes ago}’
     refの後に接尾辞 ‘@’ が続き、日付指定が中括弧のペアで囲まれています
     (例: ‘\{yesterday\}’ 、 ‘{1 month 2 weeks 3 days 1 hour 1 second
     ago}’ 、‘{1979-02-26 18:30:00}’ )。これは以前の時点でのrefの値を指
     定します。この接尾辞は、ref名の直後にのみ使用でき、refには既存のロ
     グ( ‘$GIT_DIR/logs/<ref>’ )が必要です。これは、特定の時点での *ロー
     カル* refの状態を検索することに注意してください。たとえば、先週ロー
     カルの ‘master’ ブランチに何があったか、です。特定の時間に行われた
     コミットを確認する場合は、 ‘--since’ と ‘--until’ を参照してくださ
     い。

‘<refname>@{<n>}’ 例: ‘master@\{1\}’
     refの後に接尾辞 ‘@’ が続き、数の指定が中括弧のペアで囲まれている場
     合(たとえば ‘\{1\}’, ‘\{15\}’)、そのrefのn個前の値を指定します。た
     とえば ‘master@\{1\}’ は ‘master’ の直前の値であり、 ‘master@\{5\}’
     は ‘master’ の5個前の値です。この接頭辞は、ref名の直後にのみ使用で
     き、refには既存のログ( ‘$GIT_DIR/logs/<refname>’ )が必要です。

‘@{<n>}’ 例: ‘@\{1\}’
     空のref部分で ‘@’ コンストラクトを使用して、現在のブランチの
     reflogエントリを取得できます。たとえば、あなたがブランチ ‘blabla’ を
     使用している場合、 ‘@\{1\}’ は ‘blabla@\{1\}’ と同じ意味になります
     。

‘@{-<n>}’ 例: ‘@{-1}’
     構成 ‘@{-<n>}’ は、現在のブランチ/コミットの前にチェックアウトされ
     た<n>番目のブランチ/コミットを意味します。

_[<branchname>]@{upstream}_ 例: _master@{upstream}_, _@{u}_
     ブランチ名の接尾辞 _@{upstream}_ (短縮形 _<branchname>@{u}_)は、
     branchnameで指定されたブランチの上部に構築するように設定されている
     ブランチを指します(‘branch.<name>.remote’ と ‘branch.<name>.merge’
     によって設定されます)。ブランチ名が欠落してい場合は、デフォルトで現
     在のブランチ名になります。これらの接尾辞は、大文字で綴る場合にも受
     け入れられ、大文字と小文字を問わず同じ意味になります。

_[<branchname>]@{push}_ 例: _master@{push}_, _@{push}_
     接尾辞 _@{push}_ は、 ‘branchname’ がチェックアウトされているときに
     ‘git push’ が実行された場合(またはブランチ名が指定されていない場合
     は現在の ‘HEAD’ )、「プッシュ先」のブランチを報告します。もちろん、
     プッシュ先はリモートリポジトリにあるため、そのブランチに対応するロ
     ーカルトラッキングブランチ(つまり、 ‘refs/remotes/’ 内の何か)を報告
     します。

     ここで、よりはっきり分かる例を以下に示します:

          $ git config push.default current
          $ git config remote.pushdefault myfork
          $ git switch -c mybranch origin/master

          $ git rev-parse --symbolic-full-name @{upstream}
          refs/remotes/origin/master

          $ git rev-parse --symbolic-full-name @{push}
          refs/remotes/myfork/mybranch

     注意: この例では、ある場所からプルして別の場所にプッシュする三角形
     のワークフローを設定していることに注意してください。非三角形のワー
     クフローでは、 _@{push}_ は _@{upstream}_ と同じであり、このような
     ことをする必要はありません。

     この接尾辞は大文字で綴る場合にも受け入れられ、大文字と小文字を問わ
     ず同じことを意味します。

_<rev>^[<n>]_ 例: _HEAD^, v1.5.1^0_
     リビジョンパラメータの接尾辞 _^_ は、そのコミットオブジェクトの最初
     の親を意味します。 _^<n>_ は <n> 番目の親を意味します(つまり、
     _<rev>^_ は _<rev>^1_ と同じです)。特別ルールとして、 _<rev>^0_ は
     コミット自体を意味し、 _<rev>_ がコミットオブジェクトを参照するタグ
     オブジェクトのオブジェクト名である場合に使用されます。

_<rev>~[<n>]_ 例: _HEAD~, master~3_
     リビジョンパラメータの接尾辞 _~_ は、そのコミットオブジェクトの最初
     の親を意味します。リビジョンパラメータの接尾辞 _~<n>_ は、最初の親
     のみに続く、指定されたコミットオブジェクトの <n> 世代の祖先であるコ
     ミットオブジェクトを意味します。つまり、 _<rev>~3_ は _<rev>^^^_ と
     同じで、するってぇと _<rev>^1^1^1_ と同じということです。この形式に
     ついては以下の図を参照してください。

_<rev>^{<type>}_ 例: _v0.99.8^{commit}_
     接尾辞 _^_ の後に中括弧のペアで囲まれたオブジェクトタイプ名が続くと
     いうことは、タイプ _<type>_ のオブジェクトが見つかるか、オブジェク
     トを逆参照できなくなるまで、 _<rev>_ でオブジェクトを再帰的に逆参照
     する(この場合は、いろいろ一旦飲み込んでしまったのを吐きもどすような
     感じだぬ)ことを意味します。 たとえば、 _<rev>_ がコミットっぽい場合
     、 _<rev>^{commit}_ は対応するコミットオブジェクトを記述します。同
     様に、 _<rev>_ がツリーっぽい場合、 _<rev>^{tree}_ は対応するツリー
     オブジェクトを記述します。 _<rev>^0_ は _<rev>^{commit}_ の省略形で
     す。

     _<rev>^{object}_ を使用すると、 _<rev>_ がタグである必要がなく、
     _<rev>_ を逆参照することなく、 _<rev>_ が存在するオブジェクトに名前
     を付けることができます。なお、タグはすでにオブジェクトであるため、
     オブジェクトに到達するために一度も逆参照する必要はありません。

     _<rev>^{tag}_ を使用して、 _<rev>_ が既存のタグオブジェクトを確実に
     識別することができます。

_<rev>^{}_ 例: _v0.99.8^{}_
     接尾辞 _^_ の後に空のブレースペアが続くということは、オブジェクトが
     タグである可能性があることを意味し、タグ以外のオブジェクトが見つか
     るまでタグを再帰的に逆参照します。

_<rev>^{/<text>}_ 例: _HEAD^{/fix nasty bug}_
     リビジョンパラメータの接尾辞 _^_ と、それに続くスラッシュで始まるテ
     キストを含む中括弧のペアは、以下の _:/fix nasty bug_ 構文と同じです
     が、 _^_ の前の _<rev>_ から到達可能な一致する最も若いコミットを返
     す点が異なります。

_:/<text>_ 例: _:/fix nasty bug_
     コロンに続いてスラッシュそしてそれに続くテキストは、コミットメッセ
     ージが指定された正規表現と一致するコミットを示します。この名前は、
     HEADを含む任意のrefから到達可能な最も若い一致するコミットを返します
     。正規表現は、コミットメッセージの任意の部分に一致できます。文字列
     で始まるメッセージを照合するには、たとえば、 _:/^foo_ とします。特
     別なシーケンス _:/!_ はマッチングの修飾子用に予約されています。ます
     。 _:/!-foo_ は一致の否定を実行し、 _:/!!foo_ はリテラル _!_ 後に
     _foo_ が続く文字列とマッチします。 _:/!_ で始まるその他のシーケンス
     は今のところ予約されています。指定されたテキストによっては、シェル
     により追加の引用符が必要になる場合があります。

_<rev>:<path>_ 例: _HEAD:README_, _master:./README_
     接尾辞 _:_ の後にパス(path)を続けると、コロンの前の部分によって名前
     が付けられたツリー風のオブジェクト内の、指定されたパスにあるブロブ
     またはツリーに名前が付けられます。 _./_ または _../_ で始まるパスは
     、現在の作業ディレクトリからの相対パスです。指定のパスは、作業ツリ
     ーのルートディレクトリからの相対パスに変換されます。これは、作業ツ
     リーと同じツリー構造を持つコミットまたはツリーからブロブまたはツリ
     ーをアドレス指定するのに最も役立ちます。

_:[<n>:]<path>_ 例: _:0:README_, _:README_
     コロンに、オプションでステージ番号(0〜3)とコロンが続き、それにパス
     が続くと、指定されたパスのインデックス内のブロブオブジェクトに名前
     を付けます。ステージ番号省略(およびそれに続くコロン)は、ステージ0エ
     ントリーを示します。マージ作業中、ステージ1は共通の祖先、ステージ
     2はターゲットブランチのバージョン(通常は現在のブランチ)、ステージ
     3はマージされるブランチのバージョンです。

   以下はJon Loeligerによる図解です。コミットノードBとCはどちらもコミッ
トノードAの親です。親コミットは左から右に順序付けられます。

     G   H   I   J
      \ /     \ /
       D   E   F
        \  |  / \
         \ | /   |
          \|/    |
           B     C
            \   /
             \ /
              A

     A =      = A^0
     B = A^   = A^1     = A~1
     C =      = A^2
     D = A^^  = A^1^1   = A~2
     E = B^2  = A^^2
     F = B^3  = A^^3
     G = A^^^ = A^1^1^1 = A~3
     H = D^2  = B^^2    = A^^^2  = A~2^2
     I = F^   = B^3^    = A^^3^
     J = F^2  = B^3^2   = A^^3^2


SPECIFYING RANGES
*****************

‘git log’ などの履歴トラバースコマンドは、単一のコミットだけでなく、一連
のコミットで動作します。

   これらのコマンドの場合、前のセクションで説明した表記法を使用して単一
のリビジョンを指定することは、指定のコミットから「到達可能」なコミットの
組を意味します。

   複数のリビジョンを指定するということは、指定のコミットのいずれかから
到達可能なコミットの組を意味します。

   コミットの到達可能な組は、コミット自体とその祖先チェーン内のコミット
です。

   以下に示すように、接続されたコミット(connected commits)の組(「リビジ
ョン範囲」(revision range)と呼ばれる)を指定するためのいくつかの表記法が
あります。


Commit Exclusions
=================

_^<rev>_ (カレット)記法
     とある到達可能なコミットをコミット達から除外するには、接頭辞 _^_ 表
     記を使用します。 例えば _^r1 r2_ は _r2_ から到達可能なコミットだけ
     ども、 _r1_ から到達可能なコミット(つまり _r1_ とその祖先)は除外す
     る事を意味します。


Dotted Range Notations
======================

_.._ (2ドット)範囲記法
     _^r1 r2_ 操作は頻繁に表示されるため、省略形があります。(上記の
     SPECIFYING REVISIONS で説明されている構文に従って名前が付けられてい
     る)2つのコミット _r1_ と _r2_ がある場合、あなたは _^r1 r2_ によっ
     てr1から到達可能なコミットを取り除き、r2から到達可能なコミットを要
     求できます。そしてこれは _r1..r2_ と書くことができます。

_..._ (3ドット)対称差記法
     似た表記 _r1...r2_ は _r1_ と _r2_ の対称差と呼ばれ、 _r1 r2 –not
     $(git merge-base –all r1 r2)_ として定義されます。 これは、 _r1_ (左
     側)または _r2_ (右側)のいずれかから到達可能であるが、両方からは到達
     できないコミットの組です。

   これらの2つの省略表記では、一方の端を省略して、デフォルトでHEADにする
ことができます。たとえば、 _origin.._ は _origin..HEAD_ の省略形であり、
「originブランチから分岐(fork)してから何をしましたか？」と尋ねます。 同
様に、 _..origin_ は _HEAD..origin_ の省略形であり、「私がそれらから分岐
してから、originは何をしましたか？」と尋ねます。 _.._ は _HEAD..HEAD_ を
意味することに注意してください。これは、HEADから到達可能および到達不能の
両方の空の範囲です。

   2つの異なる範囲を取るように特別に設計されたコマンド(たとえば、2つの範
囲を比較するための "git range-diff R1 R2" ) は存在しますが、それらは例外
です。特に明記されていない限り、一連のコミットを操作するすべての "git" コ
マンドは、単一のリビジョン範囲で機能します。言い換えると、2つの「2ドット
範囲表記」を隣り合わせに記述します。

     $ git log A..B C..D

   ほとんどのコマンドでは2つのリビジョン範囲を指定しません。代わりに、接
続された単一のコミットの組、つまりBまたはDのいずれかから到達可能であるが
、AまたはCのどちらからも到達可能でないコミットの組に名前を付けます。線形
履歴では、以下のようになります:

     ---A---B---o---o---C---D

   AとBはCから到達可能であるため、これら2つの2ドット範囲記法で指定された
リビジョン範囲は単一のコミットDです。


Other <rev>^ Parent Shorthand Notations
=======================================

コミットとその親コミットによって形成される組に名前を付けるために、マージ
コミットに特に役立つ他の3つの省略形が存在します。

   ‘r1{caret}@’ 表記は、 ‘r1’ のすべての親を意味します。

   ‘r1{caret}!’ 表記には コミット ‘r1’ が含まれますが、そのすべての親は
除外されます。この表記自体は、単一のコミット ‘r1’ を示します。

   ‘<rev>{caret}-[<n>]’ 表記には ‘<rev>’ が含まれますが、 <n> 番目の親
(つまり、 ‘<rev>{caret}<n>..<rev>’ の省略形)は除外されます。 <n> が指定
されていない場合は ‘<n>’ = 1 とみなします。これは通常、
‘<commit>{caret}-’ を渡すだけで、マージコミット ‘<commit>’(‘<commit>’ 自
体を含む)でマージされたブランチ内のすべてのコミットを取得できるマージコ
ミットに役立ちます。

   ‘<rev>{caret}<n>’ は単一のコミット親を指定することに関するものでした
が、これらの3つの表記はその親も考慮します。たとえば、
‘HEAD{caret}2{caret}@’ と言うことはできますが、 ‘HEAD{caret}@{caret}2’ と
言うことはできません。


Revision Range Summary
**********************

‘<rev>’
     <rev> から到達可能なコミット(つまり <rev> とその祖先)を含めます。

‘{caret}<rev>’
     <rev> から到達可能なコミット(つまり <rev> とその祖先)を除外します。

‘<rev1>..<rev2>’
     <rev2> から到達可能なコミットを含めますが、 <rev1> から到達可能なコ
     ミットは除外します。 <rev1> または <rev2> のいずれかを省略すると、
     それらはそれぞれデフォルトで ‘HEAD’ になります。

‘<rev1>\...<rev2>’
     <rev1> または <rev2> のいずれかから到達可能なコミットを含めますが、
     両方から到達可能なコミットは除外します。 <rev1> または <rev2> のい
     ずれかを省略すると、それらはそれぞれデフォルトで ‘HEAD’ になります
     。

‘<rev>{caret}@’ 例: ‘HEAD{caret}@’
     接尾辞 ‘{caret}’ の後にアットマーク(‘@’)を付けることは、 ‘<rev>’ の
     すべての親をリストすることと同じです(つまり、親から到達可能なものは
     すべて含まれますが、コミット自体は含まれません)。

‘<rev>{caret}!’ 例: ‘HEAD{caret}!’
     接尾辞 ‘{caret}’ の後に感嘆符(‘!’)を付けることは、コミット ‘<rev>’
     を指定し、そのすべての親の前に ‘{caret}’ を付けてそれら(およびその
     祖先)を除外することと同じです。

‘<rev>{caret}-<n>’ 例: ‘HEAD{caret}-, HEAD{caret}-2’
     ‘<rev>{caret}<n>..<rev>’ と同等であり、 ‘<n>’ が指定されていない場
     合は ‘<n>’ = 1 です。

   上記のLoeliger図解を使用したいくつかの例を以下に示します。表記の拡張
と選択は、それぞれ段階が分かるようステップを踏んで説明してあります:

        Args   Expanded arguments    Selected commits
        D                            G H D
        D F                          G H I J D F
        ^G D                         H D
        ^D B                         E I J F B
        ^D B C                       E I J F B C
        C                            I J F C
        B..C   = ^B C                C
        B...C  = B ^F C              G H D E B C
        B^-    = B^..B
               = ^B^1 B              E I J F B
        C^@    = C^1
               = F                   I J F
        B^@    = B^1 B^2 B^3
               = D E F               D G H E F I J
        C^!    = C ^C^@
               = C ^C^1
               = C ^F                C
        B^!    = B ^B^@
               = B ^B^1 ^B^2 ^B^3
               = B ^D ^E ^F          B
        F^! D  = F ^I ^J D           G H D F


SEE ALSO
********

git-rev-parse(1)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitsubmodules,  Up: Top

Name
****

gitsubmodules — Mounting one repository inside another


Synopsis
********

     .gitmodules, $GIT_DIR/config

     git submodule
     git <command> --recurse-submodules


DESCRIPTION
***********

A submodule is a repository embedded inside another repository.  The
submodule has its own history; the repository it is embedded in is
called a superproject.

   On the filesystem, a submodule usually (but not always - see FORMS
below) consists of (i) a Git directory located under the
‘$GIT_DIR/modules/’ directory of its superproject, (ii) a working
directory inside the superproject’s working directory, and a ‘.git’ file
at the root of the submodule’s working directory pointing to (i).

   Assuming the submodule has a Git directory at ‘$GIT_DIR/modules/foo/’
and a working directory at ‘path/to/bar/’, the superproject tracks the
submodule via a ‘gitlink’ entry in the tree at ‘path/to/bar’ and an
entry in its ‘.gitmodules’ file (see gitmodules(5)) of the form
‘submodule.foo.path = path/to/bar’.

   The ‘gitlink’ entry contains the object name of the commit that the
superproject expects the submodule’s working directory to be at.

   The section ‘submodule.foo.*’ in the ‘.gitmodules’ file gives
additional hints to Git’s porcelain layer.  For example, the
‘submodule.foo.url’ setting specifies where to obtain the submodule.

   Submodules can be used for at least two different use cases:

  1. Using another project while maintaining independent history.
     Submodules allow you to contain the working tree of another project
     within your own working tree while keeping the history of both
     projects separate.  Also, since submodules are fixed to an
     arbitrary version, the other project can be independently developed
     without affecting the superproject, allowing the superproject
     project to fix itself to new versions only when desired.

  2. Splitting a (logically single) project into multiple repositories
     and tying them back together.  This can be used to overcome current
     limitations of Git’s implementation to have finer grained access:

        • Size of the Git repository: In its current form Git scales up
          poorly for large repositories containing content that is not
          compressed by delta computation between trees.  For example,
          you can use submodules to hold large binary assets and these
          repositories can be shallowly cloned such that you do not have
          a large history locally.

        • Transfer size: In its current form Git requires the whole
          working tree present.  It does not allow partial trees to be
          transferred in fetch or clone.  If the project you work on
          consists of multiple repositories tied together as submodules
          in a superproject, you can avoid fetching the working trees of
          the repositories you are not interested in.

        • Access control: By restricting user access to submodules, this
          can be used to implement read/write policies for different
          users.


The configuration of submodules
*******************************

Submodule operations can be configured using the following mechanisms
(from highest to lowest precedence):

   • The command line for those commands that support taking submodules
     as part of their pathspecs.  Most commands have a boolean flag
     ‘--recurse-submodules’ which specify whether to recurse into
     submodules.  Examples are ‘grep’ and ‘checkout’.  Some commands
     take enums, such as ‘fetch’ and ‘push’, where you can specify how
     submodules are affected.

   • The configuration inside the submodule.  This includes
     ‘$GIT_DIR/config’ in the submodule, but also settings in the tree
     such as a ‘.gitattributes’ or ‘.gitignore’ files that specify
     behavior of commands inside the submodule.

     For example an effect from the submodule’s ‘.gitignore’ file would
     be observed when you run ‘git status --ignore-submodules=none’ in
     the superproject.  This collects information from the submodule’s
     working directory by running ‘status’ in the submodule while paying
     attention to the ‘.gitignore’ file of the submodule.

     The submodule’s ‘$GIT_DIR/config’ file would come into play when
     running ‘git push --recurse-submodules=check’ in the superproject,
     as this would check if the submodule has any changes not published
     to any remote.  The remotes are configured in the submodule as
     usual in the ‘$GIT_DIR/config’ file.

   • The configuration file ‘$GIT_DIR/config’ in the superproject.  Git
     only recurses into active submodules (see "ACTIVE SUBMODULES"
     section below).

     If the submodule is not yet initialized, then the configuration
     inside the submodule does not exist yet, so where to obtain the
     submodule from is configured here for example.

   • The ‘.gitmodules’ file inside the superproject.  A project usually
     uses this file to suggest defaults for the upstream collection of
     repositories for the mapping that is required between a submodule’s
     name and its path.

     This file mainly serves as the mapping between the name and path of
     submodules in the superproject, such that the submodule’s Git
     directory can be located.

     If the submodule has never been initialized, this is the only place
     where submodule configuration is found.  It serves as the last
     fallback to specify where to obtain the submodule from.


FORMS
*****

Submodules can take the following forms:

   The basic form described in DESCRIPTION with a Git directory, a
working directory, a ‘gitlink’, and a ‘.gitmodules’ entry.

   "Old-form" submodule: A working directory with an embedded ‘.git’
directory, and the tracking ‘gitlink’ and ‘.gitmodules’ entry in the
superproject.  This is typically found in repositories generated using
older versions of Git.

   + It is possible to construct these old form repositories manually.

   + When deinitialized or deleted (see below), the submodule’s Git
directory is automatically moved to ‘$GIT_DIR/modules/<name>/’ of the
superproject.

   Deinitialized submodule: A ‘gitlink’, and a ‘.gitmodules’ entry, but
no submodule working directory.  The submodule’s Git directory may be
there as after deinitializing the Git directory is kept around.  The
directory which is supposed to be the working directory is empty
instead.

   + A submodule can be deinitialized by running ‘git submodule deinit’.
Besides emptying the working directory, this command only modifies the
superproject’s ‘$GIT_DIR/config’ file, so the superproject’s history is
not affected.  This can be undone using ‘git submodule init’.

   Deleted submodule: A submodule can be deleted by running ‘git rm
<submodule path> && git commit’.  This can be undone using ‘git revert’.

   + The deletion removes the superproject’s tracking data, which are
both the ‘gitlink’ entry and the section in the ‘.gitmodules’ file.  The
submodule’s working directory is removed from the file system, but the
Git directory is kept around as it to make it possible to checkout past
commits without requiring fetching from another repository.

   + To completely remove a submodule, manually delete
‘$GIT_DIR/modules/<name>/’.


ACTIVE SUBMODULES
*****************

A submodule is considered active,

  1. if ‘submodule.<name>.active’ is set to ‘true’

     or

  2. if the submodule’s path matches the pathspec in ‘submodule.active’

     or

  3. if ‘submodule.<name>.url’ is set.

   and these are evaluated in this order.

   For example:

     [submodule "foo"]
       active = false
       url = https://example.org/foo
     [submodule "bar"]
       active = true
       url = https://example.org/bar
     [submodule "baz"]
       url = https://example.org/baz

   In the above config only the submodule _bar_ and _baz_ are active,
_bar_ due to (1) and _baz_ due to (3).  _foo_ is inactive because (1)
takes precedence over (3)

   Note that (3) is a historical artefact and will be ignored if the (1)
and (2) specify that the submodule is not active.  In other words, if we
have a ‘submodule.<name>.active’ set to ‘false’ or if the submodule’s
path is excluded in the pathspec in ‘submodule.active’, the url doesn’t
matter whether it is present or not.  This is illustrated in the example
that follows.

     [submodule "foo"]
       active = true
       url = https://example.org/foo
     [submodule "bar"]
       url = https://example.org/bar
     [submodule "baz"]
       url = https://example.org/baz
     [submodule "bob"]
       ignore = true
     [submodule]
       active = b*
       active = :(exclude) baz

   In here all submodules except _baz_ (foo, bar, bob) are active.
_foo_ due to its own active flag and all the others due to the submodule
active pathspec, which specifies that any submodule starting with _b_
except _baz_ are also active, regardless of the presence of the .url
field.


Workflow for a third party library
**********************************

     # Add a submodule
     git submodule add <url> <path>

     # Occasionally update the submodule to a new version:
     git -C <path> checkout <new version>
     git add <path>
     git commit -m "update submodule to new version"

     # See the list of submodules in a superproject
     git submodule status

     # See FORMS on removing submodules


Workflow for an artificially split repo
***************************************

     # Enable recursion for relevant commands, such that
     # regular commands recurse into submodules by default
     git config --global submodule.recurse true

     # Unlike most other commands below, clone still needs
     # its own recurse flag:
     git clone --recurse <URL> <directory>
     cd <directory>

     # Get to know the code:
     git grep foo
     git ls-files --recurse-submodules

     *Note*

     ‘git ls-files’ also requires its own ‘--recurse-submodules’ flag.

     # Get new code
     git fetch
     git pull --rebase

     # Change worktree
     git checkout
     git reset


Implementation details
**********************

When cloning or pulling a repository containing submodules the
submodules will not be checked out by default; you can instruct ‘clone’
to recurse into submodules.  The ‘init’ and ‘update’ subcommands of ‘git
submodule’ will maintain submodules checked out and at an appropriate
revision in your working tree.  Alternatively you can set
‘submodule.recurse’ to have ‘checkout’ recursing into submodules (note
that ‘submodule.recurse’ also affects other Git commands, see
git-config(1) for a complete list).


SEE ALSO
********

git-submodule(1), gitmodules(5).


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gittutorial-2,  Up: Top

Name
****

gittutorial-2 — A tutorial introduction to Git: part two


Synopsis
********

     git *


DESCRIPTION
***********

You should work through gittutorial(7) before reading this tutorial.

   The goal of this tutorial is to introduce two fundamental pieces of
Git’s architecture—the object database and the index file—and to provide
the reader with everything necessary to understand the rest of the Git
documentation.


The Git object database
***********************

Let’s start a new project and create a small amount of history:

     $ mkdir test-project
     $ cd test-project
     $ git init
     Initialized empty Git repository in .git/
     $ echo 'hello world' > file.txt
     $ git add .
     $ git commit -a -m "initial commit"
     [master (root-commit) 54196cc] initial commit
      1 file changed, 1 insertion(+)
      create mode 100644 file.txt
     $ echo 'hello world!' >file.txt
     $ git commit -a -m "add emphasis"
     [master c4d59f3] add emphasis
      1 file changed, 1 insertion(+), 1 deletion(-)

   What are the 7 digits of hex that Git responded to the commit with?

   We saw in part one of the tutorial that commits have names like this.
It turns out that every object in the Git history is stored under a
40-digit hex name.  That name is the SHA-1 hash of the object’s
contents; among other things, this ensures that Git will never store the
same data twice (since identical data is given an identical SHA-1 name),
and that the contents of a Git object will never change (since that
would change the object’s name as well).  The 7 char hex strings here
are simply the abbreviation of such 40 character long strings.
Abbreviations can be used everywhere where the 40 character strings can
be used, so long as they are unambiguous.

   It is expected that the content of the commit object you created
while following the example above generates a different SHA-1 hash than
the one shown above because the commit object records the time when it
was created and the name of the person performing the commit.

   We can ask Git about this particular object with the ‘cat-file’
command.  Don’t copy the 40 hex digits from this example but use those
from your own version.  Note that you can shorten it to only a few
characters to save yourself typing all 40 hex digits:

     $ git cat-file -t 54196cc2
     commit
     $ git cat-file commit 54196cc2
     tree 92b8b694ffb1675e5975148e1121810081dbdffe
     author J. Bruce Fields <bfields@puzzle.fieldses.org> 1143414668 -0500
     committer J. Bruce Fields <bfields@puzzle.fieldses.org> 1143414668 -0500

     initial commit

   A tree can refer to one or more "blob" objects, each corresponding to
a file.  In addition, a tree can also refer to other tree objects, thus
creating a directory hierarchy.  You can examine the contents of any
tree using ls-tree (remember that a long enough initial portion of the
SHA-1 will also work):

     $ git ls-tree 92b8b694
     100644 blob 3b18e512dba79e4c8300dd08aeb37f8e728b8dad    file.txt

   Thus we see that this tree has one file in it.  The SHA-1 hash is a
reference to that file’s data:

     $ git cat-file -t 3b18e512
     blob

   A "blob" is just file data, which we can also examine with cat-file:

     $ git cat-file blob 3b18e512
     hello world

   Note that this is the old file data; so the object that Git named in
its response to the initial tree was a tree with a snapshot of the
directory state that was recorded by the first commit.

   All of these objects are stored under their SHA-1 names inside the
Git directory:

     $ find .git/objects/
     .git/objects/
     .git/objects/pack
     .git/objects/info
     .git/objects/3b
     .git/objects/3b/18e512dba79e4c8300dd08aeb37f8e728b8dad
     .git/objects/92
     .git/objects/92/b8b694ffb1675e5975148e1121810081dbdffe
     .git/objects/54
     .git/objects/54/196cc2703dc165cbd373a65a4dcf22d50ae7f7
     .git/objects/a0
     .git/objects/a0/423896973644771497bdc03eb99d5281615b51
     .git/objects/d0
     .git/objects/d0/492b368b66bdabf2ac1fd8c92b39d3db916e59
     .git/objects/c4
     .git/objects/c4/d59f390b9cfd4318117afde11d601c1085f241

   and the contents of these files is just the compressed data plus a
header identifying their length and their type.  The type is either a
blob, a tree, a commit, or a tag.

   The simplest commit to find is the HEAD commit, which we can find
from .git/HEAD:

     $ cat .git/HEAD
     ref: refs/heads/master

   As you can see, this tells us which branch we’re currently on, and it
tells us this by naming a file under the .git directory, which itself
contains a SHA-1 name referring to a commit object, which we can examine
with cat-file:

     $ cat .git/refs/heads/master
     c4d59f390b9cfd4318117afde11d601c1085f241
     $ git cat-file -t c4d59f39
     commit
     $ git cat-file commit c4d59f39
     tree d0492b368b66bdabf2ac1fd8c92b39d3db916e59
     parent 54196cc2703dc165cbd373a65a4dcf22d50ae7f7
     author J. Bruce Fields <bfields@puzzle.fieldses.org> 1143418702 -0500
     committer J. Bruce Fields <bfields@puzzle.fieldses.org> 1143418702 -0500

     add emphasis

   The "tree" object here refers to the new state of the tree:

     $ git ls-tree d0492b36
     100644 blob a0423896973644771497bdc03eb99d5281615b51    file.txt
     $ git cat-file blob a0423896
     hello world!

   and the "parent" object refers to the previous commit:

     $ git cat-file commit 54196cc2
     tree 92b8b694ffb1675e5975148e1121810081dbdffe
     author J. Bruce Fields <bfields@puzzle.fieldses.org> 1143414668 -0500
     committer J. Bruce Fields <bfields@puzzle.fieldses.org> 1143414668 -0500

     initial commit

   The tree object is the tree we examined first, and this commit is
unusual in that it lacks any parent.

   Most commits have only one parent, but it is also common for a commit
to have multiple parents.  In that case the commit represents a merge,
with the parent references pointing to the heads of the merged branches.

   Besides blobs, trees, and commits, the only remaining type of object
is a "tag", which we won’t discuss here; refer to git-tag(1) for
details.

   So now we know how Git uses the object database to represent a
project’s history:

   • "commit" objects refer to "tree" objects representing the snapshot
     of a directory tree at a particular point in the history, and refer
     to "parent" commits to show how they’re connected into the project
     history.

   • "tree" objects represent the state of a single directory,
     associating directory names to "blob" objects containing file data
     and "tree" objects containing subdirectory information.

   • "blob" objects contain file data without any other structure.

   • References to commit objects at the head of each branch are stored
     in files under .git/refs/heads/.

   • The name of the current branch is stored in .git/HEAD.

   Note, by the way, that lots of commands take a tree as an argument.
But as we can see above, a tree can be referred to in many different
ways—by the SHA-1 name for that tree, by the name of a commit that
refers to the tree, by the name of a branch whose head refers to that
tree, etc.–and most such commands can accept any of these names.

   In command synopses, the word "tree-ish" is sometimes used to
designate such an argument.


The index file
**************

The primary tool we’ve been using to create commits is ‘git-commit -a’,
which creates a commit including every change you’ve made to your
working tree.  But what if you want to commit changes only to certain
files?  Or only certain changes to certain files?

   If we look at the way commits are created under the cover, we’ll see
that there are more flexible ways creating commits.

   Continuing with our test-project, let’s modify file.txt again:

     $ echo "hello world, again" >>file.txt

   but this time instead of immediately making the commit, let’s take an
intermediate step, and ask for diffs along the way to keep track of
what’s happening:

     $ git diff
     --- a/file.txt
     +++ b/file.txt
     @@ -1 +1,2 @@
      hello world!
     +hello world, again
     $ git add file.txt
     $ git diff

   The last diff is empty, but no new commits have been made, and the
head still doesn’t contain the new line:

     $ git diff HEAD
     diff --git a/file.txt b/file.txt
     index a042389..513feba 100644
     --- a/file.txt
     +++ b/file.txt
     @@ -1 +1,2 @@
      hello world!
     +hello world, again

   So _git diff_ is comparing against something other than the head.
The thing that it’s comparing against is actually the index file, which
is stored in .git/index in a binary format, but whose contents we can
examine with ls-files:

     $ git ls-files --stage
     100644 513feba2e53ebbd2532419ded848ba19de88ba00 0       file.txt
     $ git cat-file -t 513feba2
     blob
     $ git cat-file blob 513feba2
     hello world!
     hello world, again

   So what our _git add_ did was store a new blob and then put a
reference to it in the index file.  If we modify the file again, we’ll
see that the new modifications are reflected in the _git diff_ output:

     $ echo 'again?' >>file.txt
     $ git diff
     index 513feba..ba3da7b 100644
     --- a/file.txt
     +++ b/file.txt
     @@ -1,2 +1,3 @@
      hello world!
      hello world, again
     +again?

   With the right arguments, _git diff_ can also show us the difference
between the working directory and the last commit, or between the index
and the last commit:

     $ git diff HEAD
     diff --git a/file.txt b/file.txt
     index a042389..ba3da7b 100644
     --- a/file.txt
     +++ b/file.txt
     @@ -1 +1,3 @@
      hello world!
     +hello world, again
     +again?
     $ git diff --cached
     diff --git a/file.txt b/file.txt
     index a042389..513feba 100644
     --- a/file.txt
     +++ b/file.txt
     @@ -1 +1,2 @@
      hello world!
     +hello world, again

   At any time, we can create a new commit using _git commit_ (without
the "-a" option), and verify that the state committed only includes the
changes stored in the index file, not the additional change that is
still only in our working tree:

     $ git commit -m "repeat"
     $ git diff HEAD
     diff --git a/file.txt b/file.txt
     index 513feba..ba3da7b 100644
     --- a/file.txt
     +++ b/file.txt
     @@ -1,2 +1,3 @@
      hello world!
      hello world, again
     +again?

   So by default _git commit_ uses the index to create the commit, not
the working tree; the "-a" option to commit tells it to first update the
index with all changes in the working tree.

   Finally, it’s worth looking at the effect of _git add_ on the index
file:

     $ echo "goodbye, world" >closing.txt
     $ git add closing.txt

   The effect of the _git add_ was to add one entry to the index file:

     $ git ls-files --stage
     100644 8b9743b20d4b15be3955fc8d5cd2b09cd2336138 0       closing.txt
     100644 513feba2e53ebbd2532419ded848ba19de88ba00 0       file.txt

   And, as you can see with cat-file, this new entry refers to the
current contents of the file:

     $ git cat-file blob 8b9743b2
     goodbye, world

   The "status" command is a useful way to get a quick summary of the
situation:

     $ git status
     On branch master
     Changes to be committed:
       (use "git restore --staged <file>..." to unstage)

             new file:   closing.txt

     Changes not staged for commit:
       (use "git add <file>..." to update what will be committed)
       (use "git restore <file>..." to discard changes in working directory)

             modified:   file.txt

   Since the current state of closing.txt is cached in the index file,
it is listed as "Changes to be committed".  Since file.txt has changes
in the working directory that aren’t reflected in the index, it is
marked "changed but not updated".  At this point, running "git commit"
would create a commit that added closing.txt (with its new contents),
but that didn’t modify file.txt.

   Also, note that a bare ‘git diff’ shows the changes to file.txt, but
not the addition of closing.txt, because the version of closing.txt in
the index file is identical to the one in the working directory.

   In addition to being the staging area for new commits, the index file
is also populated from the object database when checking out a branch,
and is used to hold the trees involved in a merge operation.  See
gitcore-tutorial(7) and the relevant man pages for details.


What next?
**********

At this point you should know everything necessary to read the man pages
for any of the git commands; one good place to start would be with the
commands mentioned in giteveryday(7).  You should be able to find any
unknown jargon in gitglossary(7).

   The Git User’s Manual (user-manual.html) provides a more
comprehensive introduction to Git.

   gitcvs-migration(7) explains how to import a CVS repository into Git,
and shows how to use Git in a CVS-like way.

   For some interesting examples of Git use, see the howtos
(howto-index.html).

   For Git developers, gitcore-tutorial(7) goes into detail on the
lower-level Git mechanisms involved in, for example, creating a new
commit.


SEE ALSO
********

gittutorial(7), gitcvs-migration(7), gitcore-tutorial(7),
gitglossary(7), git-help(1), giteveryday(7), The Git User’s Manual
(user-manual.html)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gittutorial,  Up: Top

Name
****

gittutorial — Git入門


Synopsis
********

     git *


DESCRIPTION
***********

このチュートリアルでは、新しいプロジェクトをGitにインポートし、変更を加
え、他の開発者と変更を共有する方法について説明します。

   Gitを使用してプロジェクトをフェッチする方に主な関心がある場合、たとえ
ば、最新バージョンをテストする場合は、 The Git User’s Manual
(user-manual.html) の最初の2つの章から始めることをお勧めします。

   注意: まず最初に、 あなたは ‘git log --graph’ などのコマンドの文書を
以下のようにして入手する事ができます:

     $ man git-log

   または:

     $ git help log

   後者では。あなたが選択したマニュアルビューアを使用できます。詳細につ
いては git-help(1) を参照してください。

   操作を行う前に、名前と公開メールアドレスを使用してあなた自身をGitに紹
介する(introduce yourself)ことをお勧めします。これを行う最も簡単な方法は
以下のとおりです:

     $ git config --global user.name "Your Name Comes Here"
     $ git config --global user.email you@yourdomain.example.com


Importing a new project
***********************

既にtarball project.tar.gz があると仮定します。あなたは以下にしてそれを
Gitリビジョン管理下に置くことができます。

     $ tar xzf project.tar.gz
     $ cd project
     $ git init

   Gitは以下のメッセージを返すでしょう

     Initialized empty Git repository in .git/

   これで作業ディレクトリが初期化されました。あなたは ".git" という名前
の新しいディレクトリが作成されていることに気付くかもしれません。

   次に、Gitに、現在のディレクトリ(_._ に注意)の下にあるすべてのファイル
の内容のスナップショットを「git add」で取得するように指示します:

     $ git add .

   このスナップショットは、Gitが「インデックス」と呼ぶ一時的な足場領域
(temporary staging area)に保存されました。 _git commit_ を使用して、イン
デックスの内容をリポジトリに永続的に保存できます:

     $ git commit

   これにより、コミットメッセージの入力を求められます。 これで、プロジェ
クトの最初のバージョンがGitに保存されました。


Making changes
**************

いくつかのファイルを変更してから、更新された内容をインデックスに追加しま
す:

     $ git add file1 file2 file3

   これで、コミットする準備ができました。 ‘--cached’ オプションを指定し
た「git diff」を使用して、何がコミットされようとしているのかを確認できま
す:

     $ git diff --cached

   (‘--cached’ を指定しない場合、「git diff」は、編集を行ったがまだイン
デックスに追加されていない変更を表示します。）あなたは「git status」を使
用して状況の簡単な要約を取得することもできます:

     $ git status
     On branch master
     Changes to be committed:
     Your branch is up to date with 'origin/master'.
       (use "git restore --staged <file>..." to unstage)

             modified:   file1
             modified:   file2
             modified:   file3

   さらに調整が必要な場合は、ここで調整してから、新しく変更したコンテン
ツをインデックスに追加します。 最後に、以下のコマンドであなたの変更をコ
ミットします。

     $ git commit

   これにより、変更を説明するメッセージの入力を再度求められ、プロジェク
トの新しいバージョンが記録されます。

   または、事前に「git add」を実行する代わりに、あなたは以下を使用できま
す。

     $ git commit -a

   これにより、変更された(ただし新規ではない)ファイルが自動的に認識され
、それらがインデックスに追加され、コミットされます。それらがすべて1つの
ステップで実行されます。

   コミットメッセージに関する注意: 必須ではありませんが、コミットメッセ
ージは、変更を要約した1行の短い(50文字未満)行で始まり、空行が1行あり、そ
の後にさらに詳細な説明が続くようにすることをお勧めします。コミットメッセ
ージの最初の空白行までのテキストはコミットタイトルとして扱われ、そのタイ
トルはGit全体で使用されます。たとえば、 git-format-patch(1) はコミットを
電子メールに変換し、件名としてコミットタイトル、本文として残りのコミット
メッセージを使用します。


Git tracks content not files
****************************

【Gitはファイルではなくコンテンツを追跡する】多くのリビジョン管理システ
ムは、新しいファイルへの変更の追跡を開始するようにシステムに指示する
‘add’ コマンドを提供します。 Gitの ‘add’ コマンドは、よりシンプルで強力
な機能を実行します。 ‘git add’ ’は、新しいファイルと新しく変更されたファ
イルの両方に使用されます。どちらの場合も、指定されたファイルのスナップシ
ョットを取得し、そのコンテンツをインデックスにステージングして、次のコミ
ットにすぐに含めることができます。


Viewing project history
***********************

あなたはいつでも、以下を使用して変更の履歴を表示できます

     $ git log

   あなたが各ステップで完全な差分も表示したい場合は、以下を使用してくだ
さい

     $ git log -p

   多くの場合、以下のような変更の概要は、各ステップの感触をつかむのに役
立ちます

     $ git log --stat --summary


Managing branches
*****************

単一のGitリポジトリで、開発の複数のブランチを維持できます。「
experimental」という名前の新しいブランチを作成するには、以下のようにしま
す。

     $ git branch experimental

   そして、以下のようにすることができます

     $ git branch

   そうすると、既存のすべてのブランチのリストが表示されます。

       experimental
     * master

   「experimental」ブランチは作成したばかりのブランチであり、「master」
ブランチは自動的に作成されたデフォルトのブランチです。アスタリスク
(‘*’)は、現在使用しているブランチを示します。そして以下のようにタイプし
ます。

     $ git switch experimental

   するとexperimentalブランチに切り替えます。次に、ファイルを編集し、変
更をコミットして、masterブランチに戻ります:

     (edit file)
     $ git commit -a
     $ git switch master

   その変更はexperimentalブランチで行われ、masterブランチに戻ったため、
その変更が表示されなくなったことを確認します。

   masterブランチで別の変更を加えることができます:

     (edit file)
     $ git commit -a

   この時点で、2つのブランチは分岐しており、それぞれに異なる変更が加えら
れています。experimentalで行った変更をmasterにマージするには、以下を実行
します

     $ git merge experimental

   変更が競合しない場合は、これで完了です。 競合がある場合、競合を示すマ
ーカーが問題のあるファイルに残されます。

     $ git diff

   とすると、これを表示します。あなたが競合を解決するためにファイルを編
集したら

     $ git commit -a

   とすると、マージの結果をコミットします。そして最後に、

     $ gitk

   とすると、結果の履歴の優れたグラフィック表現が表示されます。

   この時点で、以下のコマンドでexperimentalブランチを削除できます

     $ git branch -d experimental

   このコマンドは、experimentalブランチでの変更がすでに現在のブランチに
あることを確認します。

   あなたがブランチクレイジーアイデアで開発し、それを後悔しているなら、
あなたはいつでもブランチを(マージせずに)削除することができます

     $ git branch -D crazy-idea

   ブランチのコストは安くて、かつ操作は簡単なので、これは何かを一時的に
試す良い方法です。


Using Git for collaboration
***************************

アリス(Alice)が /home/alice/project にGitリポジトリを使用して新しいプロ
ジェクトを開始し、同じマシンにホームディレクトリを持っているボブ(Bob)が
貢献したいとします。

   ボブは以下のように始めます:

     bob$ git clone /home/alice/project myrepo

   これにより、アリスのリポジトリのクローンを含む新しいディレクトリ「
myrepo」が作成されます。クローンは元のプロジェクトと同等の立場にあり、元
のプロジェクトの履歴の独自のコピーを所有しています。

   次に、ボブはいくつかの変更を加えてコミットします:

     (edit files)
     bob$ git commit -a
     (repeat as necessary)

   準備ができたら、ボブはアリスに /home/bob/myrepo のリポジトリから変更
をプルするように指示します。アリスはこれを以下のように行います:

     alice$ cd /home/alice/project
     alice$ git pull /home/bob/myrepo master

   これにより、ボブの「master」ブランチからの変更がアリスの現在のブラン
チにマージされます。その間にアリスが自分で変更を加えた場合は、競合を手動
で修正する必要があります。

   つまり「pull」コマンドは2つの操作を実行します。リモートブランチから変
更をフェッチしてから、それらを現在のブランチにマージします。

   一般に、アリスが「プル」を開始する前に、アリス自身のローカルの変更を
コミットすることを望んでいることに注意してください。ボブの作業が、履歴が
分岐してからアリスが行ったことと競合する場合、アリスは作業ツリーとインデ
ックスを使用して競合を解決し、既存のアリス自身のローカル変更は競合解決プ
ロセスの障害となります(Gitは引き続きフェッチを実行しますが、マージを拒否
します。アリスは、何らかの方法でアリス自身のローカルの変更を取り除き、再
度プルする必要があります)。

   アリスは、「fetch」コマンドを使用して、マージせずにボブが行ったことを
確認できます。 これにより、アリスはボブが何をしたかを特別な記号「
FETCH_HEAD」を使用して検査し、プルする価値があるかどうかを判断できます。

     alice$ git fetch /home/bob/myrepo master
     alice$ git log -p HEAD..FETCH_HEAD

   この操作は、アリスがアリス自身のローカルの変更をコミットしていない場
合でも安全です。 範囲表記 ‘HEAD..FETCH_HEAD’ は、「FETCH_HEADから到達可
能なすべてのものを表示し、HEADから到達可能なものはすべて除外する」ことを
意味します。 このコマンドで、アリスは、現在の状態（HEAD）につながるすべ
てのことをすでに知っているとして、ボブが持っている状態（FETCH_HEAD）で、
かつ、アリスが持っていないモノを確認します。

   アリスが、ボブとの履歴が分岐してから何をしたかを視覚化したい場合は、
以下のコマンドを実行できます:

     $ gitk HEAD..FETCH_HEAD

   これは、前に「git log」で見たのと同じ2ドットの範囲表記を使用します。

   アリスは、フォークして以来、アリスとボブの両方が何をしたかを見たいと
思うかもしれません。その場合、アリスはは2ドット形式の代わりに3ドット形式
を使用できます:

     $ gitk HEAD...FETCH_HEAD

   これは、「どちらか一方から到達可能なものはすべて表示し、両方から到達
可能なものはすべて除外する」ことを意味します。

   これらの範囲表記は、gitkと「git log」の両方で使用できることに注意して
ください。

   ボブが何をしたかを調べた後、緊急のことがなければ、アリスはボブからプ
ルせずに作業を続けることを決定するかもしれません。ボブの履歴にアリスがす
ぐに必要とするものがある場合、アリスは最初に進行中の作業をstashし、「プ
ル」を実行し、最後に結果の履歴に加えて進行中の作業をunstashすることを選
択できます。

   小さな緊密なグループで作業している場合、同じリポジトリを何度も操作す
ることは珍しくありません。リモートリポジトリの省略形を定義すると、作業は
以下のように簡単になります:

     alice$ git remote add bob /home/bob/myrepo

   これにより、アリスは「git fetch」コマンドを使用して、「pull」操作の最
初の部分を自分のブランチとマージせずに、以下のコマンドを使用して単独で実
行できます:

     alice$ git fetch bob

   直接書いた形式とは異なり、アリスが「git remote」で設定したリモートリ
ポジト省略形を使用してボブからフェッチする場合、フェッチされたものはリモ
ート追跡ブランチ(この場合は「bob/master」）に保存されます。 したがって、
以下のようにすると:

     alice$ git log -p master..bob/master

   ボブがアリスのmasterブランチから分岐してから行ったすべての変更のリス
トを示します。

   これらの変更を調べた後、アリスは変更をアリス自身のmasterブランチにマ
ージできます。

     alice$ git merge bob/master

   この「マージ」は、以下のように「アリス自身のリモート追跡ブランチから
プルする」ことによっても実行できます:

     alice$ git pull . remotes/bob/master

   注意: コマンドラインで他に何が指定されているかに関係なく、 ‘git pull’
は常に現在のブランチにマージされることに注意してください。

   その後、ボブは以下を使用してアリスの最新の変更でボブのリポジトリを更
新できます

     bob$ git pull

   注意: ボブはアリスのリポジトリへのパスを指定する必要がないことに注意
してください。ボブがアリスのリポジトリのクローンを作成したとき、Gitはア
リスのリポジトリの場所をリポジトリ構成に保存し、その場所がプルに使用され
ます。

     bob$ git config --get remote.origin.url
     /home/alice/project

   ( _git clone_ によって作成される完全な構成は、 ‘git config -l’ を使用
して表示でき、 git-config(1) のマニュアルページで各オプションの意味を説
明しています。)

   Gitは、「origin/master」という名前でアリスのmasterブランチの当初の綺
麗なコピー(pristine copy)も保持しています。

     bob$ git branch -r
       origin/master

   ボブが後で別のホストから作業することを決定した場合でも、sshプロトコル
を使用してクローンとプルを実行できます:

     bob$ git clone alice.org:/home/alice/project myrepo

   代わりに、Gitのネイティブプロトコルや、httpを使用できます。詳細につい
ては、 git-pull(1) を参照してください。

   Gitは、さまざまなユーザーが変更をプッシュする中央リポジトリを使用して
、CVSのようなモードで使用することもできます。 git-push(1) と
gitcvs-migration(7) を参照してください。


Exploring history
*****************

Git history is represented as a series of interrelated commits.  We have
already seen that the _git log_ command can list those commits.  Note
that first line of each git log entry also gives a name for the commit:

     $ git log
     commit c82a22c39cbc32576f64f5c6b3f24b99ea8149c7
     Author: Junio C Hamano <junkio@cox.net>
     Date:   Tue May 16 17:18:22 2006 -0700

         merge-base: Clarify the comments on post processing.

   We can give this name to _git show_ to see the details about this
commit.

     $ git show c82a22c39cbc32576f64f5c6b3f24b99ea8149c7

   But there are other ways to refer to commits.  You can use any
initial part of the name that is long enough to uniquely identify the
commit:

     $ git show c82a22c39c   # the first few characters of the name are
                             # usually enough
     $ git show HEAD         # the tip of the current branch
     $ git show experimental # the tip of the "experimental" branch

   Every commit usually has one "parent" commit which points to the
previous state of the project:

     $ git show HEAD^  # to see the parent of HEAD
     $ git show HEAD^^ # to see the grandparent of HEAD
     $ git show HEAD~4 # to see the great-great grandparent of HEAD

   Note that merge commits may have more than one parent:

     $ git show HEAD^1 # show the first parent of HEAD (same as HEAD^)
     $ git show HEAD^2 # show the second parent of HEAD

   You can also give commits names of your own; after running

     $ git tag v2.5 1b2e1d63ff

   you can refer to 1b2e1d63ff by the name "v2.5".  If you intend to
share this name with other people (for example, to identify a release
version), you should create a "tag" object, and perhaps sign it; see
git-tag(1) for details.

   Any Git command that needs to know a commit can take any of these
names.  For example:

     $ git diff v2.5 HEAD     # compare the current HEAD to v2.5
     $ git branch stable v2.5 # start a new branch named "stable" based
                              # at v2.5
     $ git reset --hard HEAD^ # reset your current branch and working
                              # directory to its state at HEAD^

   Be careful with that last command: in addition to losing any changes
in the working directory, it will also remove all later commits from
this branch.  If this branch is the only branch containing those
commits, they will be lost.  Also, don’t use _git reset_ on a
publicly-visible branch that other developers pull from, as it will
force needless merges on other developers to clean up the history.  If
you need to undo changes that you have pushed, use _git revert_ instead.

   The _git grep_ command can search for strings in any version of your
project, so

     $ git grep "hello" v2.5

   searches for all occurrences of "hello" in v2.5.

   If you leave out the commit name, _git grep_ will search any of the
files it manages in your current directory.  So

     $ git grep "hello"

   is a quick way to search just the files that are tracked by Git.

   Many Git commands also take sets of commits, which can be specified
in a number of ways.  Here are some examples with _git log_:

     $ git log v2.5..v2.6            # commits between v2.5 and v2.6
     $ git log v2.5..                # commits since v2.5
     $ git log --since="2 weeks ago" # commits from the last 2 weeks
     $ git log v2.5.. Makefile       # commits since v2.5 which modify
                                     # Makefile

   You can also give _git log_ a "range" of commits where the first is
not necessarily an ancestor of the second; for example, if the tips of
the branches "stable" and "master" diverged from a common commit some
time ago, then

     $ git log stable..master

   will list commits made in the master branch but not in the stable
branch, while

     $ git log master..stable

   will show the list of commits made on the stable branch but not the
master branch.

   The _git log_ command has a weakness: it must present commits in a
list.  When the history has lines of development that diverged and then
merged back together, the order in which _git log_ presents those
commits is meaningless.

   Most projects with multiple contributors (such as the Linux kernel,
or Git itself) have frequent merges, and _gitk_ does a better job of
visualizing their history.  For example,

     $ gitk --since="2 weeks ago" drivers/

   allows you to browse any commits from the last 2 weeks of commits
that modified files under the "drivers" directory.  (Note: you can
adjust gitk’s fonts by holding down the control key while pressing "-"
or "+".)

   Finally, most commands that take filenames will optionally allow you
to precede any filename by a commit, to specify a particular version of
the file:

     $ git diff v2.5:Makefile HEAD:Makefile.in

   You can also use _git show_ to see any such file:

     $ git show v2.5:Makefile


Next Steps
**********

This tutorial should be enough to perform basic distributed revision
control for your projects.  However, to fully understand the depth and
power of Git you need to understand two simple ideas on which it is
based:

   • The object database is the rather elegant system used to store the
     history of your project—files, directories, and commits.

   • The index file is a cache of the state of a directory tree, used to
     create commits, check out working directories, and hold the various
     trees involved in a merge.

   Part two of this tutorial explains the object database, the index
file, and a few other odds and ends that you’ll need to make the most of
Git.  You can find it at gittutorial-2(7).

   If you don’t want to continue with that right away, a few other
digressions that may be interesting at this point are:

   • git-format-patch(1), git-am(1): These convert series of git commits
     into emailed patches, and vice versa, useful for projects such as
     the Linux kernel which rely heavily on emailed patches.

   • git-bisect(1): When there is a regression in your project, one way
     to track down the bug is by searching through the history to find
     the exact commit that’s to blame.  Git bisect can help you perform
     a binary search for that commit.  It is smart enough to perform a
     close-to-optimal search even in the case of complex non-linear
     history with lots of merged branches.

   • gitworkflows(7): Gives an overview of recommended workflows.

   • giteveryday(7): Everyday Git with 20 Commands Or So.

   • gitcvs-migration(7): Git for CVS users.


SEE ALSO
********

gittutorial-2(7), gitcvs-migration(7), gitcore-tutorial(7),
gitglossary(7), git-help(1), gitworkflows(7), giteveryday(7), The Git
User’s Manual (user-manual.html)


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitweb.conf,  Up: Top

Name
****

gitweb.conf — Gitweb (Git web interface) configuration file


Synopsis
********

/etc/gitweb.conf, /etc/gitweb-common.conf, $GITWEBDIR/gitweb_config.perl


DESCRIPTION
***********

The gitweb CGI script for viewing Git repositories over the web uses a
perl script fragment as its configuration file.  You can set variables
using "‘our $variable = value’"; text from a "#" character until the end
of a line is ignored.  See *perlsyn*(1) for details.

   An example:

     # gitweb configuration file for http://git.example.org
     #
     our $projectroot = "/srv/git"; # FHS recommendation
     our $site_name = 'Example.org >> Repos';

   The configuration file is used to override the default settings that
were built into gitweb at the time the _gitweb.cgi_ script was
generated.

   While one could just alter the configuration settings in the gitweb
CGI itself, those changes would be lost upon upgrade.  Configuration
settings might also be placed into a file in the same directory as the
CGI script with the default name _gitweb_config.perl_ — allowing one to
have multiple gitweb instances with different configurations by the use
of symlinks.

   Note that some configuration can be controlled on per-repository
rather than gitweb-wide basis: see "Per-repository gitweb configuration"
subsection on gitweb(1) manpage.


DISCUSSION
**********

Gitweb reads configuration data from the following sources in the
following order:

   • built-in values (some set during build stage),

   • common system-wide configuration file (defaults to
     ‘/etc/gitweb-common.conf’),

   • either per-instance configuration file (defaults to
     _gitweb_config.perl_ in the same directory as the installed
     gitweb), or if it does not exists then fallback system-wide
     configuration file (defaults to ‘/etc/gitweb.conf’).

   Values obtained in later configuration files override values obtained
earlier in the above sequence.

   Locations of the common system-wide configuration file, the fallback
system-wide configuration file and the per-instance configuration file
are defined at compile time using build-time Makefile configuration
variables, respectively ‘GITWEB_CONFIG_COMMON’, ‘GITWEB_CONFIG_SYSTEM’
and ‘GITWEB_CONFIG’.

   You can also override locations of gitweb configuration files during
runtime by setting the following environment variables:
‘GITWEB_CONFIG_COMMON’, ‘GITWEB_CONFIG_SYSTEM’ and ‘GITWEB_CONFIG’ to a
non-empty value.

   The syntax of the configuration files is that of Perl, since these
files are handled by sourcing them as fragments of Perl code (the
language that gitweb itself is written in).  Variables are typically set
using the ‘our’ qualifier (as in "‘our $variable = <value>;’") to avoid
syntax errors if a new version of gitweb no longer uses a variable and
therefore stops declaring it.

   You can include other configuration file using read_config_file()
subroutine.  For example, one might want to put gitweb configuration
related to access control for viewing repositories via Gitolite (one of
Git repository management tools) in a separate file, e.g.  in
‘/etc/gitweb-gitolite.conf’.  To include it, put

     read_config_file("/etc/gitweb-gitolite.conf");

   somewhere in gitweb configuration file used, e.g.  in
per-installation gitweb configuration file.  Note that
read_config_file() checks itself that the file it reads exists, and does
nothing if it is not found.  It also handles errors in included file.

   The default configuration with no configuration file at all may work
perfectly well for some installations.  Still, a configuration file is
useful for customizing or tweaking the behavior of gitweb in many ways,
and some optional features will not be present unless explicitly enabled
using the configurable ‘%features’ variable (see also "Configuring
gitweb features" section below).


CONFIGURATION VARIABLES
***********************

Some configuration variables have their default values (embedded in the
CGI script) set during building gitweb — if that is the case, this fact
is put in their description.  See gitweb’s _INSTALL_ file for
instructions on building and installing gitweb.


Location of repositories
========================

The configuration variables described below control how gitweb finds Git
repositories, and how repositories are displayed and accessed.

   See also "Repositories" and later subsections in gitweb(1) manpage.

$projectroot
     Absolute filesystem path which will be prepended to project path;
     the path to repository is ‘$projectroot/$project’.  Set to
     ‘$GITWEB_PROJECTROOT’ during installation.  This variable has to be
     set correctly for gitweb to find repositories.

     For example, if ‘$projectroot’ is set to "/srv/git" by putting the
     following in gitweb config file:

          our $projectroot = "/srv/git";

     then

          http://git.example.com/gitweb.cgi?p=foo/bar.git

     and its path_info based equivalent

          http://git.example.com/gitweb.cgi/foo/bar.git

     will map to the path ‘/srv/git/foo/bar.git’ on the filesystem.

$projects_list
     Name of a plain text file listing projects, or a name of directory
     to be scanned for projects.

     Project list files should list one project per line, with each line
     having the following format

          <URI-encoded filesystem path to repository> SP <URI-encoded repository owner>

     The default value of this variable is determined by the
     ‘GITWEB_LIST’ makefile variable at installation time.  If this
     variable is empty, gitweb will fall back to scanning the
     ‘$projectroot’ directory for repositories.

$project_maxdepth
     If ‘$projects_list’ variable is unset, gitweb will recursively scan
     filesystem for Git repositories.  The ‘$project_maxdepth’ is used
     to limit traversing depth, relative to ‘$projectroot’ (starting
     point); it means that directories which are further from
     ‘$projectroot’ than ‘$project_maxdepth’ will be skipped.

     It is purely performance optimization, originally intended for
     MacOS X, where recursive directory traversal is slow.  Gitweb
     follows symbolic links, but it detects cycles, ignoring any
     duplicate files and directories.

     The default value of this variable is determined by the build-time
     configuration variable ‘GITWEB_PROJECT_MAXDEPTH’, which defaults to
     2007.

$export_ok
     Show repository only if this file exists (in repository).  Only
     effective if this variable evaluates to true.  Can be set when
     building gitweb by setting ‘GITWEB_EXPORT_OK’.  This path is
     relative to ‘GIT_DIR’.  git-daemon[1] uses _git-daemon-export-ok_,
     unless started with ‘--export-all’.  By default this variable is
     not set, which means that this feature is turned off.

$export_auth_hook
     Function used to determine which repositories should be shown.
     This subroutine should take one parameter, the full path to a
     project, and if it returns true, that project will be included in
     the projects list and can be accessed through gitweb as long as it
     fulfills the other requirements described by $export_ok,
     $projects_list, and $projects_maxdepth.  Example:

          our $export_auth_hook = sub { return -e "$_[0]/git-daemon-export-ok"; };

     though the above might be done by using ‘$export_ok’ instead

          our $export_ok = "git-daemon-export-ok";

     If not set (default), it means that this feature is disabled.

     See also more involved example in "Controlling access to Git
     repositories" subsection on gitweb(1) manpage.

$strict_export
     Only allow viewing of repositories also shown on the overview page.
     This for example makes ‘$export_ok’ file decide if repository is
     available and not only if it is shown.  If ‘$projects_list’ points
     to file with list of project, only those repositories listed would
     be available for gitweb.  Can be set during building gitweb via
     ‘GITWEB_STRICT_EXPORT’.  By default this variable is not set, which
     means that you can directly access those repositories that are
     hidden from projects list page (e.g.  the are not listed in the
     $projects_list file).


Finding files
=============

The following configuration variables tell gitweb where to find files.
The values of these variables are paths on the filesystem.

$GIT
     Core git executable to use.  By default set to ‘$GIT_BINDIR/git’,
     which in turn is by default set to ‘$(bindir)/git’.  If you use Git
     installed from a binary package, you should usually set this to
     "/usr/bin/git".  This can just be "git" if your web server has a
     sensible PATH; from security point of view it is better to use
     absolute path to git binary.  If you have multiple Git versions
     installed it can be used to choose which one to use.  Must be
     (correctly) set for gitweb to be able to work.

$mimetypes_file
     File to use for (filename extension based) guessing of MIME types
     before trying ‘/etc/mime.types’.  *NOTE* that this path, if
     relative, is taken as relative to the current Git repository, not
     to CGI script.  If unset, only ‘/etc/mime.types’ is used (if
     present on filesystem).  If no mimetypes file is found, mimetype
     guessing based on extension of file is disabled.  Unset by default.

$highlight_bin
     Path to the highlight executable to use (it must be the one from
     http://www.andre-simon.de (http://www.andre-simon.de) due to
     assumptions about parameters and output).  By default set to
     _highlight_; set it to full path to highlight executable if it is
     not installed on your web server’s PATH. Note that _highlight_
     feature must be set for gitweb to actually use syntax highlighting.

     *NOTE*: for a file to be highlighted, its syntax type must be
     detected and that syntax must be supported by "highlight".  The
     default syntax detection is minimal, and there are many supported
     syntax types with no detection by default.  There are three options
     for adding syntax detection.  The first and second priority are
     ‘%highlight_basename’ and ‘%highlight_ext’, which detect based on
     basename (the full filename, for example "Makefile") and extension
     (for example "sh").  The keys of these hashes are the basename and
     extension, respectively, and the value for a given key is the name
     of the syntax to be passed via ‘--syntax <syntax>’ to "highlight".
     The last priority is the "highlight" configuration of ‘Shebang’
     regular expressions to detect the language based on the first line
     in the file, (for example, matching the line "#!/bin/bash").  See
     the highlight documentation and the default config at
     /etc/highlight/filetypes.conf for more details.

     For example if repositories you are hosting use "phtml" extension
     for PHP files, and you want to have correct syntax-highlighting for
     those files, you can add the following to gitweb configuration:

          our %highlight_ext;
          $highlight_ext{'phtml'} = 'php';


Links and their targets
=======================

The configuration variables described below configure some of gitweb
links: their target and their look (text or image), and where to find
page prerequisites (stylesheet, favicon, images, scripts).  Usually they
are left at their default values, with the possible exception of
‘@stylesheets’ variable.

@stylesheets
     List of URIs of stylesheets (relative to the base URI of a page).
     You might specify more than one stylesheet, for example to use
     "gitweb.css" as base with site specific modifications in a separate
     stylesheet to make it easier to upgrade gitweb.  For example, you
     can add a ‘site’ stylesheet by putting

          push @stylesheets, "gitweb-site.css";

     in the gitweb config file.  Those values that are relative paths
     are relative to base URI of gitweb.

     This list should contain the URI of gitweb’s standard stylesheet.
     The default URI of gitweb stylesheet can be set at build time using
     the ‘GITWEB_CSS’ makefile variable.  Its default value is
     ‘static/gitweb.css’ (or ‘static/gitweb.min.css’ if the ‘CSSMIN’
     variable is defined, i.e.  if CSS minifier is used during build).

     *Note*: there is also a legacy ‘$stylesheet’ configuration
     variable, which was used by older gitweb.  If ‘$stylesheet’
     variable is defined, only CSS stylesheet given by this variable is
     used by gitweb.

$logo
     Points to the location where you put _git-logo.png_ on your web
     server, or to be more the generic URI of logo, 72x27 size).  This
     image is displayed in the top right corner of each gitweb page and
     used as a logo for the Atom feed.  Relative to the base URI of
     gitweb (as a path).  Can be adjusted when building gitweb using
     ‘GITWEB_LOGO’ variable By default set to ‘static/git-logo.png’.

$favicon
     Points to the location where you put _git-favicon.png_ on your web
     server, or to be more the generic URI of favicon, which will be
     served as "image/png" type.  Web browsers that support favicons
     (website icons) may display them in the browser’s URL bar and next
     to the site name in bookmarks.  Relative to the base URI of gitweb.
     Can be adjusted at build time using ‘GITWEB_FAVICON’ variable.  By
     default set to ‘static/git-favicon.png’.

$javascript
     Points to the location where you put _gitweb.js_ on your web
     server, or to be more generic the URI of JavaScript code used by
     gitweb.  Relative to the base URI of gitweb.  Can be set at build
     time using the ‘GITWEB_JS’ build-time configuration variable.

     The default value is either ‘static/gitweb.js’, or
     ‘static/gitweb.min.js’ if the ‘JSMIN’ build variable was defined,
     i.e.  if JavaScript minifier was used at build time.  *Note* that
     this single file is generated from multiple individual JavaScript
     "modules".

$home_link
     Target of the home link on the top of all pages (the first part of
     view "breadcrumbs").  By default it is set to the absolute URI of a
     current page (to the value of ‘$my_uri’ variable, or to "/" if
     ‘$my_uri’ is undefined or is an empty string).

$home_link_str
     Label for the "home link" at the top of all pages, leading to
     ‘$home_link’ (usually the main gitweb page, which contains the
     projects list).  It is used as the first component of gitweb’s
     "breadcrumb trail": ‘<home link> / <project> / <action>’.  Can be
     set at build time using the ‘GITWEB_HOME_LINK_STR’ variable.  By
     default it is set to "projects", as this link leads to the list of
     projects.  Another popular choice is to set it to the name of site.
     Note that it is treated as raw HTML so it should not be set from
     untrusted sources.

@extra_breadcrumbs
     Additional links to be added to the start of the breadcrumb trail
     before the home link, to pages that are logically "above" the
     gitweb projects list, such as the organization and department which
     host the gitweb server.  Each element of the list is a reference to
     an array, in which element 0 is the link text (equivalent to
     ‘$home_link_str’) and element 1 is the target URL (equivalent to
     ‘$home_link’).

     For example, the following setting produces a breadcrumb trail like
     "home / dev / projects / …" where "projects" is the home link.

              our @extra_breadcrumbs = (
                [ 'home' => 'https://www.example.org/' ],
                [ 'dev'  => 'https://dev.example.org/' ],
              );

$logo_url
$logo_label
     URI and label (title) for the Git logo link (or your site logo, if
     you chose to use different logo image).  By default, these both
     refer to Git homepage, https://git-scm.com (https://git-scm.com);
     in the past, they pointed to Git documentation at
     https://www.kernel.org (https://www.kernel.org).


Changing gitweb’s look
======================

You can adjust how pages generated by gitweb look using the variables
described below.  You can change the site name, add common headers and
footers for all pages, and add a description of this gitweb installation
on its main page (which is the projects list page), etc.

$site_name
     Name of your site or organization, to appear in page titles.  Set
     it to something descriptive for clearer bookmarks etc.  If this
     variable is not set or is, then gitweb uses the value of the
     ‘SERVER_NAME’ ‘CGI’ environment variable, setting site name to
     "$SERVER_NAME Git", or "Untitled Git" if this variable is not set
     (e.g.  if running gitweb as standalone script).

     Can be set using the ‘GITWEB_SITENAME’ at build time.  Unset by
     default.

$site_html_head_string
     HTML snippet to be included in the <head> section of each page.
     Can be set using ‘GITWEB_SITE_HTML_HEAD_STRING’ at build time.  No
     default value.

$site_header
     Name of a file with HTML to be included at the top of each page.
     Relative to the directory containing the _gitweb.cgi_ script.  Can
     be set using ‘GITWEB_SITE_HEADER’ at build time.  No default value.

$site_footer
     Name of a file with HTML to be included at the bottom of each page.
     Relative to the directory containing the _gitweb.cgi_ script.  Can
     be set using ‘GITWEB_SITE_FOOTER’ at build time.  No default value.

$home_text
     Name of a HTML file which, if it exists, is included on the gitweb
     projects overview page ("projects_list" view).  Relative to the
     directory containing the gitweb.cgi script.  Default value can be
     adjusted during build time using ‘GITWEB_HOMETEXT’ variable.  By
     default set to _indextext.html_.

$projects_list_description_width
     The width (in characters) of the "Description" column of the
     projects list.  Longer descriptions will be truncated (trying to
     cut at word boundary); the full description is available in the
     _title_ attribute (usually shown on mouseover).  The default is 25,
     which might be too small if you use long project descriptions.

$default_projects_order
     Default value of ordering of projects on projects list page, which
     means the ordering used if you don’t explicitly sort projects list
     (if there is no "o" CGI query parameter in the URL). Valid values
     are "none" (unsorted), "project" (projects are by project name,
     i.e.  path to repository relative to ‘$projectroot’), "descr"
     (project description), "owner", and "age" (by date of most current
     commit).

     Default value is "project".  Unknown value means unsorted.


Changing gitweb’s behavior
==========================

These configuration variables control _internal_ gitweb behavior.

$default_blob_plain_mimetype
     Default mimetype for the blob_plain (raw) view, if mimetype
     checking doesn’t result in some other type; by default
     "text/plain".  Gitweb guesses mimetype of a file to display based
     on extension of its filename, using ‘$mimetypes_file’ (if set and
     file exists) and ‘/etc/mime.types’ files (see *mime.types*(5)
     manpage; only filename extension rules are supported by gitweb).

$default_text_plain_charset
     Default charset for text files.  If this is not set, the web server
     configuration will be used.  Unset by default.

$fallback_encoding
     Gitweb assumes this charset when a line contains non-UTF-8
     characters.  The fallback decoding is used without error checking,
     so it can be even "utf-8".  The value must be a valid encoding; see
     the *Encoding::Supported*(3pm) man page for a list.  The default is
     "latin1", aka.  "iso-8859-1".

@diff_opts
     Rename detection options for git-diff and git-diff-tree.  The
     default is (’-M’); set it to (’-C’) or (’-C’, ’-C’) to also detect
     copies, or set it to () i.e.  empty list if you don’t want to have
     renames detection.

     *Note* that rename and especially copy detection can be quite
     CPU-intensive.  Note also that non Git tools can have problems with
     patches generated with options mentioned above, especially when
     they involve file copies (’-C’) or criss-cross renames (’-B’).


Some optional features and policies
===================================

Most of features are configured via ‘%feature’ hash; however some of
extra gitweb features can be turned on and configured using variables
described below.  This list beside configuration variables that control
how gitweb looks does contain variables configuring administrative side
of gitweb (e.g.  cross-site scripting prevention; admittedly this as
side effect affects how "summary" pages look like, or load limiting).

@git_base_url_list
     List of Git base URLs.  These URLs are used to generate URLs
     describing from where to fetch a project, which are shown on
     project summary page.  The full fetch URL is
     "‘$git_base_url/$project’", for each element of this list.  You can
     set up multiple base URLs (for example one for ‘git://’ protocol,
     and one for ‘http://’ protocol).

     Note that per repository configuration can be set in
     ‘$GIT_DIR/cloneurl’ file, or as values of multi-value ‘gitweb.url’
     configuration variable in project config.  Per-repository
     configuration takes precedence over value composed from
     ‘@git_base_url_list’ elements and project name.

     You can setup one single value (single entry/item in this list) at
     build time by setting the ‘GITWEB_BASE_URL’ build-time
     configuration variable.  By default it is set to (), i.e.  an empty
     list.  This means that gitweb would not try to create project URL
     (to fetch) from project name.

$projects_list_group_categories
     Whether to enable the grouping of projects by category on the
     project list page.  The category of a project is determined by the
     ‘$GIT_DIR/category’ file or the ‘gitweb.category’ variable in each
     repository’s configuration.  Disabled by default (set to 0).

$project_list_default_category
     Default category for projects for which none is specified.  If this
     is set to the empty string, such projects will remain uncategorized
     and listed at the top, above categorized projects.  Used only if
     project categories are enabled, which means if
     ‘$projects_list_group_categories’ is true.  By default set to ""
     (empty string).

$prevent_xss
     If true, some gitweb features are disabled to prevent content in
     repositories from launching cross-site scripting (XSS) attacks.
     Set this to true if you don’t trust the content of your
     repositories.  False by default (set to 0).

$maxload
     Used to set the maximum load that we will still respond to gitweb
     queries.  If the server load exceeds this value then gitweb will
     return "503 Service Unavailable" error.  The server load is taken
     to be 0 if gitweb cannot determine its value.  Currently it works
     only on Linux, where it uses ‘/proc/loadavg’; the load there is the
     number of active tasks on the system — processes that are actually
     running — averaged over the last minute.

     Set ‘$maxload’ to undefined value (‘undef’) to turn this feature
     off.  The default value is 300.

$omit_age_column
     If true, omit the column with date of the most current commit on
     the projects list page.  It can save a bit of I/O and a fork per
     repository.

$omit_owner
     If true prevents displaying information about repository owner.

$per_request_config
     If this is set to code reference, it will be run once for each
     request.  You can set parts of configuration that change per
     session this way.  For example, one might use the following code in
     a gitweb configuration file

          our $per_request_config = sub {
                  $ENV{GL_USER} = $cgi->remote_user || "gitweb";
          };

     If ‘$per_request_config’ is not a code reference, it is interpreted
     as boolean value.  If it is true gitweb will process config files
     once per request, and if it is false gitweb will process config
     files only once, each time it is executed.  True by default (set to
     1).

     *NOTE*: ‘$my_url’, ‘$my_uri’, and ‘$base_url’ are overwritten with
     their default values before every request, so if you want to change
     them, be sure to set this variable to true or a code reference
     effecting the desired changes.

     This variable matters only when using persistent web environments
     that serve multiple requests using single gitweb instance, like
     mod_perl, FastCGI or Plackup.


Other variables
===============

Usually you should not need to change (adjust) any of configuration
variables described below; they should be automatically set by gitweb to
correct value.

$version
     Gitweb version, set automatically when creating gitweb.cgi from
     gitweb.perl.  You might want to modify it if you are running
     modified gitweb, for example

          our $version .= " with caching";

     if you run modified version of gitweb with caching support.  This
     variable is purely informational, used e.g.  in the "generator"
     meta header in HTML header.

$my_url
$my_uri
     Full URL and absolute URL of the gitweb script; in earlier versions
     of gitweb you might have need to set those variables, but now there
     should be no need to do it.  See ‘$per_request_config’ if you need
     to set them still.

$base_url
     Base URL for relative URLs in pages generated by gitweb, (e.g.
     ‘$logo’, ‘$favicon’, ‘@stylesheets’ if they are relative URLs),
     needed and used _<base href="$base_url">_ only for URLs with
     nonempty PATH_INFO. Usually gitweb sets its value correctly, and
     there is no need to set this variable, e.g.  to $my_uri or "/".
     See ‘$per_request_config’ if you need to override it anyway.


CONFIGURING GITWEB FEATURES
***************************

Many gitweb features can be enabled (or disabled) and configured using
the ‘%feature’ hash.  Names of gitweb features are keys of this hash.

   Each ‘%feature’ hash element is a hash reference and has the
following structure:

     "<feature_name>" => {
             "sub" => <feature-sub (subroutine)>,
             "override" => <allow-override (boolean)>,
             "default" => [ <options>... ]
     },

   Some features cannot be overridden per project.  For those features
the structure of appropriate ‘%feature’ hash element has a simpler form:

     "<feature_name>" => {
             "override" => 0,
             "default" => [ <options>... ]
     },

   As one can see it lacks the ’sub’ element.

   The meaning of each part of feature configuration is described below:

default
     List (array reference) of feature parameters (if there are any),
     used also to toggle (enable or disable) given feature.

     Note that it is currently *always* an array reference, even if
     feature doesn’t accept any configuration parameters, and ’default’
     is used only to turn it on or off.  In such case you turn feature
     on by setting this element to ‘[1]’, and torn it off by setting it
     to ‘[0]’.  See also the passage about the "blame" feature in the
     "Examples" section.

     To disable features that accept parameters (are configurable), you
     need to set this element to empty list i.e.  ‘[]’.

override
     If this field has a true value then the given feature is
     overridable, which means that it can be configured (or
     enabled/disabled) on a per-repository basis.

     Usually given "<feature>" is configurable via the
     ‘gitweb.<feature>’ config variable in the per-repository Git
     configuration file.

     *Note* that no feature is overridable by default.

sub
     Internal detail of implementation.  What is important is that if
     this field is not present then per-repository override for given
     feature is not supported.

     You wouldn’t need to ever change it in gitweb config file.


Features in %feature
====================

The gitweb features that are configurable via ‘%feature’ hash are listed
below.  This should be a complete list, but ultimately the authoritative
and complete list is in gitweb.cgi source code, with features described
in the comments.

blame
     Enable the "blame" and "blame_incremental" blob views, showing for
     each line the last commit that modified it; see git-blame(1).  This
     can be very CPU-intensive and is therefore disabled by default.

     This feature can be configured on a per-repository basis via
     repository’s ‘gitweb.blame’ configuration variable (boolean).

snapshot
     Enable and configure the "snapshot" action, which allows user to
     download a compressed archive of any tree or commit, as produced by
     git-archive(1) and possibly additionally compressed.  This can
     potentially generate high traffic if you have large project.

     The value of ’default’ is a list of names of snapshot formats,
     defined in ‘%known_snapshot_formats’ hash, that you wish to offer.
     Supported formats include "tgz", "tbz2", "txz" (gzip/bzip2/xz
     compressed tar archive) and "zip"; please consult gitweb sources
     for a definitive list.  By default only "tgz" is offered.

     This feature can be configured on a per-repository basis via
     repository’s ‘gitweb.snapshot’ configuration variable, which
     contains a comma separated list of formats or "none" to disable
     snapshots.  Unknown values are ignored.

grep
     Enable grep search, which lists the files in currently selected
     tree (directory) containing the given string; see git-grep(1).
     This can be potentially CPU-intensive, of course.  Enabled by
     default.

     This feature can be configured on a per-repository basis via
     repository’s ‘gitweb.grep’ configuration variable (boolean).

pickaxe
     Enable the so called pickaxe search, which will list the commits
     that introduced or removed a given string in a file.  This can be
     practical and quite faster alternative to "blame" action, but it is
     still potentially CPU-intensive.  Enabled by default.

     The pickaxe search is described in git-log(1) (the description of
     ‘-S<string>’ option, which refers to pickaxe entry in
     gitdiffcore(7) for more details).

     This feature can be configured on a per-repository basis by setting
     repository’s ‘gitweb.pickaxe’ configuration variable (boolean).

show-sizes
     Enable showing size of blobs (ordinary files) in a "tree" view, in
     a separate column, similar to what ‘ls -l’ does; see description of
     ‘-l’ option in git-ls-tree(1) manpage.  This costs a bit of I/O.
     Enabled by default.

     This feature can be configured on a per-repository basis via
     repository’s ‘gitweb.showSizes’ configuration variable (boolean).

patches
     Enable and configure "patches" view, which displays list of commits
     in email (plain text) output format; see also git-format-patch(1).
     The value is the maximum number of patches in a patchset generated
     in "patches" view.  Set the _default_ field to a list containing
     single item of or to an empty list to disable patch view, or to a
     list containing a single negative number to remove any limit.
     Default value is 16.

     This feature can be configured on a per-repository basis via
     repository’s ‘gitweb.patches’ configuration variable (integer).

avatar
     Avatar support.  When this feature is enabled, views such as
     "shortlog" or "commit" will display an avatar associated with the
     email of each committer and author.

     Currently available providers are *"gravatar"* and *"picon"*.  Only
     one provider at a time can be selected (_default_ is one element
     list).  If an unknown provider is specified, the feature is
     disabled.  *Note* that some providers might require extra Perl
     packages to be installed; see ‘gitweb/INSTALL’ for more details.

     This feature can be configured on a per-repository basis via
     repository’s ‘gitweb.avatar’ configuration variable.

     See also ‘%avatar_size’ with pixel sizes for icons and avatars
     ("default" is used for one-line like "log" and "shortlog", "double"
     is used for two-line like "commit", "commitdiff" or "tag").  If the
     default font sizes or lineheights are changed (e.g.  via adding
     extra CSS stylesheet in ‘@stylesheets’), it may be appropriate to
     change these values.

email-privacy
     Redact e-mail addresses from the generated HTML, etc.  content.
     This obscures e-mail addresses retrieved from the author/committer
     and comment sections of the Git log.  It is meant to hinder web
     crawlers that harvest and abuse addresses.  Such crawlers may not
     respect robots.txt.  Note that users and user tools also see the
     addresses as redacted.  If Gitweb is not the final step in a
     workflow then subsequent steps may misbehave because of the
     redacted information they receive.  Disabled by default.

highlight
     Server-side syntax highlight support in "blob" view.  It requires
     ‘$highlight_bin’ program to be available (see the description of
     this variable in the "Configuration variables" section above), and
     therefore is disabled by default.

     This feature can be configured on a per-repository basis via
     repository’s ‘gitweb.highlight’ configuration variable (boolean).

remote_heads
     Enable displaying remote heads (remote-tracking branches) in the
     "heads" list.  In most cases the list of remote-tracking branches
     is an unnecessary internal private detail, and this feature is
     therefore disabled by default.  git-instaweb(1), which is usually
     used to browse local repositories, enables and uses this feature.

     This feature can be configured on a per-repository basis via
     repository’s ‘gitweb.remote_heads’ configuration variable
     (boolean).

   The remaining features cannot be overridden on a per project basis.

search
     Enable text search, which will list the commits which match author,
     committer or commit text to a given string; see the description of
     ‘--author’, ‘--committer’ and ‘--grep’ options in git-log(1)
     manpage.  Enabled by default.

     Project specific override is not supported.

forks
     If this feature is enabled, gitweb considers projects in
     subdirectories of project root (basename) to be forks of existing
     projects.  For each project ‘$projname.git’, projects in the
     ‘$projname/’ directory and its subdirectories will not be shown in
     the main projects list.  Instead, a ’+’ mark is shown next to
     ‘$projname’, which links to a "forks" view that lists all the forks
     (all projects in ‘$projname/’ subdirectory).  Additionally a
     "forks" view for a project is linked from project summary page.

     If the project list is taken from a file (‘$projects_list’ points
     to a file), forks are only recognized if they are listed after the
     main project in that file.

     Project specific override is not supported.

actions
     Insert custom links to the action bar of all project pages.  This
     allows you to link to third-party scripts integrating into gitweb.

     The "default" value consists of a list of triplets in the form
     ‘("<label>", "<link>", "<position>")‘ where "position" is the label
     after which to insert the link, "link" is a format string where
     ‘%n’ expands to the project name, ‘%f’ to the project path within
     the filesystem (i.e.  "$projectroot/$project"), ‘%h’ to the current
     hash (’h’ gitweb parameter) and ‘%b‘ to the current hash base (’hb’
     gitweb parameter); ‘%%‘ expands to ’%’.

     For example, at the time this page was written, the
     http://repo.or.cz (http://repo.or.cz) Git hosting site set it to
     the following to enable graphical log (using the third party tool
     *git-browser*):

          $feature{'actions'}{'default'} =
                  [ ('graphiclog', '/git-browser/by-commit.html?r=%n', 'summary')];

     This adds a link titled "graphiclog" after the "summary" link,
     leading to ‘git-browser’ script, passing ‘r=<project>’ as a query
     parameter.

     Project specific override is not supported.

timed
     Enable displaying how much time and how many Git commands it took
     to generate and display each page in the page footer (at the bottom
     of page).  For example the footer might contain: "This page took
     6.53325 seconds and 13 Git commands to generate."  Disabled by
     default.

     Project specific override is not supported.

javascript-timezone
     Enable and configure the ability to change a common time zone for
     dates in gitweb output via JavaScript.  Dates in gitweb output
     include authordate and committerdate in "commit", "commitdiff" and
     "log" views, and taggerdate in "tag" view.  Enabled by default.

     The value is a list of three values: a default time zone (for if
     the client hasn’t selected some other time zone and saved it in a
     cookie), a name of cookie where to store selected time zone, and a
     CSS class used to mark up dates for manipulation.  If you want to
     turn this feature off, set "default" to empty list: ‘[]’.

     Typical gitweb config files will only change starting (default)
     time zone, and leave other elements at their default values:

          $feature{'javascript-timezone'}{'default'}[0] = "utc";

     The example configuration presented here is guaranteed to be
     backwards and forward compatible.

     Time zone values can be "local" (for local time zone that browser
     uses), "utc" (what gitweb uses when JavaScript or this feature is
     disabled), or numerical time zones in the form of "+/-HHMM", such
     as "+0200".

     Project specific override is not supported.

extra-branch-refs
     List of additional directories under "refs" which are going to be
     used as branch refs.  For example if you have a gerrit setup where
     all branches under refs/heads/ are official, push-after-review ones
     and branches under refs/sandbox/, refs/wip and refs/other are user
     ones where permissions are much wider, then you might want to set
     this variable as follows:

          $feature{'extra-branch-refs'}{'default'} =
                  ['sandbox', 'wip', 'other'];

     This feature can be configured on per-repository basis after
     setting $feature{_extra-branch-refs_}{_override_} to true, via
     repository’s ‘gitweb.extraBranchRefs’ configuration variable, which
     contains a space separated list of refs.  An example:

          [gitweb]
                  extraBranchRefs = sandbox wip other

     The gitweb.extraBranchRefs is actually a multi-valued configuration
     variable, so following example is also correct and the result is
     the same as of the snippet above:

          [gitweb]
                  extraBranchRefs = sandbox
                  extraBranchRefs = wip other

     It is an error to specify a ref that does not pass "git
     check-ref-format" scrutiny.  Duplicated values are filtered.


EXAMPLES
********

To enable blame, pickaxe search, and snapshot support (allowing "tar.gz"
and "zip" snapshots), while allowing individual projects to turn them
off, put the following in your GITWEB_CONFIG file:

     $feature{'blame'}{'default'} = [1];
     $feature{'blame'}{'override'} = 1;

     $feature{'pickaxe'}{'default'} = [1];
     $feature{'pickaxe'}{'override'} = 1;

     $feature{'snapshot'}{'default'} = ['zip', 'tgz'];
     $feature{'snapshot'}{'override'} = 1;

   If you allow overriding for the snapshot feature, you can specify
which snapshot formats are globally disabled.  You can also add any
command-line options you want (such as setting the compression level).
For instance, you can disable Zip compressed snapshots and set *gzip*(1)
to run at level 6 by adding the following lines to your gitweb
configuration file:

     $known_snapshot_formats{'zip'}{'disabled'} = 1;
     $known_snapshot_formats{'tgz'}{'compressor'} = ['gzip','-6'];


BUGS
****

Debugging would be easier if the fallback configuration file
(‘/etc/gitweb.conf’) and environment variable to override its location
(_GITWEB_CONFIG_SYSTEM_) had names reflecting their "fallback" role.
The current names are kept to avoid breaking working setups.


ENVIRONMENT
***********

The location of per-instance and system-wide configuration files can be
overridden using the following environment variables:

GITWEB_CONFIG
     Sets location of per-instance configuration file.

GITWEB_CONFIG_SYSTEM
     Sets location of fallback system-wide configuration file.  This
     file is read only if per-instance one does not exist.

GITWEB_CONFIG_COMMON
     Sets location of common system-wide configuration file.


FILES
*****

gitweb_config.perl
     This is default name of per-instance configuration file.  The
     format of this file is described above.

/etc/gitweb.conf
     This is default name of fallback system-wide configuration file.
     This file is used only if per-instance configuration variable is
     not found.

/etc/gitweb-common.conf
     This is default name of common system-wide configuration file.


SEE ALSO
********

gitweb(1), git-instaweb(1)

   _gitweb/README_, _gitweb/INSTALL_


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitweb,  Up: Top

Name
****

gitweb — Git web interface (web frontend to Git repositories)


Synopsis
********

To get started with gitweb, run git-instaweb(1) from a Git repository.
This would configure and start your web server, and run web browser
pointing to gitweb.


DESCRIPTION
***********

Gitweb provides a web interface to Git repositories.  Its features
include:

   • Viewing multiple Git repositories with common root.

   • Browsing every revision of the repository.

   • Viewing the contents of files in the repository at any revision.

   • Viewing the revision log of branches, history of files and
     directories, see what was changed when, by who.

   • Viewing the blame/annotation details of any file (if enabled).

   • Generating RSS and Atom feeds of commits, for any branch.  The
     feeds are auto-discoverable in modern web browsers.

   • Viewing everything that was changed in a revision, and step through
     revisions one at a time, viewing the history of the repository.

   • Finding commits which commit messages matches given search term.

   See http://repo.or.cz/w/git.git/tree/HEAD:/gitweb/
(http://repo.or.cz/w/git.git/tree/HEAD:/gitweb/) for gitweb source code,
browsed using gitweb itself.


CONFIGURATION
*************

Various aspects of gitweb’s behavior can be controlled through the
configuration file ‘gitweb_config.perl’ or ‘/etc/gitweb.conf’.  See the
gitweb.conf(5) for details.


Repositories
============

Gitweb can show information from one or more Git repositories.  These
repositories have to be all on local filesystem, and have to share
common repository root, i.e.  be all under a single parent repository
(but see also "Advanced web server setup" section, "Webserver
configuration with multiple projects’ root" subsection).

     our $projectroot = '/path/to/parent/directory';

   The default value for ‘$projectroot’ is ‘/pub/git’.  You can change
it during building gitweb via ‘GITWEB_PROJECTROOT’ build configuration
variable.

   By default all Git repositories under ‘$projectroot’ are visible and
available to gitweb.  The list of projects is generated by default by
scanning the ‘$projectroot’ directory for Git repositories (for object
databases to be more exact; gitweb is not interested in a working area,
and is best suited to showing "bare" repositories).

   The name of the repository in gitweb is the path to its ‘$GIT_DIR’
(its object database) relative to ‘$projectroot’.  Therefore the
repository $repo can be found at "$projectroot/$repo".


Projects list file format
=========================

Instead of having gitweb find repositories by scanning filesystem
starting from $projectroot, you can provide a pre-generated list of
visible projects by setting ‘$projects_list’ to point to a plain text
file with a list of projects (with some additional info).

   This file uses the following format:

   • One record (for project / repository) per line; does not support
     line continuation (newline escaping).

   • Leading and trailing whitespace are ignored.

   • Whitespace separated fields; any run of whitespace can be used as
     field separator (rules for Perl’s "‘split(" ", $line)’").

   • Fields use modified URI encoding, defined in RFC 3986, section 2.1
     (Percent-Encoding), or rather "Query string encoding" (see
     https://en.wikipedia.org/wiki/Query_string#URL_encoding
     (https://en.wikipedia.org/wiki/Query_string#URL_encoding)), the
     difference being that SP (" ") can be encoded as "+" (and therefore
     "+" has to be also percent-encoded).

     Reserved characters are: "%" (used for encoding), "+" (can be used
     to encode SPACE), all whitespace characters as defined in Perl,
     including SP, TAB and LF, (used to separate fields in a record).

   • Currently recognized fields are:

     <repository path>
          path to repository GIT_DIR, relative to ‘$projectroot’

     <repository owner>
          displayed as repository owner, preferably full name, or email,
          or both

   You can generate the projects list index file using the project_index
action (the _TXT_ link on projects list page) directly from gitweb; see
also "Generating projects list using gitweb" section below.

   Example contents:

     foo.git       Joe+R+Hacker+<joe@example.com>
     foo/bar.git   O+W+Ner+<owner@example.org>

   By default this file controls only which projects are *visible* on
projects list page (note that entries that do not point to correctly
recognized Git repositories won’t be displayed by gitweb).  Even if a
project is not visible on projects list page, you can view it
nevertheless by hand-crafting a gitweb URL. By setting ‘$strict_export’
configuration variable (see gitweb.conf(5)) to true value you can allow
viewing only of repositories also shown on the overview page (i.e.  only
projects explicitly listed in projects list file will be accessible).


Generating projects list using gitweb
=====================================

We assume that GITWEB_CONFIG has its default Makefile value, namely
_gitweb_config.perl_.  Put the following in _gitweb_make_index.perl_
file:

     read_config_file("gitweb_config.perl");
     $projects_list = $projectroot;

   Then create the following script to get list of project in the format
suitable for GITWEB_LIST build configuration variable (or
‘$projects_list’ variable in gitweb config):

     #!/bin/sh

     export GITWEB_CONFIG="gitweb_make_index.perl"
     export GATEWAY_INTERFACE="CGI/1.1"
     export HTTP_ACCEPT="*/*"
     export REQUEST_METHOD="GET"
     export QUERY_STRING="a=project_index"

     perl -- /var/www/cgi-bin/gitweb.cgi

   Run this script and save its output to a file.  This file could then
be used as projects list file, which means that you can set
‘$projects_list’ to its filename.


Controlling access to Git repositories
======================================

By default all Git repositories under ‘$projectroot’ are visible and
available to gitweb.  You can however configure how gitweb controls
access to repositories.

   • As described in "Projects list file format" section, you can
     control which projects are *visible* by selectively including
     repositories in projects list file, and setting ‘$projects_list’
     gitweb configuration variable to point to it.  With
     ‘$strict_export’ set, projects list file can be used to control
     which repositories are *available* as well.

   • You can configure gitweb to only list and allow viewing of the
     explicitly exported repositories, via ‘$export_ok’ variable in
     gitweb config file; see gitweb.conf(5) manpage.  If it evaluates to
     true, gitweb shows repositories only if this file named by
     ‘$export_ok’ exists in its object database (if directory has the
     magic file named ‘$export_ok’).

     For example git-daemon(1) by default (unless ‘--export-all’ option
     is used) allows pulling only for those repositories that have
     _git-daemon-export-ok_ file.  Adding

          our $export_ok = "git-daemon-export-ok";

     makes gitweb show and allow access only to those repositories that
     can be fetched from via ‘git://’ protocol.

   • Finally, it is possible to specify an arbitrary perl subroutine
     that will be called for each repository to determine if it can be
     exported.  The subroutine receives an absolute path to the project
     (repository) as its only parameter (i.e.  "$projectroot/$project").

     For example, if you use mod_perl to run the script, and have dumb
     HTTP protocol authentication configured for your repositories, you
     can use the following hook to allow access only if the user is
     authorized to read the files:

          $export_auth_hook = sub {
                  use Apache2::SubRequest ();
                  use Apache2::Const -compile => qw(HTTP_OK);
                  my $path = "$_[0]/HEAD";
                  my $r    = Apache2::RequestUtil->request;
                  my $sub  = $r->lookup_file($path);
                  return $sub->filename eq $path
                      && $sub->status == Apache2::Const::HTTP_OK;
          };


Per-repository gitweb configuration
===================================

You can configure individual repositories shown in gitweb by creating
file in the ‘GIT_DIR’ of Git repository, or by setting some repo
configuration variable (in ‘GIT_DIR/config’, see git-config(1)).

   You can use the following files in repository:

README.html
     A html file (HTML fragment) which is included on the gitweb project
     "summary" page inside ‘<div>’ block element.  You can use it for
     longer description of a project, to provide links (for example to
     project’s homepage), etc.  This is recognized only if XSS
     prevention is off (‘$prevent_xss’ is false, see gitweb.conf(5)); a
     way to include a README safely when XSS prevention is on may be
     worked out in the future.

description (or ‘gitweb.description’)
     Short (shortened to ‘$projects_list_description_width’ in the
     projects list page, which is 25 characters by default; see
     gitweb.conf(5)) single line description of a project (of a
     repository).  Plain text file; HTML will be escaped.  By default
     set to

          Unnamed repository; edit this file to name it for gitweb.

     from the template during repository creation, usually installed in
     ‘/usr/share/git-core/templates/’.  You can use the
     ‘gitweb.description’ repo configuration variable, but the file
     takes precedence.

category (or ‘gitweb.category’)
     Singe line category of a project, used to group projects if
     ‘$projects_list_group_categories’ is enabled.  By default (file and
     configuration variable absent), uncategorized projects are put in
     the ‘$project_list_default_category’ category.  You can use the
     ‘gitweb.category’ repo configuration variable, but the file takes
     precedence.

     The configuration variables ‘$projects_list_group_categories’ and
     ‘$project_list_default_category’ are described in gitweb.conf(5)

cloneurl (or multiple-valued ‘gitweb.url’)
     File with repository URL (used for clone and fetch), one per line.
     Displayed in the project summary page.  You can use multiple-valued
     ‘gitweb.url’ repository configuration variable for that, but the
     file takes precedence.

     This is per-repository enhancement / version of global prefix-based
     ‘@git_base_url_list’ gitweb configuration variable (see
     gitweb.conf(5)).

gitweb.owner
     You can use the ‘gitweb.owner’ repository configuration variable to
     set repository’s owner.  It is displayed in the project list and
     summary page.

     If it’s not set, filesystem directory’s owner is used (via GECOS
     field, i.e.  real name field from *getpwuid*(3)) if
     ‘$projects_list’ is unset (gitweb scans ‘$projectroot’ for
     repositories); if ‘$projects_list’ points to file with list of
     repositories, then project owner defaults to value from this file
     for given repository.

various ‘gitweb.*’ config variables (in config)
     Read description of ‘%feature’ hash for detailed list, and
     descriptions.  See also "Configuring gitweb features" section in
     gitweb.conf(5)


ACTIONS, AND URLS
*****************

Gitweb can use path_info (component) based URLs, or it can pass all
necessary information via query parameters.  The typical gitweb URLs are
broken down in to five components:

     .../gitweb.cgi/<repo>/<action>/<revision>:/<path>?<arguments>

repo
     The repository the action will be performed on.

     All actions except for those that list all available projects, in
     whatever form, require this parameter.

action
     The action that will be run.  Defaults to _projects_list_ if repo
     is not set, and to _summary_ otherwise.

revision
     Revision shown.  Defaults to HEAD.

path
     The path within the <repository> that the action is performed on,
     for those actions that require it.

arguments
     Any arguments that control the behaviour of the action.

   Some actions require or allow to specify two revisions, and sometimes
even two pathnames.  In most general form such path_info (component)
based gitweb URL looks like this:

     .../gitweb.cgi/<repo>/<action>/<revision_from>:/<path_from>..<revision_to>:/<path_to>?<arguments>

   Each action is implemented as a subroutine, and must be present in
%actions hash.  Some actions are disabled by default, and must be turned
on via feature mechanism.  For example to enable _blame_ view add the
following to gitweb configuration file:

     $feature{'blame'}{'default'} = [1];


Actions:
========

The standard actions are:

project_list
     Lists the available Git repositories.  This is the default command
     if no repository is specified in the URL.

summary
     Displays summary about given repository.  This is the default
     command if no action is specified in URL, and only repository is
     specified.

heads
remotes
     Lists all local or all remote-tracking branches in given
     repository.

     The latter is not available by default, unless configured.

tags
     List all tags (lightweight and annotated) in given repository.

blob
tree
     Shows the files and directories in a given repository path, at
     given revision.  This is default command if no action is specified
     in the URL, and path is given.

blob_plain
     Returns the raw data for the file in given repository, at given
     path and revision.  Links to this action are marked _raw_.

blobdiff
     Shows the difference between two revisions of the same file.

blame
blame_incremental
     Shows the blame (also called annotation) information for a file.
     On a per line basis it shows the revision in which that line was
     last changed and the user that committed the change.  The
     incremental version (which if configured is used automatically when
     JavaScript is enabled) uses Ajax to incrementally add blame info to
     the contents of given file.

     This action is disabled by default for performance reasons.

commit
commitdiff
     Shows information about a specific commit in a repository.  The
     _commit_ view shows information about commit in more detail, the
     _commitdiff_ action shows changeset for given commit.

patch
     Returns the commit in plain text mail format, suitable for applying
     with git-am(1).

tag
     Display specific annotated tag (tag object).

log
shortlog
     Shows log information (commit message or just commit subject) for a
     given branch (starting from given revision).

     The _shortlog_ view is more compact; it shows one commit per line.

history
     Shows history of the file or directory in a given repository path,
     starting from given revision (defaults to HEAD, i.e.  default
     branch).

     This view is similar to _shortlog_ view.

rss
atom
     Generates an RSS (or Atom) feed of changes to repository.


WEBSERVER CONFIGURATION
***********************

This section explains how to configure some common webservers to run
gitweb.  In all cases, ‘/path/to/gitweb’ in the examples is the
directory you ran installed gitweb in, and contains
‘gitweb_config.perl’.

   If you’ve configured a web server that isn’t listed here for gitweb,
please send in the instructions so they can be included in a future
release.


Apache as CGI
=============

Apache must be configured to support CGI scripts in the directory in
which gitweb is installed.  Let’s assume that it is ‘/var/www/cgi-bin’
directory.

     ScriptAlias /cgi-bin/ "/var/www/cgi-bin/"

     <Directory "/var/www/cgi-bin">
         Options Indexes FollowSymlinks ExecCGI
         AllowOverride None
         Order allow,deny
         Allow from all
     </Directory>

   With that configuration the full path to browse repositories would
be:

     http://server/cgi-bin/gitweb.cgi


Apache with mod_perl, via ModPerl::Registry
===========================================

You can use mod_perl with gitweb.  You must install Apache::Registry
(for mod_perl 1.x) or ModPerl::Registry (for mod_perl 2.x) to enable
this support.

   Assuming that gitweb is installed to ‘/var/www/perl’, the following
Apache configuration (for mod_perl 2.x) is suitable.

     Alias /perl "/var/www/perl"

     <Directory "/var/www/perl">
         SetHandler perl-script
         PerlResponseHandler ModPerl::Registry
         PerlOptions +ParseHeaders
         Options Indexes FollowSymlinks +ExecCGI
         AllowOverride None
         Order allow,deny
         Allow from all
     </Directory>

   With that configuration the full path to browse repositories would
be:

     http://server/perl/gitweb.cgi


Apache with FastCGI
===================

Gitweb works with Apache and FastCGI. First you need to rename, copy or
symlink gitweb.cgi to gitweb.fcgi.  Let’s assume that gitweb is
installed in ‘/usr/share/gitweb’ directory.  The following Apache
configuration is suitable (UNTESTED!)

     FastCgiServer /usr/share/gitweb/gitweb.cgi
     ScriptAlias /gitweb /usr/share/gitweb/gitweb.cgi

     Alias /gitweb/static /usr/share/gitweb/static
     <Directory /usr/share/gitweb/static>
         SetHandler default-handler
     </Directory>

   With that configuration the full path to browse repositories would
be:

     http://server/gitweb


ADVANCED WEB SERVER SETUP
*************************

All of those examples use request rewriting, and need ‘mod_rewrite’ (or
equivalent; examples below are written for Apache).


Single URL for gitweb and for fetching
======================================

If you want to have one URL for both gitweb and your ‘http://’
repositories, you can configure Apache like this:

     <VirtualHost *:80>
         ServerName    git.example.org
         DocumentRoot  /pub/git
         SetEnv        GITWEB_CONFIG   /etc/gitweb.conf

         # turning on mod rewrite
         RewriteEngine on

         # make the front page an internal rewrite to the gitweb script
         RewriteRule ^/$  /cgi-bin/gitweb.cgi

         # make access for "dumb clients" work
         RewriteRule ^/(.*\.git/(?!/?(HEAD|info|objects|refs)).*)?$ \
                     /cgi-bin/gitweb.cgi%{REQUEST_URI}  [L,PT]
     </VirtualHost>

   The above configuration expects your public repositories to live
under ‘/pub/git’ and will serve them as
‘http://git.domain.org/dir-under-pub-git’, both as clonable Git URL and
as browseable gitweb interface.  If you then start your git-daemon(1)
with ‘--base-path=/pub/git --export-all’ then you can even use the
‘git://’ URL with exactly the same path.

   Setting the environment variable ‘GITWEB_CONFIG’ will tell gitweb to
use the named file (i.e.  in this example ‘/etc/gitweb.conf’) as a
configuration for gitweb.  You don’t really need it in above example; it
is required only if your configuration file is in different place than
built-in (during compiling gitweb) _gitweb_config.perl_ or
‘/etc/gitweb.conf’.  See gitweb.conf(5) for details, especially
information about precedence rules.

   If you use the rewrite rules from the example you *might* also need
something like the following in your gitweb configuration file
(‘/etc/gitweb.conf’ following example):

     @stylesheets = ("/some/absolute/path/gitweb.css");
     $my_uri    = "/";
     $home_link = "/";
     $per_request_config = 1;

   Nowadays though gitweb should create HTML base tag when needed (to
set base URI for relative links), so it should work automatically.


Webserver configuration with multiple projects’ root
====================================================

If you want to use gitweb with several project roots you can edit your
Apache virtual host and gitweb configuration files in the following way.

   The virtual host configuration (in Apache configuration file) should
look like this:

     <VirtualHost *:80>
         ServerName    git.example.org
         DocumentRoot  /pub/git
         SetEnv        GITWEB_CONFIG  /etc/gitweb.conf

         # turning on mod rewrite
         RewriteEngine on

         # make the front page an internal rewrite to the gitweb script
         RewriteRule ^/$  /cgi-bin/gitweb.cgi  [QSA,L,PT]

         # look for a public_git folder in unix users' home
         # http://git.example.org/~<user>/
         RewriteRule ^/\~([^\/]+)(/|/gitweb.cgi)?$   /cgi-bin/gitweb.cgi \
                     [QSA,E=GITWEB_PROJECTROOT:/home/$1/public_git/,L,PT]

         # http://git.example.org/+<user>/
         #RewriteRule ^/\+([^\/]+)(/|/gitweb.cgi)?$  /cgi-bin/gitweb.cgi \
                      [QSA,E=GITWEB_PROJECTROOT:/home/$1/public_git/,L,PT]

         # http://git.example.org/user/<user>/
         #RewriteRule ^/user/([^\/]+)/(gitweb.cgi)?$ /cgi-bin/gitweb.cgi \
                      [QSA,E=GITWEB_PROJECTROOT:/home/$1/public_git/,L,PT]

         # defined list of project roots
         RewriteRule ^/scm(/|/gitweb.cgi)?$ /cgi-bin/gitweb.cgi \
                     [QSA,E=GITWEB_PROJECTROOT:/pub/scm/,L,PT]
         RewriteRule ^/var(/|/gitweb.cgi)?$ /cgi-bin/gitweb.cgi \
                     [QSA,E=GITWEB_PROJECTROOT:/var/git/,L,PT]

         # make access for "dumb clients" work
         RewriteRule ^/(.*\.git/(?!/?(HEAD|info|objects|refs)).*)?$ \
                     /cgi-bin/gitweb.cgi%{REQUEST_URI}  [L,PT]
     </VirtualHost>

   Here actual project root is passed to gitweb via
‘GITWEB_PROJECT_ROOT’ environment variable from a web server, so you
need to put the following line in gitweb configuration file
(‘/etc/gitweb.conf’ in above example):

     $projectroot = $ENV{'GITWEB_PROJECTROOT'} || "/pub/git";

   *Note* that this requires to be set for each request, so either
‘$per_request_config’ must be false, or the above must be put in code
referenced by ‘$per_request_config’;

   These configurations enable two things.  First, each unix user
(‘<user>’) of the server will be able to browse through gitweb Git
repositories found in ‘~/public_git/’ with the following url:

     http://git.example.org/~<user>/

   If you do not want this feature on your server just remove the second
rewrite rule.

   If you already use ‘mod_userdir‘ in your virtual host or you don’t
want to use the ’~’ as first character, just comment or remove the
second rewrite rule, and uncomment one of the following according to
what you want.

   Second, repositories found in ‘/pub/scm/’ and ‘/var/git/’ will be
accessible through ‘http://git.example.org/scm/’ and
‘http://git.example.org/var/’.  You can add as many project roots as you
want by adding rewrite rules like the third and the fourth.


PATH_INFO usage
===============

If you enable PATH_INFO usage in gitweb by putting

     $feature{'pathinfo'}{'default'} = [1];

   in your gitweb configuration file, it is possible to set up your
server so that it consumes and produces URLs in the form

     http://git.example.com/project.git/shortlog/sometag

   i.e.  without _gitweb.cgi_ part, by using a configuration such as the
following.  This configuration assumes that ‘/var/www/gitweb’ is the
DocumentRoot of your webserver, contains the gitweb.cgi script and
complementary static files (stylesheet, favicon, JavaScript):

     <VirtualHost *:80>
             ServerAlias git.example.com

             DocumentRoot /var/www/gitweb

             <Directory /var/www/gitweb>
                     Options ExecCGI
                     AddHandler cgi-script cgi

                     DirectoryIndex gitweb.cgi

                     RewriteEngine On
                     RewriteCond %{REQUEST_FILENAME} !-f
                     RewriteCond %{REQUEST_FILENAME} !-d
                     RewriteRule ^.* /gitweb.cgi/$0 [L,PT]
             </Directory>
     </VirtualHost>

   The rewrite rule guarantees that existing static files will be
properly served, whereas any other URL will be passed to gitweb as
PATH_INFO parameter.

   *Notice* that in this case you don’t need special settings for
‘@stylesheets’, ‘$my_uri’ and ‘$home_link’, but you lose "dumb client"
access to your project .git dirs (described in "Single URL for gitweb
and for fetching" section).  A possible workaround for the latter is the
following: in your project root dir (e.g.  ‘/pub/git’) have the projects
named *without* a .git extension (e.g.  ‘/pub/git/project’ instead of
‘/pub/git/project.git’) and configure Apache as follows:

     <VirtualHost *:80>
             ServerAlias git.example.com

             DocumentRoot /var/www/gitweb

             AliasMatch ^(/.*?)(\.git)(/.*)?$ /pub/git$1$3
             <Directory /var/www/gitweb>
                     Options ExecCGI
                     AddHandler cgi-script cgi

                     DirectoryIndex gitweb.cgi

                     RewriteEngine On
                     RewriteCond %{REQUEST_FILENAME} !-f
                     RewriteCond %{REQUEST_FILENAME} !-d
                     RewriteRule ^.* /gitweb.cgi/$0 [L,PT]
             </Directory>
     </VirtualHost>

   The additional AliasMatch makes it so that

     http://git.example.com/project.git

   will give raw access to the project’s Git dir (so that the project
can be cloned), while

     http://git.example.com/project

   will provide human-friendly gitweb access.

   This solution is not 100% bulletproof, in the sense that if some
project has a named ref (branch, tag) starting with ‘git/’, then paths
such as

     http://git.example.com/project/command/abranch..git/abranch

   will fail with a 404 error.


BUGS
****

Please report any bugs or feature requests to git@vger.kernel.org
(mailto:git@vger.kernel.org), putting "gitweb" in the subject of email.


SEE ALSO
********

gitweb.conf(5), git-instaweb(1)

   ‘gitweb/README’, ‘gitweb/INSTALL’


GIT
***

Part of the git(1) suite


File: gitman.info,  Node: gitworkflows,  Up: Top

Name
****

gitworkflows — Gitで推奨の作業手順の概要


Synopsis
********

     git *


DESCRIPTION
***********

この文書は、 ‘git.git’ 自体に使用されるワークフロー要素のいくつかを書き
留めて動機付けしようとしています。一般に多くのアイデアが当てはまりますが
、関係者が少ない小規模なプロジェクトではこのような完全なワークフローが必
要になることはめったにありません。

   We formulate a set of _rules_ for quick reference, while the prose
tries to motivate each of them.  Do not always take them literally; you
should value good reasons for your actions higher than manpages such as
this one.


SEPARATE CHANGES
****************

原則として、変更を小さな論理ステップに分割し、それぞれでコミットするよう
にしてください。それらは一貫性があり、その後のコミットとは独立して機能し
、テストスイートに合格する必要があります。これにより、レビュープロセスが
はるかに簡単になり、その履歴は、たとえば git-blame(1) や git-bisect(1)を
使用して後で検査や分析する時にはるかに役立ちます。

   これを実現するには、最初から作業を小さなステップに分割してみてくださ
い。1つの大きなコミットを複数に分割するよりも、いくつかのコミットをまと
める方が常に簡単です。途中で小さすぎる、または不完全なステップを作成する
ことを恐れないでください。いつでも後で戻って、公開する前に ‘git rebase
--interactive’ を使用してコミットを編集できます。 ‘git stash push
--keep-index’ を使用して、他のコミットされていない変更とは無関係にテスト
スイートを実行できます。 git-stash(1) の「EXAMPLES」セクションを参照して
ください。


MANAGING BRANCHES
*****************

あるブランチから別のブランチへの変更を含めるために使用できる2つの主要な
ツールがあります。 git-merge(1) と git-cherry-pick(1) です。

   マージには多くの利点があるため、マージだけで可能な限り多くの問題を解
決しようとしています。 cherry-pickingまだ時々役に立ちます。例については
、以下の「Merging upwards」を参照してください。

   Most importantly, merging works at the branch level, while
cherry-picking works at the commit level.  This means that a merge can
carry over the changes from 1, 10, or 1000 commits with equal ease,
which in turn means the workflow scales much better to a large number of
contributors (and contributions).  Merges are also easier to understand
because a merge commit is a "promise" that all changes from all its
parents are now included.

   もちろん、トレードオフがあります。マージには、より慎重なブランチ管理
が必要です。以下のサブセクションでは、重要なポイントについて説明します。


Graduation
==========

特定の機能が実験的なもの(experimental)から安定したもの(stable)に変わると
、ソフトウェアの対応するブランチ間でも「段階的に」(graduates)移行します
。 ‘git.git’ は以下の「統合ブランチ」(integration branches)を使用します:

   • _maint_ は、次の「メンテナンスリリース」(maintenance release)、つま
     り最後にリリースされた安定バージョンの更新に入るコミットを追跡しま
     す

   • _master_ は、次のリリースに入る予定のコミットを追跡します。

   • _next_ は、masterの安定性をテストするトピックのテストブランチとして
     意図されています。

   少し異なる方法で使用される4番目の公式ブランチがあります:

   • _seen_ (メンテナによって表示されるパッチ)は、まだ含める準備が整って
     いないモノの統合ブランチです(以下の「Integration Branches」を参照
     )。

   4つのブランチのそれぞれは、通常、その上のブランチの直接の子孫です。

   概念的には、機能(feature)は不安定なブランチ(通常は「next」または「
seen」)に入り、十分に安定している(stable)と見なされると、次のリリースの
ために「master」に「卒業」(graduates)します。


Merging upwards
===============

The "downwards graduation" discussed above cannot be done by actually
merging downwards, however, since that would merge _all_ changes on the
unstable branch into the stable one.  Hence the following:

   *Merge upwards*

   Always commit your fixes to the oldest supported branch that requires
them.  Then (periodically) merge the integration branches upwards into
each other.

   This gives a very controlled flow of fixes.  If you notice that you
have applied a fix to e.g.  _master_ that is also required in _maint_,
you will need to cherry-pick it (using git-cherry-pick(1)) downwards.
This will happen a few times and is nothing to worry about unless you do
it very frequently.


Topic branches
==============

Any nontrivial feature will require several patches to implement, and
may get extra bugfixes or improvements during its lifetime.

   Committing everything directly on the integration branches leads to
many problems: Bad commits cannot be undone, so they must be reverted
one by one, which creates confusing histories and further error
potential when you forget to revert part of a group of changes.  Working
in parallel mixes up the changes, creating further confusion.

   Use of "topic branches" solves these problems.  The name is pretty
self explanatory, with a caveat that comes from the "merge upwards" rule
above:

   *Topic branches*

   Make a side branch for every topic (feature, bugfix, …).  Fork it off
at the oldest integration branch that you will eventually want to merge
it into.

   Many things can then be done very naturally:

   • To get the feature/bugfix into an integration branch, simply merge
     it.  If the topic has evolved further in the meantime, merge again.
     (Note that you do not necessarily have to merge it to the oldest
     integration branch first.  For example, you can first merge a
     bugfix to _next_, give it some testing time, and merge to _maint_
     when you know it is stable.)

   • If you find you need new features from the branch _other_ to
     continue working on your topic, merge _other_ to _topic_.
     (However, do not do this "just habitually", see below.)

   • If you find you forked off the wrong branch and want to move it
     "back in time", use git-rebase(1).

   Note that the last point clashes with the other two: a topic that has
been merged elsewhere should not be rebased.  See the section on
RECOVERING FROM UPSTREAM REBASE in git-rebase(1).

   We should point out that "habitually" (regularly for no real reason)
merging an integration branch into your topics — and by extension,
merging anything upstream into anything downstream on a regular basis —
is frowned upon:

   *Merge to downstream only at well-defined points*

   Do not merge to downstream except with a good reason: upstream API
changes affect your branch; your branch no longer merges to upstream
cleanly; etc.

   Otherwise, the topic that was merged to suddenly contains more than a
single (well-separated) change.  The many resulting small merges will
greatly clutter up history.  Anyone who later investigates the history
of a file will have to find out whether that merge affected the topic in
development.  An upstream might even inadvertently be merged into a
"more stable" branch.  And so on.


Throw-away integration
======================

If you followed the last paragraph, you will now have many small topic
branches, and occasionally wonder how they interact.  Perhaps the result
of merging them does not even work?  But on the other hand, we want to
avoid merging them anywhere "stable" because such merges cannot easily
be undone.

   The solution, of course, is to make a merge that we can undo: merge
into a throw-away branch.

   *Throw-away integration branches*

   To test the interaction of several topics, merge them into a
throw-away branch.  You must never base any work on such a branch!

   If you make it (very) clear that this branch is going to be deleted
right after the testing, you can even publish this branch, for example
to give the testers a chance to work with it, or other developers a
chance to see if their in-progress work will be compatible.  ‘git.git’
has such an official throw-away integration branch called _seen_.


Branch management for a release
===============================

Assuming you are using the merge approach discussed above, when you are
releasing your project you will need to do some additional branch
management work.

   A feature release is created from the _master_ branch, since _master_
tracks the commits that should go into the next feature release.

   The _master_ branch is supposed to be a superset of _maint_.  If this
condition does not hold, then _maint_ contains some commits that are not
included on _master_.  The fixes represented by those commits will
therefore not be included in your feature release.

   To verify that _master_ is indeed a superset of _maint_, use git log:

   *Verify master is a superset of maint*

   ‘git log master..maint’

   This command should not list any commits.  Otherwise, check out
_master_ and merge _maint_ into it.

   Now you can proceed with the creation of the feature release.  Apply
a tag to the tip of _master_ indicating the release version:

   *Release tagging*

   ‘git tag -s -m "Git X.Y.Z" vX.Y.Z master’

   You need to push the new tag to a public Git server (see "DISTRIBUTED
WORKFLOWS" below).  This makes the tag available to others tracking your
project.  The push could also trigger a post-update hook to perform
release-related items such as building release tarballs and preformatted
documentation pages.

   Similarly, for a maintenance release, _maint_ is tracking the commits
to be released.  Therefore, in the steps above simply tag and push
_maint_ rather than _master_.


Maintenance branch management after a feature release
=====================================================

After a feature release, you need to manage your maintenance branches.

   First, if you wish to continue to release maintenance fixes for the
feature release made before the recent one, then you must create another
branch to track commits for that previous release.

   To do this, the current maintenance branch is copied to another
branch named with the previous release version number (e.g.
maint-X.Y.(Z-1) where X.Y.Z is the current release).

   *Copy maint*

   ‘git branch maint-X.Y.(Z-1) maint’

   The _maint_ branch should now be fast-forwarded to the newly released
code so that maintenance fixes can be tracked for the current release:

   *Update maint to new release*

   • ‘git checkout maint’

   • ‘git merge --ff-only master’

   If the merge fails because it is not a fast-forward, then it is
possible some fixes on _maint_ were missed in the feature release.  This
will not happen if the content of the branches was verified as described
in the previous section.


Branch management for next and seen after a feature release
===========================================================

After a feature release, the integration branch _next_ may optionally be
rewound and rebuilt from the tip of _master_ using the surviving topics
on _next_:

   *Rewind and rebuild next*

   • ‘git switch -C next master’

   • ‘git merge ai/topic_in_next1’

   • ‘git merge ai/topic_in_next2’

   • …

   The advantage of doing this is that the history of _next_ will be
clean.  For example, some topics merged into _next_ may have initially
looked promising, but were later found to be undesirable or premature.
In such a case, the topic is reverted out of _next_ but the fact remains
in the history that it was once merged and reverted.  By recreating
_next_, you give another incarnation of such topics a clean slate to
retry, and a feature release is a good point in history to do so.

   If you do this, then you should make a public announcement indicating
that _next_ was rewound and rebuilt.

   The same rewind and rebuild process may be followed for _seen_.  A
public announcement is not necessary since _seen_ is a throw-away
branch, as described above.


DISTRIBUTED WORKFLOWS
*********************

After the last section, you should know how to manage topics.  In
general, you will not be the only person working on the project, so you
will have to share your work.

   Roughly speaking, there are two important workflows: merge and patch.
The important difference is that the merge workflow can propagate full
history, including merges, while patches cannot.  Both workflows can be
used in parallel: in ‘git.git’, only subsystem maintainers use the merge
workflow, while everyone else sends patches.

   Note that the maintainer(s) may impose restrictions, such as
"Signed-off-by" requirements, that all commits/patches submitted for
inclusion must adhere to.  Consult your project’s documentation for more
information.


Merge workflow
==============

The merge workflow works by copying branches between upstream and
downstream.  Upstream can merge contributions into the official history;
downstream base their work on the official history.

   There are three main tools that can be used for this:

   • git-push(1) copies your branches to a remote repository, usually to
     one that can be read by all involved parties;

   • git-fetch(1) that copies remote branches to your repository; and

   • git-pull(1) that does fetch and merge in one go.

   Note the last point.  Do _not_ use _git pull_ unless you actually
want to merge the remote branch.

   Getting changes out is easy:

   *Push/pull: Publishing branches/topics*

   ‘git push <remote> <branch>’ and tell everyone where they can fetch
from.

   You will still have to tell people by other means, such as mail.
(Git provides the git-request-pull(1) to send preformatted pull requests
to upstream maintainers to simplify this task.)

   If you just want to get the newest copies of the integration
branches, staying up to date is easy too:

   *Push/pull: Staying up to date*

   Use ‘git fetch <remote>’ or ‘git remote update’ to stay up to date.

   Then simply fork your topic branches from the stable remotes as
explained earlier.

   If you are a maintainer and would like to merge other people’s topic
branches to the integration branches, they will typically send a request
to do so by mail.  Such a request looks like

     Please pull from
         <url> <branch>

   In that case, _git pull_ can do the fetch and merge in one go, as
follows.

   *Push/pull: Merging remote topics*

   ‘git pull <url> <branch>’

   Occasionally, the maintainer may get merge conflicts when they try to
pull changes from downstream.  In this case, they can ask downstream to
do the merge and resolve the conflicts themselves (perhaps they will
know better how to resolve them).  It is one of the rare cases where
downstream _should_ merge from upstream.


Patch workflow
==============

If you are a contributor that sends changes upstream in the form of
emails, you should use topic branches as usual (see above).  Then use
git-format-patch(1) to generate the corresponding emails (highly
recommended over manually formatting them because it makes the
maintainer’s life easier).

   *format-patch/am: Publishing branches/topics*

   • ‘git format-patch -M upstream..topic’ to turn them into
     preformatted patch files

   • ‘git send-email --to=<recipient> <patches>’

   See the git-format-patch(1) and git-send-email(1) manpages for
further usage notes.

   If the maintainer tells you that your patch no longer applies to the
current upstream, you will have to rebase your topic (you cannot use a
merge because you cannot format-patch merges):

   *format-patch/am: Keeping topics up to date*

   ‘git pull --rebase <url> <branch>’

   You can then fix the conflicts during the rebase.  Presumably you
have not published your topic other than by mail, so rebasing it is not
a problem.

   If you receive such a patch series (as maintainer, or perhaps as a
reader of the mailing list it was sent to), save the mails to files,
create a new topic branch and use _git am_ to import the commits:

   *format-patch/am: Importing patches*

   ‘git am < patch’

   One feature worth pointing out is the three-way merge, which can help
if you get conflicts: ‘git am -3’ will use index information contained
in patches to figure out the merge base.  See git-am(1) for other
options.


SEE ALSO
********

gittutorial(7), git-push(1), git-pull(1), git-merge(1), git-rebase(1),
git-format-patch(1), git-send-email(1), git-am(1)


GIT
***

Part of the git(1) suite



Tag Table:
Node: Top216
Node: git-add3477
Node: git-am20115
Node: git-annotate29214
Node: git-apply39671
Node: git-archimport51683
Node: git-archive57286
Node: git-bisect64303
Node: git-blame81372
Node: git-branch99538
Node: git-bugreport115266
Node: git-bundle117265
Node: git-cat-file129297
Node: git-check-attr140567
Node: git-check-ignore144437
Node: git-check-mailmap150126
Node: git-check-ref-format151626
Node: git-checkout-index157058
Node: git-checkout162783
Node: git-cherry-pick187325
Node: git-cherry197530
Node: git-citool202047
Node: git-clean202829
Node: git-clone209287
Node: git-column228712
Node: git-commit-graph231347
Node: git-commit-tree237296
Node: git-commit246468
Node: git-config276187
Node: git-count-objects565809
Node: git-credential-cache--daemon567957
Node: git-credential-cache569122
Node: git-credential-store572075
Node: git-credential577011
Node: git-cvsexportcommit583402
Node: git-cvsimport587925
Node: git-cvsserver596270
Node: git-daemon612644
Node: git-describe626210
Node: git-diff-files635016
Node: git-diff-index694697
Node: git-diff-tree757663
Node: git-diff848132
Node: git-difftool914711
Node: git-fast-export920240
Node: git-fast-import931481
Node: git-fetch-pack995037
Node: git-fetch999503
Node: git-filter-branch1038652
Node: git-fmt-merge-msg1070234
Node: git-for-each-ref1073612
Node: git-for-each-repo1095242
Node: git-format-patch1097344
Node: git-fsck-objects1151070
Node: git-fsck1151483
Node: git-gc1164847
Node: git-get-tar-commit-id1181569
Node: git-grep1182897
Node: git-gui1195635
Node: git-hash-object1200500
Node: git-help1203377
Node: git-http-backend1210143
Node: git-http-fetch1221787
Node: git-http-push1224226
Node: git-imap-send1228569
Node: git-index-pack1235879
Node: git-init-db1241528
Node: git-init1241972
Node: git-instaweb1248738
Node: git-interpret-trailers1251735
Node: git-log1269032
Node: git-ls-files1417108
Node: git-ls-remote1426515
Node: git-ls-tree1432010
Node: git-mailinfo1437185
Node: git-mailsplit1442967
Node: git-maintenance1444835
Node: git-merge-base1464044
Node: git-merge-file1472308
Node: git-merge-index1476026
Node: git-merge-one-file1479371
Node: git-merge-tree1479830
Node: git-merge1480812
Node: git-mergetool--lib1517458
Node: git-mergetool1519527
Node: git-mktag1529358
Node: git-mktree1531909
Node: git-multi-pack-index1533530
Node: git-mv1538739
Node: git-name-rev1541732
Node: git-notes1545307
Ref: git-notes-Footnote-11560568
Node: git-p41560784
Node: git-pack-objects1589854
Node: git-pack-redundant1609557
Node: git-pack-refs1611103
Node: git-patch-id1614155
Node: git-prune-packed1617267
Node: git-prune1618588
Node: git-pull1621533
Node: git-push1670545
Node: git-quiltimport1710688
Node: git-range-diff1712857
Node: git-read-tree1723867
Node: git-rebase1741823
Node: git-receive-pack1802177
Node: git-reflog1812243
Node: git-remote-ext1817225
Node: git-remote-fd1821342
Node: git-remote1823677
Node: git-repack1833378
Node: git-replace1846314
Node: git-request-pull1853277
Node: git-rerere1855912
Node: git-reset1866505
Node: git-restore1889109
Node: git-rev-list1899282
Node: git-rev-parse1992135
Node: git-revert2037638
Node: git-rm2043322
Node: git-send-email2050620
Node: git-send-pack2073808
Node: git-sh-i18n--envsubst2079327
Node: git-sh-i18n2080688
Node: git-sh-setup2082332
Node: git-shell2086625
Node: git-shortlog2090490
Node: git-show-branch2133612
Node: git-show-index2140498
Node: git-show-ref2143105
Node: git-show2148676
Node: git-sparse-checkout2236175
Node: git-stage2247115
Node: git-stash2247449
Node: git-status2261493
Node: git-stripspace2279643
Node: git-submodule2282138
Node: git-svn2304566
Node: git-switch2353801
Node: git-symbolic-ref2365689
Node: git-tag2368482
Node: git-unpack-file2383993
Node: git-unpack-objects2384518
Node: git-update-index2386358
Node: git-update-ref2409735
Node: git-update-server-info2416307
Node: git-upload-archive2417330
Node: git-upload-pack2420217
Node: git-var2422634
Node: git-verify-commit2424402
Node: git-verify-pack2425083
Node: git-verify-tag2426659
Node: git-version2427316
Node: git-web--browse2427998
Node: git-whatchanged2431630
Node: git-worktree2433006
Node: git-write-tree2454861
Node: git2456370
Node: gitattributes2527483
Node: gitcli2575544
Node: gitcore-tutorial2585344
Node: gitcredentials2648006
Node: gitcvs-migration2661989
Node: gitdiffcore2669167
Node: giteveryday2682543
Node: gitfaq2704044
Node: gitglossary2734064
Node: githooks2771316
Node: gitignore2799087
Node: gitk2811546
Node: gitmailmap2819840
Node: gitmodules2824621
Node: gitnamespaces2829817
Node: gitremote-helpers2835541
Node: gitrepository-layout2858114
Node: gitrevisions2881725
Node: gitsubmodules2905710
Node: gittutorial-22916782
Node: gittutorial2930307
Node: gitweb.conf2953829
Node: gitweb2996065
Node: gitworkflows3022229

End Tag Table


Local Variables:
coding: utf-8
End:

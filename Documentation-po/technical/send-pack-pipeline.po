# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2021-10-01 18:42+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title =
#: ../Documentation/technical/send-pack-pipeline.txt:2
#, no-wrap
msgid "Git-send-pack internals"
msgstr ""

#. type: Title -
#: ../Documentation/technical/send-pack-pipeline.txt:5
#, no-wrap
msgid "Overall operation"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:8
msgid "Connects to the remote side and invokes git-receive-pack."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:11
msgid ""
"Learns what refs the remote has and what commit they point at.  Matches them "
"to the refspecs we are pushing."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:17
msgid ""
"Checks if there are non-fast-forwards.  Unlike fetch-pack, the repository "
"send-pack runs in is supposed to be a superset of the recipient in "
"fast-forward cases, so there is no need for want/have exchanges, and "
"fast-forward check can be done locally.  Tell the result to the other end."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:20
msgid ""
"Calls pack_objects() which generates a packfile and sends it over to the "
"other end."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:23
msgid ""
"If the remote side is new enough (v1.1.0 or later), wait for the unpack and "
"hook status from the other end."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:25
msgid "Exit with appropriate error codes."
msgstr ""

#. type: Title -
#: ../Documentation/technical/send-pack-pipeline.txt:28
#, no-wrap
msgid "Pack_objects pipeline"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:33
msgid ""
"This function gets one file descriptor (`fd`) which is either a socket (over "
"the network) or a pipe (local).  What's written to this fd goes to "
"git-receive-pack to be unpacked."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:35
#, no-wrap
msgid "    send-pack ---> fd ---> receive-pack\n"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:40
msgid ""
"The function pack_objects creates a pipe and then forks.  The forked child "
"execs pack-objects with --revs to receive revision parameters from its "
"standard input. This process will write the packfile to the other end."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:47
#, no-wrap
msgid ""
"    send-pack\n"
"       |\n"
"       pack_objects() ---> fd ---> receive-pack\n"
"          | ^ (pipe)\n"
"\t  v |\n"
"         (child)\n"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:53
msgid ""
"The child dup2's to arrange its standard output to go back to the other end, "
"and read its standard input to come from the pipe.  After that it exec's "
"pack-objects.  On the other hand, the parent process, before starting to "
"feed the child pipeline, closes the reading side of the pipe and fd to "
"receive-pack."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:60
#, no-wrap
msgid ""
"    send-pack\n"
"       |\n"
"       pack_objects(parent)\n"
"          |\n"
"\t  v [0]\n"
"         pack-objects [0] ---> receive-pack\n"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/send-pack-pipeline.txt:63
#, no-wrap
msgid ""
"[jc: the pipeline was much more complex and needed documentation before\n"
" I understood an earlier bug, but now it is trivial and straightforward.]\n"
msgstr ""

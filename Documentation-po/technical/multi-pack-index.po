# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2021-10-02 01:06+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title =
#: ../Documentation/technical/multi-pack-index.txt:2
#, no-wrap
msgid "Multi-Pack-Index (MIDX) Design Notes"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:16
msgid ""
"The Git object directory contains a 'pack' directory containing packfiles "
"(with suffix \".pack\") and pack-indexes (with suffix \".idx\"). The "
"pack-indexes provide a way to lookup objects and navigate to their offset "
"within the pack, but these must come in pairs with the packfiles. This "
"pairing depends on the file names, as the pack-index differs only in suffix "
"with its pack- file. While the pack-indexes provide fast lookup per "
"packfile, this performance degrades as the number of packfiles increases, "
"because abbreviations need to inspect every packfile and we are more likely "
"to have a miss on our most-recently-used packfile.  For some large "
"repositories, repacking into a single packfile is not feasible due to "
"storage space or excessive repack times."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:19
msgid ""
"The multi-pack-index (MIDX for short) stores a list of objects and their "
"offsets into multiple packfiles. It contains:"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:21
msgid "A list of packfile names."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:22
msgid "A sorted list of object IDs."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:23
msgid "A list of metadata for the ith object ID including:"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:24
msgid "A value j referring to the jth packfile."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:25
msgid "An offset within the jth packfile for the object."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:27
msgid ""
"If large offsets are required, we use another list of large offsets similar "
"to version 2 pack-indexes."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:30
msgid "Thus, we can provide O(log N) lookup time for any number of packfiles."
msgstr ""

#. type: Title -
#: ../Documentation/technical/multi-pack-index.txt:32
#, no-wrap
msgid "Design Details"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:38
msgid ""
"The MIDX is stored in a file named 'multi-pack-index' in the "
".git/objects/pack directory. This could be stored in the pack directory of "
"an alternate. It refers only to packfiles in that same directory."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:40
msgid "The core.multiPackIndex config setting must be on to consume MIDX files."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:44
msgid ""
"The file format includes parameters for the object ID hash function, so a "
"future change of hash algorithm does not require a change in format."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:49
msgid ""
"The MIDX keeps only one record per object ID. If an object appears in "
"multiple packfiles, then the MIDX selects the copy in the preferred "
"packfile, otherwise selecting from the most-recently modified packfile."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:53
msgid ""
"If there exist packfiles in the pack directory not registered in the MIDX, "
"then those packfiles are loaded into the `packed_git` list and "
"`packed_git_mru` cache."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:57
msgid ""
"The pack-indexes (.idx files) remain in the pack directory so we can delete "
"the MIDX file, set core.midx to false, or downgrade without any loss of "
"information."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:60
msgid ""
"The MIDX file format uses a chunk-based approach (similar to the "
"commit-graph file) that allows optional data to be added."
msgstr ""

#. type: Title -
#: ../Documentation/technical/multi-pack-index.txt:62
#, no-wrap
msgid "Future Work"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:73
msgid ""
"The multi-pack-index allows many packfiles, especially in a context where "
"repacking is expensive (such as a very large repo), or unexpected "
"maintenance time is unacceptable (such as a high-demand build "
"machine). However, the multi-pack-index needs to be rewritten in full every "
"time. We can extend the format to be incremental, so writes are fast. By "
"storing a small \"tip\" multi-pack-index that points to large \"base\" MIDX "
"files, we can keep writes fast while still reducing the number of binary "
"searches required for object lookups."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:78
msgid ""
"If the multi-pack-index is extended to store a \"stable object order\" (a "
"function Order(hash) = integer that is constant for a given hash, even as "
"the multi-pack-index is updated) then MIDX bitmaps could be updated "
"independently of the MIDX."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:87
msgid ""
"Packfiles can be marked as \"special\" using empty files that share the "
"initial name but replace \".pack\" with \".keep\" or \".promisor\".  We can "
"add an optional chunk of data to the multi-pack-index that records flags of "
"information about the packfiles. This allows new states, such as 'repacked' "
"or 'redeltified', that can help with pack maintenance in a multi-pack "
"environment. It may also be helpful to organize packfiles by object type "
"(commit, tree, blob, etc.) and use this metadata to help that maintenance."
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:92
msgid ""
"The partial clone feature records special \"promisor\" packs that may point "
"to objects that are not stored locally, but available on request to a "
"server. The multi-pack-index does not currently track these promisor packs."
msgstr ""

#. type: Title -
#: ../Documentation/technical/multi-pack-index.txt:94
#, no-wrap
msgid "Related Links"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:97
#, no-wrap
msgid ""
"[0] https://bugs.chromium.org/p/git/issues/detail?id=6\n"
"    Chromium work item for: Multi-Pack Index (MIDX)\n"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:100
#, no-wrap
msgid ""
"[1] "
"https://lore.kernel.org/git/20180107181459.222909-1-dstolee@microsoft.com/\n"
"    An earlier RFC for the multi-pack-index feature\n"
msgstr ""

#. type: Plain text
#: ../Documentation/technical/multi-pack-index.txt:102
#, no-wrap
msgid ""
"[2] "
"https://lore.kernel.org/git/alpine.DEB.2.20.1803091557510.23109@alexmv-linux/\n"
"    Git Merge 2018 Contributor's summit notes (includes discussion of "
"MIDX)\n"
msgstr ""

# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: git-docs-ja 0.0\n"
"POT-Creation-Date: 2021-11-04 05:35+0900\n"
"PO-Revision-Date: 2022-08-08 17:37+0900\n"
"Last-Translator: kuma35\n"
"Language-Team: Japanese\n"
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title =
#: ../Documentation-sedout/technical/sparse-index.txt:2
#, no-wrap
msgid "Git Sparse-Index Design Document"
msgstr "Git Sparse-Index Design Document"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:8
msgid ""
"The sparse-checkout feature allows users to focus a working directory on a "
"subset of the files at HEAD. The cone mode patterns, enabled by `core."
"sparseCheckoutCone`, allow for very fast pattern matching to discover which "
"files at HEAD belong in the sparse-checkout cone."
msgstr "スパースチェックアウト(疎なチェックアウト)(sparse-checkout)機能により、ユーザーはその作業ディレクトリを HEAD のファイルのサブセットに専念させることができます。 `core.sparseCheckoutCone` によって有効化されるコーン モード パターンにより、HEAD のどのファイルがスパース チェックアウト コーンに属するかを検出する、非常に高速なパターン マッチングが可能になります。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:10
msgid "Three important scale dimensions for a Git working directory are:"
msgstr "Git 作業ディレクトリの 3 つの重要な規模的側面は以下のとおりです:"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:12
msgid "`HEAD`: How many files are present at `HEAD`?"
msgstr "`HEAD`: `HEAD` にはいくつのファイルが存在しますか?"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:14
msgid "Populated: How many files are within the sparse-checkout cone."
msgstr "存在している: スパース チェックアウト コーン(sparse-checkout cone)内にあるファイルの数。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:16
msgid ""
"Modified: How many files has the user modified in the working directory?"
msgstr "変更されている: ユーザーが作業ディレクトリで変更したファイルの数は?"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:19
msgid ""
"We will use big-O notation -- O(X) -- to denote how expensive certain "
"operations are in terms of these dimensions."
msgstr "ランダウの漸近記法(big-O notation) O(X) を使用して、特定の操作がこれらの側面に関してどれだけコストがかかるかを示します。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:22
msgid ""
"These dimensions are ordered by their magnitude: users (typically) modify "
"fewer files than are populated, and we can only populate files at `HEAD`."
msgstr "これらの側面は、その大きさの順に並べられています。ユーザーは (通常)、入力されたファイルよりも少ないファイルを変更します。また、私達は `HEAD` でのみファイルを入力できます。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:30
msgid ""
"Problems occur if there is an extreme imbalance in these dimensions. For "
"example, if `HEAD` contains millions of paths but the populated set has only "
"tens of thousands, then commands like `git status` and `git add` can be "
"dominated by operations that require O(`HEAD`) operations instead of "
"O(Populated). Primarily, the cost is in parsing and rewriting the index, "
"which is filled primarily with files at `HEAD` that are marked with the "
"`SKIP_WORKTREE` bit."
msgstr "これらの側面に極度の不均衡がある場合、問題が発生します。 たとえば、`HEAD` に数百万のパスが含まれているが、入力されたセットには数万しかない場合、 `git status` や `git add` などのコマンドは、 O(入力) ではなく O(`HEAD`) 操作を必要とする操作によって支配される可能性があります。 主に、コストはインデックスの解析と再書き込みにあります。インデックスは主に、 `SKIP_WORKTREE` ビットでマークされた `HEAD` のファイルで満たされます。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:34
msgid ""
"The sparse-index intends to take these commands that read and modify the "
"index from O(`HEAD`) to O(Populated). To do this, we need to modify the "
"index format in a significant way: add \"sparse directory\" entries."
msgstr "スパースインデックス(sparse-index)は、インデックスを読み取り、O(`HEAD`) から O(Populated) に変更するこれらのコマンドを使用することを意図しています。 これを行うには、インデックス形式を大幅に変更する必要があります。つまり「sparse directory」エントリを追加します。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:42
msgid ""
"With cone mode patterns, it is possible to detect when an entire directory "
"will have its contents outside of the sparse-checkout definition.  Instead "
"of listing all of the files it contains as individual entries, a sparse-"
"index contains an entry with the directory name, referencing the object ID "
"of the tree at `HEAD` and marked with the `SKIP_WORKTREE` bit.  If we need "
"to discover the details for paths within that directory, we can parse trees "
"to find that list."
msgstr "コーンモードパターンを使用すると、ディレクトリ全体の内容がスパースチェックアウト定義の範囲外になる時期を検出できます。 含まれるすべてのファイルを個別のエントリとしてリストする代わりに、スパースインデックス(sparse-index)にはディレクトリ名を持つエントリが含まれ、 `HEAD` でツリーのオブジェクト ID を参照し、 `SKIP_WORKTREE` ビットでマークされます。 そのディレクトリ内のパスの詳細を見つける必要がある場合は、ツリーを解析してそのリストを見つけることができます。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:54
msgid ""
"At time of writing, sparse-directory entries violate expectations about the "
"index format and its in-memory data structure. There are many consumers in "
"the codebase that expect to iterate through all of the index entries and see "
"only files. In fact, these loops expect to see a reference to every staged "
"file. One way to handle this is to parse trees to replace a sparse-directory "
"entry with all of the files within that tree as the index is loaded. "
"However, parsing trees is slower than parsing the index format, so that is a "
"slower operation than if we left the index alone. The plan is to make all of "
"these integrations \"sparse aware\" so this expansion through tree parsing "
"is unnecessary and they use fewer resources than when using a full index."
msgstr "執筆時点では、スパースディレクトリエントリ(sparse-directory entries)は、インデックス形式とそのメモリ内データ構造に関する期待に反しています。 コードベースには、すべてのインデックスエントリを反復処理してファイルのみを表示することを期待する利用者がが多数います。 実際、これらのループは、ステージングされたすべてのファイルへの参照を想定しています。 これを処理する 1 つの方法は、ツリーを解析して、インデックスが読み込まれるときに、スパース ディレクトリ エントリをそのツリー内のすべてのファイルに置き換えることです。 ただし、ツリーの解析はインデックス形式の解析よりも遅いため、インデックスをそのままにしておいた場合よりも処理が遅くなります。 計画では、これらの統合をすべて「疎認識」(sparse aware)にすることで、ツリー解析によるこの拡張が不要になり、完全なインデックスを使用する場合よりも使用するリソースが少なくなります。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:60
msgid ""
"The implementation plan below follows four phases to slowly integrate with "
"the sparse-index. The intention is to incrementally update Git commands to "
"interact safely with the sparse-index without significant slowdowns. This "
"may not always be possible, but the hope is that the primary commands that "
"users need in their daily work are dramatically improved."
msgstr "以下の実装計画は、スパースインデックス(sparse-index)とゆっくりと統合するための 4 つのフェーズに従います。 その意図は、Git コマンドを段階的に更新して、大幅な速度低下なしにスパースインデックスと安全にやり取りすることです。 これは常に可能であるとは限りませんが、ユーザーが日常業務で必要とする主要なコマンドが劇的に改善されることを願っています。"

#. type: Title -
#: ../Documentation-sedout/technical/sparse-index.txt:62
#, no-wrap
msgid "Phase I: Format and initial speedups"
msgstr "Phase I: Format and initial speedups"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:68
msgid ""
"During this phase, Git learns to enable the sparse-index and safely parse "
"one. Protections are put in place so that every consumer of the in-memory "
"data structure can operate with its current assumption of every file at "
"`HEAD`."
msgstr "このフェイズで、Git はスパース インデックスを有効にして安全に解析する方法を学習します。 メモリ内データ構造を利用する全ての機構が、すべてのファイルが「HEAD」にあるという現在の想定で動作できるように、保護が配置されます。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:75
msgid ""
"At first, every index parse will call a helper method, "
"`ensure_full_index()`, which scans the index for sparse-directory entries "
"(pointing to trees) and replaces them with the full list of paths (with blob "
"contents) by parsing tree objects. This will be slower in all cases.  The "
"only noticeable change in behavior will be that the serialized index file "
"contains sparse-directory entries."
msgstr "最初に、すべてのインデックス解析でヘルパーメソッド `ensure_full_index()` が呼び出されます。このメソッドは、インデックスをスキャンして (ツリーを指している) スパースディレクトリ エントリを探し、ツリー オブジェクトを解析することによって (ブロブの内容を含む) パスの完全なリストに置き換えます。 これは、すべてのケースで遅くなります。 動作の唯一の顕著な変更点は、シリアル化されたインデックス ファイルにスパース ディレクトリ エントリが含まれていることです。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:85
msgid ""
"To start, we use a new required index extension, `sdir`, to allow inserting "
"sparse-directory entries into indexes with file format versions 2, 3, and 4. "
"This prevents Git versions that do not understand the sparse-index from "
"operating on one, while allowing tools that do not understand the sparse-"
"index to operate on repositories as long as they do not interact with the "
"index. A new format, index v5, will be introduced that includes sparse-"
"directory entries by default. It might also introduce other features that "
"have been considered for improving the index, as well."
msgstr "まず、私達は新しい必須インデックス拡張子 `sdir` を使用して、ファイル形式バージョン 2と3と4 のインデックスにスパース ディレクトリ エントリを挿入できるようにします。 これは、sparse-indexを理解しないGitのバージョンが操作することを防ぐ一方で、sparse-indexを理解しないツールは、インデックスと対話しない限り、リポジトリ上で操作することを可能にします。 新しいフォーマットであるインデックスv5が導入されると、デフォルトでスパースディレクトリのエントリーが含まれるようになる予定です。また、インデックスを改善するために検討されている他の機能も導入される可能性があります。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:96
msgid ""
"Next, consumers of the index will be guarded against operating on a sparse-"
"index by inserting calls to `ensure_full_index()` or "
"`expand_index_to_path()`. If a specific path is requested, then those will "
"be protected from within the `index_file_exists()` and `index_name_pos()` "
"API calls: they will call `ensure_full_index()` if necessary. The intention "
"here is to preserve existing behavior when interacting with a sparse-"
"checkout. We don't want a change to happen by accident, without tests. Many "
"of these locations may not need any change before removing the guards, but "
"we should not do so without tests to ensure the expected behavior happens."
msgstr "次に、 `ensure_full_index()` または `expand_index_to_path()` への呼び出しを挿入することにより、インデックスの利用側がスパースインデックスでの操作から保護されます。 特定のパスが要求された場合、それらは `index_file_exists()` や `index_name_pos()` API 呼び出し内から保護され、必要に応じて `ensure_full_index()` を呼び出します。 ここでの意図は、sparse-checkout と対話するときに既存の動作を維持することです。 私達はテストなしで偶然に変更が発生することは臨んでいません。 これらの場所の多くは、保護ガードを削除する前に変更する必要はありませんが、期待される動作が発生することを確認するためのテストなしで変更するべきではありません。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:101
msgid ""
"It may be desirable to _change_ the behavior of some commands in the "
"presence of a sparse index or more generally in any sparse-checkout "
"scenario. In such cases, these should be carefully communicated and tested. "
"No such behavior changes are intended during this phase."
msgstr "まばらなインデックスが存在する場合、またはより一般的には、スパースチェックアウトのシナリオで、一部のコマンドの動作を「変更」することが望ましい場合があります。 そのような場合、これらは慎重に伝達され、テストされるべきです。 このフェーズにおいては、このような動作の変更は意図されていません。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:104
msgid ""
"During a scan of the codebase, not every iteration of the cache entries "
"needs an `ensure_full_index()` check. The basic reasons include:"
msgstr "コードベースのスキャン中、キャッシュ エントリのすべての反復で「ensure_full_index()」チェックが必要なわけではありません。 基本的な理由は以下のとおりです:"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:107
msgid ""
"The loop is scanning for entries with non-zero stage. These entries are not "
"collapsed into a sparse-directory entry."
msgstr "ループはゼロ以外のステージのエントリをスキャンしています。 これらのエントリは、スパース ディレクトリ エントリに折りたたまれません。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:110
msgid ""
"The loop is scanning for submodules. These entries are not collapsed into a "
"sparse-directory entry."
msgstr "ループはサブモジュールをスキャンしています。 これらのエントリは、スパース ディレクトリ エントリに折りたたまれません。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:113
msgid ""
"The loop is part of the index API, especially around reading or writing the "
"format."
msgstr "ループはインデックス API の一部であり、特にフォーマットの読み取りまたは書き込みに関するものです。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:117
msgid ""
"The loop is checking for correct order of cache entries and that is correct "
"if and only if the sparse-directory entries are in the correct location."
msgstr "ループは、キャッシュ エントリの正しい順序をチェックしており、スパース ディレクトリ エントリが正しい場所にある場合にのみ正しいです。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:120
msgid ""
"The loop ignores entries with the `SKIP_WORKTREE` bit set, or is otherwise "
"already aware of sparse directory entries."
msgstr "ループは、「SKIP_WORKTREE」ビットが設定されたエントリを無視するか、またはスパースディレクトリ エントリをすでに認識しています。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:123
msgid ""
"The sparse-index is disabled at this point when using the split-index "
"feature, so no effort is made to protect the split-index API."
msgstr "分割インデックス機能を使用する場合、この時点でスパースインデックスは無効になるため、分割インデックス API を保護するための努力は行われません。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:129
msgid ""
"Even after inserting these guards, we will keep expanding sparse-indexes for "
"most Git commands using the `command_requires_full_index` repository "
"setting. This setting will be on by default and disabled one builtin at a "
"time until we have sufficient confidence that all of the index operations "
"are properly guarded."
msgstr "これらのガードを挿入した後でも、`command_requires_full_index` リポジトリ設定を使用して、ほとんどの Git コマンドのスパース インデックスを拡張し続けます。この設定はデフォルトでオンになり、すべてのインデックス操作が適切にガードされているという十分な確信が得られるまで、1つずつビルトインを無効にしていきます。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:134
msgid ""
"To complete this phase, the commands `git status` and `git add` will be "
"integrated with the sparse-index so that they operate with O(Populated)  "
"performance. They will be carefully tested for operations within and outside "
"the sparse-checkout definition."
msgstr "このフェーズを完了するために、コマンド `git status` と `git add` は sparse-index と統合され、O(Populated) パフォーマンスで動作するようになります。 これらは、sparse-checkout 定義の内外での操作について慎重にテストされます。"

#. type: Title -
#: ../Documentation-sedout/technical/sparse-index.txt:136
#, no-wrap
msgid "Phase II: Careful integrations"
msgstr "Phase II: Careful integrations"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:144
msgid ""
"This phase focuses on ensuring that all index extensions and APIs work well "
"with a sparse-index. This requires significant increases to our test "
"coverage, especially for operations that interact with the working directory "
"outside of the sparse-checkout definition. Some of these behaviors may not "
"be the desirable ones, such as some tests already marked for failure in "
"`t1092-sparse-checkout-compatibility.sh`."
msgstr "このフェーズでは、すべてのインデックス拡張機能と API がスパースインデックスで適切に機能することを確認することに重点を置きます。 これには、特に sparse-checkout 定義の外で作業ディレクトリと対話する操作について、テスト範囲を大幅に拡大する必要があります。 これらの動作の一部は、`t1092-sparse-checkout-compatibility.sh` で既に失敗としてマークされている一部のテストなど、望ましいものではない場合があります。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:146
msgid "The index extensions that may require special integrations are:"
msgstr "特別な統合が必要なインデックス拡張は以下のとおりです:"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:148
msgid "FS Monitor"
msgstr "FS Monitor"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:149
msgid "Untracked cache"
msgstr "Untracked cache"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:154
msgid ""
"While integrating with these features, we should look for patterns that "
"might lead to better APIs for interacting with the index. Coalescing common "
"usage patterns into an API call can reduce the number of places where sparse-"
"directories need to be handled carefully."
msgstr "これらの機能を統合しながら、インデックスと対話するためのより優れた API につながる可能性のあるパターンを探す必要があります。 一般的な使用パターンを API 呼び出しにまとめると、スパースディレクトリを慎重に処理する必要がある場所の数を減らすことができます。"

#. type: Title -
#: ../Documentation-sedout/technical/sparse-index.txt:156
#, no-wrap
msgid "Phase III: Important command speedups"
msgstr "Phase III: Important command speedups"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:163
msgid ""
"At this point, the patterns for testing and implementing sparse-directory "
"logic should be relatively stable. This phase focuses on updating some of "
"the most common builtins that use the index to operate as O(Populated).  "
"Here is a potential list of commands that could be valuable to integrate at "
"this point:"
msgstr "この時点で、スパース ディレクトリ ロジックをテストおよび実装するためのパターンは比較的安定しているはずです。 このフェーズでは、インデックスを使用して O(Populated) として動作する最も一般的なビルトインのいくつかを更新することに焦点を当てます。 以下は、この時点で統合する価値のあるコマンドの潜在的なリストです:"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:165
msgid "`git commit`"
msgstr "`git commit`"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:166
msgid "`git checkout`"
msgstr "`git checkout`"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:167
msgid "`git merge`"
msgstr "`git merge`"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:168
msgid "`git rebase`"
msgstr "`git rebase`"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:174
msgid ""
"Hopefully, commands such as `git merge` and `git rebase` can benefit instead "
"from merge algorithms that do not use the index as a data structure, such as "
"the merge-ORT strategy. As these topics mature, we may enable the ORT "
"strategy by default for repositories using the sparse-index feature."
msgstr "うまくいけば、「git merge」や「git rebase」などのコマンドは、代わりに、マージ ORT 戦略などのインデックスをデータ構造として使用しないマージ アルゴリズムの恩恵を受けることができます。 これらのトピックが成熟するにつれて、sparse-index 機能を使用して、デフォルトでリポジトリの ORT 戦略を有効にする可能性があります。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:178
msgid ""
"Along with `git status` and `git add`, these commands cover the majority of "
"users' interactions with the working directory. In addition, we can "
"integrate with these commands:"
msgstr "`git status` および `git add` とともに、これらのコマンドは、作業ディレクトリとのユーザーの対話の大部分をカバーします。 さらに、以下のコマンドと統合できます:"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:180
msgid "`git grep`"
msgstr "`git grep`"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:181
msgid "`git rm`"
msgstr "`git rm`"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:186
msgid ""
"These have been proposed as some whose behavior could change when in a repo "
"with a sparse-checkout definition. It would be good to include this behavior "
"automatically when using a sparse-index. Some clarity is needed to make the "
"behavior switch clear to the user."
msgstr "これらは、sparse-checkout 定義を持つリポジトリで動作が変わる可能性があるものとして提案されています。 スパース インデックスを使用する場合は、この動作を自動的に含めるとよいでしょう。 動作の切り替えをユーザーに明確にするには、ある程度明確にする必要があります。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:189
msgid ""
"This phase is the first where parallel work might be possible without too "
"much conflicts between topics."
msgstr "このフェーズは、トピック間の競合があまりなく並行作業が可能な最初のフェーズです。"

#. type: Title -
#: ../Documentation-sedout/technical/sparse-index.txt:191
#, no-wrap
msgid "Phase IV: The long tail"
msgstr "Phase IV: The long tail"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:195
msgid ""
"This last phase is less a \"phase\" and more \"the new normal\" after all of "
"the previous work."
msgstr "この最後のフェーズは、「フェーズ」ではなく、これまでのすべての作業の後の「新常態」(the new normal)です。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:198
msgid ""
"To start, the `command_requires_full_index` option could be removed in favor "
"of expanding only when hitting an API guard."
msgstr "まず、`command_requires_full_index` オプションを削除して、API ガードにヒットした場合にのみ展開することができます。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:202
msgid ""
"There are many Git commands that could use special attention to operate as "
"O(Populated), while some might be so rare that it is acceptable to leave "
"them with additional overhead when a sparse-index is present."
msgstr "O(Populated) として動作するために特別な注意を払うことができる多くの Git コマンドがありますが、いくつかは非常にまれなため、sparse-index が存在する場合に追加のオーバーヘッドを残しても問題ありません。"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:204
msgid "Here are some commands that might be useful to update:"
msgstr "更新に役立つコマンドを以下に示します:"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:206
msgid "`git sparse-checkout set`"
msgstr "`git sparse-checkout set`"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:207
msgid "`git am`"
msgstr "`git am`"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:208
msgid "`git clean`"
msgstr "`git clean`"

#. type: Plain text
#: ../Documentation-sedout/technical/sparse-index.txt:208
msgid "`git stash`"
msgstr "`git stash`"
